<!doctype html>
<html dir="ltr" lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta http-equiv="X-UA-Compatible" content="ie=edge" />

        <!-- Primary Meta Tags -->
        <title>
            Lime Elements - Modern Web Component Library, built with Stencil
        </title>
        <meta
            name="title"
            content="Lime Elements - Modern Web Component Library, built with Stencil"
        />
        <meta
            name="description"
            content="Modern, accessible, and beautiful web components built with Stencil and TypeScript. Browse documentation for all versions of Lime Elements UI library."
        />
        <meta
            name="keywords"
            content="web components, stencil, lime elements, ui library, design system, typescript, accessibility"
        />
        <meta name="author" content="Lime Technologies" />

        <!-- Open Graph / Facebook -->
        <meta property="og:type" content="website" />
        <meta
            property="og:url"
            content="https://lundalogik.github.io/lime-elements/"
        />
        <meta
            property="og:title"
            content="Lime Elements - Modern Web Component Library, built with Stencil"
        />
        <meta
            property="og:description"
            content="Modern, accessible, and beautiful web components built with Stencil and TypeScript for exceptional user interfaces."
        />
        <meta
            property="og:image"
            content="https://raw.githubusercontent.com/Lundalogik/lime-elements/main/icon.png"
        />

        <!-- Twitter -->
        <meta property="twitter:card" content="summary_large_image" />
        <meta
            property="twitter:url"
            content="https://lundalogik.github.io/lime-elements/"
        />
        <meta
            property="twitter:title"
            content="Lime Elements - Modern Web Component Library, built with Stencil"
        />
        <meta
            property="twitter:description"
            content="Modern, accessible, and beautiful web components built with Stencil and TypeScript for exceptional user interfaces."
        />
        <meta
            property="twitter:image"
            content="https://raw.githubusercontent.com/Lundalogik/lime-elements/main/icon.png"
        />

        <!-- Favicon -->
        <link rel="icon" type="image/svg+xml" href="src/favicon.svg" />
        <link
            rel="icon"
            type="image/png"
            href="https://raw.githubusercontent.com/Lundalogik/lime-elements/main/icon.png"
        />
        <link
            rel="apple-touch-icon"
            href="https://raw.githubusercontent.com/Lundalogik/lime-elements/main/icon.png"
        />

        <!-- Theme Color -->
        <meta name="theme-color" content="#6FCDB6" />
        <meta name="msapplication-TileColor" content="#6FCDB6" />

        <!-- Preconnect to external domains for performance -->
        <link rel="preconnect" href="https://raw.githubusercontent.com" />
        <link rel="preconnect" href="https://github.com" />

        <!-- Canonical URL -->
        <link
            rel="canonical"
            href="https://lundalogik.github.io/lime-elements/"
        />

        <!-- Stylesheets -->
        <link rel="stylesheet" href="docs-index.css" />

        <!-- Scripts -->
        <script src="versions.js"></script>
    </head>
    <body>
        <div class="container">
            <header class="header">
                <h1>
                    <img
                        src="https://raw.githubusercontent.com/Lundalogik/lime-elements/main/icon.png"
                        alt="Lime Elements Logo"
                        style="width: 3.5rem; vertical-align: middle"
                    />
                    Lime Elements
                </h1>
                <p>
                    Modern, accessible, and beautiful web components<br />Built
                    with
                    <a
                        href="https://stenciljs.com/"
                        target="_blank"
                        rel="noopener noreferrer"
                        >Stencil</a
                    >
                    ‚Ä¢ coded in
                    <a
                        href="https://www.typescriptlang.org/"
                        target="_blank"
                        rel="noopener noreferrer"
                        >TypeScript</a
                    >
                </p>

                <div class="quick-links">
                    <a href="versions/latest/" class="quick-link"
                        >üìö Latest Documentation</a
                    >
                    <a
                        href="https://github.com/Lundalogik/lime-elements"
                        class="quick-link"
                        >üîó GitHub Repository</a
                    >
                    <a
                        href="https://github.com/Lundalogik/lime-elements/blob/main/CHANGELOG.md"
                        class="quick-link"
                        >üìã Changelog</a
                    >
                    <a
                        href="https://www.npmjs.com/package/@limetech/lime-elements"
                        class="quick-link"
                        >üì¶ NPM Package</a
                    >
                </div>
            </header>

            <div class="versions-container">
                <div class="versions-header">
                    <h2>Available Versions</h2>
                    <p>Select any version to view its specific documentation</p>
                </div>

                <div class="search-box">
                    <div class="search-icon">üîç</div>
                    <input
                        type="text"
                        class="search-input"
                        placeholder="Find versions..."
                        id="searchInput"
                    />
                </div>

                <div class="version-categories">
                    <div class="category" id="latest-category">
                        <div class="category-header">
                            <div class="category-title">Latest Release</div>
                            <div class="category-description">
                                Most recent stable version
                            </div>
                        </div>
                        <div class="version-grid" id="latest-versions"></div>
                    </div>

                    <div class="category" id="stable-category">
                        <div class="category-header">
                            <div class="category-title">Stable Releases</div>
                            <div class="category-description">
                                Production-ready versions
                            </div>
                        </div>
                        <div class="version-grid" id="stable-versions"></div>
                    </div>

                    <div class="category" id="preview-category">
                        <div class="category-header">
                            <div class="category-title">
                                Preview & Development
                            </div>
                            <div class="category-description">
                                Development versions and pull request previews
                            </div>
                        </div>
                        <div class="version-grid" id="preview-versions"></div>
                    </div>
                </div>
            </div>

            <footer class="footer">
                <p>
                    Built with ‚ù§Ô∏è by
                    <a href="https://lime-technologies.com"
                        >Lime Technologies</a
                    >
                    ‚Ä¢
                    <a
                        href="https://github.com/Lundalogik/lime-elements/blob/main/CONTRIBUTING.md"
                        >Contributing</a
                    >
                    ‚Ä¢
                    <a href="https://github.com/Lundalogik/lime-elements/issues"
                        >Issues</a
                    >
                </p>
            </footer>
        </div>

        <script>
            // Sort versions in descending order
            window.versions.sort(function (a, b) {
                // Simple semantic version comparison
                const parseVersion = (v) => {
                    const parts = v.split('.');
                    return {
                        major: parseInt(parts[0]) || 0,
                        minor: parseInt(parts[1]) || 0,
                        patch: parseInt(parts[2]) || 0,
                        full: v,
                    };
                };

                const vA = parseVersion(a);
                const vB = parseVersion(b);

                if (vA.major !== vB.major) return vB.major - vA.major;
                if (vA.minor !== vB.minor) return vB.minor - vA.minor;
                if (vA.patch !== vB.patch) return vB.patch - vA.patch;

                return b.localeCompare(a);
            });

            // Categorize and display versions
            function categorizeVersions() {
                const latestContainer =
                    document.getElementById('latest-versions');
                const stableContainer =
                    document.getElementById('stable-versions');
                const previewContainer =
                    document.getElementById('preview-versions');

                if (!latestContainer || !stableContainer || !previewContainer) {
                    console.error('Could not find version containers');
                    return;
                }

                // Add latest link
                const latestLink = createVersionLink(
                    'versions/latest/',
                    'Latest Release',
                    'latest'
                );
                latestContainer.appendChild(latestLink);

                // Categorize other versions
                window.versions.forEach(function (version, index) {
                    let container = stableContainer;
                    let className = '';

                    // Determine category based on version string
                    if (
                        version.includes('dev') ||
                        version.includes('beta') ||
                        version.includes('alpha') ||
                        version.includes('rc') ||
                        version.includes('preview') ||
                        version.startsWith('PR-')
                    ) {
                        container = previewContainer;
                        className = 'preview';
                    } else if (index === 0 && !version.includes('-')) {
                        // First stable version could be highlighted
                        className = 'stable-latest';
                    }

                    const link = createVersionLink(
                        `versions/${version}/`,
                        version,
                        className
                    );
                    container.appendChild(link);
                });
            }

            function createVersionLink(href, text, className = '') {
                const link = document.createElement('a');
                link.href = href;
                link.className = `version-link ${className}`;
                link.textContent = text;
                return link;
            }

            // Search functionality
            function initializeSearch() {
                const searchInput = document.getElementById('searchInput');
                const allVersions = document.querySelectorAll('.version-link');

                searchInput.addEventListener('input', function () {
                    const searchTerm = this.value.toLowerCase();

                    allVersions.forEach(function (versionLink) {
                        const versionText =
                            versionLink.textContent.toLowerCase();
                        const isVisible = versionText.includes(searchTerm);

                        versionLink.style.display = isVisible
                            ? 'block'
                            : 'none';
                    });

                    // Hide/show categories based on whether they have visible versions
                    updateCategoryVisibility();
                });
            }

            function updateCategoryVisibility() {
                const categories = document.querySelectorAll('.category');

                categories.forEach(function (category) {
                    const visibleVersions = category.querySelectorAll(
                        '.version-link:not([style*="display: none"])'
                    );
                    const hasVisibleVersions = visibleVersions.length > 0;

                    category.style.display = hasVisibleVersions
                        ? 'block'
                        : 'none';
                });
            }

            // Initialize everything when the page loads
            document.addEventListener('DOMContentLoaded', function () {
                if (window.versions && window.versions.length > 0) {
                    categorizeVersions();
                    initializeSearch();
                } else {
                    console.error('No versions found to display');
                }
            });

            // Fallback if DOMContentLoaded already fired
            if (document.readyState === 'loading') {
                // Still loading, wait for DOMContentLoaded
            } else {
                // Already loaded
                if (window.versions && window.versions.length > 0) {
                    categorizeVersions();
                    initializeSearch();
                } else {
                    console.error('No versions found to display');
                }
            }
        </script>
    </body>
</html>
