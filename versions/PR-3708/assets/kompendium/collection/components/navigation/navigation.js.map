{"version":3,"file":"navigation.js","sourceRoot":"","sources":["../../../src/components/navigation/navigation.tsx"],"names":[],"mappings":"AAAA,OAAO,EAAE,SAAS,EAAE,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,MAAM,eAAe,CAAC;AAG1D;;GAEG;AAMH,MAAM,OAAO,UAAU;IA+BnB;QALQ,UAAK,GAAG,EAAE,CAAC;QAGX,oBAAe,GAAG,KAAK,CAAC;QAgExB,eAAU,GAAG,GAAG,EAAE;YACtB,IAAI,CAAC,eAAe,GAAG,CAAC,IAAI,CAAC,eAAe,CAAC;QACjD,CAAC,CAAC;QA4EM,8BAAyB,GAAG,CAAC,KAAiB,EAAE,EAAE;YACtD,KAAK,CAAC,eAAe,EAAE,CAAC;QAC5B,CAAC,CAAC;QA7IE,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACzC,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;KACxD;IAES,iBAAiB;QACvB,MAAM,CAAC,gBAAgB,CAAC,YAAY,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;QACrD,IAAI,CAAC,QAAQ,EAAE,CAAC;IACpB,CAAC;IAES,oBAAoB;QAC1B,MAAM,CAAC,mBAAmB,CAAC,YAAY,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;IAC5D,CAAC;IAEO,QAAQ;QACZ,IAAI,CAAC,KAAK,GAAG,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;IACzC,CAAC;IAEM,MAAM;QACT,OAAO;YACH,4DACI,KAAK,EAAE;oBACH,iBAAiB,EAAE,IAAI;oBACvB,mBAAmB,EAAE,IAAI,CAAC,eAAe;iBAC5C,EACD,OAAO,EAAE,IAAI,CAAC,UAAU,GACrB;YACP,4DACI,KAAK,EAAE;oBACH,WAAW,EAAE,IAAI;oBACjB,mBAAmB,EAAE,IAAI,CAAC,eAAe;iBAC5C,EACD,OAAO,EAAE,IAAI,CAAC,yBAAyB;gBAEvC,0DAAG,KAAK,EAAC,4BAA4B,EAAC,OAAO,EAAE,IAAI,CAAC,UAAU;oBAC1D,8DAAa;oBACb,8DAAa;oBACb,8DAAa;oBACb,8DAAa,CACb;gBACJ,+DAAQ,KAAK,EAAC,cAAc;oBACxB,4DAAK,KAAK,EAAC,mBAAmB;wBAC1B,6DAAK,IAAI,CAAC,YAAY,EAAE,CAAM;wBAC9B,oFAA8B,CAC5B;oBACN,0EAAmB,KAAK,EAAE,IAAI,CAAC,KAAK,GAAI,CACnC;gBACR,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,CAC7B;SACT,CAAC;IACN,CAAC;IAEO,YAAY;QAChB,IAAI,OAAO,GAAG,IAAI,CAAC,MAAM,CAAC;QAE1B,IAAI,IAAI,CAAC,IAAI,EAAE,CAAC;YACZ,OAAO,GAAG,WAAK,GAAG,EAAE,IAAI,CAAC,MAAM,EAAE,GAAG,EAAE,IAAI,CAAC,IAAI,GAAI,CAAC;QACxD,CAAC;QAED,OAAO,SAAG,IAAI,EAAC,GAAG,IAAE,OAAO,CAAK,CAAC;IACrC,CAAC;IAMO,cAAc,CAAC,IAAgB;QACnC,IAAI,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC;YACxB,OAAO;QACX,CAAC;QAED,OAAO,CACH,UAAI,KAAK,EAAC,YAAY;YACjB,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,cAAc,CAAC;YAC9B,WAAK,KAAK,EAAC,YAAY;gBACnB;;oBAEI,SAAG,IAAI,EAAC,sCAAsC,iBAE1C,CACJ,CACF,CACL,CACR,CAAC;IACN,CAAC;IAEO,cAAc,CAAC,IAAc;QACjC,MAAM,aAAa,GAAG;YAClB,MAAM,EAAE,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC;YACrC,YAAY,EAAE,IAAI;SACrB,CAAC;QACF,MAAM,gBAAgB,GAAG;YACrB,MAAM,EAAE,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC;YACrC,QAAQ,EAAE,IAAI;YACd,YAAY,EAAE,IAAI;SACrB,CAAC;QACF,MAAM,QAAQ,GAAG,IAAI,CAAC,QAAQ,IAAI,EAAE,CAAC;QACrC,MAAM,eAAe,GAAG;YACpB,YAAY,EAAE,IAAI;YAClB,MAAM,EAAE,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC;YACrC,cAAc,EAAE,CAAC,CAAC,QAAQ,CAAC,MAAM;SACpC,CAAC;QACF,MAAM,qBAAqB,GAAQ,EAAE,CAAC;QACtC,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC;YACnB,qBAAqB,CAAC,OAAO,GAAG,IAAI,CAAC,UAAU,CAAC;QACpD,CAAC;QAED,OAAO,CACH,UAAI,KAAK,EAAE,aAAa;YACpB,SACI,KAAK,EAAE,eAAe,EACtB,IAAI,EAAE,GAAG,GAAG,IAAI,CAAC,IAAI,KACjB,qBAAqB;gBAEzB,YAAM,KAAK,EAAC,WAAW,IAAE,IAAI,CAAC,KAAK,CAAQ;gBAC3C,WACI,KAAK,EAAC,4BAA4B,EAClC,OAAO,EAAC,WAAW,EACnB,KAAK,EAAC,IAAI,EACV,MAAM,EAAC,IAAI;oBAEX,YAAM,IAAI,EAAC,MAAM,EAAC,CAAC,EAAC,eAAe,GAAG;oBACtC,YACI,EAAE,EAAC,OAAO,EACV,CAAC,EAAC,mEAAmE,EACrE,IAAI,EAAC,cAAc,GACrB,CACA,CACN;YACJ,UAAI,KAAK,EAAE,gBAAgB,IACtB,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC,cAAc,CAAC,CACjC,CACJ,CACR,CAAC;IACN,CAAC;IAEO,aAAa,CAAC,KAAa;QAC/B,OAAO,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;IACxC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CAKJ;AAED,wCAAwC;AACxC,wCAAwC;AACxC,IAAI","sourcesContent":["import { Component, h, Prop, State } from '@stencil/core';\nimport { MenuItem } from '../../types';\n\n/**\n * @private\n */\n@Component({\n    tag: 'kompendium-navigation',\n    styleUrl: 'navigation.scss',\n    shadow: true,\n})\nexport class Navigation {\n    /**\n     * The menu to display\n     */\n    @Prop()\n    public menu: MenuItem[];\n\n    /**\n     * Title to display at the top of the navigation\n     */\n    @Prop()\n    public header: string;\n\n    /**\n     * Optional logo to display instead of the header\n     */\n    @Prop()\n    public logo: string;\n\n    /**\n     * Index containing searchable documents\n     */\n    @Prop()\n    public index: any;\n\n    @State()\n    private route = '';\n\n    @State()\n    private displayNavPanel = false;\n\n    constructor() {\n        this.setRoute = this.setRoute.bind(this);\n        this.renderMenuItem = this.renderMenuItem.bind(this);\n    }\n\n    protected connectedCallback(): void {\n        window.addEventListener('hashchange', this.setRoute);\n        this.setRoute();\n    }\n\n    protected disconnectedCallback(): void {\n        window.removeEventListener('hashchange', this.setRoute);\n    }\n\n    private setRoute() {\n        this.route = location.hash.substr(1);\n    }\n\n    public render(): HTMLElement[] {\n        return [\n            <div\n                class={{\n                    'nav-panel-scrim': true,\n                    'display-nav-panel': this.displayNavPanel,\n                }}\n                onClick={this.toggleMenu}\n            ></div>,\n            <nav\n                class={{\n                    'nav-panel': true,\n                    'display-nav-panel': this.displayNavPanel,\n                }}\n                onClick={this.stopPropagationOfNavClick}\n            >\n                <a class=\"nav-panel__responsive-menu\" onClick={this.toggleMenu}>\n                    <span></span>\n                    <span></span>\n                    <span></span>\n                    <span></span>\n                </a>\n                <header class=\"panel-header\">\n                    <div class=\"branding-and-mode\">\n                        <h1>{this.renderHeader()}</h1>\n                        <kompendium-darkmode-switch />\n                    </div>\n                    <kompendium-search index={this.index} />\n                </header>\n                {this.renderChapters(this.menu)}\n            </nav>,\n        ];\n    }\n\n    private renderHeader() {\n        let content = this.header;\n\n        if (this.logo) {\n            content = <img alt={this.header} src={this.logo} />;\n        }\n\n        return <a href=\"#\">{content}</a>;\n    }\n\n    private toggleMenu = () => {\n        this.displayNavPanel = !this.displayNavPanel;\n    };\n\n    private renderChapters(menu: MenuItem[]) {\n        if (!menu || !menu.length) {\n            return;\n        }\n\n        return (\n            <ul class=\"panel-list\">\n                {menu.map(this.renderMenuItem)}\n                <div class=\"powered-by\">\n                    <p>\n                        Powered by&nbsp;\n                        <a href=\"https://github.com/jgroth/kompendium\">\n                            Kompendium\n                        </a>\n                    </p>\n                </div>\n            </ul>\n        );\n    }\n\n    private renderMenuItem(item: MenuItem) {\n        const itemClassList = {\n            active: this.isRouteActive(item.path),\n            'panel-item': true,\n        };\n        const chapterClassList = {\n            active: this.isRouteActive(item.path),\n            chapters: true,\n            'panel-list': true,\n        };\n        const chapters = item.children || [];\n        const anchorClassList = {\n            'panel-link': true,\n            active: this.isRouteActive(item.path),\n            'has-children': !!chapters.length,\n        };\n        const anchorAdditionalProps: any = {};\n        if (!chapters.length) {\n            anchorAdditionalProps.onClick = this.toggleMenu;\n        }\n\n        return (\n            <li class={itemClassList}>\n                <a\n                    class={anchorClassList}\n                    href={'#' + item.path}\n                    {...anchorAdditionalProps}\n                >\n                    <span class=\"link-text\">{item.title}</span>\n                    <svg\n                        xmlns=\"http://www.w3.org/2000/svg\"\n                        viewBox=\"0 0 24 24\"\n                        width=\"24\"\n                        height=\"24\"\n                    >\n                        <path fill=\"none\" d=\"M0 0h24v24H0z\" />\n                        <path\n                            id=\"arrow\"\n                            d=\"M13.172 12l-4.95-4.95 1.414-1.414L16 12l-6.364 6.364-1.414-1.414z\"\n                            fill=\"currentColor\"\n                        />\n                    </svg>\n                </a>\n                <ul class={chapterClassList}>\n                    {chapters.map(this.renderMenuItem)}\n                </ul>\n            </li>\n        );\n    }\n\n    private isRouteActive(route: string) {\n        return this.route.startsWith(route);\n    }\n\n    private stopPropagationOfNavClick = (event: MouseEvent) => {\n        event.stopPropagation();\n    };\n}\n\n// function hasContent(item: MenuItem) {\n//     return item.children?.length > 0;\n// }\n"]}