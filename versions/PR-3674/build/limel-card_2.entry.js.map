{"version":3,"names":["cardCss","Card","this","handleActionSelect","event","stopPropagation","isItem","detail","actionSelected","emit","componentWillLoad","handleMouseEnter","handleMouseLeave","getMouseEventHandlers","host","render","h","Host","onMouseEnter","onMouseLeave","tabindex","clickable","renderImage","class","renderHeader","renderSlot","renderValue","renderActionBar","src","_a","image","alt","_b","lazyLoadImages","heading","subheading","icon","renderIcon","renderHeading","renderSubheading","getIconName","color","undefined","style","badge","name","value","actions","length","onItemSelected","Image","imageIntersectionObserver","handleImageIntersection","entries","entry","isIntersecting","img","target","dataSrc","dataset","setAttribute","unobserve","componentDidLoad","setupImageIntersectionObserver","disconnectedCallback","teardownImageIntersectionObserver","props","parseStyles","Object","assign","split","forEach","rule","rawKey","rawValueParts","key","trim","join","camelKey","replace","_","char","toUpperCase","width","height","IntersectionObserver","images","shadowRoot","querySelectorAll","observe","disconnect"],"sources":["./src/components/card/card.scss?tag=limel-card&encapsulation=shadow","./src/components/card/card.tsx","./src/components/image/image.tsx"],"sourcesContent":["/**\n* @prop --card-heading-color: color of the heading. Defaults to `--contrast-1100`;\n* @prop --card-subheading-color: color of the sub heading. Defaults to `--contrast-1000`;\n* @prop --card-border-radius: border radius of the card. Defaults to `0.95rem`;\n* @prop --card-background-color: background color of the card.\n* @prop --card-background-color--hovered: background color of the card, when hovered.\n*/\n\n@use '../../style/mixins';\n\n$default-border-radius: 0.95rem;\n\n* {\n    box-sizing: border-box;\n    min-width: 0;\n    min-height: 0;\n}\n\n:host(limel-card) {\n    display: flex;\n    border-radius: var(--card-border-radius, $default-border-radius);\n}\n\nsection {\n    box-sizing: border-box;\n\n    display: flex;\n    gap: 0.5rem;\n\n    flex-direction: column;\n    :host(limel-card[orientation='landscape']) & {\n        flex-direction: row;\n    }\n\n    width: 100%;\n    border-radius: var(--card-border-radius, $default-border-radius);\n    border: 1px solid rgb(var(--contrast-500));\n\n    padding: 0.25rem;\n    background-color: var(--card-background-color, rgb(var(--contrast-300)));\n\n    &:hover {\n        border-color: transparent;\n        background-color: var(\n            --card-background-color--hovered,\n            var(--card-background-color, rgb(var(--contrast-200)))\n        );\n    }\n}\n\n.body {\n    flex-grow: 1;\n    display: flex;\n    flex-direction: column;\n    gap: 0.5rem;\n}\n\nlimel-image {\n    transition: filter 0.6s ease;\n    object-fit: cover;\n    border-radius: calc(\n        var(--card-border-radius, $default-border-radius) / 1.4\n    );\n    :host(limel-card[orientation='portrait']) & {\n        width: 100%;\n    }\n\n    :host(limel-card[orientation='landscape']) & {\n        flex-shrink: 0;\n\n        max-width: 40%;\n        height: 100%;\n    }\n\n    section:hover &,\n    section:focus-visible & {\n        transition-duration: 0.2s;\n        filter: saturate(1.3);\n    }\n}\n\nlimel-markdown {\n    overflow-y: auto;\n    padding: 0.5rem 0.75rem;\n}\n\nheader {\n    flex-shrink: 0;\n    display: flex;\n    justify-content: center;\n\n    gap: 0.5rem;\n\n    padding: 0.25rem 0.75rem;\n    :host(limel-card[orientation='landscape']) & {\n        padding-top: 0.5rem;\n    }\n\n    &:has(limel-icon) {\n        padding-left: 0.25rem;\n    }\n\n    .headings {\n        flex-grow: 1;\n        display: flex;\n        flex-direction: column;\n        gap: 0.125rem;\n    }\n\n    .title {\n        padding-right: 1.25rem;\n    }\n\n    limel-icon {\n        flex-shrink: 0;\n        width: 2rem;\n    }\n\n    h1 {\n        font-size: 1.125rem;\n        font-weight: 500;\n        color: var(--card-heading-color, rgb(var(--contrast-1100)));\n        letter-spacing: -0.03125rem; // 0.5px\n    }\n\n    h2 {\n        font-size: var(--limel-theme-default-font-size);\n        font-weight: 400;\n        color: var(--card-subheading-color, rgb(var(--contrast-1000)));\n    }\n\n    h1,\n    h2 {\n        word-break: break-word;\n        hyphens: auto;\n        -webkit-hyphens: auto;\n        margin: 0;\n    }\n}\n\nlimel-action-bar {\n    flex-shrink: 0;\n    --action-bar-background-color: transparent;\n    margin-left: auto;\n}\n\n// The 3D effect\nlimel-3d-hover-effect-glow {\n    border-radius: var(--card-border-radius, $default-border-radius);\n}\n\n:host(limel-card) {\n    @include mixins.parent-of-the-3d-element;\n}\n\nsection {\n    @include mixins.the-3d-element;\n\n    :host(limel-card[clickable]) & {\n        @include mixins.the-3d-element--clickable;\n    }\n}\n","import {\n    Component,\n    h,\n    Prop,\n    Event,\n    EventEmitter,\n    Element,\n    Host,\n} from '@stencil/core';\nimport { Image } from '../../global/shared-types/image.types';\nimport { Icon } from '../../global/shared-types/icon.types';\nimport { isItem } from '../action-bar/is-item';\nimport { getIconName } from '../icon/get-icon-props';\nimport { ListSeparator } from '../../global/shared-types/separator.types';\nimport { ActionBarItem } from '../action-bar/action-bar.types';\nimport { getMouseEventHandlers } from '../../util/3d-tilt-hover-effect';\n\n/**\n * Card is a component that displays content about a single topic,\n * in a structured way. It can contain a header, and some supporting media such\n * as an image or an icon, a body of text, or optional actions.\n *\n * @exampleComponent limel-example-card-basic\n * @exampleComponent limel-example-card-image\n * @exampleComponent limel-example-card-actions\n * @exampleComponent limel-example-card-clickable\n * @exampleComponent limel-example-card-orientation\n * @exampleComponent limel-example-card-slot\n * @exampleComponent limel-example-card-styling\n */\n@Component({\n    tag: 'limel-card',\n    shadow: true,\n    styleUrl: 'card.scss',\n})\nexport class Card {\n    /**\n     * Heading of the card,\n     * to provide a short title about the context.\n     */\n    @Prop({ reflect: true })\n    public heading?: string;\n\n    /**\n     * Subheading of the card\n     * to provide a short description of the context.\n     */\n    @Prop({ reflect: true })\n    public subheading?: string;\n\n    /**\n     * A hero image to display in the card,\n     * to enrich the content with visual information.\n     */\n    @Prop()\n    public image?: Image;\n\n    /**\n     * An icon, to display along with the heading and subheading.\n     */\n    @Prop({ reflect: true })\n    public icon?: string | Icon;\n\n    /**\n     * The content of the card.\n     * Supports markdown, to provide a rich text experience.\n     */\n    @Prop()\n    public value?: string;\n\n    /**\n     * Actions to display in the card,\n     * to provide the user with options to interact with the content.\n     */\n    @Prop()\n    public actions?: Array<ActionBarItem | ListSeparator> = [];\n\n    /**\n     * When true, improve the accessibility of the component and hints the user\n     * that the card can be interacted width.\n     */\n    @Prop({ reflect: true })\n    public clickable: boolean = false;\n\n    /**\n     * The orientation of the card,\n     * specially useful when the card has an image.\n     */\n    @Prop({ reflect: true })\n    public orientation: 'landscape' | 'portrait' = 'portrait';\n\n    /**\n     * Enable lazy loading for images\n     */\n    @Prop()\n    public lazyLoadImages = false;\n\n    /**\n     * Fired when a action bar item has been clicked.\n     */\n    @Event()\n    public actionSelected: EventEmitter<ActionBarItem>;\n\n    @Element()\n    private host: HTMLElement;\n\n    private handleMouseEnter: () => void;\n    private handleMouseLeave: () => void;\n\n    public componentWillLoad() {\n        const { handleMouseEnter, handleMouseLeave } = getMouseEventHandlers(\n            this.host\n        );\n        this.handleMouseEnter = handleMouseEnter;\n        this.handleMouseLeave = handleMouseLeave;\n    }\n\n    public render() {\n        return (\n            <Host\n                onMouseEnter={this.handleMouseEnter}\n                onMouseLeave={this.handleMouseLeave}\n            >\n                <section tabindex={this.clickable ? 0 : ''}>\n                    {this.renderImage()}\n                    <div class=\"body\">\n                        {this.renderHeader()}\n                        {this.renderSlot()}\n                        {this.renderValue()}\n                        {this.renderActionBar()}\n                    </div>\n                    <limel-3d-hover-effect-glow />\n                </section>\n            </Host>\n        );\n    }\n\n    private renderImage() {\n        return (\n            <limel-image\n                src={this.image?.src}\n                alt={this.image?.alt}\n                lazyLoadImages={this.lazyLoadImages}\n            />\n        );\n    }\n\n    private renderHeader() {\n        if (!this.heading && !this.subheading && !this.icon) {\n            return;\n        }\n\n        return (\n            <header>\n                {this.renderIcon()}\n                <div class=\"headings\">\n                    {this.renderHeading()}\n                    {this.renderSubheading()}\n                </div>\n            </header>\n        );\n    }\n\n    private renderIcon() {\n        const icon = getIconName(this.icon);\n        const color =\n            typeof this.icon === 'string' ? undefined : this.icon?.color;\n\n        if (!icon) {\n            return;\n        }\n\n        return (\n            <limel-icon\n                style={{\n                    color: `${color}`,\n                }}\n                badge={true}\n                name={icon}\n            />\n        );\n    }\n\n    private renderHeading() {\n        if (!this.heading) {\n            return;\n        }\n\n        return <h1 class=\"title\">{this.heading}</h1>;\n    }\n\n    private renderSubheading() {\n        if (!this.subheading) {\n            return;\n        }\n\n        return <h2>{this.subheading}</h2>;\n    }\n\n    private renderSlot() {\n        return <slot name=\"component\" />;\n    }\n\n    private renderValue() {\n        if (!this.value) {\n            return;\n        }\n\n        return <limel-markdown value={this.value} />;\n    }\n\n    private handleActionSelect = (\n        event: CustomEvent<ActionBarItem | ListSeparator>\n    ) => {\n        event.stopPropagation();\n        if (isItem(event.detail)) {\n            this.actionSelected.emit(event.detail);\n        }\n    };\n\n    private renderActionBar() {\n        if (this.actions.length === 0) {\n            return;\n        }\n\n        return (\n            <limel-action-bar\n                actions={this.actions}\n                onItemSelected={this.handleActionSelect}\n            />\n        );\n    }\n}\n","import { Component, h, Prop, Element } from '@stencil/core';\n\n/**\n * Image is a component that displays an image.\n * It supports lazy loading of images to improve performance,\n * the image will only be loaded when it enters the viewport.\n */\n@Component({\n    tag: 'limel-image',\n    shadow: true,\n})\nexport class Image {\n    /**\n     * The image source URL\n     */\n    @Prop()\n    public src: string;\n\n    /**\n     * Alternative text for the image\n     */\n    @Prop()\n    public alt: string = '';\n\n    /**\n     * Inline styles for the image, specified as a string.\n     * Example: \"width: 100px; height: 50px;\"\n     *\n     * Width defaults to 100% if either width nor height is provided.\n     */\n    @Prop()\n    public style: string = '';\n\n    /**\n     * Enable lazy loading for images\n     */\n    @Prop({ attribute: 'lazy-load-images' })\n    public lazyLoadImages = false;\n\n    @Element()\n    private host: HTMLLimelImageElement;\n\n    private imageIntersectionObserver: IntersectionObserver | null = null;\n\n    public componentDidLoad() {\n        this.setupImageIntersectionObserver();\n    }\n\n    public disconnectedCallback() {\n        this.teardownImageIntersectionObserver();\n    }\n\n    public render() {\n        if (!this.src) {\n            return;\n        }\n\n        const props = {\n            alt: this.alt,\n            style: this.parseStyles(),\n        };\n\n        if (this.lazyLoadImages) {\n            props['data-src'] = this.src;\n        } else {\n            props['src'] = this.src;\n        }\n\n        return <img {...props} />;\n    }\n\n    private parseStyles(): Record<string, string> {\n        const style: Record<string, string> = {};\n\n        if (!this.style) {\n            return style;\n        }\n\n        this.style.split(';').forEach((rule) => {\n            const [rawKey, ...rawValueParts] = rule.split(':');\n            if (!rawKey || rawValueParts.length === 0) {\n                return;\n            }\n\n            const key = rawKey.trim();\n            const value = rawValueParts.join(':').trim();\n\n            if (!key || !value) {\n                return;\n            }\n\n            const camelKey = key.replace(/-([a-z])/g, (_, char) =>\n                char.toUpperCase()\n            );\n            style[camelKey] = value;\n        });\n\n        // Set default 100% width if size is not provided\n        if (!style.width && !style.height) {\n            style.width = '100%';\n        }\n\n        return style;\n    }\n\n    private setupImageIntersectionObserver() {\n        if (this.lazyLoadImages) {\n            this.imageIntersectionObserver = new IntersectionObserver(\n                this.handleImageIntersection\n            );\n\n            const images = this.host.shadowRoot.querySelectorAll('img');\n            for (const img of images) {\n                this.imageIntersectionObserver.observe(img);\n            }\n        }\n    }\n\n    private readonly handleImageIntersection = (\n        entries: IntersectionObserverEntry[]\n    ) => {\n        for (const entry of entries) {\n            if (entry.isIntersecting) {\n                const img = entry.target as HTMLImageElement;\n                const dataSrc = img.dataset.src;\n\n                if (dataSrc) {\n                    img.setAttribute('src', dataSrc);\n                    delete img.dataset.src;\n                }\n\n                this.imageIntersectionObserver.unobserve(img);\n            }\n        }\n    };\n\n    private teardownImageIntersectionObserver() {\n        if (this.imageIntersectionObserver) {\n            this.imageIntersectionObserver.disconnect();\n            this.imageIntersectionObserver = null;\n        }\n    }\n}\n"],"mappings":"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"}