const t=new WeakMap;class s{constructor(t){this.element=t;this.isActive=false;this.hasJustReleasedEnter=true;this.handleKeyDown=t=>{if(t.key==="Enter"&&!this.isActive&&!t.repeat){this.isActive=true}};this.handleKeyUp=t=>{if(t.key==="Enter"&&this.isActive){this.isActive=false;this.hasJustReleasedEnter=true}};this.handleBlur=()=>{this.isActive=false;this.hasJustReleasedEnter=true};this.handleClick=t=>{if(!this.isActive){return}if(this.hasJustReleasedEnter){this.hasJustReleasedEnter=false;return}t.stopImmediatePropagation()};this.callbacks={keydownHandler:this.handleKeyDown.bind(this),keyupHandler:this.handleKeyUp.bind(this),blurHandler:this.handleBlur.bind(this),clickHandler:this.handleClick.bind(this)}}enable(){this.element.addEventListener("keydown",this.callbacks.keydownHandler);this.element.addEventListener("keyup",this.callbacks.keyupHandler);this.element.addEventListener("blur",this.callbacks.blurHandler);this.element.addEventListener("click",this.callbacks.clickHandler,true)}disable(){this.element.removeEventListener("keydown",this.callbacks.keydownHandler);this.element.removeEventListener("keyup",this.callbacks.keyupHandler);this.element.removeEventListener("blur",this.callbacks.blurHandler);this.element.removeEventListener("click",this.callbacks.clickHandler,true)}}function i(i){if(!t.has(i)){const h=new s(i);h.enable();t.set(i,h)}}function h(s){const i=t.get(s);if(i){i.disable();t.delete(s)}}export{i as m,h as r};
//# sourceMappingURL=make-enter-clickable-1ab65ddc.js.map