{"version":3,"file":"limel-example-list-item-interactive.entry.esm.js","sources":["src/components/list-item/examples/list-item-basic.scss?tag=limel-example-list-item-interactive&encapsulation=shadow","src/components/list-item/examples/list-item-interactive.tsx"],"sourcesContent":["@use '../../../style/mixins';\n\n:host {\n    display: flex;\n    flex-direction: column;\n    border-radius: 0.25rem;\n}\n\nul {\n    position: relative;\n    list-style: none;\n    padding: 1rem 1rem 2rem 1rem;\n    margin: 0;\n\n    background: url(\"data:image/svg+xml;charset=utf-8, <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 8 8' style='fill-rule:evenodd;'><path fill='rgba(186,186,192,0.16)' d='M0 0h4v4H0zM4 4h4v4H4z'/></svg>\");\n    background-size: 0.5rem;\n\n    &.is-resizable {\n        overflow: hidden;\n        resize: horizontal;\n        max-width: calc(100% - 2rem);\n        min-width: 10rem;\n\n        &::after {\n            content: 'Resize me ⤵';\n            font-size: 0.75rem;\n            position: absolute;\n            right: 0.25rem;\n            bottom: 0.25rem;\n        }\n    }\n}\n","import { Component, h, Host, State } from '@stencil/core';\n\n/**\n * Interactive list item example\n *\n * A list item with the default type (`type=\"listitem\"`) shows a simpler\n * visual feedback when hovered.\n *\n * However, certain item `type`s are \"selectable\"; for instance `option`, `radio` and `checkbox`.\n * When users click them (or focus and press <kbd>Enter</kbd> or <kbd>Space</kbd>)\n * these items must toggle their selection.\n *\n * This example demonstrates manual selection handling. Note that\n * `limel-list-item` does not emit its own `interact` event. The consumer\n * should listen for native `click` events and handle keyboard events.\n *\n * The component is purely presentational; selection state is passed in\n * via the `selected` prop and updated by the parent example using\n * native `click` and keyboard events.\n *\n * Item `type`s that are \"selectable\" (`option`, `radio`, `checkbox`)\n * are expected to be managed by a container component like `limel-list`.\n * For standalone demo purposes we toggle `selected` ourselves.\n *\n * A `selected` item will both visually indicate that it is selected\n * and also informs assistive technology about its state, using proper ARIA attributes.\n *\n * Each of these types visualize the selected state differently.\n *\n * - `option`: The selected state is indicated by a tinted background,\n * colored by the consumer's defined accent color.\n * - `radio`: The selected state is indicated by a filled circle.\n * - `checkbox`: The selected state is indicated by a checked checkmark.\n *\n * :::important\n * Needless to say that a `disabled` item cannot be selected or interacted with.\n * The component owns “disabled” interaction semantics and accessibility.\n * The consumer should not make the list item unclickable / uninteractive,\n * using some TS logics, or by adding a `pointer-events: none;` style.\n * This is because:\n * 1. The list items are interactive, both using mouse and keyboard.\n * 2. The list items can contain a primary component, or an action menu,\n * which need to remain interactive, even when the item is disabled.\n * :::\n */\n@Component({\n    tag: 'limel-example-list-item-interactive',\n    shadow: true,\n    styleUrl: 'list-item-basic.scss',\n})\nexport class ListItemInteractiveExample {\n    @State()\n    private disabled = false;\n\n    @State()\n    private selected = false;\n\n    @State()\n    private lastEvent: string = 'No events yet';\n\n    public render() {\n        return (\n            <Host onKeyDown={this.onHostKeyDown}>\n                <limel-list-item\n                    tabindex={0}\n                    text=\"Interactive List Item, with `type='option'`\"\n                    secondaryText=\"Click me (or press Enter/Space) if I'm not disabled\"\n                    icon=\"star\"\n                    disabled={this.disabled}\n                    selected={this.selected}\n                    type=\"option\"\n                    onClick={this.onItemClick}\n                />\n                <limel-example-controls>\n                    <limel-switch\n                        label=\"Disabled\"\n                        value={this.disabled}\n                        onChange={this.setDisabled}\n                    />\n                    <limel-switch\n                        label=\"Selected\"\n                        value={this.selected}\n                        onChange={this.setSelected}\n                    />\n                </limel-example-controls>\n                <limel-example-value\n                    label=\"Last event\"\n                    value={this.lastEvent}\n                />\n            </Host>\n        );\n    }\n\n    private toggleSelection = () => {\n        if (this.disabled) {\n            return;\n        }\n        this.selected = !this.selected;\n        this.lastEvent = `Item ${this.selected ? 'selected' : 'deselected'}`;\n    };\n\n    private onItemClick = (event: MouseEvent) => {\n        const target = event.target as HTMLElement;\n        if (\n            target.closest('.action-menu-trigger') ||\n            target.closest('limel-menu')\n        ) {\n            return; // ignore action menu clicks\n        }\n        this.toggleSelection();\n    };\n\n    private onHostKeyDown = (event: KeyboardEvent) => {\n        if (this.disabled) {\n            return;\n        }\n        const isEnter = event.key === 'Enter';\n        const isSpace =\n            event.key === ' ' ||\n            event.key === 'Space' ||\n            event.key === 'Spacebar' ||\n            event.code === 'Space';\n        if (!isEnter && !isSpace) {\n            return;\n        }\n        if (event.repeat) {\n            return;\n        }\n        if (isSpace) {\n            event.preventDefault();\n        }\n        // Ensure the focused element is our list item before toggling\n        const active = document.activeElement as HTMLElement | null;\n        if (active && active.tagName.toLowerCase() === 'limel-list-item') {\n            this.toggleSelection();\n        }\n    };\n\n    private setDisabled = (event: CustomEvent<boolean>) => {\n        this.disabled = event.detail;\n    };\n\n    private setSelected = (event: CustomEvent<boolean>) => {\n        this.selected = event.detail;\n    };\n}\n"],"names":[],"mappings":";;AAAA,MAAM,gBAAgB,GAAG,qlBAAqlB;;MCkDjmB,0BAA0B,GAAA,MAAA;AALvC,IAAA,WAAA,CAAA,OAAA,EAAA;;AAOY,QAAA,IAAQ,CAAA,QAAA,GAAG,KAAK;AAGhB,QAAA,IAAQ,CAAA,QAAA,GAAG,KAAK;AAGhB,QAAA,IAAS,CAAA,SAAA,GAAW,eAAe;AAmCnC,QAAA,IAAe,CAAA,eAAA,GAAG,MAAK;AAC3B,YAAA,IAAI,IAAI,CAAC,QAAQ,EAAE;gBACf;;AAEJ,YAAA,IAAI,CAAC,QAAQ,GAAG,CAAC,IAAI,CAAC,QAAQ;AAC9B,YAAA,IAAI,CAAC,SAAS,GAAG,CAAQ,KAAA,EAAA,IAAI,CAAC,QAAQ,GAAG,UAAU,GAAG,YAAY,EAAE;AACxE,SAAC;AAEO,QAAA,IAAA,CAAA,WAAW,GAAG,CAAC,KAAiB,KAAI;AACxC,YAAA,MAAM,MAAM,GAAG,KAAK,CAAC,MAAqB;AAC1C,YAAA,IACI,MAAM,CAAC,OAAO,CAAC,sBAAsB,CAAC;AACtC,gBAAA,MAAM,CAAC,OAAO,CAAC,YAAY,CAAC,EAC9B;AACE,gBAAA,OAAO;;YAEX,IAAI,CAAC,eAAe,EAAE;AAC1B,SAAC;AAEO,QAAA,IAAA,CAAA,aAAa,GAAG,CAAC,KAAoB,KAAI;AAC7C,YAAA,IAAI,IAAI,CAAC,QAAQ,EAAE;gBACf;;AAEJ,YAAA,MAAM,OAAO,GAAG,KAAK,CAAC,GAAG,KAAK,OAAO;AACrC,YAAA,MAAM,OAAO,GACT,KAAK,CAAC,GAAG,KAAK,GAAG;gBACjB,KAAK,CAAC,GAAG,KAAK,OAAO;gBACrB,KAAK,CAAC,GAAG,KAAK,UAAU;AACxB,gBAAA,KAAK,CAAC,IAAI,KAAK,OAAO;AAC1B,YAAA,IAAI,CAAC,OAAO,IAAI,CAAC,OAAO,EAAE;gBACtB;;AAEJ,YAAA,IAAI,KAAK,CAAC,MAAM,EAAE;gBACd;;YAEJ,IAAI,OAAO,EAAE;gBACT,KAAK,CAAC,cAAc,EAAE;;;AAG1B,YAAA,MAAM,MAAM,GAAG,QAAQ,CAAC,aAAmC;YAC3D,IAAI,MAAM,IAAI,MAAM,CAAC,OAAO,CAAC,WAAW,EAAE,KAAK,iBAAiB,EAAE;gBAC9D,IAAI,CAAC,eAAe,EAAE;;AAE9B,SAAC;AAEO,QAAA,IAAA,CAAA,WAAW,GAAG,CAAC,KAA2B,KAAI;AAClD,YAAA,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC,MAAM;AAChC,SAAC;AAEO,QAAA,IAAA,CAAA,WAAW,GAAG,CAAC,KAA2B,KAAI;AAClD,YAAA,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC,MAAM;AAChC,SAAC;AACJ;IArFU,MAAM,GAAA;AACT,QAAA,QACI,EAAC,IAAI,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAC,SAAS,EAAE,IAAI,CAAC,aAAa,EAAA,EAC/B,CAAA,CAAA,iBAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EACI,QAAQ,EAAE,CAAC,EACX,IAAI,EAAC,6CAA6C,EAClD,aAAa,EAAC,qDAAqD,EACnE,IAAI,EAAC,MAAM,EACX,QAAQ,EAAE,IAAI,CAAC,QAAQ,EACvB,QAAQ,EAAE,IAAI,CAAC,QAAQ,EACvB,IAAI,EAAC,QAAQ,EACb,OAAO,EAAE,IAAI,CAAC,WAAW,EAC3B,CAAA,EACF,CAAA,CAAA,wBAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAA,EACI,CAAA,CAAA,cAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EACI,KAAK,EAAC,UAAU,EAChB,KAAK,EAAE,IAAI,CAAC,QAAQ,EACpB,QAAQ,EAAE,IAAI,CAAC,WAAW,EAC5B,CAAA,EACF,CAAA,CAAA,cAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EACI,KAAK,EAAC,UAAU,EAChB,KAAK,EAAE,IAAI,CAAC,QAAQ,EACpB,QAAQ,EAAE,IAAI,CAAC,WAAW,GAC5B,CACmB,EACzB,CAAA,CAAA,qBAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EACI,KAAK,EAAC,YAAY,EAClB,KAAK,EAAE,IAAI,CAAC,SAAS,EAAA,CACvB,CACC;;;;;;;"}