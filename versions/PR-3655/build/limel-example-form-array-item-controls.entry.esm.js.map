{"version":3,"file":"limel-example-form-array-item-controls.entry.esm.js","sources":["src/components/form/examples/array-item-controls-schema.ts","src/components/form/examples/array-item-controls-form.tsx"],"sourcesContent":["import { FormSchema } from '@limetech/lime-elements';\n\nexport interface MissionPlan {\n    name?: string;\n    objective?: string;\n    active?: boolean;\n}\n\nexport interface ArrayItemControlsFormData {\n    tasks?: string[];\n    missions?: MissionPlan[];\n}\n\nexport const baseSchema: FormSchema<ArrayItemControlsFormData> = {\n    type: 'object',\n    properties: {\n        tasks: {\n            type: 'array',\n            title: 'Weekly tasks',\n            items: {\n                type: 'string',\n                title: 'Task',\n            },\n            lime: {},\n        },\n        missions: {\n            type: 'array',\n            title: 'Mission plans',\n            description: 'Object items render inside collapsible sections.',\n            items: {\n                type: 'object',\n                title: 'Mission',\n                properties: {\n                    name: {\n                        type: 'string',\n                        title: 'Name',\n                    },\n                    objective: {\n                        type: 'string',\n                        title: 'Objective',\n                    },\n                    active: {\n                        type: 'boolean',\n                        title: 'Active',\n                        default: true,\n                    },\n                },\n            },\n            lime: {},\n        },\n    },\n};\n","import { Component, h, Host, State } from '@stencil/core';\nimport {\n    ArrayItemControlsFormData,\n    baseSchema,\n} from './array-item-controls-schema';\nimport { FormSchema } from '@limetech/lime-elements';\n\n/**\n * Allowing users to reorder and remove form items\n * By default, users are allowed to manipulate the array of items in by reordering them,\n * or removing them.\n *\n * However, using `allowItemReorder` and `allowItemRemoval`\n * props, you can control whether these actions are allowed.\n *\n * @sourceFile array-item-controls-schema.ts\n */\n@Component({\n    tag: 'limel-example-form-array-item-controls',\n    shadow: true,\n})\nexport class FormArrayItemControlsExample {\n    @State()\n    private formData: ArrayItemControlsFormData = {\n        tasks: ['Collect intel', 'Recruit allies', 'Refuel jet'],\n        missions: [\n            {\n                name: 'Secure HQ',\n                objective: 'Fortify base defenses',\n                active: true,\n            },\n            {\n                name: 'Scout sector 9',\n                objective: 'Gather intelligence on rivals',\n                active: false,\n            },\n        ],\n    };\n\n    @State()\n    private allowItemReorder = true;\n\n    @State()\n    private allowItemRemoval = true;\n\n    @State()\n    private schema = this.createSchema();\n\n    public render() {\n        return (\n            <Host>\n                <limel-example-controls\n                    style={{ '--example-controls-column-layout': 'auto-fit' }}\n                >\n                    <limel-checkbox\n                        label=\"allowItemReorder\"\n                        checked={this.allowItemReorder}\n                        onChange={this.toggleAllowReorder}\n                    />\n                    <limel-checkbox\n                        label=\"allowItemRemoval\"\n                        checked={this.allowItemRemoval}\n                        onChange={this.toggleAllowRemoval}\n                    />\n                </limel-example-controls>\n                <limel-form\n                    onChange={this.handleFormChange}\n                    value={this.formData}\n                    schema={this.schema}\n                />\n                <limel-example-value value={this.formData} />\n            </Host>\n        );\n    }\n\n    private handleFormChange = (event) => {\n        this.formData = event.detail;\n    };\n\n    private toggleAllowReorder = () => {\n        this.allowItemReorder = !this.allowItemReorder;\n        this.schema = this.createSchema();\n    };\n\n    private toggleAllowRemoval = () => {\n        this.allowItemRemoval = !this.allowItemRemoval;\n        this.schema = this.createSchema();\n    };\n\n    private createSchema(): FormSchema<ArrayItemControlsFormData> {\n        const properties = baseSchema.properties ?? {};\n        const tasks = properties.tasks!;\n        const missions = properties.missions!;\n        const taskOptions = tasks.lime ?? {};\n        const missionOptions = missions.lime ?? {};\n\n        return {\n            ...baseSchema,\n            properties: {\n                ...properties,\n                tasks: {\n                    ...tasks,\n                    lime: {\n                        ...taskOptions,\n                        allowItemReorder: this.allowItemReorder,\n                        allowItemRemoval: this.allowItemRemoval,\n                    },\n                },\n                missions: {\n                    ...missions,\n                    lime: {\n                        ...missionOptions,\n                        allowItemReorder: this.allowItemReorder,\n                        allowItemRemoval: this.allowItemRemoval,\n                    },\n                },\n            },\n        };\n    }\n}\n"],"names":[],"mappings":"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"}