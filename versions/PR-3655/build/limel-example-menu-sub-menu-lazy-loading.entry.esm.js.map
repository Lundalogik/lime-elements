{"version":3,"file":"limel-example-menu-sub-menu-lazy-loading.entry.esm.js","sources":["src/components/menu/examples/menu-sub-menu-lazy-loading-service-mock-server.ts","src/components/menu/examples/menu-sub-menu-lazy-loading-service-mock.ts","src/components/menu/examples/menu-sub-menu-lazy-loading.tsx"],"sourcesContent":["import { ListSeparator } from '../../list-item/list-item.types';\nimport { MenuItem } from '../menu.types';\n\nconst NETWORK_DELAY = 1000;\n\n/**\n * This is a fake server that simulates a network delay.\n * It should NOT be copied and used in your package or solution.\n */\nexport const fakeServer = {\n    loadItems: (item: MenuItem): Promise<Array<MenuItem | ListSeparator>> => {\n        return new Promise((resolve) => {\n            setTimeout(() => {\n                switch (item.value) {\n                    case 'format_menu': {\n                        resolve(formatItems);\n                        break;\n                    }\n                    case 'edit_menu': {\n                        resolve(editItems);\n                        break;\n                    }\n                    case 'bullets_menu': {\n                        resolve(bulletsAndNumberingItems);\n                        break;\n                    }\n                    default: {\n                        resolve([]);\n                        break;\n                    }\n                }\n            }, NETWORK_DELAY);\n        });\n    },\n};\n\nconst formatItems: MenuItem[] = [\n    {\n        text: 'Bold',\n        icon: 'bold',\n        value: 'bold',\n    },\n    {\n        text: 'Italic',\n        icon: 'italic',\n        value: 'italic',\n    },\n    {\n        text: 'Bullets and numbering',\n        icon: 'bulleted_list',\n        items: null,\n        value: 'bullets_menu',\n    },\n];\n\nconst bulletsAndNumberingItems: MenuItem[] = [\n    {\n        text: 'Numbered list',\n        icon: 'numbered_list',\n        value: 'numbered_list',\n    },\n    {\n        text: 'Bullet list',\n        icon: 'bulleted_list',\n        value: 'bullet_list',\n    },\n    {\n        text: 'Checklist',\n        icon: 'todo_list',\n        value: 'checklist',\n    },\n    {\n        text: 'Pets',\n        icon: 'octopus',\n        items: [\n            {\n                text: 'Cat',\n                icon: 'cat',\n                value: 'cat',\n            },\n            {\n                text: 'Dog',\n                icon: 'dog',\n                value: 'dog',\n            },\n        ],\n        value: 'pet_menu',\n    },\n];\n\nconst editItems: Array<MenuItem | ListSeparator> = [\n    {\n        text: 'Copy',\n        icon: 'copy',\n        value: 'copy',\n    },\n    {\n        text: 'Cut',\n        icon: 'cut',\n        value: 'cut',\n    },\n    { separator: true },\n    {\n        text: 'Paste',\n        icon: 'paste',\n        value: 'paste',\n    },\n];\n","import { ListSeparator } from '../../list-item/list-item.types';\nimport { MenuItem } from '../menu.types';\nimport { fakeServer } from './menu-sub-menu-lazy-loading-service-mock-server';\n\n/**\n * This example service can be copied and used in your package or solution.\n */\nexport class LazyLoader {\n    private cache: Record<string, Array<MenuItem | ListSeparator>> = {};\n\n    public loadItems = async (\n        subMenu: MenuItem\n    ): Promise<Array<MenuItem | ListSeparator>> => {\n        // First check if the items are already in the cache.\n        const cachedItems = this.getFromCache(subMenu);\n\n        if (cachedItems) {\n            return cachedItems;\n        }\n\n        // If not cached, load them from the server.\n        //\n        // ::: note\n        // If you copy this service, you should replace this with\n        // something that actually loads the items from the server.\n        // :::\n        const items = await fakeServer.loadItems(subMenu);\n\n        // If any of the items have their own sub-menu, and those items\n        // are not loaded yet, we add a function for loading them.\n        for (const item of items) {\n            if ('items' in item && item.items === null) {\n                item.items = this.loadItems;\n            }\n        }\n\n        // Remember to cache the items, so we don't have to load them again later.\n        this.setToCache(subMenu, items);\n\n        return items;\n    };\n\n    private getFromCache(subMenu: MenuItem): Array<MenuItem | ListSeparator> {\n        return this.cache[subMenu.value];\n    }\n\n    private setToCache(\n        parentItem: MenuItem,\n        items: Array<MenuItem | ListSeparator>\n    ): void {\n        this.cache[parentItem.value] = items;\n    }\n}\n","import {\n    MenuItem,\n    ListSeparator,\n    LimelMenuCustomEvent,\n} from '@limetech/lime-elements';\nimport { Component, State, h } from '@stencil/core';\nimport { LazyLoader } from './menu-sub-menu-lazy-loading-service-mock';\n\n/**\n * Lazy loading items in sub-menus\n *\n * @sourceFile menu-sub-menu-lazy-loading-service-mock.ts\n */\n@Component({\n    tag: 'limel-example-menu-sub-menu-lazy-loading',\n    shadow: true,\n})\nexport class MenuSubMenuLazyLoadingExample {\n    @State()\n    private lastSelectedItem: string;\n\n    private lazyLoader: LazyLoader;\n\n    private items: Array<MenuItem | ListSeparator>;\n\n    constructor() {\n        this.lazyLoader = new LazyLoader();\n        this.items = [\n            {\n                text: 'Format',\n                items: this.lazyLoader.loadItems,\n                value: 'format_menu',\n            },\n            {\n                text: 'Edit',\n                items: this.lazyLoader.loadItems,\n                value: 'edit_menu',\n            },\n        ];\n    }\n\n    public render() {\n        return [\n            <limel-menu items={this.items} onSelect={this.handleSelect}>\n                <limel-button label=\"Menu\" slot=\"trigger\" />\n            </limel-menu>,\n            <limel-example-value\n                label=\"Last selected item\"\n                value={this.lastSelectedItem}\n            />,\n        ];\n    }\n\n    private handleSelect = (event: LimelMenuCustomEvent<MenuItem>) => {\n        this.lastSelectedItem = event.detail.text;\n    };\n}\n"],"names":[],"mappings":"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"}