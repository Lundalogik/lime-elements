import{r as e,h as i,H as t}from"./index-BudcI_o9.js";import{S as s}from"./sortable.esm-CMrz6687.js";const a="[data-drag-handle]",r="limel-card.kitten-card",o="has-an-item-which-is-being-dragged",l="is-elevated",h=class{constructor(i){e(this,i),this.kittens=[{id:"kitten-1",image:{src:"https://images.unsplash.com/photo-1621238224334-20222c044b84?q=80&w=600&h=400&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",alt:"Photo by https://unsplash.com/@paracetamol"},subheading:"@paracetamol's kitten"},{id:"kitten-2",image:{src:"https://images.unsplash.com/photo-1558674378-e4334d4fecc2?q=80&w=600&h=400&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",alt:"Photo by https://unsplash.com/@bliss1002"},subheading:"@bliss1002's kitten"},{id:"kitten-3",image:{src:"https://images.unsplash.com/photo-1692962063951-0b5c81887f3d?q=80&w=600&h=400&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",alt:"Photo by https://unsplash.com/@kmly"},subheading:"@kmly's kitten"}],this.handleClick=e=>{console.log("Card clicked",e.currentTarget)},this.setContainer=e=>{this.container!==e&&(this.teardownSortable(),this.container=null!=e?e:void 0,this.setupSortable())},this.handleSortStart=e=>{this.container&&this.container.classList.add(o),e.item instanceof HTMLElement&&this.applyDropElevation(e.item)},this.handleSortEnd=e=>{this.container&&this.container.classList.remove(o);const{oldIndex:i,newIndex:t}=e;e.item instanceof HTMLElement&&(this.dropElevationTarget=e.item),"number"==typeof i&&"number"==typeof t&&i!==t?(this.kittens=this.moveKitten(this.kittens,i,t),this.scheduleDropElevationRemoval()):this.scheduleDropElevationRemoval()}}render(){return i(t,{key:"378e2354ec5bf1b76b05a218e5e84a6c09d434df"},i("h4",{key:"f6743917c3c1a9eeb06dc86c5f9f6f24bbe7eabb"},"Drag & sort these kittens"),i("p",{key:"8efb25e1ec77d4025ff34f806c5720e03b212b47"},"More cute â†’ Less cute"),i("div",{key:"ebefae4f5e5bc45e9b28f9a15020025261c15586",class:"kitten-list",ref:this.setContainer},this.kittens.map((e=>i("limel-card",{class:"kitten-card",key:e.id,clickable:!0,image:e.image,subheading:e.subheading,onClick:this.handleClick,"data-reorder-id":e.id},i("limel-drag-handle",{dragDirection:"horizontal",slot:"component"}))))))}setupSortable(){if(this.container)return this.sortable?(this.sortable.option("handle",a),this.sortable.option("draggable",r),void this.sortable.option("disabled",!1)):void(this.sortable=s.create(this.container,{animation:150,direction:"horizontal",handle:a,draggable:r,chosenClass:"is-being-dragged",onStart:this.handleSortStart,onEnd:this.handleSortEnd}))}teardownSortable(){this.sortable&&(this.sortable.destroy(),this.sortable=void 0),this.clearDropElevationTimer(),this.dropElevationTarget&&(this.dropElevationTarget.classList.remove(l),this.dropElevationTarget=void 0),this.container&&this.container.classList.remove(o)}applyDropElevation(e){this.dropElevationTarget&&this.dropElevationTarget!==e&&this.dropElevationTarget.classList.remove(l),this.clearDropElevationTimer(),e.classList.add(l),this.dropElevationTarget=e}scheduleDropElevationRemoval(){if(!this.dropElevationTarget)return;const e=this.dropElevationTarget;this.clearDropElevationTimer(),this.dropElevationTimeout=globalThis.setTimeout((()=>{e.classList.remove(l),this.dropElevationTarget===e&&(this.dropElevationTarget=void 0),this.dropElevationTimeout=void 0}),1e3)}clearDropElevationTimer(){void 0!==this.dropElevationTimeout&&(clearTimeout(this.dropElevationTimeout),this.dropElevationTimeout=void 0)}moveKitten(e,i,t){if(i===t)return e;const s=[...e],[a]=s.splice(i,1);return a?(s.splice(t,0,a),s):e}disconnectedCallback(){this.teardownSortable()}};h.style='@charset "UTF-8";:host{display:block}div{max-width:100%;display:grid;grid-template-columns:1fr 1fr 1fr;gap:1rem}limel-drag-handle{margin-left:auto}limel-card:has(limel-drag-handle:hover),limel-card:has(limel-drag-handle:focus-within),limel-card.is-elevated,limel-card.sortable-chosen{will-change:transform, box-shadow, border-radius, background-color}limel-card.sortable-ghost{border-radius:0.95rem;box-shadow:var(--shadow-depth-64), 0 0.65rem 0.75rem -0.425rem rgb(var(--color-black), 0.3)}limel-card.sortable-chosen{border-radius:0.95rem;background-color:var(--lime-elevated-surface-background-color)}limel-card.is-elevated[draggable=false]{animation:sit-here 0.8s forwards}@keyframes sit-here{0%{border-radius:0.95rem;background-color:var(--lime-elevated-surface-background-color);box-shadow:var(--shadow-depth-64), 0 0.65rem 0.75rem -0.425rem rgb(var(--color-black), 0.3)}100%{box-shadow:none}}';export{h as limel_example_drag_handle_horizontal}