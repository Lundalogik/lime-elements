import{r as e,h as i,H as t}from"./index-BWUkXc2p.js";import{S as s}from"./sortable.esm-CMrz6687.js";const a='@charset "UTF-8";:host{display:block}div{max-width:100%;display:grid;grid-template-columns:1fr 1fr 1fr;gap:1rem}limel-drag-handle{margin-left:auto}limel-card:has(limel-drag-handle:hover),limel-card:has(limel-drag-handle:focus-within),limel-card.is-elevated,limel-card.sortable-chosen{will-change:transform, box-shadow, border-radius, background-color}limel-card.sortable-ghost{border-radius:0.95rem;box-shadow:var(--shadow-depth-64), 0 0.65rem 0.75rem -0.425rem rgb(var(--color-black), 0.3)}limel-card.sortable-chosen{border-radius:0.95rem;background-color:var(--lime-elevated-surface-background-color)}limel-card.is-elevated[draggable=false]{animation:sit-here 0.8s forwards}@keyframes sit-here{0%{border-radius:0.95rem;background-color:var(--lime-elevated-surface-background-color);box-shadow:var(--shadow-depth-64), 0 0.65rem 0.75rem -0.425rem rgb(var(--color-black), 0.3)}100%{box-shadow:none}}';const r="[data-drag-handle]";const o="limel-card.kitten-card";const d="is-being-dragged";const l="has-an-item-which-is-being-dragged";const h="is-elevated";const n=1e3;const c=class{constructor(i){e(this,i);this.kittens=[{id:"kitten-1",image:{src:"https://images.unsplash.com/photo-1621238224334-20222c044b84?q=80&w=600&h=400&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",alt:"Photo by https://unsplash.com/@paracetamol"},subheading:"@paracetamol's kitten"},{id:"kitten-2",image:{src:"https://images.unsplash.com/photo-1558674378-e4334d4fecc2?q=80&w=600&h=400&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",alt:"Photo by https://unsplash.com/@bliss1002"},subheading:"@bliss1002's kitten"},{id:"kitten-3",image:{src:"https://images.unsplash.com/photo-1692962063951-0b5c81887f3d?q=80&w=600&h=400&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",alt:"Photo by https://unsplash.com/@kmly"},subheading:"@kmly's kitten"}];this.handleClick=e=>{console.log("Card clicked",e.currentTarget)};this.setContainer=e=>{if(this.container===e){return}this.teardownSortable();this.container=e!==null&&e!==void 0?e:undefined;this.setupSortable()};this.handleSortStart=e=>{if(this.container){this.container.classList.add(l)}if(e.item instanceof HTMLElement){this.applyDropElevation(e.item)}};this.handleSortEnd=e=>{if(this.container){this.container.classList.remove(l)}const{oldIndex:i,newIndex:t}=e;if(e.item instanceof HTMLElement){this.dropElevationTarget=e.item}if(typeof i!=="number"||typeof t!=="number"||i===t){this.scheduleDropElevationRemoval();return}this.kittens=this.moveKitten(this.kittens,i,t);this.scheduleDropElevationRemoval()}}render(){return i(t,{key:"a32b4789fb0aa22d32f8376d26a25693da640966"},i("h4",{key:"4149b4e78b8d3329cb5170690cba0bf5db100594"},"Drag & sort these kittens"),i("p",{key:"503c4fcc536b89624e1c87c1bef39adc02817dfb"},"More cute â†’ Less cute"),i("div",{key:"8ce153ae49fb0c38249a107f9c6d5fddc85cd596",class:"kitten-list",ref:this.setContainer},this.kittens.map((e=>i("limel-card",{class:"kitten-card",key:e.id,clickable:true,image:e.image,subheading:e.subheading,onClick:this.handleClick,"data-reorder-id":e.id},i("limel-drag-handle",{dragDirection:"horizontal",slot:"component"}))))))}setupSortable(){if(!this.container){return}if(this.sortable){this.sortable.option("handle",r);this.sortable.option("draggable",o);this.sortable.option("disabled",false);return}this.sortable=s.create(this.container,{animation:150,direction:"horizontal",handle:r,draggable:o,chosenClass:d,onStart:this.handleSortStart,onEnd:this.handleSortEnd})}teardownSortable(){if(this.sortable){this.sortable.destroy();this.sortable=undefined}this.clearDropElevationTimer();if(this.dropElevationTarget){this.dropElevationTarget.classList.remove(h);this.dropElevationTarget=undefined}if(this.container){this.container.classList.remove(l)}}applyDropElevation(e){if(this.dropElevationTarget&&this.dropElevationTarget!==e){this.dropElevationTarget.classList.remove(h)}this.clearDropElevationTimer();e.classList.add(h);this.dropElevationTarget=e}scheduleDropElevationRemoval(){if(!this.dropElevationTarget){return}const e=this.dropElevationTarget;this.clearDropElevationTimer();this.dropElevationTimeout=globalThis.setTimeout((()=>{e.classList.remove(h);if(this.dropElevationTarget===e){this.dropElevationTarget=undefined}this.dropElevationTimeout=undefined}),n)}clearDropElevationTimer(){if(this.dropElevationTimeout!==undefined){clearTimeout(this.dropElevationTimeout);this.dropElevationTimeout=undefined}}moveKitten(e,i,t){if(i===t){return e}const s=[...e];const[a]=s.splice(i,1);if(!a){return e}s.splice(t,0,a);return s}disconnectedCallback(){this.teardownSortable()}};c.style=a;export{c as limel_example_drag_handle_horizontal};
//# sourceMappingURL=limel-example-drag-handle-horizontal.entry.js.map