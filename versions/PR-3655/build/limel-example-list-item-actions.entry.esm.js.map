{"version":3,"file":"limel-example-list-item-actions.entry.esm.js","sources":["src/components/list-item/examples/list-item-basic.scss?tag=limel-example-list-item-actions&encapsulation=shadow","src/components/list-item/examples/list-item-actions.tsx"],"sourcesContent":["@use '../../../style/mixins';\n\n:host {\n    display: flex;\n    flex-direction: column;\n    border-radius: 0.25rem;\n}\n\nul {\n    position: relative;\n    list-style: none;\n    padding: 1rem 1rem 2rem 1rem;\n    margin: 0;\n\n    background: url(\"data:image/svg+xml;charset=utf-8, <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 8 8' style='fill-rule:evenodd;'><path fill='rgba(186,186,192,0.16)' d='M0 0h4v4H0zM4 4h4v4H4z'/></svg>\");\n    background-size: 0.5rem;\n\n    &.is-resizable {\n        overflow: hidden;\n        resize: horizontal;\n        max-width: calc(100% - 2rem);\n        min-width: 10rem;\n\n        &::after {\n            content: 'Resize me â¤µ';\n            font-size: 0.75rem;\n            position: absolute;\n            right: 0.25rem;\n            bottom: 0.25rem;\n        }\n    }\n}\n","import { MenuItem, ListSeparator } from '@limetech/lime-elements';\nimport { Component, h, Host, State } from '@stencil/core';\n\n/**\n * List item with action menu\n *\n * This example shows how a list item can have an action menu\n * with multiple actions that can be triggered by the user.\n *\n * The consumer (e.g. `limel-list`) component should handle the interaction with the action menu.\n * - Action menu items are `MenuItem` objects where `value` contains the actual `Action`\n * - **Event bubbling:** `limel-menu` emits `select` events with the `MenuItem` as `event.detail`\n * - **Natural forwarding:** The select event bubbles up and `limel-list` re-emits it\n * - **Value extraction:** the final consumer of `limel-list`\n * will eventually extract `event.detail.value` to get the actual `Action`\n *\n * :::note\n * Disabled list items keep their action menu enabled so actions remain\n * accessible (e.g., for contextual info). The example guards against\n * toggling selection when disabled.\n * :::\n */\n@Component({\n    tag: 'limel-example-list-item-actions',\n    shadow: true,\n    styleUrl: 'list-item-basic.scss',\n})\nexport class ListItemActionsExample {\n    @State()\n    private disabled = false;\n\n    @State()\n    private lastInteraction: string = '';\n\n    @State()\n    private selectedItems: Set<number> = new Set();\n\n    private actionItems: Array<MenuItem | ListSeparator> = [\n        { text: 'Edit', value: 'edit', icon: 'edit' },\n        { text: 'Duplicate', value: 'duplicate', icon: 'copy' },\n        { text: 'Share', value: 'share', icon: 'share' },\n        { separator: true },\n        { text: 'Delete', value: 'delete', icon: 'trash', disabled: true },\n    ];\n\n    public render() {\n        return (\n            <Host>\n                <ul onClick={this.onClick} onKeyDown={this.onKeyDown}>\n                    <limel-list-item\n                        tabIndex={0}\n                        data-value={1}\n                        value={1}\n                        type=\"option\"\n                        selected={this.selectedItems.has(1)}\n                        text=\"King of Tokyo\"\n                        secondaryText=\"A fun dice game for 2-6 players\"\n                        icon=\"gorilla\"\n                        actions={this.actionItems}\n                        disabled={this.disabled}\n                    />\n                    <limel-list-item\n                        tabIndex={0}\n                        data-value={2}\n                        value={2}\n                        type=\"option\"\n                        selected={this.selectedItems.has(2)}\n                        text=\"Pandemic\"\n                        secondaryText=\"Cooperative board game where players work together to save the world\"\n                        icon=\"virus\"\n                        actions={this.actionItems}\n                        disabled={this.disabled}\n                    />\n                </ul>\n                <limel-example-controls>\n                    <limel-switch\n                        label=\"Disabled\"\n                        value={this.disabled}\n                        onChange={this.setDisabled}\n                    />\n                </limel-example-controls>\n                <limel-example-value\n                    label=\"Last interaction\"\n                    value={this.lastInteraction}\n                />\n            </Host>\n        );\n    }\n\n    private toggleValue = (value: number, text: string) => {\n        const selected = this.selectedItems.has(value);\n        if (selected) {\n            this.selectedItems = new Set(\n                [...this.selectedItems].filter((id) => id !== value)\n            );\n            this.lastInteraction = `Deselected \"${text}\"`;\n        } else {\n            this.selectedItems = new Set([...this.selectedItems, value]);\n            this.lastInteraction = `Selected \"${text}\"`;\n        }\n    };\n\n    private onClick = (event: MouseEvent) => {\n        // If the entire example is disabled, ignore item clicks\n        if (this.disabled) {\n            return;\n        }\n        const host = (event.target as HTMLElement).closest('limel-list-item');\n        if (!host) {\n            return;\n        }\n        // Skip if clicking the action menu trigger or inside the menu\n        if (\n            (event.target as HTMLElement).closest('.action-menu-trigger') ||\n            (event.target as HTMLElement).closest('limel-menu')\n        ) {\n            return;\n        }\n        // Respect per-item disabled state (attribute reflected by the component)\n        if (\n            host.hasAttribute('disabled') ||\n            host.getAttribute('aria-disabled') === 'true'\n        ) {\n            return;\n        }\n        const value = Number((host as HTMLElement).dataset.value);\n        const text = host.getAttribute('text') || '';\n        this.toggleValue(value, text);\n    };\n\n    private onKeyDown = (event: KeyboardEvent) => {\n        if (this.disabled) {\n            return;\n        }\n        const isEnter = event.key === 'Enter';\n        const isSpace =\n            event.key === ' ' ||\n            event.key === 'Space' ||\n            event.key === 'Spacebar' ||\n            event.code === 'Space';\n        if (!isEnter && !isSpace) {\n            return;\n        }\n        if (event.repeat) {\n            return;\n        }\n        if (isSpace) {\n            event.preventDefault();\n        }\n        const focused = (event.target as HTMLElement).closest(\n            'limel-list-item'\n        );\n        if (!focused) {\n            return;\n        }\n        if (\n            (event.target as HTMLElement).closest('.action-menu-trigger') ||\n            (event.target as HTMLElement).closest('limel-menu') ||\n            focused.hasAttribute('disabled') ||\n            focused.getAttribute('aria-disabled') === 'true'\n        ) {\n            return;\n        }\n        const value = Number((focused as HTMLElement).dataset.value);\n        const text = focused.getAttribute('text') || '';\n        this.toggleValue(value, text);\n    };\n\n    private setDisabled = (event: CustomEvent<boolean>) => {\n        this.disabled = event.detail;\n    };\n}\n"],"names":[],"mappings":"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"}