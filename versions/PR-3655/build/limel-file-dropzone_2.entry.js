import{r as t,c as e,h as i,H as s,a as r}from"./index-BWUkXc2p.js";import{c as o,i as n}from"./files-CkgibGPZ.js";import{b as a}from"./_baseForOwn-B6SA9e_i.js";import{i as l}from"./isArrayLike-DUr_u5zM.js";import{b as h}from"./_baseIteratee-BzgZMONF.js";import{i as c}from"./isArray-B8VKuhvH.js";import{c as f}from"./random-string-JbKhhoXs.js";import"./file-metadata-D5joHaqk.js";import"./get-icon-props-COzG_Mhw.js";import"./_Uint8Array-Bknd-n0y.js";import"./eq-CZ30nDJE.js";import"./_getTag-DV6QHP2A.js";import"./_baseGetTag-Cd9mW1Ny.js";import"./isObjectLike-oiMYqRQ0.js";import"./_nodeUtil-7YmE6u0B.js";import"./_getNative-DgsbF66y.js";import"./isFunction-C8a2KtkQ.js";import"./isObject-CqTdDZkE.js";import"./_isIndex-B--C3qwe.js";import"./_baseIsEqual-DzhQmtrA.js";import"./isSymbol-LuPI8hcz.js";import"./toString-B5gdhIt-.js";import"./identity-CK4jS9_E.js";function p(t,e,i,s){var r=-1,o=t==null?0:t.length;while(++r<o){var n=t[r];e(s,n,i(n),t)}return s}function m(t,e){return function(e,i){if(e==null){return e}if(!l(e)){return t(e,i)}var s=e.length,r=-1,o=Object(e);while(++r<s){if(i(o[r],r,o)===false){break}}return e}}var d=m(a);function u(t,e,i,s){d(t,(function(t,r,o){e(s,t,i(t),o)}));return s}function b(t,e){return function(i,s){var r=c(i)?p:u,o=e?e():{};return r(i,t,h(s),o)}}var j=b((function(t,e,i){t[i?0:1].push(e)}),(function(){return[[],[]]}));const g=":host(limel-file-dropzone){display:block;position:relative}.has-file-to-drop{animation:display-drop-zone 0.6s ease forwards;box-sizing:border-box;isolation:isolate;z-index:1;position:absolute;inset:0.25rem;overflow:hidden;display:flex;justify-content:center;align-items:center;gap:0.5rem;color:rgb(var(--contrast-700));border:0.125rem dashed rgb(var(--color-cyan-light));border-radius:0.75rem}.text-helpertext{display:flex;flex-direction:column;justify-content:center;align-items:flex-start}.icon{width:clamp(2rem, 5vh, 7rem)}.text{font-size:clamp(1rem, 2vh, 1.75rem)}.helper-text{font-size:clamp(0.75rem, 1.5vh, 1rem)}@keyframes display-drop-zone{0%{background-color:rgb(var(--contrast-1100), 0);backdrop-filter:blur(0);-webkit-backdrop-filter:blur(0);scale:0.9;opacity:0}50%{scale:1;opacity:1}100%{background-color:rgb(var(--contrast-1100), 0.8);backdrop-filter:blur(0.25rem);-webkit-backdrop-filter:blur(0.25rem)}}";const y=class{constructor(s){t(this,s);this.filesSelected=e(this,"filesSelected");this.filesRejected=e(this,"filesRejected");this.accept="*";this.disabled=false;this.helperText="";this.hasFileToDrop=false;this.renderOnDragLayout=()=>{if(this.disabled||!this.hasFileToDrop){return}return i("div",{class:"has-file-to-drop"},i("limel-icon",{class:"icon",name:"upload_2"}),i("div",{class:"text-helpertext"},this.renderText(),this.renderHelperText()))};this.renderText=()=>{if(!this.text){return}return i("span",{class:"text"},this.text)};this.renderHelperText=()=>{if(!this.helperText){return}return i("span",{class:"helper-text"},this.helperText)};this.handleDrop=t=>{t.stopPropagation();t.preventDefault();this.hasFileToDrop=false;if(this.disabled){return}const e=[...t.dataTransfer.files];const i=e.map(o);const[s,r]=j(i,(t=>n(t,this.accept)));if(s.length>0){this.filesSelected.emit(s)}if(r.length>0){this.filesRejected.emit(r)}};this.handleDragOver=t=>{this.hasFileToDrop=true;t.preventDefault()};this.handleDragLeave=t=>{this.hasFileToDrop=false;t.preventDefault()}}render(){return i(s,{key:"62bf79267b9da14b1e53485076d87363eea2da96",onDrop:this.handleDrop,onDragOver:this.handleDragOver,onDragLeave:this.handleDragLeave},i("slot",{key:"54cec7829f0847b7073594fde2fbb2712e74674e"}),this.renderOnDragLayout())}};y.style=g;const k=class{constructor(i){t(this,i);this.filesSelected=e(this,"filesSelected");this.accept="*";this.disabled=false;this.multiple=false;this.fileInputId=f();this.handleClick=t=>{if(this.disabled){t.stopPropagation();t.preventDefault();return}this.triggerFileDialog();t.stopPropagation()};this.handleKeyUp=t=>{t.stopPropagation();t.preventDefault();if(t.code==="Enter"){this.triggerFileDialog()}};this.handleFileChange=t=>{const e=[...this.fileInput.files];if(e.length>0){t.stopPropagation();this.filesSelected.emit(e.map(o));this.fileInput.value=""}}}componentDidLoad(){this.fileInput=this.element.shadowRoot.getElementById(this.fileInputId)}render(){return i(s,{key:"0871e9bb8f1bc5697e70f546ae27098a0ef28e74",onClick:this.handleClick,onKeyUp:this.handleKeyUp,onKeyDown:this.handleKeyDown},i("input",{key:"2a96858358effd55fbb618e125e7ce885cb0c3b5",hidden:true,id:this.fileInputId,onChange:this.handleFileChange,type:"file",accept:this.accept,disabled:this.disabled,multiple:this.multiple}),i("slot",{key:"84ee06d1a120ac2831afacf187e9f10175346f20"}))}handleKeyDown(t){if(t.code==="Tab"||t.code==="Backspace"||t.code==="Enter"){return}t.preventDefault();t.stopPropagation()}triggerFileDialog(){this.fileInput.click()}get element(){return r(this)}};export{y as limel_file_dropzone,k as limel_file_input};
//# sourceMappingURL=limel-file-dropzone_2.entry.js.map