{"version":3,"file":"limel-example-tab-panel-content.limel-tab-panel.entry.esm.js","sources":["src/components/tab-panel/examples/tab-panel-content.scss?tag=limel-example-tab-panel-content&encapsulation=shadow","src/components/tab-panel/examples/tab-panel-content.tsx","src/components/tab-panel/tab-panel.scss?tag=limel-tab-panel&encapsulation=shadow","src/components/tab-panel/tab-panel.tsx"],"sourcesContent":[".text {\n    display: flex;\n    align-items: center;\n    margin-bottom: 1rem;\n}\n\n.container {\n    display: flex;\n    align-items: center;\n    flex-direction: column;\n}\n\np {\n    margin: 0;\n}\n\nlimel-icon {\n    margin-right: 1rem;\n}\n","import {\n    Component,\n    h,\n    Prop,\n    EventEmitter,\n    Event,\n    State,\n    Watch,\n} from '@stencil/core';\nimport { Tab, TabPanelComponent } from '@limetech/lime-elements';\n\nconst LOAD_TIME = 1000;\n\n@Component({\n    tag: 'limel-example-tab-panel-content',\n    shadow: true,\n    styleUrl: 'tab-panel-content.scss',\n})\nexport class TabPanelContentExample implements TabPanelComponent {\n    /**\n     * The tab that this component belongs to\n     */\n    @Prop()\n    public tab: Tab;\n\n    /**\n     * Emitted when the vote button is clicked to update the badge in the tab\n     */\n    @Event()\n    public changeTab: EventEmitter<Tab>;\n\n    @State()\n    private votes = 0;\n\n    @State()\n    private loaded = false;\n\n    public render() {\n        if (!this.loaded) {\n            return <limel-spinner />;\n        }\n\n        const style = {\n            backgroundColor: this.tab.icon.color,\n            color: 'white',\n        };\n\n        return (\n            <div class=\"container\">\n                <div class=\"text\">\n                    <limel-icon\n                        badge={true}\n                        size=\"large\"\n                        name={this.tab.icon.name}\n                        style={style}\n                    />\n                    <p>\n                        {this.tab.text} has received {this.votes} votes!\n                    </p>\n                </div>\n                <limel-button\n                    outlined={true}\n                    icon=\"star\"\n                    label=\"Vote\"\n                    onClick={this.vote}\n                />\n            </div>\n        );\n    }\n\n    /**\n     * Load the tab contents the first time the tab is activated\n     */\n    @Watch('tab')\n    protected watchTab() {\n        if (!this.loaded && this.tab.active) {\n            this.loadTabContent();\n        }\n    }\n\n    /**\n     * Simulate loading the tab content\n     */\n    private loadTabContent() {\n        setTimeout(() => {\n            this.loaded = true;\n        }, LOAD_TIME);\n    }\n\n    private vote = () => {\n        this.votes++;\n        this.changeTab.emit({\n            ...this.tab,\n            badge: this.votes,\n        });\n    };\n}\n","/**\n* @prop --tab-panel-background-color: Background color of the contents of the tab and the active tab of the tab bar. Defaults to `--contrast-100`.\n*/\n\n:host(limel-tab-panel) {\n    --tab-panel-background-color: rgb(var(--contrast-100));\n    display: block;\n    height: 100%;\n}\n\n.tab-panel {\n    // contains both limel-tab-bar and tab-content\n    height: 100%;\n    position: relative;\n    display: flex;\n    flex-direction: column;\n}\n\n.tab-content {\n    height: 100%;\n    flex: 1;\n    overflow-y: auto;\n    -webkit-overflow-scrolling: touch;\n    box-sizing: border-box;\n    background-color: var(--tab-panel-background-color);\n}\n","import {\n    Component,\n    Element,\n    h,\n    Prop,\n    EventEmitter,\n    Event,\n    Host,\n    Watch,\n} from '@stencil/core';\nimport { Tab } from '../tab-bar/tab.types';\nimport { dispatchResizeEvent } from '../../util/dispatch-resize-event';\n\n/**\n * The `limel-tab-panel` component uses the `limel-tab-bar` component together\n * with custom slotted components and will display the content for the currently\n * active tab. Each slotted component must have an id equal to the id of the\n * corresponding tab it belongs to. These components should implement the\n * [TabPanelComponent](#/type/TabPanelComponent/) interface.\n *\n * The `limel-tab-panel` component will automatically set each tab configuration\n * on the corresponding slotted component as a property named `tab` so that the\n * component can take action upon that. Sometimes it might be desirable to not\n * load data or render anything until the tab is active.\n *\n * The slotted components can also emit the `changeTab` event to update anything\n * inside the actual tab, e.g. to change the icon, color or badge.\n *\n * @slot - Content to put inside the `limel-tab-panel`. Each slotted element\n * must have the `id` attribute equal to the id of the tab it belongs to.\n * @exampleComponent limel-example-tab-panel\n */\n@Component({\n    tag: 'limel-tab-panel',\n    styleUrl: 'tab-panel.scss',\n    shadow: true,\n})\nexport class TabPanel {\n    /**\n     * The tabs to display in the panel\n     */\n    @Prop({ mutable: true })\n    public tabs: Tab[] = [];\n\n    /**\n     * Emitted when a tab has been changed\n     */\n    @Event()\n    protected changeTab: EventEmitter<Tab>;\n\n    @Element()\n    private host: HTMLLimelTabPanelElement;\n\n    private slotElements: HTMLElement[] = [];\n\n    constructor() {\n        this.handleChangeTabs = this.handleChangeTabs.bind(this);\n        this.setSlotElements = this.setSlotElements.bind(this);\n        this.setTabStatus = this.setTabStatus.bind(this);\n    }\n\n    public connectedCallback() {\n        this.initialize();\n    }\n\n    public componentDidLoad() {\n        this.initialize();\n    }\n\n    private initialize() {\n        const slot = this.getSlot();\n        if (!slot) {\n            return;\n        }\n\n        slot.addEventListener('slotchange', this.setSlotElements);\n        this.setSlotElements();\n        // eslint-disable-next-line unicorn/no-array-for-each\n        this.tabs.forEach(this.setTabStatus);\n    }\n\n    public disconnectedCallback() {\n        const slot = this.getSlot();\n        slot.removeEventListener('slotchange', this.setSlotElements);\n    }\n\n    @Watch('tabs')\n    public tabsChanged() {\n        this.hidePanels();\n        // eslint-disable-next-line unicorn/no-array-for-each\n        this.tabs.forEach(this.setTabStatus);\n    }\n\n    public render() {\n        return (\n            <Host onChangeTab={this.handleChangeTabs}>\n                <div class=\"tab-panel\">\n                    <limel-tab-bar tabs={this.tabs} />\n                    <div class=\"tab-content\">\n                        <slot />\n                    </div>\n                </div>\n            </Host>\n        );\n    }\n\n    private setSlotElements() {\n        const slot = this.getSlot();\n        this.hidePanels();\n        this.slotElements = Array.prototype.slice.call(slot.assignedElements());\n        // eslint-disable-next-line unicorn/no-array-for-each\n        this.tabs.forEach(this.setTabStatus);\n    }\n\n    private setTabStatus(tab: Tab) {\n        const element = this.slotElements.find((e) => e.id === tab.id);\n        if (!element) {\n            return;\n        }\n\n        if (tab.active) {\n            element.style.display = '';\n        } else {\n            element.style.display = 'none';\n        }\n\n        element['tab'] = tab;\n    }\n\n    private handleChangeTabs(event: CustomEvent<Tab>) {\n        this.tabs = this.tabs.map((tab) => {\n            if (tab.id === event.detail.id) {\n                return event.detail;\n            }\n\n            return tab;\n        });\n\n        this.setTabStatus(event.detail);\n\n        // Content inside the newly activated tab may need to redraw once\n        // visible, so we use the resize event trick. /Ads\n        setTimeout(dispatchResizeEvent);\n    }\n\n    private getSlot(): HTMLSlotElement {\n        return this.host.shadowRoot.querySelector('slot');\n    }\n\n    private hidePanels() {\n        for (const element of this.slotElements) {\n            element.style.display = 'none';\n        }\n    }\n}\n"],"names":[],"mappings":"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"}