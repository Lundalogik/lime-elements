{"version":3,"file":"limel-example-text-editor-as-form-component.entry.esm.js","sources":["src/components/text-editor/examples/text-editor-form-data.ts","src/components/text-editor/examples/text-editor-as-form-component.scss?tag=limel-example-text-editor-as-form-component&encapsulation=shadow","src/components/text-editor/examples/text-editor-as-form-component.tsx"],"sourcesContent":["import { FormSchema } from '@limetech/lime-elements';\n\nexport interface FormComponentFormData {\n    name?: string;\n    value?: string;\n}\n\nexport const schema: FormSchema<FormComponentFormData> = {\n    type: 'object',\n    properties: {\n        name: {\n            type: 'string',\n            title: 'Name',\n            description: 'Your name',\n        },\n        value: {\n            type: 'string',\n            title: 'Description',\n            description: 'A personal description',\n            lime: {\n                component: {\n                    name: 'limel-text-editor',\n                    props: {\n                        contentType: 'html',\n                    },\n                },\n            },\n        },\n    },\n};\n",".buttons {\n    display: flex;\n    flex-direction: row-reverse;\n    column-gap: 1rem;\n    align-items: end;\n}\n","import { Component, h, State } from '@stencil/core';\nimport { FormComponentFormData, schema } from './text-editor-form-data';\nimport { cloneDeep } from 'lodash-es';\n\n/**\n * Using the text editor as a form component\n *\n * Here we have a simple form that uses the `limel-text-editor` component,\n * instead of a regular text input field.\n *\n * :::note\n * This allows the user to write rich text, with markdown support, in the form.\n * But keep in mind that the value will be saved as a markdown string,\n * and can also contain HTML tags, depending on what the users input\n * in the filed.\n * :::\n * @sourceFile text-editor-form-data.ts\n */\n@Component({\n    tag: 'limel-example-text-editor-as-form-component',\n    shadow: true,\n    styleUrl: 'text-editor-as-form-component.scss',\n})\nexport class TextEditorAsFormComponentExample {\n    @State()\n    private formData: FormComponentFormData = {\n        name: 'Muhammad Ali',\n        value: '<p>I am the <b>greatest</b>.</p>',\n    };\n\n    @State()\n    private formDirty = false;\n\n    // We fake a bit of state handling here, to\n    // be able to reset and \"save\" the form.\n    // This is mainly to visualize when the form\n    // is considered dirty.\n    private savedFormData: FormComponentFormData;\n\n    public componentWillLoad() {\n        this.savedFormData = cloneDeep(this.formData);\n    }\n\n    public render() {\n        return [\n            <limel-form\n                onChange={this.handleFormChange}\n                value={this.formData}\n                schema={schema}\n            />,\n            <div class=\"buttons\">\n                <limel-button\n                    label=\"Save\"\n                    disabled={!this.formDirty}\n                    onClick={this.handleSave}\n                    primary={true}\n                    class=\"has-reduced-presence\"\n                />\n                <limel-button\n                    label=\"Reset\"\n                    disabled={!this.formDirty}\n                    onClick={this.handleReset}\n                    class=\"has-reduced-presence\"\n                />\n            </div>,\n            <limel-example-value value={this.formData} />,\n        ];\n    }\n\n    private handleFormChange = (event: CustomEvent<FormComponentFormData>) => {\n        event.stopPropagation();\n        this.formData = event.detail;\n        this.formDirty = this.getFormDirtyState();\n    };\n\n    private handleSave = () => {\n        this.savedFormData = cloneDeep(this.formData);\n        this.formDirty = this.getFormDirtyState();\n    };\n\n    private handleReset = () => {\n        this.formData = cloneDeep(this.savedFormData);\n        this.formDirty = this.getFormDirtyState();\n    };\n\n    private getFormDirtyState = () => {\n        return (\n            JSON.stringify(this.formData) !== JSON.stringify(this.savedFormData)\n        );\n    };\n}\n"],"names":[],"mappings":"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"}