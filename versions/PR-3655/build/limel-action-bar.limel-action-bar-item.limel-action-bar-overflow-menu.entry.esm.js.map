{"version":3,"file":"limel-action-bar.limel-action-bar-item.limel-action-bar-overflow-menu.entry.esm.js","sources":["src/components/action-bar/action-bar.scss?tag=limel-action-bar&encapsulation=shadow","src/components/action-bar/action-bar.tsx","src/components/action-bar/action-bar-item/action-bar-item.scss?tag=limel-action-bar-item","src/components/action-bar/action-bar-item/action-bar-item.tsx","src/components/action-bar/action-bar-item/action-bar-overflow-menu.tsx"],"sourcesContent":["/**\n* @prop --action-bar-item-text-color: Text color of action bar items, defaults to `--contrast-1100`.\n* @prop --action-bar-item-icon-color: Color of the icons displayed on each action bar item. Defaults to the text color. To specify a color for an individual item, use the `iconColor` prop instead.\n* @prop --action-bar-item-max-width: Maximum width of a button in the action bar. Defaults to `10rem`. Keep in mind that the buttons should not appear too big.\n* @prop --action-bar-border-radius: Defines the roundness of the corners of the action bar. Defaults to `0`.\n* @prop --action-bar-background-color: Background color of the whole component. Defaults to `--contrast-100`.\n* @prop --action-bar-shrink-icon-color: Color of the shrink icon. Defaults to `--contrast-1000`.\n\n*/\n\n@use '../../style/mixins';\n\n:host(limel-action-bar) {\n    --action-bar-item-height: 2rem;\n\n    --limel-action-bar-item-text-color: var(\n        --action-bar-item-text-color,\n        rgb(var(--contrast-1100))\n    );\n\n    box-sizing: border-box;\n\n    display: inline-flex;\n    align-items: center;\n    padding: 0.125rem 0.25rem;\n    max-width: 100%;\n    border-radius: var(--action-bar-border-radius);\n\n    background-color: var(\n        --action-bar-background-color,\n        rgb(var(--contrast-100))\n    );\n\n    transition: max-width 0.3s ease;\n}\n\n:host(limel-action-bar),\n.items {\n    gap: 0.25rem;\n    @media (pointer: coarse) {\n        gap: 0.5rem;\n    }\n}\n\n.items {\n    display: inline-flex;\n    max-width: 100%;\n    min-width: 0;\n}\n\n:host(limel-action-bar.is-shrunk) .items {\n    opacity: 0;\n}\n\n:host(limel-action-bar:not(.is-shrunk)) .items {\n    opacity: 1;\n}\n\n:host(limel-action-bar.is-full-width) {\n    width: 100%;\n}\n\n:host(limel-action-bar.is-floating) {\n    --action-bar-border-radius: 100vw;\n    border: 1px solid rgb(var(--contrast-400));\n\n    padding-right: 0.125rem;\n    padding-left: 0.125rem;\n\n    max-width: calc(100% - 2rem);\n    box-shadow: var(--shadow-depth-16), var(--shadow-depth-8);\n}\n\n:host(limel-action-bar.is-shrunk) {\n    max-width: 5rem;\n    transition: max-width 0.3s ease-in-out;\n\n    .expand-shrink {\n        transition: transform 0.3s ease;\n        transform: rotateY(180deg);\n    }\n}\n\n:host(limel-action-bar:not(.is-shrunk)) {\n    max-width: 100%;\n    transition: max-width 0.3s ease-in-out;\n\n    .expand-shrink {\n        transition: transform 0.3s ease;\n        transform: rotateY(0deg);\n    }\n}\n\n:host(limel-action-bar.can-be-shrunk.is-full-width) {\n    .expand-shrink {\n        margin-left: auto;\n    }\n}\n\n.expand-shrink {\n    all: unset;\n    box-sizing: border-box;\n    border-radius: 50%;\n\n    @include mixins.is-flat-clickable();\n    @include mixins.visualize-keyboard-focus;\n\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    limel-icon {\n        width: 1.5rem;\n        height: 1.5rem;\n        padding: 0.125rem;\n        color: var(--action-bar-shrink-icon-color, rgb(var(--contrast-1000)));\n    }\n}\n","import {\n    Component,\n    Event,\n    EventEmitter,\n    h,\n    Host,\n    Prop,\n    State,\n    Element,\n} from '@stencil/core';\nimport { ListSeparator } from '../list-item/list-item.types';\nimport { MenuItem, OpenDirection } from '../menu/menu.types';\nimport { ActionBarItem } from './action-bar.types';\nimport { Languages } from './../date-picker/date.types';\nimport translate from './../../global/translations';\nimport { isItem } from './is-item';\nimport { Icon } from '../../global/shared-types/icon.types';\n\n/**\n * An action bar is a user interface element commonly found in software applications and websites.\n * It typically appears at the top of the screen or within a specific section\n * and serves as a centralized hub for accessing various actions and commands\n * relevant to the current context or page.\n *\n * The action bar often contains a set of clickable icons or buttons (icons + labels)\n * that represent specific actions, such as saving, deleting, editing, sharing,\n * or bulk operations for selected items.\n *\n * The purpose of an action bar is to provide quick and convenient access to\n * frequently used functionalities, enabling users to perform common tasks efficiently.\n * It enhances usability by organizing important actions in a visually prominent and easily accessible location.\n *\n * The action bar's design and layout can vary based on the platform or application,\n * but its primary goal remains consistentâ€”to\n * empower users to interact with the software and perform desired actions effortlessly.\n *\n * @exampleComponent limel-example-action-bar-basic\n * @exampleComponent limel-example-action-bar-overflow-menu\n * @exampleComponent limel-example-action-bar-selected-item\n * @exampleComponent limel-example-action-bar-colors\n * @exampleComponent limel-example-action-bar-floating\n * @exampleComponent limel-example-action-bar-floating-expand\n * @exampleComponent limel-example-action-bar-styling\n * @exampleComponent limel-example-action-bar-as-primary-component\n * @exampleComponent limel-example-action-bar-icon-title\n */\n@Component({\n    tag: 'limel-action-bar',\n    shadow: true,\n    styleUrl: 'action-bar.scss',\n})\nexport class ActionBar {\n    /**\n     * Items that are placed in the action bar.\n     * These represent primary actions.\n     */\n    @Prop()\n    public actions: Array<ActionBarItem | ListSeparator> = [];\n\n    /**\n     * Defines the language for translations.\n     */\n    @Prop({ reflect: true })\n    public language: Languages = document.documentElement.lang as Languages;\n\n    /**\n     * A label used to describe the purpose of the element to users\n     * of assistive technologies, like screen readers.\n     * Example value: \"toolbar\"\n     */\n    @Prop({ reflect: true })\n    public accessibleLabel?: string;\n\n    /**\n     * - When set to `fullWidth`, the component will take the\n     * entire width of its container.\n     * - When set to `floating`, the component will get basic stylings\n     * to visualize the floating state.\n     * :::note\n     * You should still properly position the component\n     * according to the structure of your user interface.\n     * For example, use an `absolute` or `fixed` position.\n     * :::\n     */\n    @Prop({ reflect: true })\n    public layout?: 'fullWidth' | 'floating';\n\n    /**\n     * When set to `true`, the action bar will be collapsible.\n     */\n    @Prop({ reflect: true })\n    public collapsible = false;\n\n    /**\n     * Defines the location that the content of the overflow menu\n     * appears, in relation to its trigger.\n     */\n    @Prop({ reflect: true })\n    public openDirection: OpenDirection;\n\n    /**\n     * Fired when a action bar item has been clicked.\n     * @public\n     */\n    @Event()\n    public itemSelected: EventEmitter<ActionBarItem>;\n\n    @Element()\n    private readonly host: HTMLElement;\n\n    @State()\n    private overflowCutoff: number = this.actions.length;\n\n    /**\n     * Indicates whether the action bar is currently in a collapsed state.\n     */\n    @State()\n    private actionBarIsShrunk = false;\n\n    private hasRendered = false;\n    private intersectionObserver: IntersectionObserver;\n    private isFirstIntersectionCheck = true;\n    private actionBarItems: HTMLLimelActionBarItemElement[] = [];\n\n    public connectedCallback() {\n        if (this.hasRendered) {\n            this.createIntersectionObserver();\n        }\n    }\n\n    public componentDidRender() {\n        if (this.haveItemsChanged()) {\n            this.intersectionObserver?.disconnect();\n            this.createIntersectionObserver();\n        }\n    }\n\n    public disconnectedCallback() {\n        this.intersectionObserver?.disconnect();\n        this.intersectionObserver = undefined;\n        this.actionBarItems = [];\n    }\n\n    public render() {\n        this.hasRendered = true;\n        let overflowActions: Array<MenuItem | ListSeparator> = [];\n        if (this.actions.length > 0) {\n            overflowActions = this.actions.slice(this.overflowCutoff);\n        }\n\n        return (\n            <Host\n                aria-label={this.accessibleLabel}\n                class={{\n                    'is-full-width': this.layout === 'fullWidth',\n                    'is-floating': this.layout === 'floating',\n                    'is-shrunk': this.actionBarIsShrunk && this.collapsible,\n                    'can-be-shrunk': !!this.collapsible,\n                }}\n                role=\"grid\"\n            >\n                <div class=\"items\" role=\"rowgroup\">\n                    {this.actions.map(this.renderActionBarItem)}\n                </div>\n                {this.renderOverflowMenu(overflowActions)}\n                {this.renderCollapseExpandButton()}\n            </Host>\n        );\n    }\n\n    private readonly renderActionBarItem = (\n        item: ActionBarItem,\n        index: number\n    ) => {\n        return (\n            <limel-action-bar-item\n                item={item}\n                onSelect={this.handleSelect}\n                isVisible={this.isVisible(index)}\n                role=\"gridcell\"\n            />\n        );\n    };\n\n    private readonly renderOverflowMenu = (\n        items: Array<MenuItem | ListSeparator>\n    ) => {\n        if (!(this.actions.length - this.overflowCutoff)) {\n            return;\n        }\n\n        const shrunkOverFlowIcon: Icon = {\n            name: 'more',\n            color: 'rgb(var(--contrast-1000))',\n            title: this.getTranslation('action-bar.actions'),\n        };\n\n        return (\n            <limel-action-bar-overflow-menu\n                openDirection={this.openDirection}\n                items={items}\n                onSelect={this.handleSelect}\n                role=\"gridcell\"\n                overFlowIcon={\n                    this.actionBarIsShrunk ? shrunkOverFlowIcon : undefined\n                }\n            />\n        );\n    };\n\n    private renderCollapseExpandButton() {\n        if (!this.collapsible || this.actions.length <= 1) {\n            return;\n        }\n\n        return (\n            <button\n                class={{\n                    'expand-shrink': true,\n                }}\n                aria-label={this.tooltipLabel}\n                type=\"button\"\n                onClick={this.handleCollapseExpandClick}\n            >\n                <limel-icon\n                    name=\"double_left\"\n                    id=\"tooltip-expand-shrink-button\"\n                />\n                <limel-tooltip\n                    label={this.tooltipLabel}\n                    elementId=\"tooltip-expand-shrink-button\"\n                />\n            </button>\n        );\n    }\n\n    private handleCollapseExpandClick = () => {\n        this.actionBarIsShrunk = !this.actionBarIsShrunk;\n    };\n\n    private isVisible(index: number) {\n        return index < this.overflowCutoff;\n    }\n\n    private readonly handleSelect = (\n        event: CustomEvent<ActionBarItem | ListSeparator>\n    ) => {\n        event.stopPropagation();\n        if (isItem(event.detail)) {\n            this.itemSelected.emit(event.detail);\n        }\n    };\n\n    private get tooltipLabel() {\n        let key = 'action-bar.collapse';\n        if (this.actionBarIsShrunk) {\n            key = 'action-bar.expand';\n        }\n\n        return this.getTranslation(key);\n    }\n\n    private getTranslation = (key: string) => {\n        return translate.get(key, this.language);\n    };\n\n    private readonly handleIntersection = (\n        entries: IntersectionObserverEntry[]\n    ) => {\n        const intersectingItems = entries.filter(\n            (entry) => entry.isIntersecting\n        );\n\n        const notIntersectingItems = entries.filter(\n            (entry) => !entry.isIntersecting\n        );\n\n        if (this.isFirstIntersectionCheck) {\n            this.overflowCutoff = intersectingItems.length;\n        } else {\n            this.overflowCutoff =\n                this.overflowCutoff +\n                intersectingItems.length -\n                notIntersectingItems.length;\n        }\n\n        this.isFirstIntersectionCheck = false;\n    };\n\n    private createIntersectionObserver() {\n        const options = {\n            root: this.host.shadowRoot.querySelector('.items'),\n            rootMargin: '0px',\n            threshold: 1,\n        };\n\n        this.overflowCutoff = this.actions.length;\n        this.isFirstIntersectionCheck = true;\n\n        this.actionBarItems = [];\n\n        this.intersectionObserver = new IntersectionObserver(\n            this.handleIntersection,\n            options\n        );\n\n        for (const actionBarItem of this.host.shadowRoot.querySelectorAll(\n            'limel-action-bar-item'\n        )) {\n            this.observe(actionBarItem);\n        }\n    }\n\n    private observe(actionBarItem: HTMLLimelActionBarItemElement) {\n        this.intersectionObserver.observe(actionBarItem);\n        this.actionBarItems.push(actionBarItem);\n    }\n\n    private haveItemsChanged() {\n        const someItemRemoved = this.actionBarItems.some(\n            (actionBarItem: HTMLLimelActionBarItemElement) =>\n                !this.host.shadowRoot.contains(actionBarItem)\n        );\n\n        const someItemAdded = [\n            ...this.host.shadowRoot.querySelectorAll('limel-action-bar-item'),\n        ].some(\n            (actionBarItem: HTMLLimelActionBarItemElement) =>\n                !this.actionBarItems.includes(actionBarItem)\n        );\n\n        return someItemRemoved || someItemAdded;\n    }\n}\n","@use '../../../style/mixins';\n@use '../../../style/functions';\n\nlimel-action-bar-item {\n    transition: opacity 0.2s ease-in-out;\n    position: relative;\n    display: flex;\n    align-items: center;\n\n    &:not([is-visible]) {\n        opacity: 0;\n        pointer-events: none;\n    }\n}\n\nbutton {\n    all: unset;\n\n    &:not([disabled]) {\n        @include mixins.is-flat-inset-clickable(\n            $color: var(--limel-action-bar-item-text-color),\n            $color--hovered: var(--limel-action-bar-item-text-color),\n            $background-color: var(--action-bar-background-color),\n            $background-color--hovered: var(--action-bar-background-color),\n            $background-color--inset: var(--action-bar-background-color)\n        );\n        @include mixins.visualize-keyboard-focus;\n    }\n\n    box-sizing: border-box;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    gap: 0.25rem;\n\n    width: 100%;\n    min-width: var(--action-bar-item-height);\n    max-width: var(--action-bar-item-max-width, 10rem);\n    height: var(--action-bar-item-height);\n    color: var(--limel-action-bar-item-text-color);\n\n    border-radius: var(--action-bar-item-height);\n    font-size: var(--limel-theme-default-font-size);\n    padding: 0 0.25rem;\n\n    &:has(.text) {\n        padding: 0 0.5rem;\n    }\n\n    &[disabled] {\n        opacity: 0.4;\n    }\n\n    &.is-selected {\n        &:not(:hover) {\n            box-shadow: var(--button-shadow-inset);\n        }\n        color: var(\n            --lime-primary-color,\n            var(--limel-theme-primary-color)\n        ) !important;\n    }\n}\n\n.text {\n    @include mixins.truncate-text();\n    padding: 0 0.25rem;\n}\n\nlimel-icon {\n    flex-shrink: 0;\n    width: calc(var(--action-bar-item-height) - 0.75rem);\n    height: calc(var(--action-bar-item-height) - 0.75rem);\n    color: var(\n        --action-bar-item-icon-color,\n        var(--limel-action-bar-item-text-color)\n    );\n}\n\nhr {\n    all: unset;\n    width: 1px;\n    height: 1.5rem;\n    border-radius: var(--action-bar-item-height);\n    background-color: var(--limel-action-bar-item-text-color);\n    opacity: 0.2;\n\n    @media (pointer: fine) {\n        margin-right: 0.5rem;\n        margin-left: 0.5rem;\n    }\n}\n\n// ðŸ‘‡ Overflow menu\n\nlimel-menu {\n    --notification-badge-background-color: rgb(var(--contrast-600));\n    --notification-badge-text-color: rgb(var(--contrast-1200));\n\n    &[open] {\n        button {\n            box-shadow: var(--button-shadow-inset);\n        }\n    }\n}\n\nbutton[slot='trigger'] {\n    animation: fade-in ease-out 0.25s;\n    font-size: 0.75rem;\n    font-weight: bold;\n    transform: translate3d(0, 0, 0);\n}\n\n@keyframes fade-in {\n    0% {\n        scale: 0.8;\n        opacity: 0;\n    }\n    100% {\n        scale: 1;\n        opacity: 1;\n    }\n}\n","import {\n    Component,\n    Element,\n    Event,\n    EventEmitter,\n    h,\n    Prop,\n} from '@stencil/core';\nimport { ActionBarItem } from '../../action-bar/action-bar.types';\nimport { ListSeparator } from '../../list-item/list-item.types';\nimport { createRandomString } from '../../../util/random-string';\nimport {\n    makeEnterClickable,\n    removeEnterClickable,\n} from '../../../util/make-enter-clickable';\nimport {\n    getIconColor,\n    getIconName,\n    getIconTitle,\n} from '../../icon/get-icon-props';\n\n/**\n * @private\n */\n@Component({\n    tag: 'limel-action-bar-item',\n    shadow: false,\n    styleUrl: 'action-bar-item.scss',\n})\nexport class ActionBarButton {\n    /**\n     * Item that is placed in the action bar.\n     */\n    @Prop()\n    public item!: ActionBarItem | ListSeparator;\n\n    /**\n     * Fired when a action bar item has been clicked.\n     * @public\n     */\n    @Event()\n    public select: EventEmitter<ActionBarItem | ListSeparator>;\n\n    /**\n     * When the item is displayed in the available width,\n     * this will be `false`.\n     */\n    @Prop({ reflect: true })\n    public isVisible: boolean = true;\n\n    /**\n     * When the item is selected, this will be `true`.\n     */\n    @Prop({ reflect: true })\n    public selected: boolean = false;\n\n    @Element()\n    private readonly host: HTMLLimelActionBarItemElement;\n\n    /**\n     * Used to attach the right tooltip to the right button\n     */\n    private readonly tooltipId: string;\n\n    constructor() {\n        this.tooltipId = createRandomString();\n    }\n\n    public componentWillLoad() {\n        makeEnterClickable(this.host);\n    }\n\n    public componentDidLoad() {\n        this.triggerIconColorWarning();\n    }\n\n    public disconnectedCallback() {\n        removeEnterClickable(this.host);\n    }\n\n    public render() {\n        if (!this.isItem(this.item) && this.item.separator) {\n            return <hr />;\n        }\n\n        return (\n            <button\n                id={this.tooltipId}\n                type=\"button\"\n                onClick={this.handleClick}\n                disabled={this.isDisabled()}\n                class={{\n                    'is-selected': this.isItem(this.item) && this.item.selected,\n                }}\n            >\n                {this.renderIcon()}\n                {this.renderLabel()}\n                {this.renderTooltip()}\n            </button>\n        );\n    }\n\n    private readonly handleClick = (event: MouseEvent) => {\n        event.stopPropagation();\n        this.select.emit(this.item);\n    };\n\n    private isItem(item: ActionBarItem | ListSeparator): item is ActionBarItem {\n        return !('separator' in item);\n    }\n\n    private isDisabled() {\n        if (this.isItem(this.item) && this.item.disabled) {\n            return true;\n        }\n\n        if (!this.isVisible) {\n            return true;\n        }\n    }\n\n    private renderIcon() {\n        if (this.isItem(this.item) && !this.item.icon) {\n            return;\n        }\n\n        if ('icon' in this.item) {\n            const name = getIconName(this.item.icon);\n\n            const color = getIconColor(this.item.icon, this.item.iconColor);\n            const title = getIconTitle(this.item.icon);\n\n            return (\n                <limel-icon\n                    name={name}\n                    aria-label={title}\n                    aria-hidden={title ? null : 'true'}\n                    style={{\n                        '--action-bar-item-icon-color': `${color}`,\n                    }}\n                />\n            );\n        }\n    }\n\n    private renderLabel() {\n        if (!this.isItem(this.item) || this.item.iconOnly) {\n            return;\n        }\n\n        return <span class=\"text\">{this.item.text}</span>;\n    }\n\n    private renderTooltip() {\n        if (!this.isItem(this.item)) {\n            return;\n        }\n\n        return (\n            <limel-tooltip\n                elementId={this.tooltipId}\n                label={this.getTooltipLabel(this.item)}\n                helperLabel={this.item.commandText}\n            />\n        );\n    }\n\n    private getTooltipLabel(item: ActionBarItem): string {\n        const iconTitle = getIconTitle(item.icon);\n        const tooltipLabel = item.text;\n\n        if (iconTitle && tooltipLabel) {\n            return `${iconTitle} ${tooltipLabel}`;\n        }\n\n        return tooltipLabel;\n    }\n\n    private triggerIconColorWarning() {\n        if (this.isItem(this.item) && this.item.iconColor) {\n            console.warn(\n                \"The `iconColor` prop is deprecated now! Use the new `Icon` interface and instead of `iconColor: 'color-name'` write `icon {name: 'icon-name', color: 'color-name'}`.\"\n            );\n        }\n    }\n}\n","import { Component, Prop, h, Event, EventEmitter } from '@stencil/core';\nimport { ActionBarItem } from '../../action-bar/action-bar.types';\nimport { ListSeparator } from '../../list-item/list-item.types';\nimport { MenuItem, OpenDirection } from '../../menu/menu.types';\nimport { LimelMenuCustomEvent } from '../../../components';\nimport { Icon } from '../../../global/shared-types/icon.types';\n\n/**\n * @private\n */\n@Component({\n    tag: 'limel-action-bar-overflow-menu',\n    shadow: false,\n})\nexport class ActionBarOverflowMenu {\n    /**\n     * List of the items that should be rendered in the overflow menu.\n     */\n    @Prop()\n    public items: Array<MenuItem | ListSeparator>;\n\n    /**\n     * Defines the location that the content of the overflow menu\n     * appears, in relation to its trigger.\n     * It defaults to `bottom-end`, since in normal scenarios\n     * (for example when the action bar is not floating at the bottom of the screen)\n     * this menu is the right-most item in the user interface of the component.\n     */\n    @Prop({ reflect: true })\n    public openDirection: OpenDirection = 'bottom-end';\n\n    /**\n     * Icon to display in the overflow menu trigger.\n     * If not provided, the number of items in the overflow menu will be displayed.\n     */\n    @Prop()\n    public overFlowIcon?: Icon;\n\n    /**\n     * Fired when an item in the action bar overflow menu has been clicked.\n     * @public\n     */\n    @Event()\n    public select: EventEmitter<ActionBarItem>;\n\n    public render() {\n        return [\n            <limel-menu\n                openDirection={this.openDirection}\n                items={this.items}\n                onSelect={this.handleSelect}\n            >\n                <button slot=\"trigger\">\n                    {this.getOverflowTriggerContent()}\n                </button>\n            </limel-menu>,\n        ];\n    }\n\n    private getOverflowTriggerContent = () => {\n        if (this.overFlowIcon) {\n            const { color, name, title } = this.overFlowIcon;\n\n            return (\n                <limel-icon\n                    style={{\n                        color: color,\n                    }}\n                    name={name}\n                    aria-label={title}\n                />\n            );\n        }\n\n        return `+${this.numberOfMenuItems}`;\n    };\n\n    private handleSelect = (event: LimelMenuCustomEvent<MenuItem>) => {\n        event.stopPropagation();\n        this.select.emit(event.detail);\n    };\n\n    private get numberOfMenuItems() {\n        return this.items.filter((item) => this.isMenuItem(item)).length;\n    }\n\n    private isMenuItem(item: MenuItem | ListSeparator): item is MenuItem {\n        return !('separator' in item);\n    }\n}\n"],"names":[],"mappings":"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"}