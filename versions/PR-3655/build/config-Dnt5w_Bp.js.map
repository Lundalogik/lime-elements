{"version":3,"file":"config-Dnt5w_Bp.js","sources":["src/global/config.ts"],"sourcesContent":["import { CustomElementDefinition } from './shared-types/custom-element.types';\n\n/**\n * Configuration options for limel-config.\n *\n * @public\n */\nexport type Config = {\n    /**\n     * The path to where the icon library used by limel-icon is located.\n     */\n    iconPath?: string;\n\n    /**\n     * The default locale to use for components that support localization.\n     */\n    defaultLocale?: string;\n\n    /**\n     * Whitelisted html elements for `limel-markdown`.\n     *\n     * Any custom element added here will not be sanitized and thus rendered.\n     * @alpha\n     */\n    markdownWhitelist?: CustomElementDefinition[];\n\n    /**\n     * @internal\n     */\n    featureSwitches?: Record<string, boolean>;\n};\n\nclass ConfigClass implements Config {\n    public iconPath = '';\n    public defaultLocale = navigator.language;\n    public markdownWhitelist?: CustomElementDefinition[];\n    public featureSwitches: any = getFeatureSwitches(localStorage);\n}\n\nfunction getFeatureSwitches(storage: Storage) {\n    const features = {};\n    for (let i = 0; i < storage.length; i++) {\n        const key = storage.key(i);\n        const value = storage.getItem(key);\n\n        if (!['true', 'false'].includes(value)) {\n            continue;\n        }\n\n        features[key] = value === 'true';\n    }\n\n    return features;\n}\n\nconst config = new ConfigClass();\nexport const globalConfig: Config = (() => {\n    return config;\n})();\n"],"names":[],"mappings":"AAgCA,MAAM,WAAW,CAAA;AAAjB,IAAA,WAAA,GAAA;QACW,IAAQ,CAAA,QAAA,GAAG,EAAE;AACb,QAAA,IAAA,CAAA,aAAa,GAAG,SAAS,CAAC,QAAQ;AAElC,QAAA,IAAA,CAAA,eAAe,GAAQ,kBAAkB,CAAC,YAAY,CAAC;;AACjE;AAED,SAAS,kBAAkB,CAAC,OAAgB,EAAA;IACxC,MAAM,QAAQ,GAAG,EAAE;AACnB,IAAA,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,OAAO,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;QACrC,MAAM,GAAG,GAAG,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC;QAC1B,MAAM,KAAK,GAAG,OAAO,CAAC,OAAO,CAAC,GAAG,CAAC;AAElC,QAAA,IAAI,CAAC,CAAC,MAAM,EAAE,OAAO,CAAC,CAAC,QAAQ,CAAC,KAAK,CAAC,EAAE;YACpC;;AAGJ,QAAA,QAAQ,CAAC,GAAG,CAAC,GAAG,KAAK,KAAK,MAAM;;AAGpC,IAAA,OAAO,QAAQ;AACnB;AAEA,MAAM,MAAM,GAAG,IAAI,WAAW,EAAE;AACnB,MAAA,YAAY,GAAW,CAAC,MAAK;AACtC,IAAA,OAAO,MAAM;AACjB,CAAC;;;;"}