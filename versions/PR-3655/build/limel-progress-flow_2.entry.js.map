{"version":3,"names":["progressFlowCss","ProgressFlow","constructor","hostRef","this","flowItems","disabled","readonly","renderRegularFlowItem","item","index","array","h","class","first","last","length","passed","selectedItemIndex","selected","style","getItemStyle","onInteract","handleFlowItemClick","value","currentStep","renderEndPhaseItem","flowItem","change","emit","componentDidRender","scrollToSelectedItem","componentDidLoad","triggerIconColorWarning","render","regularFlowItems","filter","isOffProgress","endPhaseItems","findIndex","map","color","getIconColor","icon","iconColor","selectedColor","passedColor","selectedElement","getElementForSelectedItem","selectedItemLeftPosition","offsetLeft","element","selectedElementLeftPositionCentered","offsetWidth","selectedElementCentered","scrollTo","behavior","left","shadowRoot","querySelector","console","warn","progressFlowItemCss","ProgressFlowItem","handleClick","interact","tabindex","title","getToolTipText","type","step","_a","isDisabled","onClick","renderIcon","text","renderDivider","renderLockIcon","renderSecondaryText","secondaryText","join","name","getIconName","size"],"sources":["src/components/progress-flow/progress-flow.scss?tag=limel-progress-flow&encapsulation=shadow","src/components/progress-flow/progress-flow.tsx","src/components/progress-flow/progress-flow-item/progress-flow-item.scss?tag=limel-progress-flow-item","src/components/progress-flow/progress-flow-item/progress-flow-item.tsx"],"sourcesContent":["@use '../../style/functions';\n\n/**\n* @prop --progress-flow-step-background-color: Background color of steps, defaults to `--contrast-600`.\n* @prop --progress-flow-step-background-color--selected: Background color of selected step, defaults to `--lime-primary-color`.\n* @prop --progress-flow-step-background-color--passed: Background color of passed steps, defaults to the background color the step has when selected.\n* @prop --progress-flow-step-text-color: Text of steps, defaults to `--contrast-1200`.\n* @prop --progress-flow-step-text-color--selected: Text color of selected step, defaults to `--lime-primary-color`.\n* @prop --progress-flow-step-text-color--passed: Text color of passed steps, defaults to the text color the step has when selected.\n* @prop --progress-flow-step-divider-color: Color of the arrow shaped dividers between steps which must be the same as component's background, defaults to `--contrast-100`.\n* @prop --progress-flow-icon-color--inactive: Color of the optional icons used in each step. Only affects inactive steps, defaults to text colors for inactive, active, or passed step.\n*/\n\n:host {\n    --step-height: 2rem;\n    --selected-indicator-right: -0.5rem;\n    --max-text-width: 10rem;\n\n    isolation: isolate;\n    box-sizing: border-box;\n    width: 100%;\n    display: flex;\n    flex-direction: row;\n    align-items: flex-start;\n\n    overflow-x: auto;\n    scrollbar-width: none; // This hides the scrollbars appearing under in Firefox\n    -ms-overflow-style: none; // Same as above for IE 11\n    padding: functions.pxToRem(4); // needed for the focus effect\n\n    &::-webkit-scrollbar {\n        display: none; // This hides the scrollbars appearing under in Chrome\n    }\n}\n\n:host(.is-narrow) {\n    --step-height: 1.5rem;\n    --selected-indicator-right: 0;\n}\n","import {\n    Component,\n    Element,\n    Event,\n    EventEmitter,\n    h,\n    Prop,\n} from '@stencil/core';\nimport { FlowItem } from './progress-flow.types';\nimport { getIconColor } from '../icon/get-icon-props';\n\n/**\n * @exampleComponent limel-example-progress-flow-basic\n * @exampleComponent limel-example-progress-flow-secondary-text\n * @exampleComponent limel-example-progress-flow-disabled-step\n * @exampleComponent limel-example-progress-flow-colors\n * @exampleComponent limel-example-progress-flow-colors-css\n * @exampleComponent limel-example-progress-flow-off-progress-steps\n * @exampleComponent limel-example-progress-flow-narrow\n */\n@Component({\n    tag: 'limel-progress-flow',\n    shadow: true,\n    styleUrl: 'progress-flow.scss',\n})\nexport class ProgressFlow {\n    @Element()\n    public element: HTMLLimelProgressFlowElement;\n\n    /**\n     * What flow items to render\n     */\n    @Prop()\n    public flowItems: FlowItem[] = [];\n\n    /**\n     * Set to `true` to disable the progress flow.\n     * Use `disabled` to indicate that the component can normally be interacted\n     * with, but is currently disabled. This tells the user that if certain\n     * requirements are met, the field may become enabled again.\n     */\n    @Prop()\n    public disabled = false;\n\n    /**\n     * Disables the progress flow when `true`.\n     * This does not visualize the component that much differently.\n     * But since the component does not provide any feedback that users can\n     * interact with the component, it makes it perfect for illustrative and\n     * informative porpuses.\n     */\n    @Prop()\n    public readonly = false;\n\n    /**\n     * Fired when a new value has been selected from the progress flow\n     */\n    @Event()\n    public change: EventEmitter<FlowItem>;\n\n    private selectedItemIndex: number;\n\n    public componentDidRender() {\n        this.scrollToSelectedItem();\n    }\n\n    public componentDidLoad() {\n        this.triggerIconColorWarning();\n    }\n\n    public render() {\n        const regularFlowItems = this.flowItems.filter((item) => {\n            return !item.isOffProgress;\n        });\n        const endPhaseItems = this.flowItems.filter((item) => {\n            return item.isOffProgress;\n        });\n        this.selectedItemIndex = regularFlowItems.findIndex((item) => {\n            return item.selected;\n        });\n\n        return [\n            regularFlowItems.map(this.renderRegularFlowItem),\n            endPhaseItems.map(this.renderEndPhaseItem),\n        ];\n    }\n\n    private renderRegularFlowItem = (\n        item: FlowItem,\n        index: number,\n        array: FlowItem[]\n    ) => {\n        return (\n            <limel-progress-flow-item\n                class={{\n                    'flow-item': true,\n                    first: index === 0,\n                    last: index === array.length - 1,\n                    passed: index < this.selectedItemIndex,\n                    selected: item.selected,\n                }}\n                style={this.getItemStyle(item)}\n                disabled={this.disabled || this.readonly}\n                readonly={this.readonly}\n                item={item}\n                onInteract={this.handleFlowItemClick(item)}\n                data-tracking-value={item.value}\n                currentStep={index === this.selectedItemIndex}\n            />\n        );\n    };\n\n    private renderEndPhaseItem = (\n        item: FlowItem,\n        index: number,\n        array: FlowItem[]\n    ) => {\n        return (\n            <limel-progress-flow-item\n                class={{\n                    'flow-item': true,\n                    'off-progress-item': true,\n                    selected: item.selected,\n                    'first-off-progress-item': index === 0,\n                    'last-off-progress-item': index === array.length - 1,\n                }}\n                style={this.getItemStyle(item)}\n                disabled={this.disabled || this.readonly}\n                readonly={this.readonly}\n                item={item}\n                onInteract={this.handleFlowItemClick(item)}\n                data-tracking-value={item.value}\n            />\n        );\n    };\n\n    private handleFlowItemClick = (flowItem: FlowItem) => () => {\n        if (!flowItem.selected && !flowItem.disabled && !this.disabled) {\n            this.change.emit(flowItem);\n        }\n    };\n\n    private getItemStyle(flowItem: FlowItem) {\n        const color = getIconColor(flowItem.icon, flowItem.iconColor);\n        const style: any = {};\n\n        if (flowItem?.selectedColor) {\n            style['--progress-flow-step-background-color--selected'] =\n                flowItem.selectedColor;\n        }\n\n        if (flowItem?.passedColor) {\n            style['--progress-flow-step-background-color--passed'] =\n                flowItem.passedColor;\n        }\n\n        if (color) {\n            style['--progress-flow-icon-color--inactive'] = color;\n        }\n\n        return style;\n    }\n\n    private scrollToSelectedItem() {\n        const selectedElement = this.getElementForSelectedItem();\n        if (selectedElement) {\n            const selectedItemLeftPosition =\n                selectedElement.offsetLeft - this.element.offsetLeft;\n            const selectedElementLeftPositionCentered =\n                selectedItemLeftPosition - this.element.offsetWidth / 2;\n            const selectedElementCentered =\n                selectedElementLeftPositionCentered +\n                selectedElement.offsetWidth / 2;\n            this.element.scrollTo({\n                behavior: 'smooth',\n                left: selectedElementCentered,\n            });\n        }\n    }\n\n    private getElementForSelectedItem(): HTMLLimelProgressFlowItemElement {\n        return this.element.shadowRoot.querySelector('.flow-item.selected');\n    }\n\n    private triggerIconColorWarning() {\n        for (const flowItem of this.flowItems) {\n            if (flowItem.iconColor) {\n                console.warn(\n                    \"The `iconColor` prop is deprecated now! Use the new `Icon` interface and instead of `iconColor: 'color-name'` write `icon {name: 'icon-name', color: 'color-name'}`.\"\n                );\n            }\n        }\n    }\n}\n","@use '../../../style/mixins';\n@use '../../../style/functions';\n\n$limel-progress-flow-step-content: 2;\n$limel-progress-flow-divider: 1;\n\n.flow-item {\n    --step-background: var(\n        --progress-flow-step-background-color,\n        rgb(var(--contrast-600))\n    );\n    --step-background--selected: var(\n        --progress-flow-step-background-color--selected,\n        var(--lime-primary-color, var(--limel-theme-primary-color))\n    );\n    --step-background--passed: var(\n        --progress-flow-step-background-color--passed,\n        var(--step-background--selected)\n    );\n\n    --step-text: var(\n        --progress-flow-step-text-color,\n        rgb(var(--contrast-1200))\n    );\n    --step-text--selected: var(\n        --progress-flow-step-text-color--selected,\n        var(--lime-on-primary-color, var(--limel-theme-on-primary-color))\n    );\n    --step-text--passed: var(\n        --progress-flow-step-text-color--passed,\n        var(--step-text--selected)\n    );\n\n    --step-divider-color: var(\n        --progress-flow-step-divider-color,\n        rgb(var(--contrast-100))\n    );\n\n    position: relative;\n    width: 100%;\n\n    display: flex;\n    flex-direction: column;\n    align-items: stretch;\n\n    &:not(.off-progress-item, .last) {\n        .divider {\n            &:after {\n                content: '';\n            }\n        }\n    }\n\n    &.off-progress-item {\n        padding-left: functions.pxToRem(8);\n    }\n\n    &.first-off-progress-item {\n        padding-left: functions.pxToRem(16);\n    }\n}\n\n.step {\n    transition:\n        background-color 0.2s ease,\n        box-shadow 0.2s ease;\n\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    position: relative;\n    width: 100%;\n    height: var(--step-height);\n    border: none;\n    font-size: var(--limel-theme-default-font-size);\n\n    &.disabled {\n        cursor: not-allowed;\n\n        &.readonly {\n            opacity: 1;\n            cursor: default;\n        }\n    }\n\n    &:focus {\n        outline: none;\n    }\n\n    &:focus-visible {\n        box-shadow: var(--shadow-depth-8-focused);\n    }\n\n    .flow-item:not(.off-progress-item, .first) & {\n        padding-left: calc(var(--step-height) / 2);\n    }\n\n    .flow-item:not(.selected) & {\n        &:not(.disabled) {\n            cursor: pointer;\n            &:hover {\n                box-shadow: var(--button-shadow-normal);\n            }\n            &:active {\n                box-shadow: var(--button-shadow-pressed);\n            }\n        }\n    }\n\n    .off-progress-item & {\n        border-radius: functions.pxToRem(4);\n        padding: 0 functions.pxToRem(12);\n\n        .icon {\n            margin-left: 0;\n        }\n    }\n    .flow-item.first & {\n        border-top-left-radius: var(--step-height);\n        border-bottom-left-radius: var(--step-height);\n        padding-left: functions.pxToRem(20);\n    }\n    .flow-item.last & {\n        border-top-right-radius: var(--step-height);\n        border-bottom-right-radius: var(--step-height);\n        padding-right: functions.pxToRem(20);\n    }\n}\n\n.divider {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: var(--step-height);\n    height: var(--step-height);\n\n    position: absolute;\n    z-index: $limel-progress-flow-divider;\n    right: calc(var(--step-height) / 2 * -1);\n    overflow: hidden;\n\n    &:after {\n        position: absolute;\n        display: block;\n\n        box-sizing: border-box;\n        transition: background-color 0.2s ease;\n\n        width: 100%;\n        height: 100%;\n        right: calc(var(--step-height) / 5);\n        transform: rotate(45deg);\n        border: {\n            style: solid;\n            width: functions.pxToRem(2) functions.pxToRem(2) 0 0;\n            radius: 0 functions.pxToRem(8) 0 0;\n            color: var(--step-divider-color);\n        }\n    }\n    .flow-item.last & {\n        width: 0;\n    }\n}\n\n.text,\n.secondary-text {\n    @include mixins.truncate-text();\n    max-width: var(--max-text-width);\n    z-index: $limel-progress-flow-step-content;\n}\n\n.secondary-text {\n    font-size: functions.pxToRem(12);\n    margin: auto;\n    padding-left: calc(var(--step-height) / 2);\n}\n\n.icon {\n    margin: 0 functions.pxToRem(8) 0 functions.pxToRem(4);\n    z-index: $limel-progress-flow-step-content;\n}\n\n@import './partial-styles/_selected-indicator';\n@import './partial-styles/_colors';\n","import {\n    Component,\n    Element,\n    Event,\n    EventEmitter,\n    h,\n    Prop,\n} from '@stencil/core';\nimport { FlowItem } from '../progress-flow.types';\nimport { getIconName } from '../../icon/get-icon-props';\n\n/**\n * @private\n */\n@Component({\n    tag: 'limel-progress-flow-item',\n    shadow: false,\n    styleUrl: 'progress-flow-item.scss',\n})\nexport class ProgressFlowItem {\n    @Element()\n    public element: HTMLLimelProgressFlowItemElement;\n\n    /**\n     * The flow item that should be rendered\n     */\n    @Prop()\n    public item: FlowItem = null;\n\n    /**\n     * True if the flow item should be disabled\n     */\n    @Prop()\n    public disabled = false;\n\n    /**\n     * True if the flow item should be readonly\n     */\n    @Prop()\n    public readonly = false;\n\n    /**\n     * True for current step\n     */\n    @Prop()\n    public currentStep: boolean = false;\n\n    /**\n     * Fired when clicking on the flow item\n     */\n    @Event()\n    public interact: EventEmitter<void>;\n\n    public render() {\n        if (!this.item) {\n            return;\n        }\n\n        return [\n            <button\n                tabindex=\"0\"\n                title={this.getToolTipText()}\n                type=\"button\"\n                class={{\n                    step: true,\n                    selected: this.item?.selected,\n                    disabled: this.isDisabled(),\n                    readonly: this.readonly,\n                }}\n                onClick={this.handleClick}\n                disabled={this.isDisabled()}\n                aria-current={this.currentStep ? 'step' : null}\n            >\n                {this.renderIcon()}\n                <span class=\"text\">{this.item.text}</span>\n                {this.renderDivider()}\n                {this.renderLockIcon()}\n            </button>,\n            this.renderSecondaryText(),\n        ];\n    }\n\n    private isDisabled() {\n        return this.item?.disabled || this.readonly || this.disabled;\n    }\n\n    private getToolTipText() {\n        if (!this.item.secondaryText) {\n            return this.item.text;\n        }\n\n        return [this.item.text, this.item.secondaryText].join(' Â· ');\n    }\n\n    private handleClick = () => {\n        this.interact.emit();\n    };\n\n    private renderSecondaryText() {\n        if (!this.item?.secondaryText) {\n            return;\n        }\n\n        return <div class=\"secondary-text\">{this.item.secondaryText}</div>;\n    }\n\n    private renderIcon() {\n        if (!this.item.icon) {\n            return;\n        }\n\n        const name = getIconName(this.item.icon);\n\n        return <limel-icon name={name} size=\"small\" class=\"icon\" />;\n    }\n\n    private renderDivider() {\n        if (this.item.isOffProgress) {\n            return;\n        }\n\n        return <div class=\"divider\" />;\n    }\n\n    private renderLockIcon() {\n        if (!this.isDisabled()) {\n            return;\n        }\n\n        return <limel-icon name=\"lock\" class=\"lock-icon\" />;\n    }\n}\n"],"mappings":"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","ignoreList":[]}