import{r as e,h as i,H as t}from"./index-DBTJNfo7.js";import{S as a}from"./sortable.esm-CMrz6687.js";const s="[data-drag-handle]",r="limel-card.kitten-card",o="has-an-item-which-is-being-dragged",l="is-elevated",h=class{constructor(i){e(this,i),this.kittens=[{id:"kitten-1",image:{src:"https://images.unsplash.com/photo-1621238224334-20222c044b84?q=80&w=600&h=400&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",alt:"Photo by https://unsplash.com/@paracetamol"},subheading:"@paracetamol's kitten"},{id:"kitten-2",image:{src:"https://images.unsplash.com/photo-1558674378-e4334d4fecc2?q=80&w=600&h=400&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",alt:"Photo by https://unsplash.com/@bliss1002"},subheading:"@bliss1002's kitten"},{id:"kitten-3",image:{src:"https://images.unsplash.com/photo-1692962063951-0b5c81887f3d?q=80&w=600&h=400&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",alt:"Photo by https://unsplash.com/@kmly"},subheading:"@kmly's kitten"}],this.handleClick=e=>{console.log("Card clicked",e.currentTarget)},this.setContainer=e=>{this.container!==e&&(this.teardownSortable(),this.container=null!=e?e:void 0,this.setupSortable())},this.handleSortStart=e=>{this.container&&this.container.classList.add(o),e.item instanceof HTMLElement&&this.applyDropElevation(e.item)},this.handleSortEnd=e=>{this.container&&this.container.classList.remove(o);const{oldIndex:i,newIndex:t}=e;e.item instanceof HTMLElement&&(this.dropElevationTarget=e.item),"number"==typeof i&&"number"==typeof t&&i!==t?(this.kittens=this.moveKitten(this.kittens,i,t),this.scheduleDropElevationRemoval()):this.scheduleDropElevationRemoval()}}render(){return i(t,{key:"acef5471cc9109d77452e979df77ba04e5419ec9"},i("h4",{key:"3122c60acfe0e0812482e3ef11c5a880efa0e05f"},"Drag & sort these kittens"),i("p",{key:"907afe8f83c1f84542c821732fc1d235e2729365"},"More cute â†’ Less cute"),i("div",{key:"5a40aad39f504be1a142f4c018f134301daa6b5b",class:"kitten-list",ref:this.setContainer},this.kittens.map((e=>i("limel-card",{class:"kitten-card",key:e.id,clickable:!0,image:e.image,subheading:e.subheading,onClick:this.handleClick,"data-reorder-id":e.id},i("limel-drag-handle",{dragDirection:"horizontal",slot:"component"}))))))}setupSortable(){if(this.container)return this.sortable?(this.sortable.option("handle",s),this.sortable.option("draggable",r),void this.sortable.option("disabled",!1)):void(this.sortable=a.create(this.container,{animation:150,direction:"horizontal",handle:s,draggable:r,chosenClass:"is-being-dragged",onStart:this.handleSortStart,onEnd:this.handleSortEnd}))}teardownSortable(){this.sortable&&(this.sortable.destroy(),this.sortable=void 0),this.clearDropElevationTimer(),this.dropElevationTarget&&(this.dropElevationTarget.classList.remove(l),this.dropElevationTarget=void 0),this.container&&this.container.classList.remove(o)}applyDropElevation(e){this.dropElevationTarget&&this.dropElevationTarget!==e&&this.dropElevationTarget.classList.remove(l),this.clearDropElevationTimer(),e.classList.add(l),this.dropElevationTarget=e}scheduleDropElevationRemoval(){if(!this.dropElevationTarget)return;const e=this.dropElevationTarget;this.clearDropElevationTimer(),this.dropElevationTimeout=globalThis.setTimeout((()=>{e.classList.remove(l),this.dropElevationTarget===e&&(this.dropElevationTarget=void 0),this.dropElevationTimeout=void 0}),1e3)}clearDropElevationTimer(){void 0!==this.dropElevationTimeout&&(clearTimeout(this.dropElevationTimeout),this.dropElevationTimeout=void 0)}moveKitten(e,i,t){if(i===t)return e;const a=[...e],[s]=a.splice(i,1);return s?(a.splice(t,0,s),a):e}disconnectedCallback(){this.teardownSortable()}};h.style='@charset "UTF-8";:host{display:block}div{max-width:100%;display:grid;grid-template-columns:1fr 1fr 1fr;gap:1rem}limel-drag-handle{margin-left:auto}limel-card:has(limel-drag-handle:hover),limel-card:has(limel-drag-handle:focus-within),limel-card.is-elevated,limel-card.sortable-chosen{will-change:transform, box-shadow, border-radius, background-color}limel-card.sortable-ghost{border-radius:0.95rem;box-shadow:var(--shadow-depth-64), 0 0.65rem 0.75rem -0.425rem rgb(var(--color-black), 0.3)}limel-card.sortable-chosen{border-radius:0.95rem;background-color:var(--lime-elevated-surface-background-color)}limel-card.is-elevated[draggable=false]{animation:sit-here 0.8s forwards}@keyframes sit-here{0%{border-radius:0.95rem;background-color:var(--lime-elevated-surface-background-color);box-shadow:var(--shadow-depth-64), 0 0.65rem 0.75rem -0.425rem rgb(var(--color-black), 0.3)}100%{box-shadow:none}}';export{h as limel_example_drag_handle_horizontal}