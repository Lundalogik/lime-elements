{"version":3,"names":["formatBytes","bytes","decimals","Number","isNaN","k","sizes","i","Math","min","length","floor","log","value","pow","safeDecimals","isFinite","trunc","precision","max","rounded","parseFloat","toFixed","emailViewerCss","EmailViewer","this","onEnableRemoteImagesClick","event","_a","stopPropagation","call","enableRemoteImages","allowRemoteImages","undefined","allowRemoteImagesChange","emit","allowRemoteImagesState","onBodyHtmlChange","render","h","Host","class","part","renderHeaders","renderRemoteImageBanner","renderAttachments","renderBody","renderEmailHeader","getTranslation","subject","from","to","cc","date","bodyHtml","applyRemoteImagesPolicy","getAllowRemoteImages","innerHTML","bodyText","fallbackUrl","data","type","name","label","values","getHeaderValues","map","headerValue","index","key","splitEmailAddressList","attachments","attachment","filename","trim","_b","mimeType","renderSizeBadge","size","translate","get","language","shouldShowRemoteImagesBanner","Boolean","containsRemoteImages","icon","color","heading","description","buttonLabel","header","slot","onClick","html","includes","parser","DOMParser","document","parseFromString","images","querySelectorAll","image","remoteSrc","dataset","isAllowedRemoteImageUrl","setAttribute","body","url","trimmed","lower","toLowerCase","startsWith","parts","current","state","inQuotes","escapeNext","angleDepth","append","character","flush","push","consumeEscaped","beginEscape","toggleQuote","adjustAngleDepth","isAddressSeparator","detectExtension","fileName","pathLike","extension","split","pop","extensionsToTypes","pdf","jpg","jpeg","heic","bmp","png","gif","svg","svgz","ep","eps","avi","flv","h264","mov","mp4","mwv","mkv","mp3","wav","wma","ogg","txt","json","xml","eml","doc","docx","odt","dot","dotx","docm","dotm","pot","ppt","pptx","odp","potx","potm","pps","ppsx","ppsm","pptm","ppam","pages","xls","xlsx","xlsm","xlsb","ods","csv","numbers","Fullscreen","constructor","element","requestFullscreen","enter","exitFullscreen","exit","bind","window","toggle","isFullscreen","fullscreenElement","mozFullScreenElement","webkitFullscreenElement","msFullscreenElement","msRequestFullscreen","mozRequestFullScreen","webkitRequestFullscreen","msExitFullscreen","mozCancelFullScreen","webkitExitFullscreen","isSupported","textEncoder","TextEncoder","base64Chars","base64Lookup","Uint8Array","charCodeAt","decodeBase64","base64","bufferLength","ceil","len","p","arrayBuffer","ArrayBuffer","encoded1","encoded2","encoded3","encoded4","getDecoder","charset","decoder","TextDecoder","err","async","blobToArrayBuffer","blob","fr","FileReader","Promise","resolve","reject","onload","e","target","result","onerror","error","readAsArrayBuffer","getHex","c","String","fromCharCode","decodeWord","encoding","str","splitPos","indexOf","substr","toUpperCase","byteStr","replace","buf","encode","encodedBytes","c1","c2","parseInt","dataView","DataView","setUint8","decode","decodeWords","joinString","done","toString","match","left","chLeft","encodedLeftStr","chRight","test","m","text","decodeURIComponentWithCharset","encodedStr","charAt","byte","j","decodeParameterValueContinuations","paramKeys","Map","Object","keys","params","forEach","actualKey","nr","paramVal","has","set","sort","a","b","join","PassThroughDecoder","chunks","update","line","finalize","Blob","Base64Decoder","opts","maxChunkSize","remainder","buffer","allowedBytes","base64Str","VALID_QP_REGEX","QP_SPLIT_REGEX","SOFT_LINE_BREAK_REGEX","PARTIAL_QP_ENDING_REGEX","QPDecoder","decodeQPBytes","decodeChunks","list","firstThree","partialEnding","MimeNode","options","postalMime","root","parentNode","childNodes","depth","maxNestingDepth","Error","headerLines","headerSize","parentMultipartType","defaultContentType","contentType","default","contentTransferEncoding","contentDisposition","headers","contentDecoder","setupContentDecoder","transferEncoding","parsed","processHeaders","boundaries","boundary","node","splice","finalizeChildNodes","content","childNode","stripComments","escaped","inQuote","chr","parseStructuredHeader","response","stage","quote","decodeFlowedText","delSp","reduce","previousValue","currentValue","slice","getTextContent","format","delsp","rawHeaderLines","rawLine","sep","rawKey","normalizedLine","originalKey","contentId","contentDescription","multipart","shift","feed","maxHeadersSize","htmlEntities","decodeHTMLEntities","entity","codePoint","output","escapeHtml","hex","textToHtml","htmlToText","formatTextAddress","address","concat","formatTextAddresses","addresses","processAddress","partCounter","group","groupStart","groupEnd","formatHtmlAddress","formatHtmlAddresses","foldLines","lineLength","afterSpace","pos","formatTextHeader","message","rows","val","dateOptions","year","month","day","hour","minute","second","hour12","dateStr","Intl","DateTimeFormat","Date","bcc","maxKeyLength","r","acc","cur","flatMap","row","sepLen","prefix","repeat","emptyPrefix","foldedLines","maxLineLength","lineMarker","template","formatHtmlHeader","_handleAddress","tokens","isGroup","comment","textWasQuoted","insideQuotes","token","prevToken","noBreak","groupMembers","parsedGroup","addressParser","_depth","member","_regexHandler","parsedSubAddresses","Tokenizer","operatorCurrent","operatorExpecting","operators","tokenize","nextChr","checkChar","MAX_NESTED_GROUP_DEPTH","tokenizer","parsedAddresses","flatten","walkAddressList","base64ArrayBuffer","encodings","byteLength","byteRemainder","mainLength","d","chunk","MAX_NESTING_DEPTH","MAX_HEADERS_SIZE","PostalMime","static","parse","mimeOptions","currentNode","textContent","attachmentEncoding","started","isFinal","boundaryMatches","boundaryEnd","isTerminator","hasValidTrailing","readLine","startPos","readPos","endPos","res","av","textTypes","Set","textMap","forceRfc822Attachments","walk","alternative","related","isInlineMessageRfc822","subParser","subMessage","textEntry","plain","add","subTextEntry","subTextNode","isInlineTextNode","textType","selectorNode","disposition","method","decodedText","mapEntry","alternativeType","rfc822Attachments","stream","chunkLen","reader","getReader","read","chunkPointer","resolveStream","prototype","processLine","processNodeTree","entry","reverse","addressHeader","find","camelKey","o","addressHeaders","filter","dateHeader","toISOString","attachmentDecoder","loadEmail","fetchEmailBuffer","email","parseEmail","parsedEmail","formatAddress","formatAddresses","cidUrlById","extractAttachments","applyBody","fetch","ok","status","statusText","normalizeContentId","isInline","arrayBufferToBase64","dataUrl","withCidsResolved","replaceCidReferences","sanitizeEmailHTML","import","normalized","endsWith","replaceAll","cid","suffix","replacement","btoa","binary","fromCodePoint","globalThis","Buffer","isNonEmptyString","Array","isArray","addr","groupName","displayName","quoteDisplayNameIfNeeded","raw","fileViewerCss","FileViewer","hostRef","createdObjectUrls","renderPdf","renderActionMenu","src","sanitizeUrl","fileUrl","loading","renderImage","renderButtons","alt","renderVideo","controls","renderAudio","renderText","fallbackContent","renderNoFileSupportMessage","renderEmail","_c","_d","_e","_f","_g","_h","renderOffice","getOfficeViewerUrl","encodeURIComponent","isOfficeFileAccessibleViaURL","fileType","officeViewers","officeViewer","role","style","textAlign","margin","renderDownloadButton","renderToggleFullscreenButton","renderOpenInNewTabButton","allowFullscreen","fullscreen","id","handleToggleFullscreen","elementId","openDirection","allowDownload","download","href","allowOpenInNewTab","rel","actions","items","onSelect","emitOnAction","createURL","revokeCreatedObjectUrls","URL","createObjectURL","action","detail","HostElement","disconnectedCallback","limeBranded","renderFileViewer","newUrl","oldUrl","fileViewerFunctions","video","audio","office","fileViewerFunction","revokeObjectURL","u","location","allowed","protocol"],"sources":["./src/util/format-bytes.ts","./src/components/email-viewer/email-viewer.scss?tag=limel-email-viewer&encapsulation=shadow","./src/components/email-viewer/email-viewer.tsx","./src/components/file-viewer/extension-mapping.tsx","./src/components/file-viewer/fullscreen.ts","./node_modules/postal-mime/src/decode-strings.js","./node_modules/postal-mime/src/pass-through-decoder.js","./node_modules/postal-mime/src/base64-decoder.js","./node_modules/postal-mime/src/qp-decoder.js","./node_modules/postal-mime/src/mime-node.js","./node_modules/postal-mime/src/html-entities.js","./node_modules/postal-mime/src/text-format.js","./node_modules/postal-mime/src/address-parser.js","./node_modules/postal-mime/src/base64-encoder.js","./node_modules/postal-mime/src/postal-mime.js","./src/components/file-viewer/email-loader.ts","./src/components/file-viewer/file-viewer.scss?tag=limel-file-viewer&encapsulation=shadow","./src/components/file-viewer/file-viewer.tsx"],"sourcesContent":["/**\n * Format a file size in bytes into a human readable string.\n *\n * Uses base 1024 units (binary prefixes without the \"i\" designation)\n * and applies adaptive precision: one decimal for values < 10 of the\n * chosen unit, otherwise no decimals.\n *\n * Examples:\n *  - 0 => \"0 B\"\n *  - 512 => \"512 B\"\n *  - 1536 => \"1.5 KB\"\n *  - 1048576 => \"1 MB\"\n *  - 5347737600 => \"4.98 GB\" (value < 10 so one decimal)\n *\n * @param bytes - the size in bytes\n * @param decimals - max number of decimals for small unit values (default: 1)\n * @returns formatted size string\n */\nexport function formatBytes(\n    bytes: number | undefined | null,\n    decimals = 1\n): string {\n    if (bytes == null || Number.isNaN(bytes)) {\n        return '';\n    }\n\n    if (bytes < 0) {\n        return '';\n    }\n\n    if (bytes === 0) {\n        return '0 B';\n    }\n\n    const k = 1024;\n    const sizes = ['B', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'];\n    const i = Math.min(\n        sizes.length - 1,\n        Math.floor(Math.log(bytes) / Math.log(k))\n    );\n\n    const value = bytes / Math.pow(k, i);\n    const safeDecimals = Number.isFinite(decimals) ? Math.trunc(decimals) : 0;\n    const precision = value < 10 ? Math.min(100, Math.max(0, safeDecimals)) : 0; // only keep decimals for small values\n    const rounded = Number.parseFloat(value.toFixed(precision));\n    return `${rounded} ${sizes[i]}`;\n}\n","@use '../../style/mixins';\n\n:host(limel-email-viewer) {\n    display: block;\n    width: 100%;\n    height: 100%;\n    box-sizing: border-box;\n}\n\n*,\n*:before,\n*:after {\n    box-sizing: border-box;\n    min-width: 0;\n    min-height: 0;\n}\n\n.email {\n    display: flex;\n    flex-direction: column;\n    width: 100%;\n    height: 100%;\n    padding-bottom: 0.5rem;\n    box-shadow: var(--shadow-depth-8);\n}\n\n.email-headers {\n    flex-shrink: 0;\n    display: flex;\n    flex-direction: column;\n\n    dl {\n        all: unset;\n        display: flex;\n        flex-wrap: wrap;\n        gap: 0 0.5rem;\n        padding: 0.5rem 0.75rem;\n\n        &:nth-child(even) {\n            background-color: rgb(var(--contrast-800), 0.1);\n        }\n\n        dt {\n            all: unset;\n            font-size: var(--limel-theme-small-font-size);\n            opacity: 0.6;\n            min-width: 3rem;\n\n            &:after {\n                content: ':';\n            }\n        }\n        dd {\n            all: unset;\n            font-size: var(--limel-theme-small-font-size);\n            &:not(:last-child) {\n                &:after {\n                    content: ',';\n                    opacity: 0.6;\n                }\n            }\n        }\n\n        &.subject {\n            dd {\n                font-weight: bold;\n            }\n        }\n    }\n}\n\n.attachments {\n    flex-shrink: 0;\n    padding: 0.5rem;\n    border-bottom: 1px dashed rgba(var(--contrast-700));\n\n    span {\n        padding-left: 0.25rem;\n        font-size: var(--limel-theme-small-font-size);\n        opacity: 0.6;\n\n        &:after {\n            content: ':';\n        }\n    }\n\n    ul {\n        all: unset;\n        display: grid;\n        grid-template-columns: repeat(auto-fill, minmax(8rem, 1fr));\n        gap: 0.5rem;\n\n        padding: 0.5rem 0;\n    }\n\n    li {\n        all: unset;\n        position: relative;\n        display: flex;\n        flex-direction: column;\n        gap: 0.25rem;\n\n        font-size: 0.6875rem;\n        line-height: normal;\n\n        padding: 0.5rem 0.5rem 1rem 0.5rem;\n        border-radius: 0.5rem;\n        border: 1px solid rgba(var(--contrast-600));\n        background-color: rgba(var(--contrast-400));\n    }\n\n    .attachment-filename {\n        font-weight: 500;\n    }\n\n    .attachment-mime-type {\n        opacity: 0.7;\n    }\n\n    limel-badge {\n        --badge-max-width: auto;\n        --badge-background-color: rgb(var(--contrast-1000), 0.7);\n        --badge-text-color: rgb(var(--color-white));\n        position: absolute;\n        bottom: 0.125rem;\n        right: 0.125rem;\n        box-shadow: var(--shadow-brighten-edges-outside);\n    }\n}\n\nsection {\n    flex-grow: 1;\n    display: flex;\n    flex-direction: column;\n    border-top: 1px dashed rgba(var(--contrast-700));\n    min-height: 2rem;\n    overflow-y: auto;\n}\n\nlimel-collapsible-section {\n    --closed-header-background-color: var(\n        --lime-elevated-surface-background-color\n    );\n    flex-grow: 1;\n    flex-shrink: 0;\n\n    margin: 0.5rem;\n\n    border-radius: 0.75rem;\n    box-shadow: var(--shadow-depth-8);\n\n    button {\n        all: unset;\n        border-radius: 0.375rem;\n        padding: 0.25rem 0.5rem;\n\n        font-size: var(--limel-theme-small-font-size);\n        margin: 0 0.5rem;\n\n        &.load-images {\n            @include mixins.is-elevated-clickable(\n                $color: var(\n                        --lime-primary-color,\n                        var(--limel-theme-primary-color)\n                    )\n            );\n        }\n    }\n\n    limel-markdown {\n        padding: 0.5rem;\n    }\n}\n\n.body {\n    flex-grow: 1;\n    max-width: 100%;\n    padding: 0.75rem;\n\n    &.plain-text {\n        white-space: pre-wrap;\n        overflow-wrap: anywhere;\n        margin: 0;\n        font-family: inherit;\n    }\n\n    img {\n        max-width: 100% !important;\n    }\n}\n","import {\n    Component,\n    Event,\n    EventEmitter,\n    Prop,\n    State,\n    Watch,\n    h,\n    Host,\n} from '@stencil/core';\nimport translate from '../../global/translations';\nimport { Languages } from '../date-picker/date.types';\nimport { EmailAttachment } from '../../util/email';\nimport { formatBytes } from '../../util/format-bytes';\n\n/**\n * This is a private component, used to render `.eml` files inside\n * `limel-file-viewer`.\n *\n * :::note\n * If `bodyHtml` is provided, it will be rendered using `innerHTML`.\n * :::\n *\n * @exampleComponent limel-example-email-viewer-plain-text\n * @exampleComponent limel-example-email-viewer-inline-image\n *\n * @private\n */\n@Component({\n    tag: 'limel-email-viewer',\n    styleUrl: 'email-viewer.scss',\n    shadow: true,\n})\nexport class EmailViewer {\n    /**\n     * RFC 5322 Date header.\n     */\n    @Prop({ reflect: true })\n    public date?: string;\n\n    /**\n     * From header.\n     */\n    @Prop({ reflect: true })\n    public from?: string;\n\n    /**\n     * To header.\n     *\n     * If multiple recipients are provided, they should be separated by commas.\n     * When rendering, this component splits the list on commas that are\n     * outside quoted strings and outside angle-bracketed address parts.\n     *\n     * If a display name contains a comma, it should be quoted, e.g.\n     * `\"Doe, Jane\" <jane.doe@example.com>`.\n     */\n    @Prop({ reflect: true })\n    public to?: string;\n\n    /**\n     * Cc header.\n     *\n     * Behaves like `to`: multiple recipients can be provided as a comma-separated\n     * list, and the list is split on commas outside quotes and outside `<...>`.\n     */\n    @Prop({ reflect: true })\n    public cc?: string;\n\n    /**\n     * Subject header.\n     */\n    @Prop({ reflect: true })\n    public subject?: string;\n\n    /**\n     * HTML email body.\n     */\n    @Prop()\n    public bodyHtml?: string;\n\n    /**\n     * Plain text email body.\n     */\n    @Prop()\n    public bodyText?: string;\n\n    /**\n     * List of non-inline attachments.\n     */\n    @Prop()\n    public attachments?: EmailAttachment[];\n\n    /**\n     * Optional URL to render as a final fallback using an `<object type=\"text/plain\">`.\n     */\n    @Prop({ reflect: true })\n    public fallbackUrl?: string;\n\n    /**\n     * Defines the localization for translations.\n     */\n    @Prop({ reflect: true })\n    public language: Languages = 'en';\n\n    /**\n     * Controls whether remote images (http/https) are loaded.\n     *\n     * If omitted, the component treats this as a per-email setting.\n     * Consumers that want to remember the choice (per session/global) can\n     * provide this prop and listen for `allowRemoteImagesChange`.\n     */\n    @Prop()\n    public allowRemoteImages?: boolean;\n\n    @State()\n    private allowRemoteImagesState = false;\n\n    /**\n     * Emitted when the user requests remote images to be loaded.\n     */\n    @Event()\n    public allowRemoteImagesChange: EventEmitter<boolean>;\n\n    @Watch('bodyHtml')\n    public onBodyHtmlChange() {\n        if (this.allowRemoteImages === undefined) {\n            this.allowRemoteImagesState = false;\n        }\n    }\n\n    public render() {\n        return (\n            <Host>\n                <div class=\"email\" part=\"email\">\n                    {this.renderHeaders()}\n                    {this.renderRemoteImageBanner()}\n                    <section>\n                        {this.renderAttachments()}\n                        {this.renderBody()}\n                    </section>\n                </div>\n            </Host>\n        );\n    }\n\n    private renderHeaders() {\n        return (\n            <div class=\"email-headers\" part=\"email-headers\">\n                {this.renderEmailHeader(\n                    'subject',\n                    this.getTranslation('file-viewer.email.subject'),\n                    this.subject\n                )}\n                {this.renderEmailHeader(\n                    'from',\n                    this.getTranslation('file-viewer.email.from'),\n                    this.from\n                )}\n                {this.renderEmailHeader(\n                    'to',\n                    this.getTranslation('file-viewer.email.to'),\n                    this.to\n                )}\n                {this.renderEmailHeader(\n                    'cc',\n                    this.getTranslation('file-viewer.email.cc'),\n                    this.cc\n                )}\n                {this.renderEmailHeader(\n                    'date',\n                    this.getTranslation('file-viewer.email.date'),\n                    this.date\n                )}\n            </div>\n        );\n    }\n\n    private renderBody() {\n        if (this.bodyHtml) {\n            const bodyHtml = applyRemoteImagesPolicy(\n                this.bodyHtml,\n                this.getAllowRemoteImages()\n            );\n\n            return <div class=\"body\" innerHTML={bodyHtml} part=\"email-body\" />;\n        }\n\n        if (this.bodyText) {\n            return (\n                <pre class=\"body plain-text\" part=\"email-body\">\n                    {this.bodyText}\n                </pre>\n            );\n        }\n\n        if (this.fallbackUrl) {\n            return (\n                <object data={this.fallbackUrl} type=\"text/plain\">\n                    <slot name=\"fallback\" />\n                </object>\n            );\n        }\n\n        return <slot name=\"fallback\" />;\n    }\n\n    private renderEmailHeader(\n        type: 'subject' | 'from' | 'to' | 'cc' | 'date',\n        label: string,\n        value?: string\n    ) {\n        if (!value) {\n            return;\n        }\n\n        const values = this.getHeaderValues(type, value);\n\n        return (\n            <dl class={`headers ${type}`}>\n                <dt>{label}</dt>\n                {values.map((headerValue, index) => (\n                    <dd key={`${type}-${index}`}>{headerValue}</dd>\n                ))}\n            </dl>\n        );\n    }\n\n    private getHeaderValues(\n        type: 'subject' | 'from' | 'to' | 'cc' | 'date',\n        value: string\n    ): string[] {\n        if (type === 'to' || type === 'cc') {\n            return splitEmailAddressList(value);\n        }\n\n        return [value];\n    }\n\n    private renderAttachments() {\n        if (!this.attachments || this.attachments.length === 0) {\n            return;\n        }\n\n        const label = this.getTranslation('file-viewer.email.attachments');\n\n        return (\n            <div class=\"attachments\">\n                <span>{label}</span>\n                <ul>\n                    {this.attachments.map((attachment, index) => (\n                        <li key={`attachment-${index}`}>\n                            <span class=\"attachment-filename\">\n                                {attachment.filename?.trim() ||\n                                    this.getTranslation(\n                                        'file-viewer.email.attachment.unnamed'\n                                    )}\n                            </span>\n                            <span class=\"attachment-mime-type\">\n                                {attachment.mimeType?.trim()}\n                            </span>\n                            {this.renderSizeBadge(attachment.size)}\n                        </li>\n                    ))}\n                </ul>\n            </div>\n        );\n    }\n\n    private renderSizeBadge(size: number) {\n        if (typeof size !== 'number') {\n            return;\n        }\n        return (\n            <limel-badge class=\"attachment-size\" label={formatBytes(size)} />\n        );\n    }\n\n    private getTranslation(key: string) {\n        return translate.get(key, this.language);\n    }\n\n    private shouldShowRemoteImagesBanner(): boolean {\n        return Boolean(\n            this.bodyHtml &&\n                containsRemoteImages(this.bodyHtml) &&\n                !this.getAllowRemoteImages()\n        );\n    }\n\n    private renderRemoteImageBanner() {\n        if (!this.shouldShowRemoteImagesBanner()) {\n            return;\n        }\n        const icon = {\n            name: 'warning_shield',\n            color: 'rgb(var(--color-orange-default))',\n        };\n        const heading = this.getTranslation(\n            'file-viewer.email.remote-images.warning'\n        );\n        const description = this.getTranslation(\n            'file-viewer.email.remote-images.warning.description'\n        );\n        const buttonLabel = this.getTranslation(\n            'file-viewer.email.remote-images.load'\n        );\n\n        return (\n            <limel-collapsible-section\n                header={heading}\n                icon={icon}\n                language={this.language}\n            >\n                <button\n                    class=\"load-images\"\n                    slot=\"header\"\n                    onClick={this.onEnableRemoteImagesClick}\n                >\n                    {buttonLabel}\n                </button>\n                <limel-markdown value={description} />\n            </limel-collapsible-section>\n        );\n    }\n\n    private onEnableRemoteImagesClick = (event?: Event) => {\n        event?.stopPropagation?.();\n        this.enableRemoteImages();\n    };\n\n    private enableRemoteImages = () => {\n        if (this.allowRemoteImages !== undefined) {\n            this.allowRemoteImagesChange.emit(true);\n            return;\n        }\n\n        this.allowRemoteImagesState = true;\n    };\n\n    private getAllowRemoteImages(): boolean {\n        return this.allowRemoteImages ?? this.allowRemoteImagesState;\n    }\n}\n\nfunction containsRemoteImages(html: string): boolean {\n    return html.includes('data-remote-src');\n}\n\nfunction applyRemoteImagesPolicy(html: string, allowRemoteImages: boolean) {\n    if (!allowRemoteImages) {\n        return html;\n    }\n\n    const parser = new DOMParser();\n    const document = parser.parseFromString(html, 'text/html');\n\n    const images = document.querySelectorAll(\n        'img[data-remote-src]'\n    ) as NodeListOf<HTMLImageElement>;\n\n    for (const image of images) {\n        const remoteSrc = image.dataset.remoteSrc;\n        if (!remoteSrc || !isAllowedRemoteImageUrl(remoteSrc)) {\n            delete image.dataset.remoteSrc;\n            continue;\n        }\n\n        image.setAttribute('src', remoteSrc);\n        delete image.dataset.remoteSrc;\n    }\n\n    return document.body.innerHTML;\n}\n\nfunction isAllowedRemoteImageUrl(url: string): boolean {\n    const trimmed = url.trim();\n    const lower = trimmed.toLowerCase();\n    return lower.startsWith('https://') || lower.startsWith('http://');\n}\n\ninterface AddressListSplitState {\n    inQuotes: boolean;\n    escapeNext: boolean;\n    angleDepth: number;\n}\n\n/**\n * Splits a comma-separated email address list (e.g. `To:` / `Cc:`) into individual\n * recipient strings.\n *\n * In RFC 5322, address lists are comma-separated. However, commas can also appear\n * inside quoted display names (quoted-string) and must then be ignored as separators.\n * This splitter only treats a comma as a separator when it is outside quoted strings\n * and outside angle-bracketed address parts (`<...>`).\n *\n * Notes:\n * - If a display name contains a comma, it should be quoted or encoded to be\n *   unambiguous, e.g. `\"Doe, Jane\" <jane.doe@example.com>` or\n *   `=?UTF-8?Q?Doe,_Jane?= <jane.doe@example.com>`.\n * - Real-world `.eml` files are usually RFC-ish but not always perfectly compliant.\n *   Malformed input with unquoted commas in display names may be split incorrectly.\n *\n * @param value - A comma-separated list of recipients.\n * @returns An array of trimmed recipient strings.\n *\n * @example\n * splitEmailAddressList('\"Doe, Jane\" <jane@example.com>, Team <team@example.com>');\n * // => ['\"Doe, Jane\" <jane@example.com>', 'Team <team@example.com>']\n */\nfunction splitEmailAddressList(value: string): string[] {\n    const parts: string[] = [];\n    let current = '';\n    const state: AddressListSplitState = {\n        inQuotes: false,\n        escapeNext: false,\n        angleDepth: 0,\n    };\n\n    const append = (character: string) => {\n        current += character;\n    };\n\n    const flush = () => {\n        const trimmed = current.trim();\n        if (trimmed) {\n            parts.push(trimmed);\n        }\n        current = '';\n    };\n\n    for (const character of value) {\n        if (consumeEscaped(character, state, append)) {\n            continue;\n        }\n\n        if (beginEscape(character, state, append)) {\n            continue;\n        }\n\n        if (toggleQuote(character, state, append)) {\n            continue;\n        }\n\n        if (adjustAngleDepth(character, state, append)) {\n            continue;\n        }\n\n        if (isAddressSeparator(character, state)) {\n            flush();\n            continue;\n        }\n\n        append(character);\n    }\n\n    flush();\n    return parts;\n}\n\nfunction consumeEscaped(\n    character: string,\n    state: AddressListSplitState,\n    append: (character: string) => void\n): boolean {\n    if (!state.escapeNext) {\n        return false;\n    }\n\n    append(character);\n    state.escapeNext = false;\n    return true;\n}\n\nfunction beginEscape(\n    character: string,\n    state: AddressListSplitState,\n    append: (character: string) => void\n): boolean {\n    if (!state.inQuotes || character !== '\\\\') {\n        return false;\n    }\n\n    append(character);\n    state.escapeNext = true;\n    return true;\n}\n\nfunction toggleQuote(\n    character: string,\n    state: AddressListSplitState,\n    append: (character: string) => void\n): boolean {\n    if (character !== '\"' || state.angleDepth !== 0) {\n        return false;\n    }\n\n    append(character);\n    state.inQuotes = !state.inQuotes;\n    return true;\n}\n\nfunction adjustAngleDepth(\n    character: string,\n    state: AddressListSplitState,\n    append: (character: string) => void\n): boolean {\n    if (state.inQuotes) {\n        return false;\n    }\n\n    if (character === '<') {\n        append(character);\n        state.angleDepth += 1;\n        return true;\n    }\n\n    if (character !== '>' || state.angleDepth === 0) {\n        return false;\n    }\n\n    append(character);\n    state.angleDepth -= 1;\n    return true;\n}\n\nfunction isAddressSeparator(\n    character: string,\n    state: AddressListSplitState\n): boolean {\n    return character === ',' && !state.inQuotes && state.angleDepth === 0;\n}\n","/**\n *\n * @param fileName\n * @param url\n */\nexport function detectExtension(fileName, url): any {\n    const pathLike = fileName || url;\n    if (!pathLike) {\n        return 'unknown';\n    }\n\n    const extension = pathLike.split('.').pop().toLowerCase();\n    const extensionsToTypes = {\n        pdf: 'pdf',\n        jpg: 'image',\n        jpeg: 'image',\n        heic: 'image',\n        bmp: 'image',\n        png: 'image',\n        gif: 'image',\n        svg: 'image',\n        svgz: 'image',\n        ep: 'image',\n        eps: 'image',\n        avi: 'video',\n        flv: 'video',\n        h264: 'video',\n        mov: 'video',\n        mp4: 'video',\n        mwv: 'video',\n        mkv: 'video',\n        mp3: 'audio',\n        wav: 'audio',\n        wma: 'audio',\n        ogg: 'audio',\n        txt: 'text',\n        json: 'text',\n        html: 'text',\n        xml: 'text',\n        eml: 'email',\n        // Word\n        doc: 'office',\n        docx: 'office',\n        odt: 'office',\n        dot: 'office',\n        dotx: 'office',\n        docm: 'office', // not supported\n        dotm: 'office', // not yet tested\n        // Presentation\n        pot: 'office', // not tested\n        ppt: 'office',\n        pptx: 'office',\n        odp: 'office',\n        potx: 'office', // not supported\n        potm: 'office', // not supported\n        pps: 'office',\n        ppsx: 'office',\n        ppsm: 'office', // not supported\n        pptm: 'office', // not supported\n        ppam: 'office', // not tested\n        pages: 'office', // not supported (Apple)\n        // Spreadsheet\n        xls: 'office',\n        xlsx: 'office',\n        xlsm: 'office',\n        xlsb: 'office',\n        ods: 'office',\n        csv: 'office', // not supported\n        numbers: 'office', // not supported (Apple)\n    };\n\n    return extensionsToTypes[extension] || 'unknown';\n}\n","export class Fullscreen {\n    private enter: () => void;\n    private exit: () => void;\n\n    constructor(element: any) {\n        this.enter =\n            element.requestFullscreen ||\n            element.msRequestFullscreen ||\n            element.mozRequestFullScreen ||\n            element.webkitRequestFullscreen;\n        this.enter = this.enter.bind(element);\n        const doc: any = window.document;\n        this.exit =\n            doc.exitFullscreen ||\n            doc.msExitFullscreen ||\n            doc.mozCancelFullScreen ||\n            doc.webkitExitFullscreen;\n    }\n\n    public requestFullscreen = () => {\n        if (this.enter) {\n            this.enter();\n        }\n    };\n\n    public exitFullscreen = () => {\n        if (this.exit) {\n            this.exit.bind(window.document)();\n        }\n    };\n\n    public toggle = () => {\n        const doc: any = window.document;\n        const isFullscreen =\n            doc.fullscreenElement ||\n            doc.mozFullScreenElement ||\n            doc.webkitFullscreenElement ||\n            doc.msFullscreenElement;\n\n        if (isFullscreen) {\n            this.exitFullscreen();\n        } else {\n            this.requestFullscreen();\n        }\n    };\n\n    public isSupported(): boolean {\n        return !!this.requestFullscreen;\n    }\n}\n","export const textEncoder = new TextEncoder();\n\nconst base64Chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n\n// Use a lookup table to find the index.\nconst base64Lookup = new Uint8Array(256);\nfor (var i = 0; i < base64Chars.length; i++) {\n    base64Lookup[base64Chars.charCodeAt(i)] = i;\n}\n\nexport function decodeBase64(base64) {\n    let bufferLength = Math.ceil(base64.length / 4) * 3;\n    const len = base64.length;\n\n    let p = 0;\n\n    if (base64.length % 4 === 3) {\n        bufferLength--;\n    } else if (base64.length % 4 === 2) {\n        bufferLength -= 2;\n    } else if (base64[base64.length - 1] === '=') {\n        bufferLength--;\n        if (base64[base64.length - 2] === '=') {\n            bufferLength--;\n        }\n    }\n\n    const arrayBuffer = new ArrayBuffer(bufferLength);\n    const bytes = new Uint8Array(arrayBuffer);\n\n    for (let i = 0; i < len; i += 4) {\n        let encoded1 = base64Lookup[base64.charCodeAt(i)];\n        let encoded2 = base64Lookup[base64.charCodeAt(i + 1)];\n        let encoded3 = base64Lookup[base64.charCodeAt(i + 2)];\n        let encoded4 = base64Lookup[base64.charCodeAt(i + 3)];\n\n        bytes[p++] = (encoded1 << 2) | (encoded2 >> 4);\n        bytes[p++] = ((encoded2 & 15) << 4) | (encoded3 >> 2);\n        bytes[p++] = ((encoded3 & 3) << 6) | (encoded4 & 63);\n    }\n\n    return arrayBuffer;\n}\n\nexport function getDecoder(charset) {\n    charset = charset || 'utf8';\n    let decoder;\n\n    try {\n        decoder = new TextDecoder(charset);\n    } catch (err) {\n        decoder = new TextDecoder('windows-1252');\n    }\n\n    return decoder;\n}\n\n/**\n * Converts a Blob into an ArrayBuffer\n * @param {Blob} blob Blob to convert\n * @returns {ArrayBuffer} Converted value\n */\nexport async function blobToArrayBuffer(blob) {\n    if ('arrayBuffer' in blob) {\n        return await blob.arrayBuffer();\n    }\n\n    const fr = new FileReader();\n\n    return new Promise((resolve, reject) => {\n        fr.onload = function (e) {\n            resolve(e.target.result);\n        };\n\n        fr.onerror = function (e) {\n            reject(fr.error);\n        };\n\n        fr.readAsArrayBuffer(blob);\n    });\n}\n\nexport function getHex(c) {\n    if (\n        (c >= 0x30 /* 0 */ && c <= 0x39) /* 9 */ ||\n        (c >= 0x61 /* a */ && c <= 0x66) /* f */ ||\n        (c >= 0x41 /* A */ && c <= 0x46) /* F */\n    ) {\n        return String.fromCharCode(c);\n    }\n    return false;\n}\n\n/**\n * Decode a complete mime word encoded string\n *\n * @param {String} str Mime word encoded string\n * @return {String} Decoded unicode string\n */\nexport function decodeWord(charset, encoding, str) {\n    // RFC2231 added language tag to the encoding\n    // see: https://tools.ietf.org/html/rfc2231#section-5\n    // this implementation silently ignores this tag\n    let splitPos = charset.indexOf('*');\n    if (splitPos >= 0) {\n        charset = charset.substr(0, splitPos);\n    }\n\n    encoding = encoding.toUpperCase();\n\n    let byteStr;\n\n    if (encoding === 'Q') {\n        str = str\n            // remove spaces between = and hex char, this might indicate invalidly applied line splitting\n            .replace(/=\\s+([0-9a-fA-F])/g, '=$1')\n            // convert all underscores to spaces\n            .replace(/[_\\s]/g, ' ');\n\n        let buf = textEncoder.encode(str);\n        let encodedBytes = [];\n        for (let i = 0, len = buf.length; i < len; i++) {\n            let c = buf[i];\n            if (i <= len - 2 && c === 0x3d /* = */) {\n                let c1 = getHex(buf[i + 1]);\n                let c2 = getHex(buf[i + 2]);\n                if (c1 && c2) {\n                    let c = parseInt(c1 + c2, 16);\n                    encodedBytes.push(c);\n                    i += 2;\n                    continue;\n                }\n            }\n            encodedBytes.push(c);\n        }\n        byteStr = new ArrayBuffer(encodedBytes.length);\n        let dataView = new DataView(byteStr);\n        for (let i = 0, len = encodedBytes.length; i < len; i++) {\n            dataView.setUint8(i, encodedBytes[i]);\n        }\n    } else if (encoding === 'B') {\n        byteStr = decodeBase64(str.replace(/[^a-zA-Z0-9\\+\\/=]+/g, ''));\n    } else {\n        // keep as is, convert ArrayBuffer to unicode string, assume utf8\n        byteStr = textEncoder.encode(str);\n    }\n\n    return getDecoder(charset).decode(byteStr);\n}\n\nexport function decodeWords(str) {\n    let joinString = true;\n    let done = false;\n\n    while (!done) {\n        let result = (str || '')\n            .toString()\n            // find base64 words that can be joined\n            .replace(\n                /(=\\?([^?]+)\\?[Bb]\\?([^?]*)\\?=)\\s*(?==\\?([^?]+)\\?[Bb]\\?[^?]*\\?=)/g,\n                (match, left, chLeft, encodedLeftStr, chRight) => {\n                    if (!joinString) {\n                        return match;\n                    }\n                    // only mark b64 chunks to be joined if charsets match and left side does not end with =\n                    if (chLeft === chRight && encodedLeftStr.length % 4 === 0 && !/=$/.test(encodedLeftStr)) {\n                        // set a joiner marker\n                        return left + '__\\x00JOIN\\x00__';\n                    }\n\n                    return match;\n                }\n            )\n            // find QP words that can be joined\n            .replace(\n                /(=\\?([^?]+)\\?[Qq]\\?[^?]*\\?=)\\s*(?==\\?([^?]+)\\?[Qq]\\?[^?]*\\?=)/g,\n                (match, left, chLeft, chRight) => {\n                    if (!joinString) {\n                        return match;\n                    }\n                    // only mark QP chunks to be joined if charsets match\n                    if (chLeft === chRight) {\n                        // set a joiner marker\n                        return left + '__\\x00JOIN\\x00__';\n                    }\n                    return match;\n                }\n            )\n            // join base64 encoded words\n            .replace(/(\\?=)?__\\x00JOIN\\x00__(=\\?([^?]+)\\?[QqBb]\\?)?/g, '')\n            // remove spaces between mime encoded words\n            .replace(/(=\\?[^?]+\\?[QqBb]\\?[^?]*\\?=)\\s+(?==\\?[^?]+\\?[QqBb]\\?[^?]*\\?=)/g, '$1')\n            // decode words\n            .replace(/=\\?([\\w_\\-*]+)\\?([QqBb])\\?([^?]*)\\?=/g, (m, charset, encoding, text) =>\n                decodeWord(charset, encoding, text)\n            );\n\n        if (joinString && result.indexOf('\\ufffd') >= 0) {\n            // text contains \\ufffd (EF BF BD), so unicode conversion failed, retry without joining strings\n            joinString = false;\n        } else {\n            return result;\n        }\n    }\n}\n\nexport function decodeURIComponentWithCharset(encodedStr, charset) {\n    charset = charset || 'utf-8';\n\n    let encodedBytes = [];\n    for (let i = 0; i < encodedStr.length; i++) {\n        let c = encodedStr.charAt(i);\n        if (c === '%' && /^[a-f0-9]{2}/i.test(encodedStr.substr(i + 1, 2))) {\n            // encoded sequence\n            let byte = encodedStr.substr(i + 1, 2);\n            i += 2;\n            encodedBytes.push(parseInt(byte, 16));\n        } else if (c.charCodeAt(0) > 126) {\n            c = textEncoder.encode(c);\n            for (let j = 0; j < c.length; j++) {\n                encodedBytes.push(c[j]);\n            }\n        } else {\n            // \"normal\" char\n            encodedBytes.push(c.charCodeAt(0));\n        }\n    }\n\n    const byteStr = new ArrayBuffer(encodedBytes.length);\n    const dataView = new DataView(byteStr);\n    for (let i = 0, len = encodedBytes.length; i < len; i++) {\n        dataView.setUint8(i, encodedBytes[i]);\n    }\n\n    return getDecoder(charset).decode(byteStr);\n}\n\nexport function decodeParameterValueContinuations(header) {\n    // handle parameter value continuations\n    // https://tools.ietf.org/html/rfc2231#section-3\n\n    // preprocess values\n    let paramKeys = new Map();\n\n    Object.keys(header.params).forEach(key => {\n        let match = key.match(/\\*((\\d+)\\*?)?$/);\n        if (!match) {\n            // nothing to do here, does not seem like a continuation param\n            return;\n        }\n\n        let actualKey = key.substr(0, match.index).toLowerCase();\n        let nr = Number(match[2]) || 0;\n\n        let paramVal;\n        if (!paramKeys.has(actualKey)) {\n            paramVal = {\n                charset: false,\n                values: []\n            };\n            paramKeys.set(actualKey, paramVal);\n        } else {\n            paramVal = paramKeys.get(actualKey);\n        }\n\n        let value = header.params[key];\n        if (nr === 0 && match[0].charAt(match[0].length - 1) === '*' && (match = value.match(/^([^']*)'[^']*'(.*)$/))) {\n            paramVal.charset = match[1] || 'utf-8';\n            value = match[2];\n        }\n\n        paramVal.values.push({ nr, value });\n\n        // remove the old reference\n        delete header.params[key];\n    });\n\n    paramKeys.forEach((paramVal, key) => {\n        header.params[key] = decodeURIComponentWithCharset(\n            paramVal.values\n                .sort((a, b) => a.nr - b.nr)\n                .map(a => a.value)\n                .join(''),\n            paramVal.charset\n        );\n    });\n}\n","import { blobToArrayBuffer } from './decode-strings.js';\n\nexport default class PassThroughDecoder {\n    constructor() {\n        this.chunks = [];\n    }\n\n    update(line) {\n        this.chunks.push(line);\n        this.chunks.push('\\n');\n    }\n\n    finalize() {\n        // convert an array of arraybuffers into a blob and then back into a single arraybuffer\n        return blobToArrayBuffer(new Blob(this.chunks, { type: 'application/octet-stream' }));\n    }\n}\n","import { decodeBase64, blobToArrayBuffer } from './decode-strings.js';\n\nexport default class Base64Decoder {\n    constructor(opts) {\n        opts = opts || {};\n\n        this.decoder = opts.decoder || new TextDecoder();\n\n        this.maxChunkSize = 100 * 1024;\n\n        this.chunks = [];\n\n        this.remainder = '';\n    }\n\n    update(buffer) {\n        let str = this.decoder.decode(buffer);\n\n        if (/[^a-zA-Z0-9+\\/]/.test(str)) {\n            str = str.replace(/[^a-zA-Z0-9+\\/]+/g, '');\n        }\n\n        this.remainder += str;\n\n        if (this.remainder.length >= this.maxChunkSize) {\n            let allowedBytes = Math.floor(this.remainder.length / 4) * 4;\n            let base64Str;\n\n            if (allowedBytes === this.remainder.length) {\n                base64Str = this.remainder;\n                this.remainder = '';\n            } else {\n                base64Str = this.remainder.substr(0, allowedBytes);\n                this.remainder = this.remainder.substr(allowedBytes);\n            }\n\n            if (base64Str.length) {\n                this.chunks.push(decodeBase64(base64Str));\n            }\n        }\n    }\n\n    finalize() {\n        if (this.remainder && !/^=+$/.test(this.remainder)) {\n            this.chunks.push(decodeBase64(this.remainder));\n        }\n\n        return blobToArrayBuffer(new Blob(this.chunks, { type: 'application/octet-stream' }));\n    }\n}\n","import { blobToArrayBuffer } from './decode-strings.js';\n\n// Regex patterns compiled once for performance\nconst VALID_QP_REGEX = /^=[a-f0-9]{2}$/i;\nconst QP_SPLIT_REGEX = /(?==[a-f0-9]{2})/i;\nconst SOFT_LINE_BREAK_REGEX = /=\\r?\\n/g;\nconst PARTIAL_QP_ENDING_REGEX = /=[a-fA-F0-9]?$/;\n\nexport default class QPDecoder {\n    constructor(opts) {\n        opts = opts || {};\n\n        this.decoder = opts.decoder || new TextDecoder();\n\n        this.maxChunkSize = 100 * 1024;\n\n        this.remainder = '';\n\n        this.chunks = [];\n    }\n\n    decodeQPBytes(encodedBytes) {\n        let buf = new ArrayBuffer(encodedBytes.length);\n        let dataView = new DataView(buf);\n        for (let i = 0, len = encodedBytes.length; i < len; i++) {\n            dataView.setUint8(i, parseInt(encodedBytes[i], 16));\n        }\n        return buf;\n    }\n\n    decodeChunks(str) {\n        // unwrap newlines\n        str = str.replace(SOFT_LINE_BREAK_REGEX, '');\n\n        let list = str.split(QP_SPLIT_REGEX);\n        let encodedBytes = [];\n        for (let part of list) {\n            if (part.charAt(0) !== '=') {\n                if (encodedBytes.length) {\n                    this.chunks.push(this.decodeQPBytes(encodedBytes));\n                    encodedBytes = [];\n                }\n                this.chunks.push(part);\n                continue;\n            }\n\n            if (part.length === 3) {\n                // Validate that this is actually a valid QP sequence\n                if (VALID_QP_REGEX.test(part)) {\n                    encodedBytes.push(part.substr(1));\n                } else {\n                    // Not a valid QP sequence, treat as literal text\n                    if (encodedBytes.length) {\n                        this.chunks.push(this.decodeQPBytes(encodedBytes));\n                        encodedBytes = [];\n                    }\n                    this.chunks.push(part);\n                }\n                continue;\n            }\n\n            if (part.length > 3) {\n                // First 3 chars should be a valid QP sequence\n                const firstThree = part.substr(0, 3);\n                if (VALID_QP_REGEX.test(firstThree)) {\n                    encodedBytes.push(part.substr(1, 2));\n                    this.chunks.push(this.decodeQPBytes(encodedBytes));\n                    encodedBytes = [];\n\n                    part = part.substr(3);\n                    this.chunks.push(part);\n                } else {\n                    // Not a valid QP sequence, treat entire part as literal\n                    if (encodedBytes.length) {\n                        this.chunks.push(this.decodeQPBytes(encodedBytes));\n                        encodedBytes = [];\n                    }\n                    this.chunks.push(part);\n                }\n            }\n        }\n        if (encodedBytes.length) {\n            this.chunks.push(this.decodeQPBytes(encodedBytes));\n            encodedBytes = [];\n        }\n    }\n\n    update(buffer) {\n        // expect full lines, so add line terminator as well\n        let str = this.decoder.decode(buffer) + '\\n';\n\n        str = this.remainder + str;\n\n        if (str.length < this.maxChunkSize) {\n            this.remainder = str;\n            return;\n        }\n\n        this.remainder = '';\n\n        let partialEnding = str.match(PARTIAL_QP_ENDING_REGEX);\n        if (partialEnding) {\n            if (partialEnding.index === 0) {\n                this.remainder = str;\n                return;\n            }\n            this.remainder = str.substr(partialEnding.index);\n            str = str.substr(0, partialEnding.index);\n        }\n\n        this.decodeChunks(str);\n    }\n\n    finalize() {\n        if (this.remainder.length) {\n            this.decodeChunks(this.remainder);\n            this.remainder = '';\n        }\n\n        // convert an array of arraybuffers into a blob and then back into a single arraybuffer\n        return blobToArrayBuffer(new Blob(this.chunks, { type: 'application/octet-stream' }));\n    }\n}\n","import { getDecoder, decodeParameterValueContinuations, textEncoder } from './decode-strings.js';\nimport PassThroughDecoder from './pass-through-decoder.js';\nimport Base64Decoder from './base64-decoder.js';\nimport QPDecoder from './qp-decoder.js';\n\nexport default class MimeNode {\n    constructor(options) {\n        this.options = options || {};\n\n        this.postalMime = this.options.postalMime;\n\n        this.root = !!this.options.parentNode;\n        this.childNodes = [];\n\n        if (this.options.parentNode) {\n            this.parentNode = this.options.parentNode;\n\n            this.depth = this.parentNode.depth + 1;\n            if (this.depth > this.options.maxNestingDepth) {\n                throw new Error(`Maximum MIME nesting depth of ${this.options.maxNestingDepth} levels exceeded`);\n            }\n\n            this.options.parentNode.childNodes.push(this);\n        } else {\n            this.depth = 0;\n        }\n\n        this.state = 'header';\n\n        this.headerLines = [];\n        this.headerSize = 0;\n\n        // RFC 2046 Section 5.1.5: multipart/digest defaults to message/rfc822\n        const parentMultipartType = this.options.parentMultipartType || null;\n        const defaultContentType = parentMultipartType === 'digest' ? 'message/rfc822' : 'text/plain';\n\n        this.contentType = {\n            value: defaultContentType,\n            default: true\n        };\n\n        this.contentTransferEncoding = {\n            value: '8bit'\n        };\n\n        this.contentDisposition = {\n            value: ''\n        };\n\n        this.headers = [];\n\n        this.contentDecoder = false;\n    }\n\n    setupContentDecoder(transferEncoding) {\n        if (/base64/i.test(transferEncoding)) {\n            this.contentDecoder = new Base64Decoder();\n        } else if (/quoted-printable/i.test(transferEncoding)) {\n            this.contentDecoder = new QPDecoder({ decoder: getDecoder(this.contentType.parsed.params.charset) });\n        } else {\n            this.contentDecoder = new PassThroughDecoder();\n        }\n    }\n\n    async finalize() {\n        if (this.state === 'finished') {\n            return;\n        }\n\n        if (this.state === 'header') {\n            this.processHeaders();\n        }\n\n        // remove self from boundary listing\n        let boundaries = this.postalMime.boundaries;\n        for (let i = boundaries.length - 1; i >= 0; i--) {\n            let boundary = boundaries[i];\n            if (boundary.node === this) {\n                boundaries.splice(i, 1);\n                break;\n            }\n        }\n\n        await this.finalizeChildNodes();\n\n        this.content = this.contentDecoder ? await this.contentDecoder.finalize() : null;\n\n        this.state = 'finished';\n    }\n\n    async finalizeChildNodes() {\n        for (let childNode of this.childNodes) {\n            await childNode.finalize();\n        }\n    }\n\n    // Strip RFC 822 comments (parenthesized text) from structured header values\n    stripComments(str) {\n        let result = '';\n        let depth = 0;\n        let escaped = false;\n        let inQuote = false;\n\n        for (let i = 0; i < str.length; i++) {\n            const chr = str.charAt(i);\n\n            if (escaped) {\n                if (depth === 0) {\n                    result += chr;\n                }\n                escaped = false;\n                continue;\n            }\n\n            if (chr === '\\\\') {\n                escaped = true;\n                if (depth === 0) {\n                    result += chr;\n                }\n                continue;\n            }\n\n            if (chr === '\"' && depth === 0) {\n                inQuote = !inQuote;\n                result += chr;\n                continue;\n            }\n\n            if (!inQuote) {\n                if (chr === '(') {\n                    depth++;\n                    continue;\n                }\n                if (chr === ')' && depth > 0) {\n                    depth--;\n                    continue;\n                }\n            }\n\n            if (depth === 0) {\n                result += chr;\n            }\n        }\n\n        return result;\n    }\n\n    parseStructuredHeader(str) {\n        // Strip RFC 822 comments before parsing\n        str = this.stripComments(str);\n\n        let response = {\n            value: false,\n            params: {}\n        };\n\n        let key = false;\n        let value = '';\n        let stage = 'value';\n\n        let quote = false;\n        let escaped = false;\n        let chr;\n\n        for (let i = 0, len = str.length; i < len; i++) {\n            chr = str.charAt(i);\n            switch (stage) {\n                case 'key':\n                    if (chr === '=') {\n                        key = value.trim().toLowerCase();\n                        stage = 'value';\n                        value = '';\n                        break;\n                    }\n                    value += chr;\n                    break;\n                case 'value':\n                    if (escaped) {\n                        value += chr;\n                    } else if (chr === '\\\\') {\n                        escaped = true;\n                        continue;\n                    } else if (quote && chr === quote) {\n                        quote = false;\n                    } else if (!quote && chr === '\"') {\n                        quote = chr;\n                    } else if (!quote && chr === ';') {\n                        if (key === false) {\n                            response.value = value.trim();\n                        } else {\n                            response.params[key] = value.trim();\n                        }\n                        stage = 'key';\n                        value = '';\n                    } else {\n                        value += chr;\n                    }\n                    escaped = false;\n                    break;\n            }\n        }\n\n        // finalize remainder\n        value = value.trim();\n        if (stage === 'value') {\n            if (key === false) {\n                // default value\n                response.value = value;\n            } else {\n                // subkey value\n                response.params[key] = value;\n            }\n        } else if (value) {\n            // treat as key without value, see emptykey:\n            // Header-Key: somevalue; key=value; emptykey\n            response.params[value.toLowerCase()] = '';\n        }\n\n        if (response.value) {\n            response.value = response.value.toLowerCase();\n        }\n\n        // convert Parameter Value Continuations into single strings\n        decodeParameterValueContinuations(response);\n\n        return response;\n    }\n\n    decodeFlowedText(str, delSp) {\n        return (\n            str\n                .split(/\\r?\\n/)\n                // remove soft linebreaks\n                // soft linebreaks are added after space symbols\n                .reduce((previousValue, currentValue) => {\n                    if (/ $/.test(previousValue) && !/(^|\\n)-- $/.test(previousValue)) {\n                        if (delSp) {\n                            // delsp adds space to text to be able to fold it\n                            // these spaces can be removed once the text is unfolded\n                            return previousValue.slice(0, -1) + currentValue;\n                        } else {\n                            return previousValue + currentValue;\n                        }\n                    } else {\n                        return previousValue + '\\n' + currentValue;\n                    }\n                })\n                // remove whitespace stuffing\n                // http://tools.ietf.org/html/rfc3676#section-4.4\n                .replace(/^ /gm, '')\n        );\n    }\n\n    getTextContent() {\n        if (!this.content) {\n            return '';\n        }\n\n        let str = getDecoder(this.contentType.parsed.params.charset).decode(this.content);\n\n        if (/^flowed$/i.test(this.contentType.parsed.params.format)) {\n            str = this.decodeFlowedText(str, /^yes$/i.test(this.contentType.parsed.params.delsp));\n        }\n\n        return str;\n    }\n\n    processHeaders() {\n        // First pass: merge folded headers (backward iteration)\n        for (let i = this.headerLines.length - 1; i >= 0; i--) {\n            let line = this.headerLines[i];\n            if (i && /^\\s/.test(line)) {\n                this.headerLines[i - 1] += '\\n' + line;\n                this.headerLines.splice(i, 1);\n            }\n        }\n\n        // Initialize rawHeaderLines to store unmodified lines\n        this.rawHeaderLines = [];\n\n        // Second pass: process headers (MUST be backward to maintain this.headers order)\n        // The existing code iterates backward and postal-mime.js calls .reverse()\n        // We must preserve this behavior to avoid breaking changes\n        for (let i = this.headerLines.length - 1; i >= 0; i--) {\n            let rawLine = this.headerLines[i];\n\n            // Extract key from raw line for rawHeaderLines\n            let sep = rawLine.indexOf(':');\n            let rawKey = sep < 0 ? rawLine.trim() : rawLine.substr(0, sep).trim();\n\n            // Store raw line with lowercase key\n            this.rawHeaderLines.push({\n                key: rawKey.toLowerCase(),\n                line: rawLine\n            });\n\n            // Normalize for this.headers (existing behavior - order preserved)\n            let normalizedLine = rawLine.replace(/\\s+/g, ' ');\n            sep = normalizedLine.indexOf(':');\n            let key = sep < 0 ? normalizedLine.trim() : normalizedLine.substr(0, sep).trim();\n            let value = sep < 0 ? '' : normalizedLine.substr(sep + 1).trim();\n            this.headers.push({ key: key.toLowerCase(), originalKey: key, value });\n\n            switch (key.toLowerCase()) {\n                case 'content-type':\n                    if (this.contentType.default) {\n                        this.contentType = { value, parsed: {} };\n                    }\n                    break;\n                case 'content-transfer-encoding':\n                    this.contentTransferEncoding = { value, parsed: {} };\n                    break;\n                case 'content-disposition':\n                    this.contentDisposition = { value, parsed: {} };\n                    break;\n                case 'content-id':\n                    this.contentId = value;\n                    break;\n                case 'content-description':\n                    this.contentDescription = value;\n                    break;\n            }\n        }\n\n        this.contentType.parsed = this.parseStructuredHeader(this.contentType.value);\n        this.contentType.multipart = /^multipart\\//i.test(this.contentType.parsed.value)\n            ? this.contentType.parsed.value.substr(this.contentType.parsed.value.indexOf('/') + 1)\n            : false;\n\n        if (this.contentType.multipart && this.contentType.parsed.params.boundary) {\n            // add self to boundary terminator listing\n            this.postalMime.boundaries.push({\n                value: textEncoder.encode(this.contentType.parsed.params.boundary),\n                node: this\n            });\n        }\n\n        this.contentDisposition.parsed = this.parseStructuredHeader(this.contentDisposition.value);\n\n        this.contentTransferEncoding.encoding = this.contentTransferEncoding.value\n            .toLowerCase()\n            .split(/[^\\w-]/)\n            .shift();\n\n        this.setupContentDecoder(this.contentTransferEncoding.encoding);\n    }\n\n    feed(line) {\n        switch (this.state) {\n            case 'header':\n                if (!line.length) {\n                    this.state = 'body';\n                    return this.processHeaders();\n                }\n\n                this.headerSize += line.length;\n\n                if (this.headerSize > this.options.maxHeadersSize) {\n                    let error = new Error(`Maximum header size of ${this.options.maxHeadersSize} bytes exceeded`);\n                    throw error;\n                }\n\n                this.headerLines.push(getDecoder().decode(line));\n                break;\n            case 'body': {\n                // add line to body\n                this.contentDecoder.update(line);\n            }\n        }\n    }\n}\n","// Entity map from https://html.spec.whatwg.org/multipage/named-characters.html#named-character-references\nexport const htmlEntities = {\n    '&AElig': '\\u00C6',\n    '&AElig;': '\\u00C6',\n    '&AMP': '\\u0026',\n    '&AMP;': '\\u0026',\n    '&Aacute': '\\u00C1',\n    '&Aacute;': '\\u00C1',\n    '&Abreve;': '\\u0102',\n    '&Acirc': '\\u00C2',\n    '&Acirc;': '\\u00C2',\n    '&Acy;': '\\u0410',\n    '&Afr;': '\\uD835\\uDD04',\n    '&Agrave': '\\u00C0',\n    '&Agrave;': '\\u00C0',\n    '&Alpha;': '\\u0391',\n    '&Amacr;': '\\u0100',\n    '&And;': '\\u2A53',\n    '&Aogon;': '\\u0104',\n    '&Aopf;': '\\uD835\\uDD38',\n    '&ApplyFunction;': '\\u2061',\n    '&Aring': '\\u00C5',\n    '&Aring;': '\\u00C5',\n    '&Ascr;': '\\uD835\\uDC9C',\n    '&Assign;': '\\u2254',\n    '&Atilde': '\\u00C3',\n    '&Atilde;': '\\u00C3',\n    '&Auml': '\\u00C4',\n    '&Auml;': '\\u00C4',\n    '&Backslash;': '\\u2216',\n    '&Barv;': '\\u2AE7',\n    '&Barwed;': '\\u2306',\n    '&Bcy;': '\\u0411',\n    '&Because;': '\\u2235',\n    '&Bernoullis;': '\\u212C',\n    '&Beta;': '\\u0392',\n    '&Bfr;': '\\uD835\\uDD05',\n    '&Bopf;': '\\uD835\\uDD39',\n    '&Breve;': '\\u02D8',\n    '&Bscr;': '\\u212C',\n    '&Bumpeq;': '\\u224E',\n    '&CHcy;': '\\u0427',\n    '&COPY': '\\u00A9',\n    '&COPY;': '\\u00A9',\n    '&Cacute;': '\\u0106',\n    '&Cap;': '\\u22D2',\n    '&CapitalDifferentialD;': '\\u2145',\n    '&Cayleys;': '\\u212D',\n    '&Ccaron;': '\\u010C',\n    '&Ccedil': '\\u00C7',\n    '&Ccedil;': '\\u00C7',\n    '&Ccirc;': '\\u0108',\n    '&Cconint;': '\\u2230',\n    '&Cdot;': '\\u010A',\n    '&Cedilla;': '\\u00B8',\n    '&CenterDot;': '\\u00B7',\n    '&Cfr;': '\\u212D',\n    '&Chi;': '\\u03A7',\n    '&CircleDot;': '\\u2299',\n    '&CircleMinus;': '\\u2296',\n    '&CirclePlus;': '\\u2295',\n    '&CircleTimes;': '\\u2297',\n    '&ClockwiseContourIntegral;': '\\u2232',\n    '&CloseCurlyDoubleQuote;': '\\u201D',\n    '&CloseCurlyQuote;': '\\u2019',\n    '&Colon;': '\\u2237',\n    '&Colone;': '\\u2A74',\n    '&Congruent;': '\\u2261',\n    '&Conint;': '\\u222F',\n    '&ContourIntegral;': '\\u222E',\n    '&Copf;': '\\u2102',\n    '&Coproduct;': '\\u2210',\n    '&CounterClockwiseContourIntegral;': '\\u2233',\n    '&Cross;': '\\u2A2F',\n    '&Cscr;': '\\uD835\\uDC9E',\n    '&Cup;': '\\u22D3',\n    '&CupCap;': '\\u224D',\n    '&DD;': '\\u2145',\n    '&DDotrahd;': '\\u2911',\n    '&DJcy;': '\\u0402',\n    '&DScy;': '\\u0405',\n    '&DZcy;': '\\u040F',\n    '&Dagger;': '\\u2021',\n    '&Darr;': '\\u21A1',\n    '&Dashv;': '\\u2AE4',\n    '&Dcaron;': '\\u010E',\n    '&Dcy;': '\\u0414',\n    '&Del;': '\\u2207',\n    '&Delta;': '\\u0394',\n    '&Dfr;': '\\uD835\\uDD07',\n    '&DiacriticalAcute;': '\\u00B4',\n    '&DiacriticalDot;': '\\u02D9',\n    '&DiacriticalDoubleAcute;': '\\u02DD',\n    '&DiacriticalGrave;': '\\u0060',\n    '&DiacriticalTilde;': '\\u02DC',\n    '&Diamond;': '\\u22C4',\n    '&DifferentialD;': '\\u2146',\n    '&Dopf;': '\\uD835\\uDD3B',\n    '&Dot;': '\\u00A8',\n    '&DotDot;': '\\u20DC',\n    '&DotEqual;': '\\u2250',\n    '&DoubleContourIntegral;': '\\u222F',\n    '&DoubleDot;': '\\u00A8',\n    '&DoubleDownArrow;': '\\u21D3',\n    '&DoubleLeftArrow;': '\\u21D0',\n    '&DoubleLeftRightArrow;': '\\u21D4',\n    '&DoubleLeftTee;': '\\u2AE4',\n    '&DoubleLongLeftArrow;': '\\u27F8',\n    '&DoubleLongLeftRightArrow;': '\\u27FA',\n    '&DoubleLongRightArrow;': '\\u27F9',\n    '&DoubleRightArrow;': '\\u21D2',\n    '&DoubleRightTee;': '\\u22A8',\n    '&DoubleUpArrow;': '\\u21D1',\n    '&DoubleUpDownArrow;': '\\u21D5',\n    '&DoubleVerticalBar;': '\\u2225',\n    '&DownArrow;': '\\u2193',\n    '&DownArrowBar;': '\\u2913',\n    '&DownArrowUpArrow;': '\\u21F5',\n    '&DownBreve;': '\\u0311',\n    '&DownLeftRightVector;': '\\u2950',\n    '&DownLeftTeeVector;': '\\u295E',\n    '&DownLeftVector;': '\\u21BD',\n    '&DownLeftVectorBar;': '\\u2956',\n    '&DownRightTeeVector;': '\\u295F',\n    '&DownRightVector;': '\\u21C1',\n    '&DownRightVectorBar;': '\\u2957',\n    '&DownTee;': '\\u22A4',\n    '&DownTeeArrow;': '\\u21A7',\n    '&Downarrow;': '\\u21D3',\n    '&Dscr;': '\\uD835\\uDC9F',\n    '&Dstrok;': '\\u0110',\n    '&ENG;': '\\u014A',\n    '&ETH': '\\u00D0',\n    '&ETH;': '\\u00D0',\n    '&Eacute': '\\u00C9',\n    '&Eacute;': '\\u00C9',\n    '&Ecaron;': '\\u011A',\n    '&Ecirc': '\\u00CA',\n    '&Ecirc;': '\\u00CA',\n    '&Ecy;': '\\u042D',\n    '&Edot;': '\\u0116',\n    '&Efr;': '\\uD835\\uDD08',\n    '&Egrave': '\\u00C8',\n    '&Egrave;': '\\u00C8',\n    '&Element;': '\\u2208',\n    '&Emacr;': '\\u0112',\n    '&EmptySmallSquare;': '\\u25FB',\n    '&EmptyVerySmallSquare;': '\\u25AB',\n    '&Eogon;': '\\u0118',\n    '&Eopf;': '\\uD835\\uDD3C',\n    '&Epsilon;': '\\u0395',\n    '&Equal;': '\\u2A75',\n    '&EqualTilde;': '\\u2242',\n    '&Equilibrium;': '\\u21CC',\n    '&Escr;': '\\u2130',\n    '&Esim;': '\\u2A73',\n    '&Eta;': '\\u0397',\n    '&Euml': '\\u00CB',\n    '&Euml;': '\\u00CB',\n    '&Exists;': '\\u2203',\n    '&ExponentialE;': '\\u2147',\n    '&Fcy;': '\\u0424',\n    '&Ffr;': '\\uD835\\uDD09',\n    '&FilledSmallSquare;': '\\u25FC',\n    '&FilledVerySmallSquare;': '\\u25AA',\n    '&Fopf;': '\\uD835\\uDD3D',\n    '&ForAll;': '\\u2200',\n    '&Fouriertrf;': '\\u2131',\n    '&Fscr;': '\\u2131',\n    '&GJcy;': '\\u0403',\n    '&GT': '\\u003E',\n    '&GT;': '\\u003E',\n    '&Gamma;': '\\u0393',\n    '&Gammad;': '\\u03DC',\n    '&Gbreve;': '\\u011E',\n    '&Gcedil;': '\\u0122',\n    '&Gcirc;': '\\u011C',\n    '&Gcy;': '\\u0413',\n    '&Gdot;': '\\u0120',\n    '&Gfr;': '\\uD835\\uDD0A',\n    '&Gg;': '\\u22D9',\n    '&Gopf;': '\\uD835\\uDD3E',\n    '&GreaterEqual;': '\\u2265',\n    '&GreaterEqualLess;': '\\u22DB',\n    '&GreaterFullEqual;': '\\u2267',\n    '&GreaterGreater;': '\\u2AA2',\n    '&GreaterLess;': '\\u2277',\n    '&GreaterSlantEqual;': '\\u2A7E',\n    '&GreaterTilde;': '\\u2273',\n    '&Gscr;': '\\uD835\\uDCA2',\n    '&Gt;': '\\u226B',\n    '&HARDcy;': '\\u042A',\n    '&Hacek;': '\\u02C7',\n    '&Hat;': '\\u005E',\n    '&Hcirc;': '\\u0124',\n    '&Hfr;': '\\u210C',\n    '&HilbertSpace;': '\\u210B',\n    '&Hopf;': '\\u210D',\n    '&HorizontalLine;': '\\u2500',\n    '&Hscr;': '\\u210B',\n    '&Hstrok;': '\\u0126',\n    '&HumpDownHump;': '\\u224E',\n    '&HumpEqual;': '\\u224F',\n    '&IEcy;': '\\u0415',\n    '&IJlig;': '\\u0132',\n    '&IOcy;': '\\u0401',\n    '&Iacute': '\\u00CD',\n    '&Iacute;': '\\u00CD',\n    '&Icirc': '\\u00CE',\n    '&Icirc;': '\\u00CE',\n    '&Icy;': '\\u0418',\n    '&Idot;': '\\u0130',\n    '&Ifr;': '\\u2111',\n    '&Igrave': '\\u00CC',\n    '&Igrave;': '\\u00CC',\n    '&Im;': '\\u2111',\n    '&Imacr;': '\\u012A',\n    '&ImaginaryI;': '\\u2148',\n    '&Implies;': '\\u21D2',\n    '&Int;': '\\u222C',\n    '&Integral;': '\\u222B',\n    '&Intersection;': '\\u22C2',\n    '&InvisibleComma;': '\\u2063',\n    '&InvisibleTimes;': '\\u2062',\n    '&Iogon;': '\\u012E',\n    '&Iopf;': '\\uD835\\uDD40',\n    '&Iota;': '\\u0399',\n    '&Iscr;': '\\u2110',\n    '&Itilde;': '\\u0128',\n    '&Iukcy;': '\\u0406',\n    '&Iuml': '\\u00CF',\n    '&Iuml;': '\\u00CF',\n    '&Jcirc;': '\\u0134',\n    '&Jcy;': '\\u0419',\n    '&Jfr;': '\\uD835\\uDD0D',\n    '&Jopf;': '\\uD835\\uDD41',\n    '&Jscr;': '\\uD835\\uDCA5',\n    '&Jsercy;': '\\u0408',\n    '&Jukcy;': '\\u0404',\n    '&KHcy;': '\\u0425',\n    '&KJcy;': '\\u040C',\n    '&Kappa;': '\\u039A',\n    '&Kcedil;': '\\u0136',\n    '&Kcy;': '\\u041A',\n    '&Kfr;': '\\uD835\\uDD0E',\n    '&Kopf;': '\\uD835\\uDD42',\n    '&Kscr;': '\\uD835\\uDCA6',\n    '&LJcy;': '\\u0409',\n    '&LT': '\\u003C',\n    '&LT;': '\\u003C',\n    '&Lacute;': '\\u0139',\n    '&Lambda;': '\\u039B',\n    '&Lang;': '\\u27EA',\n    '&Laplacetrf;': '\\u2112',\n    '&Larr;': '\\u219E',\n    '&Lcaron;': '\\u013D',\n    '&Lcedil;': '\\u013B',\n    '&Lcy;': '\\u041B',\n    '&LeftAngleBracket;': '\\u27E8',\n    '&LeftArrow;': '\\u2190',\n    '&LeftArrowBar;': '\\u21E4',\n    '&LeftArrowRightArrow;': '\\u21C6',\n    '&LeftCeiling;': '\\u2308',\n    '&LeftDoubleBracket;': '\\u27E6',\n    '&LeftDownTeeVector;': '\\u2961',\n    '&LeftDownVector;': '\\u21C3',\n    '&LeftDownVectorBar;': '\\u2959',\n    '&LeftFloor;': '\\u230A',\n    '&LeftRightArrow;': '\\u2194',\n    '&LeftRightVector;': '\\u294E',\n    '&LeftTee;': '\\u22A3',\n    '&LeftTeeArrow;': '\\u21A4',\n    '&LeftTeeVector;': '\\u295A',\n    '&LeftTriangle;': '\\u22B2',\n    '&LeftTriangleBar;': '\\u29CF',\n    '&LeftTriangleEqual;': '\\u22B4',\n    '&LeftUpDownVector;': '\\u2951',\n    '&LeftUpTeeVector;': '\\u2960',\n    '&LeftUpVector;': '\\u21BF',\n    '&LeftUpVectorBar;': '\\u2958',\n    '&LeftVector;': '\\u21BC',\n    '&LeftVectorBar;': '\\u2952',\n    '&Leftarrow;': '\\u21D0',\n    '&Leftrightarrow;': '\\u21D4',\n    '&LessEqualGreater;': '\\u22DA',\n    '&LessFullEqual;': '\\u2266',\n    '&LessGreater;': '\\u2276',\n    '&LessLess;': '\\u2AA1',\n    '&LessSlantEqual;': '\\u2A7D',\n    '&LessTilde;': '\\u2272',\n    '&Lfr;': '\\uD835\\uDD0F',\n    '&Ll;': '\\u22D8',\n    '&Lleftarrow;': '\\u21DA',\n    '&Lmidot;': '\\u013F',\n    '&LongLeftArrow;': '\\u27F5',\n    '&LongLeftRightArrow;': '\\u27F7',\n    '&LongRightArrow;': '\\u27F6',\n    '&Longleftarrow;': '\\u27F8',\n    '&Longleftrightarrow;': '\\u27FA',\n    '&Longrightarrow;': '\\u27F9',\n    '&Lopf;': '\\uD835\\uDD43',\n    '&LowerLeftArrow;': '\\u2199',\n    '&LowerRightArrow;': '\\u2198',\n    '&Lscr;': '\\u2112',\n    '&Lsh;': '\\u21B0',\n    '&Lstrok;': '\\u0141',\n    '&Lt;': '\\u226A',\n    '&Map;': '\\u2905',\n    '&Mcy;': '\\u041C',\n    '&MediumSpace;': '\\u205F',\n    '&Mellintrf;': '\\u2133',\n    '&Mfr;': '\\uD835\\uDD10',\n    '&MinusPlus;': '\\u2213',\n    '&Mopf;': '\\uD835\\uDD44',\n    '&Mscr;': '\\u2133',\n    '&Mu;': '\\u039C',\n    '&NJcy;': '\\u040A',\n    '&Nacute;': '\\u0143',\n    '&Ncaron;': '\\u0147',\n    '&Ncedil;': '\\u0145',\n    '&Ncy;': '\\u041D',\n    '&NegativeMediumSpace;': '\\u200B',\n    '&NegativeThickSpace;': '\\u200B',\n    '&NegativeThinSpace;': '\\u200B',\n    '&NegativeVeryThinSpace;': '\\u200B',\n    '&NestedGreaterGreater;': '\\u226B',\n    '&NestedLessLess;': '\\u226A',\n    '&NewLine;': '\\u000A',\n    '&Nfr;': '\\uD835\\uDD11',\n    '&NoBreak;': '\\u2060',\n    '&NonBreakingSpace;': '\\u00A0',\n    '&Nopf;': '\\u2115',\n    '&Not;': '\\u2AEC',\n    '&NotCongruent;': '\\u2262',\n    '&NotCupCap;': '\\u226D',\n    '&NotDoubleVerticalBar;': '\\u2226',\n    '&NotElement;': '\\u2209',\n    '&NotEqual;': '\\u2260',\n    '&NotEqualTilde;': '\\u2242\\u0338',\n    '&NotExists;': '\\u2204',\n    '&NotGreater;': '\\u226F',\n    '&NotGreaterEqual;': '\\u2271',\n    '&NotGreaterFullEqual;': '\\u2267\\u0338',\n    '&NotGreaterGreater;': '\\u226B\\u0338',\n    '&NotGreaterLess;': '\\u2279',\n    '&NotGreaterSlantEqual;': '\\u2A7E\\u0338',\n    '&NotGreaterTilde;': '\\u2275',\n    '&NotHumpDownHump;': '\\u224E\\u0338',\n    '&NotHumpEqual;': '\\u224F\\u0338',\n    '&NotLeftTriangle;': '\\u22EA',\n    '&NotLeftTriangleBar;': '\\u29CF\\u0338',\n    '&NotLeftTriangleEqual;': '\\u22EC',\n    '&NotLess;': '\\u226E',\n    '&NotLessEqual;': '\\u2270',\n    '&NotLessGreater;': '\\u2278',\n    '&NotLessLess;': '\\u226A\\u0338',\n    '&NotLessSlantEqual;': '\\u2A7D\\u0338',\n    '&NotLessTilde;': '\\u2274',\n    '&NotNestedGreaterGreater;': '\\u2AA2\\u0338',\n    '&NotNestedLessLess;': '\\u2AA1\\u0338',\n    '&NotPrecedes;': '\\u2280',\n    '&NotPrecedesEqual;': '\\u2AAF\\u0338',\n    '&NotPrecedesSlantEqual;': '\\u22E0',\n    '&NotReverseElement;': '\\u220C',\n    '&NotRightTriangle;': '\\u22EB',\n    '&NotRightTriangleBar;': '\\u29D0\\u0338',\n    '&NotRightTriangleEqual;': '\\u22ED',\n    '&NotSquareSubset;': '\\u228F\\u0338',\n    '&NotSquareSubsetEqual;': '\\u22E2',\n    '&NotSquareSuperset;': '\\u2290\\u0338',\n    '&NotSquareSupersetEqual;': '\\u22E3',\n    '&NotSubset;': '\\u2282\\u20D2',\n    '&NotSubsetEqual;': '\\u2288',\n    '&NotSucceeds;': '\\u2281',\n    '&NotSucceedsEqual;': '\\u2AB0\\u0338',\n    '&NotSucceedsSlantEqual;': '\\u22E1',\n    '&NotSucceedsTilde;': '\\u227F\\u0338',\n    '&NotSuperset;': '\\u2283\\u20D2',\n    '&NotSupersetEqual;': '\\u2289',\n    '&NotTilde;': '\\u2241',\n    '&NotTildeEqual;': '\\u2244',\n    '&NotTildeFullEqual;': '\\u2247',\n    '&NotTildeTilde;': '\\u2249',\n    '&NotVerticalBar;': '\\u2224',\n    '&Nscr;': '\\uD835\\uDCA9',\n    '&Ntilde': '\\u00D1',\n    '&Ntilde;': '\\u00D1',\n    '&Nu;': '\\u039D',\n    '&OElig;': '\\u0152',\n    '&Oacute': '\\u00D3',\n    '&Oacute;': '\\u00D3',\n    '&Ocirc': '\\u00D4',\n    '&Ocirc;': '\\u00D4',\n    '&Ocy;': '\\u041E',\n    '&Odblac;': '\\u0150',\n    '&Ofr;': '\\uD835\\uDD12',\n    '&Ograve': '\\u00D2',\n    '&Ograve;': '\\u00D2',\n    '&Omacr;': '\\u014C',\n    '&Omega;': '\\u03A9',\n    '&Omicron;': '\\u039F',\n    '&Oopf;': '\\uD835\\uDD46',\n    '&OpenCurlyDoubleQuote;': '\\u201C',\n    '&OpenCurlyQuote;': '\\u2018',\n    '&Or;': '\\u2A54',\n    '&Oscr;': '\\uD835\\uDCAA',\n    '&Oslash': '\\u00D8',\n    '&Oslash;': '\\u00D8',\n    '&Otilde': '\\u00D5',\n    '&Otilde;': '\\u00D5',\n    '&Otimes;': '\\u2A37',\n    '&Ouml': '\\u00D6',\n    '&Ouml;': '\\u00D6',\n    '&OverBar;': '\\u203E',\n    '&OverBrace;': '\\u23DE',\n    '&OverBracket;': '\\u23B4',\n    '&OverParenthesis;': '\\u23DC',\n    '&PartialD;': '\\u2202',\n    '&Pcy;': '\\u041F',\n    '&Pfr;': '\\uD835\\uDD13',\n    '&Phi;': '\\u03A6',\n    '&Pi;': '\\u03A0',\n    '&PlusMinus;': '\\u00B1',\n    '&Poincareplane;': '\\u210C',\n    '&Popf;': '\\u2119',\n    '&Pr;': '\\u2ABB',\n    '&Precedes;': '\\u227A',\n    '&PrecedesEqual;': '\\u2AAF',\n    '&PrecedesSlantEqual;': '\\u227C',\n    '&PrecedesTilde;': '\\u227E',\n    '&Prime;': '\\u2033',\n    '&Product;': '\\u220F',\n    '&Proportion;': '\\u2237',\n    '&Proportional;': '\\u221D',\n    '&Pscr;': '\\uD835\\uDCAB',\n    '&Psi;': '\\u03A8',\n    '&QUOT': '\\u0022',\n    '&QUOT;': '\\u0022',\n    '&Qfr;': '\\uD835\\uDD14',\n    '&Qopf;': '\\u211A',\n    '&Qscr;': '\\uD835\\uDCAC',\n    '&RBarr;': '\\u2910',\n    '&REG': '\\u00AE',\n    '&REG;': '\\u00AE',\n    '&Racute;': '\\u0154',\n    '&Rang;': '\\u27EB',\n    '&Rarr;': '\\u21A0',\n    '&Rarrtl;': '\\u2916',\n    '&Rcaron;': '\\u0158',\n    '&Rcedil;': '\\u0156',\n    '&Rcy;': '\\u0420',\n    '&Re;': '\\u211C',\n    '&ReverseElement;': '\\u220B',\n    '&ReverseEquilibrium;': '\\u21CB',\n    '&ReverseUpEquilibrium;': '\\u296F',\n    '&Rfr;': '\\u211C',\n    '&Rho;': '\\u03A1',\n    '&RightAngleBracket;': '\\u27E9',\n    '&RightArrow;': '\\u2192',\n    '&RightArrowBar;': '\\u21E5',\n    '&RightArrowLeftArrow;': '\\u21C4',\n    '&RightCeiling;': '\\u2309',\n    '&RightDoubleBracket;': '\\u27E7',\n    '&RightDownTeeVector;': '\\u295D',\n    '&RightDownVector;': '\\u21C2',\n    '&RightDownVectorBar;': '\\u2955',\n    '&RightFloor;': '\\u230B',\n    '&RightTee;': '\\u22A2',\n    '&RightTeeArrow;': '\\u21A6',\n    '&RightTeeVector;': '\\u295B',\n    '&RightTriangle;': '\\u22B3',\n    '&RightTriangleBar;': '\\u29D0',\n    '&RightTriangleEqual;': '\\u22B5',\n    '&RightUpDownVector;': '\\u294F',\n    '&RightUpTeeVector;': '\\u295C',\n    '&RightUpVector;': '\\u21BE',\n    '&RightUpVectorBar;': '\\u2954',\n    '&RightVector;': '\\u21C0',\n    '&RightVectorBar;': '\\u2953',\n    '&Rightarrow;': '\\u21D2',\n    '&Ropf;': '\\u211D',\n    '&RoundImplies;': '\\u2970',\n    '&Rrightarrow;': '\\u21DB',\n    '&Rscr;': '\\u211B',\n    '&Rsh;': '\\u21B1',\n    '&RuleDelayed;': '\\u29F4',\n    '&SHCHcy;': '\\u0429',\n    '&SHcy;': '\\u0428',\n    '&SOFTcy;': '\\u042C',\n    '&Sacute;': '\\u015A',\n    '&Sc;': '\\u2ABC',\n    '&Scaron;': '\\u0160',\n    '&Scedil;': '\\u015E',\n    '&Scirc;': '\\u015C',\n    '&Scy;': '\\u0421',\n    '&Sfr;': '\\uD835\\uDD16',\n    '&ShortDownArrow;': '\\u2193',\n    '&ShortLeftArrow;': '\\u2190',\n    '&ShortRightArrow;': '\\u2192',\n    '&ShortUpArrow;': '\\u2191',\n    '&Sigma;': '\\u03A3',\n    '&SmallCircle;': '\\u2218',\n    '&Sopf;': '\\uD835\\uDD4A',\n    '&Sqrt;': '\\u221A',\n    '&Square;': '\\u25A1',\n    '&SquareIntersection;': '\\u2293',\n    '&SquareSubset;': '\\u228F',\n    '&SquareSubsetEqual;': '\\u2291',\n    '&SquareSuperset;': '\\u2290',\n    '&SquareSupersetEqual;': '\\u2292',\n    '&SquareUnion;': '\\u2294',\n    '&Sscr;': '\\uD835\\uDCAE',\n    '&Star;': '\\u22C6',\n    '&Sub;': '\\u22D0',\n    '&Subset;': '\\u22D0',\n    '&SubsetEqual;': '\\u2286',\n    '&Succeeds;': '\\u227B',\n    '&SucceedsEqual;': '\\u2AB0',\n    '&SucceedsSlantEqual;': '\\u227D',\n    '&SucceedsTilde;': '\\u227F',\n    '&SuchThat;': '\\u220B',\n    '&Sum;': '\\u2211',\n    '&Sup;': '\\u22D1',\n    '&Superset;': '\\u2283',\n    '&SupersetEqual;': '\\u2287',\n    '&Supset;': '\\u22D1',\n    '&THORN': '\\u00DE',\n    '&THORN;': '\\u00DE',\n    '&TRADE;': '\\u2122',\n    '&TSHcy;': '\\u040B',\n    '&TScy;': '\\u0426',\n    '&Tab;': '\\u0009',\n    '&Tau;': '\\u03A4',\n    '&Tcaron;': '\\u0164',\n    '&Tcedil;': '\\u0162',\n    '&Tcy;': '\\u0422',\n    '&Tfr;': '\\uD835\\uDD17',\n    '&Therefore;': '\\u2234',\n    '&Theta;': '\\u0398',\n    '&ThickSpace;': '\\u205F\\u200A',\n    '&ThinSpace;': '\\u2009',\n    '&Tilde;': '\\u223C',\n    '&TildeEqual;': '\\u2243',\n    '&TildeFullEqual;': '\\u2245',\n    '&TildeTilde;': '\\u2248',\n    '&Topf;': '\\uD835\\uDD4B',\n    '&TripleDot;': '\\u20DB',\n    '&Tscr;': '\\uD835\\uDCAF',\n    '&Tstrok;': '\\u0166',\n    '&Uacute': '\\u00DA',\n    '&Uacute;': '\\u00DA',\n    '&Uarr;': '\\u219F',\n    '&Uarrocir;': '\\u2949',\n    '&Ubrcy;': '\\u040E',\n    '&Ubreve;': '\\u016C',\n    '&Ucirc': '\\u00DB',\n    '&Ucirc;': '\\u00DB',\n    '&Ucy;': '\\u0423',\n    '&Udblac;': '\\u0170',\n    '&Ufr;': '\\uD835\\uDD18',\n    '&Ugrave': '\\u00D9',\n    '&Ugrave;': '\\u00D9',\n    '&Umacr;': '\\u016A',\n    '&UnderBar;': '\\u005F',\n    '&UnderBrace;': '\\u23DF',\n    '&UnderBracket;': '\\u23B5',\n    '&UnderParenthesis;': '\\u23DD',\n    '&Union;': '\\u22C3',\n    '&UnionPlus;': '\\u228E',\n    '&Uogon;': '\\u0172',\n    '&Uopf;': '\\uD835\\uDD4C',\n    '&UpArrow;': '\\u2191',\n    '&UpArrowBar;': '\\u2912',\n    '&UpArrowDownArrow;': '\\u21C5',\n    '&UpDownArrow;': '\\u2195',\n    '&UpEquilibrium;': '\\u296E',\n    '&UpTee;': '\\u22A5',\n    '&UpTeeArrow;': '\\u21A5',\n    '&Uparrow;': '\\u21D1',\n    '&Updownarrow;': '\\u21D5',\n    '&UpperLeftArrow;': '\\u2196',\n    '&UpperRightArrow;': '\\u2197',\n    '&Upsi;': '\\u03D2',\n    '&Upsilon;': '\\u03A5',\n    '&Uring;': '\\u016E',\n    '&Uscr;': '\\uD835\\uDCB0',\n    '&Utilde;': '\\u0168',\n    '&Uuml': '\\u00DC',\n    '&Uuml;': '\\u00DC',\n    '&VDash;': '\\u22AB',\n    '&Vbar;': '\\u2AEB',\n    '&Vcy;': '\\u0412',\n    '&Vdash;': '\\u22A9',\n    '&Vdashl;': '\\u2AE6',\n    '&Vee;': '\\u22C1',\n    '&Verbar;': '\\u2016',\n    '&Vert;': '\\u2016',\n    '&VerticalBar;': '\\u2223',\n    '&VerticalLine;': '\\u007C',\n    '&VerticalSeparator;': '\\u2758',\n    '&VerticalTilde;': '\\u2240',\n    '&VeryThinSpace;': '\\u200A',\n    '&Vfr;': '\\uD835\\uDD19',\n    '&Vopf;': '\\uD835\\uDD4D',\n    '&Vscr;': '\\uD835\\uDCB1',\n    '&Vvdash;': '\\u22AA',\n    '&Wcirc;': '\\u0174',\n    '&Wedge;': '\\u22C0',\n    '&Wfr;': '\\uD835\\uDD1A',\n    '&Wopf;': '\\uD835\\uDD4E',\n    '&Wscr;': '\\uD835\\uDCB2',\n    '&Xfr;': '\\uD835\\uDD1B',\n    '&Xi;': '\\u039E',\n    '&Xopf;': '\\uD835\\uDD4F',\n    '&Xscr;': '\\uD835\\uDCB3',\n    '&YAcy;': '\\u042F',\n    '&YIcy;': '\\u0407',\n    '&YUcy;': '\\u042E',\n    '&Yacute': '\\u00DD',\n    '&Yacute;': '\\u00DD',\n    '&Ycirc;': '\\u0176',\n    '&Ycy;': '\\u042B',\n    '&Yfr;': '\\uD835\\uDD1C',\n    '&Yopf;': '\\uD835\\uDD50',\n    '&Yscr;': '\\uD835\\uDCB4',\n    '&Yuml;': '\\u0178',\n    '&ZHcy;': '\\u0416',\n    '&Zacute;': '\\u0179',\n    '&Zcaron;': '\\u017D',\n    '&Zcy;': '\\u0417',\n    '&Zdot;': '\\u017B',\n    '&ZeroWidthSpace;': '\\u200B',\n    '&Zeta;': '\\u0396',\n    '&Zfr;': '\\u2128',\n    '&Zopf;': '\\u2124',\n    '&Zscr;': '\\uD835\\uDCB5',\n    '&aacute': '\\u00E1',\n    '&aacute;': '\\u00E1',\n    '&abreve;': '\\u0103',\n    '&ac;': '\\u223E',\n    '&acE;': '\\u223E\\u0333',\n    '&acd;': '\\u223F',\n    '&acirc': '\\u00E2',\n    '&acirc;': '\\u00E2',\n    '&acute': '\\u00B4',\n    '&acute;': '\\u00B4',\n    '&acy;': '\\u0430',\n    '&aelig': '\\u00E6',\n    '&aelig;': '\\u00E6',\n    '&af;': '\\u2061',\n    '&afr;': '\\uD835\\uDD1E',\n    '&agrave': '\\u00E0',\n    '&agrave;': '\\u00E0',\n    '&alefsym;': '\\u2135',\n    '&aleph;': '\\u2135',\n    '&alpha;': '\\u03B1',\n    '&amacr;': '\\u0101',\n    '&amalg;': '\\u2A3F',\n    '&amp': '\\u0026',\n    '&amp;': '\\u0026',\n    '&and;': '\\u2227',\n    '&andand;': '\\u2A55',\n    '&andd;': '\\u2A5C',\n    '&andslope;': '\\u2A58',\n    '&andv;': '\\u2A5A',\n    '&ang;': '\\u2220',\n    '&ange;': '\\u29A4',\n    '&angle;': '\\u2220',\n    '&angmsd;': '\\u2221',\n    '&angmsdaa;': '\\u29A8',\n    '&angmsdab;': '\\u29A9',\n    '&angmsdac;': '\\u29AA',\n    '&angmsdad;': '\\u29AB',\n    '&angmsdae;': '\\u29AC',\n    '&angmsdaf;': '\\u29AD',\n    '&angmsdag;': '\\u29AE',\n    '&angmsdah;': '\\u29AF',\n    '&angrt;': '\\u221F',\n    '&angrtvb;': '\\u22BE',\n    '&angrtvbd;': '\\u299D',\n    '&angsph;': '\\u2222',\n    '&angst;': '\\u00C5',\n    '&angzarr;': '\\u237C',\n    '&aogon;': '\\u0105',\n    '&aopf;': '\\uD835\\uDD52',\n    '&ap;': '\\u2248',\n    '&apE;': '\\u2A70',\n    '&apacir;': '\\u2A6F',\n    '&ape;': '\\u224A',\n    '&apid;': '\\u224B',\n    '&apos;': '\\u0027',\n    '&approx;': '\\u2248',\n    '&approxeq;': '\\u224A',\n    '&aring': '\\u00E5',\n    '&aring;': '\\u00E5',\n    '&ascr;': '\\uD835\\uDCB6',\n    '&ast;': '\\u002A',\n    '&asymp;': '\\u2248',\n    '&asympeq;': '\\u224D',\n    '&atilde': '\\u00E3',\n    '&atilde;': '\\u00E3',\n    '&auml': '\\u00E4',\n    '&auml;': '\\u00E4',\n    '&awconint;': '\\u2233',\n    '&awint;': '\\u2A11',\n    '&bNot;': '\\u2AED',\n    '&backcong;': '\\u224C',\n    '&backepsilon;': '\\u03F6',\n    '&backprime;': '\\u2035',\n    '&backsim;': '\\u223D',\n    '&backsimeq;': '\\u22CD',\n    '&barvee;': '\\u22BD',\n    '&barwed;': '\\u2305',\n    '&barwedge;': '\\u2305',\n    '&bbrk;': '\\u23B5',\n    '&bbrktbrk;': '\\u23B6',\n    '&bcong;': '\\u224C',\n    '&bcy;': '\\u0431',\n    '&bdquo;': '\\u201E',\n    '&becaus;': '\\u2235',\n    '&because;': '\\u2235',\n    '&bemptyv;': '\\u29B0',\n    '&bepsi;': '\\u03F6',\n    '&bernou;': '\\u212C',\n    '&beta;': '\\u03B2',\n    '&beth;': '\\u2136',\n    '&between;': '\\u226C',\n    '&bfr;': '\\uD835\\uDD1F',\n    '&bigcap;': '\\u22C2',\n    '&bigcirc;': '\\u25EF',\n    '&bigcup;': '\\u22C3',\n    '&bigodot;': '\\u2A00',\n    '&bigoplus;': '\\u2A01',\n    '&bigotimes;': '\\u2A02',\n    '&bigsqcup;': '\\u2A06',\n    '&bigstar;': '\\u2605',\n    '&bigtriangledown;': '\\u25BD',\n    '&bigtriangleup;': '\\u25B3',\n    '&biguplus;': '\\u2A04',\n    '&bigvee;': '\\u22C1',\n    '&bigwedge;': '\\u22C0',\n    '&bkarow;': '\\u290D',\n    '&blacklozenge;': '\\u29EB',\n    '&blacksquare;': '\\u25AA',\n    '&blacktriangle;': '\\u25B4',\n    '&blacktriangledown;': '\\u25BE',\n    '&blacktriangleleft;': '\\u25C2',\n    '&blacktriangleright;': '\\u25B8',\n    '&blank;': '\\u2423',\n    '&blk12;': '\\u2592',\n    '&blk14;': '\\u2591',\n    '&blk34;': '\\u2593',\n    '&block;': '\\u2588',\n    '&bne;': '\\u003D\\u20E5',\n    '&bnequiv;': '\\u2261\\u20E5',\n    '&bnot;': '\\u2310',\n    '&bopf;': '\\uD835\\uDD53',\n    '&bot;': '\\u22A5',\n    '&bottom;': '\\u22A5',\n    '&bowtie;': '\\u22C8',\n    '&boxDL;': '\\u2557',\n    '&boxDR;': '\\u2554',\n    '&boxDl;': '\\u2556',\n    '&boxDr;': '\\u2553',\n    '&boxH;': '\\u2550',\n    '&boxHD;': '\\u2566',\n    '&boxHU;': '\\u2569',\n    '&boxHd;': '\\u2564',\n    '&boxHu;': '\\u2567',\n    '&boxUL;': '\\u255D',\n    '&boxUR;': '\\u255A',\n    '&boxUl;': '\\u255C',\n    '&boxUr;': '\\u2559',\n    '&boxV;': '\\u2551',\n    '&boxVH;': '\\u256C',\n    '&boxVL;': '\\u2563',\n    '&boxVR;': '\\u2560',\n    '&boxVh;': '\\u256B',\n    '&boxVl;': '\\u2562',\n    '&boxVr;': '\\u255F',\n    '&boxbox;': '\\u29C9',\n    '&boxdL;': '\\u2555',\n    '&boxdR;': '\\u2552',\n    '&boxdl;': '\\u2510',\n    '&boxdr;': '\\u250C',\n    '&boxh;': '\\u2500',\n    '&boxhD;': '\\u2565',\n    '&boxhU;': '\\u2568',\n    '&boxhd;': '\\u252C',\n    '&boxhu;': '\\u2534',\n    '&boxminus;': '\\u229F',\n    '&boxplus;': '\\u229E',\n    '&boxtimes;': '\\u22A0',\n    '&boxuL;': '\\u255B',\n    '&boxuR;': '\\u2558',\n    '&boxul;': '\\u2518',\n    '&boxur;': '\\u2514',\n    '&boxv;': '\\u2502',\n    '&boxvH;': '\\u256A',\n    '&boxvL;': '\\u2561',\n    '&boxvR;': '\\u255E',\n    '&boxvh;': '\\u253C',\n    '&boxvl;': '\\u2524',\n    '&boxvr;': '\\u251C',\n    '&bprime;': '\\u2035',\n    '&breve;': '\\u02D8',\n    '&brvbar': '\\u00A6',\n    '&brvbar;': '\\u00A6',\n    '&bscr;': '\\uD835\\uDCB7',\n    '&bsemi;': '\\u204F',\n    '&bsim;': '\\u223D',\n    '&bsime;': '\\u22CD',\n    '&bsol;': '\\u005C',\n    '&bsolb;': '\\u29C5',\n    '&bsolhsub;': '\\u27C8',\n    '&bull;': '\\u2022',\n    '&bullet;': '\\u2022',\n    '&bump;': '\\u224E',\n    '&bumpE;': '\\u2AAE',\n    '&bumpe;': '\\u224F',\n    '&bumpeq;': '\\u224F',\n    '&cacute;': '\\u0107',\n    '&cap;': '\\u2229',\n    '&capand;': '\\u2A44',\n    '&capbrcup;': '\\u2A49',\n    '&capcap;': '\\u2A4B',\n    '&capcup;': '\\u2A47',\n    '&capdot;': '\\u2A40',\n    '&caps;': '\\u2229\\uFE00',\n    '&caret;': '\\u2041',\n    '&caron;': '\\u02C7',\n    '&ccaps;': '\\u2A4D',\n    '&ccaron;': '\\u010D',\n    '&ccedil': '\\u00E7',\n    '&ccedil;': '\\u00E7',\n    '&ccirc;': '\\u0109',\n    '&ccups;': '\\u2A4C',\n    '&ccupssm;': '\\u2A50',\n    '&cdot;': '\\u010B',\n    '&cedil': '\\u00B8',\n    '&cedil;': '\\u00B8',\n    '&cemptyv;': '\\u29B2',\n    '&cent': '\\u00A2',\n    '&cent;': '\\u00A2',\n    '&centerdot;': '\\u00B7',\n    '&cfr;': '\\uD835\\uDD20',\n    '&chcy;': '\\u0447',\n    '&check;': '\\u2713',\n    '&checkmark;': '\\u2713',\n    '&chi;': '\\u03C7',\n    '&cir;': '\\u25CB',\n    '&cirE;': '\\u29C3',\n    '&circ;': '\\u02C6',\n    '&circeq;': '\\u2257',\n    '&circlearrowleft;': '\\u21BA',\n    '&circlearrowright;': '\\u21BB',\n    '&circledR;': '\\u00AE',\n    '&circledS;': '\\u24C8',\n    '&circledast;': '\\u229B',\n    '&circledcirc;': '\\u229A',\n    '&circleddash;': '\\u229D',\n    '&cire;': '\\u2257',\n    '&cirfnint;': '\\u2A10',\n    '&cirmid;': '\\u2AEF',\n    '&cirscir;': '\\u29C2',\n    '&clubs;': '\\u2663',\n    '&clubsuit;': '\\u2663',\n    '&colon;': '\\u003A',\n    '&colone;': '\\u2254',\n    '&coloneq;': '\\u2254',\n    '&comma;': '\\u002C',\n    '&commat;': '\\u0040',\n    '&comp;': '\\u2201',\n    '&compfn;': '\\u2218',\n    '&complement;': '\\u2201',\n    '&complexes;': '\\u2102',\n    '&cong;': '\\u2245',\n    '&congdot;': '\\u2A6D',\n    '&conint;': '\\u222E',\n    '&copf;': '\\uD835\\uDD54',\n    '&coprod;': '\\u2210',\n    '&copy': '\\u00A9',\n    '&copy;': '\\u00A9',\n    '&copysr;': '\\u2117',\n    '&crarr;': '\\u21B5',\n    '&cross;': '\\u2717',\n    '&cscr;': '\\uD835\\uDCB8',\n    '&csub;': '\\u2ACF',\n    '&csube;': '\\u2AD1',\n    '&csup;': '\\u2AD0',\n    '&csupe;': '\\u2AD2',\n    '&ctdot;': '\\u22EF',\n    '&cudarrl;': '\\u2938',\n    '&cudarrr;': '\\u2935',\n    '&cuepr;': '\\u22DE',\n    '&cuesc;': '\\u22DF',\n    '&cularr;': '\\u21B6',\n    '&cularrp;': '\\u293D',\n    '&cup;': '\\u222A',\n    '&cupbrcap;': '\\u2A48',\n    '&cupcap;': '\\u2A46',\n    '&cupcup;': '\\u2A4A',\n    '&cupdot;': '\\u228D',\n    '&cupor;': '\\u2A45',\n    '&cups;': '\\u222A\\uFE00',\n    '&curarr;': '\\u21B7',\n    '&curarrm;': '\\u293C',\n    '&curlyeqprec;': '\\u22DE',\n    '&curlyeqsucc;': '\\u22DF',\n    '&curlyvee;': '\\u22CE',\n    '&curlywedge;': '\\u22CF',\n    '&curren': '\\u00A4',\n    '&curren;': '\\u00A4',\n    '&curvearrowleft;': '\\u21B6',\n    '&curvearrowright;': '\\u21B7',\n    '&cuvee;': '\\u22CE',\n    '&cuwed;': '\\u22CF',\n    '&cwconint;': '\\u2232',\n    '&cwint;': '\\u2231',\n    '&cylcty;': '\\u232D',\n    '&dArr;': '\\u21D3',\n    '&dHar;': '\\u2965',\n    '&dagger;': '\\u2020',\n    '&daleth;': '\\u2138',\n    '&darr;': '\\u2193',\n    '&dash;': '\\u2010',\n    '&dashv;': '\\u22A3',\n    '&dbkarow;': '\\u290F',\n    '&dblac;': '\\u02DD',\n    '&dcaron;': '\\u010F',\n    '&dcy;': '\\u0434',\n    '&dd;': '\\u2146',\n    '&ddagger;': '\\u2021',\n    '&ddarr;': '\\u21CA',\n    '&ddotseq;': '\\u2A77',\n    '&deg': '\\u00B0',\n    '&deg;': '\\u00B0',\n    '&delta;': '\\u03B4',\n    '&demptyv;': '\\u29B1',\n    '&dfisht;': '\\u297F',\n    '&dfr;': '\\uD835\\uDD21',\n    '&dharl;': '\\u21C3',\n    '&dharr;': '\\u21C2',\n    '&diam;': '\\u22C4',\n    '&diamond;': '\\u22C4',\n    '&diamondsuit;': '\\u2666',\n    '&diams;': '\\u2666',\n    '&die;': '\\u00A8',\n    '&digamma;': '\\u03DD',\n    '&disin;': '\\u22F2',\n    '&div;': '\\u00F7',\n    '&divide': '\\u00F7',\n    '&divide;': '\\u00F7',\n    '&divideontimes;': '\\u22C7',\n    '&divonx;': '\\u22C7',\n    '&djcy;': '\\u0452',\n    '&dlcorn;': '\\u231E',\n    '&dlcrop;': '\\u230D',\n    '&dollar;': '\\u0024',\n    '&dopf;': '\\uD835\\uDD55',\n    '&dot;': '\\u02D9',\n    '&doteq;': '\\u2250',\n    '&doteqdot;': '\\u2251',\n    '&dotminus;': '\\u2238',\n    '&dotplus;': '\\u2214',\n    '&dotsquare;': '\\u22A1',\n    '&doublebarwedge;': '\\u2306',\n    '&downarrow;': '\\u2193',\n    '&downdownarrows;': '\\u21CA',\n    '&downharpoonleft;': '\\u21C3',\n    '&downharpoonright;': '\\u21C2',\n    '&drbkarow;': '\\u2910',\n    '&drcorn;': '\\u231F',\n    '&drcrop;': '\\u230C',\n    '&dscr;': '\\uD835\\uDCB9',\n    '&dscy;': '\\u0455',\n    '&dsol;': '\\u29F6',\n    '&dstrok;': '\\u0111',\n    '&dtdot;': '\\u22F1',\n    '&dtri;': '\\u25BF',\n    '&dtrif;': '\\u25BE',\n    '&duarr;': '\\u21F5',\n    '&duhar;': '\\u296F',\n    '&dwangle;': '\\u29A6',\n    '&dzcy;': '\\u045F',\n    '&dzigrarr;': '\\u27FF',\n    '&eDDot;': '\\u2A77',\n    '&eDot;': '\\u2251',\n    '&eacute': '\\u00E9',\n    '&eacute;': '\\u00E9',\n    '&easter;': '\\u2A6E',\n    '&ecaron;': '\\u011B',\n    '&ecir;': '\\u2256',\n    '&ecirc': '\\u00EA',\n    '&ecirc;': '\\u00EA',\n    '&ecolon;': '\\u2255',\n    '&ecy;': '\\u044D',\n    '&edot;': '\\u0117',\n    '&ee;': '\\u2147',\n    '&efDot;': '\\u2252',\n    '&efr;': '\\uD835\\uDD22',\n    '&eg;': '\\u2A9A',\n    '&egrave': '\\u00E8',\n    '&egrave;': '\\u00E8',\n    '&egs;': '\\u2A96',\n    '&egsdot;': '\\u2A98',\n    '&el;': '\\u2A99',\n    '&elinters;': '\\u23E7',\n    '&ell;': '\\u2113',\n    '&els;': '\\u2A95',\n    '&elsdot;': '\\u2A97',\n    '&emacr;': '\\u0113',\n    '&empty;': '\\u2205',\n    '&emptyset;': '\\u2205',\n    '&emptyv;': '\\u2205',\n    '&emsp13;': '\\u2004',\n    '&emsp14;': '\\u2005',\n    '&emsp;': '\\u2003',\n    '&eng;': '\\u014B',\n    '&ensp;': '\\u2002',\n    '&eogon;': '\\u0119',\n    '&eopf;': '\\uD835\\uDD56',\n    '&epar;': '\\u22D5',\n    '&eparsl;': '\\u29E3',\n    '&eplus;': '\\u2A71',\n    '&epsi;': '\\u03B5',\n    '&epsilon;': '\\u03B5',\n    '&epsiv;': '\\u03F5',\n    '&eqcirc;': '\\u2256',\n    '&eqcolon;': '\\u2255',\n    '&eqsim;': '\\u2242',\n    '&eqslantgtr;': '\\u2A96',\n    '&eqslantless;': '\\u2A95',\n    '&equals;': '\\u003D',\n    '&equest;': '\\u225F',\n    '&equiv;': '\\u2261',\n    '&equivDD;': '\\u2A78',\n    '&eqvparsl;': '\\u29E5',\n    '&erDot;': '\\u2253',\n    '&erarr;': '\\u2971',\n    '&escr;': '\\u212F',\n    '&esdot;': '\\u2250',\n    '&esim;': '\\u2242',\n    '&eta;': '\\u03B7',\n    '&eth': '\\u00F0',\n    '&eth;': '\\u00F0',\n    '&euml': '\\u00EB',\n    '&euml;': '\\u00EB',\n    '&euro;': '\\u20AC',\n    '&excl;': '\\u0021',\n    '&exist;': '\\u2203',\n    '&expectation;': '\\u2130',\n    '&exponentiale;': '\\u2147',\n    '&fallingdotseq;': '\\u2252',\n    '&fcy;': '\\u0444',\n    '&female;': '\\u2640',\n    '&ffilig;': '\\uFB03',\n    '&fflig;': '\\uFB00',\n    '&ffllig;': '\\uFB04',\n    '&ffr;': '\\uD835\\uDD23',\n    '&filig;': '\\uFB01',\n    '&fjlig;': '\\u0066\\u006A',\n    '&flat;': '\\u266D',\n    '&fllig;': '\\uFB02',\n    '&fltns;': '\\u25B1',\n    '&fnof;': '\\u0192',\n    '&fopf;': '\\uD835\\uDD57',\n    '&forall;': '\\u2200',\n    '&fork;': '\\u22D4',\n    '&forkv;': '\\u2AD9',\n    '&fpartint;': '\\u2A0D',\n    '&frac12': '\\u00BD',\n    '&frac12;': '\\u00BD',\n    '&frac13;': '\\u2153',\n    '&frac14': '\\u00BC',\n    '&frac14;': '\\u00BC',\n    '&frac15;': '\\u2155',\n    '&frac16;': '\\u2159',\n    '&frac18;': '\\u215B',\n    '&frac23;': '\\u2154',\n    '&frac25;': '\\u2156',\n    '&frac34': '\\u00BE',\n    '&frac34;': '\\u00BE',\n    '&frac35;': '\\u2157',\n    '&frac38;': '\\u215C',\n    '&frac45;': '\\u2158',\n    '&frac56;': '\\u215A',\n    '&frac58;': '\\u215D',\n    '&frac78;': '\\u215E',\n    '&frasl;': '\\u2044',\n    '&frown;': '\\u2322',\n    '&fscr;': '\\uD835\\uDCBB',\n    '&gE;': '\\u2267',\n    '&gEl;': '\\u2A8C',\n    '&gacute;': '\\u01F5',\n    '&gamma;': '\\u03B3',\n    '&gammad;': '\\u03DD',\n    '&gap;': '\\u2A86',\n    '&gbreve;': '\\u011F',\n    '&gcirc;': '\\u011D',\n    '&gcy;': '\\u0433',\n    '&gdot;': '\\u0121',\n    '&ge;': '\\u2265',\n    '&gel;': '\\u22DB',\n    '&geq;': '\\u2265',\n    '&geqq;': '\\u2267',\n    '&geqslant;': '\\u2A7E',\n    '&ges;': '\\u2A7E',\n    '&gescc;': '\\u2AA9',\n    '&gesdot;': '\\u2A80',\n    '&gesdoto;': '\\u2A82',\n    '&gesdotol;': '\\u2A84',\n    '&gesl;': '\\u22DB\\uFE00',\n    '&gesles;': '\\u2A94',\n    '&gfr;': '\\uD835\\uDD24',\n    '&gg;': '\\u226B',\n    '&ggg;': '\\u22D9',\n    '&gimel;': '\\u2137',\n    '&gjcy;': '\\u0453',\n    '&gl;': '\\u2277',\n    '&glE;': '\\u2A92',\n    '&gla;': '\\u2AA5',\n    '&glj;': '\\u2AA4',\n    '&gnE;': '\\u2269',\n    '&gnap;': '\\u2A8A',\n    '&gnapprox;': '\\u2A8A',\n    '&gne;': '\\u2A88',\n    '&gneq;': '\\u2A88',\n    '&gneqq;': '\\u2269',\n    '&gnsim;': '\\u22E7',\n    '&gopf;': '\\uD835\\uDD58',\n    '&grave;': '\\u0060',\n    '&gscr;': '\\u210A',\n    '&gsim;': '\\u2273',\n    '&gsime;': '\\u2A8E',\n    '&gsiml;': '\\u2A90',\n    '&gt': '\\u003E',\n    '&gt;': '\\u003E',\n    '&gtcc;': '\\u2AA7',\n    '&gtcir;': '\\u2A7A',\n    '&gtdot;': '\\u22D7',\n    '&gtlPar;': '\\u2995',\n    '&gtquest;': '\\u2A7C',\n    '&gtrapprox;': '\\u2A86',\n    '&gtrarr;': '\\u2978',\n    '&gtrdot;': '\\u22D7',\n    '&gtreqless;': '\\u22DB',\n    '&gtreqqless;': '\\u2A8C',\n    '&gtrless;': '\\u2277',\n    '&gtrsim;': '\\u2273',\n    '&gvertneqq;': '\\u2269\\uFE00',\n    '&gvnE;': '\\u2269\\uFE00',\n    '&hArr;': '\\u21D4',\n    '&hairsp;': '\\u200A',\n    '&half;': '\\u00BD',\n    '&hamilt;': '\\u210B',\n    '&hardcy;': '\\u044A',\n    '&harr;': '\\u2194',\n    '&harrcir;': '\\u2948',\n    '&harrw;': '\\u21AD',\n    '&hbar;': '\\u210F',\n    '&hcirc;': '\\u0125',\n    '&hearts;': '\\u2665',\n    '&heartsuit;': '\\u2665',\n    '&hellip;': '\\u2026',\n    '&hercon;': '\\u22B9',\n    '&hfr;': '\\uD835\\uDD25',\n    '&hksearow;': '\\u2925',\n    '&hkswarow;': '\\u2926',\n    '&hoarr;': '\\u21FF',\n    '&homtht;': '\\u223B',\n    '&hookleftarrow;': '\\u21A9',\n    '&hookrightarrow;': '\\u21AA',\n    '&hopf;': '\\uD835\\uDD59',\n    '&horbar;': '\\u2015',\n    '&hscr;': '\\uD835\\uDCBD',\n    '&hslash;': '\\u210F',\n    '&hstrok;': '\\u0127',\n    '&hybull;': '\\u2043',\n    '&hyphen;': '\\u2010',\n    '&iacute': '\\u00ED',\n    '&iacute;': '\\u00ED',\n    '&ic;': '\\u2063',\n    '&icirc': '\\u00EE',\n    '&icirc;': '\\u00EE',\n    '&icy;': '\\u0438',\n    '&iecy;': '\\u0435',\n    '&iexcl': '\\u00A1',\n    '&iexcl;': '\\u00A1',\n    '&iff;': '\\u21D4',\n    '&ifr;': '\\uD835\\uDD26',\n    '&igrave': '\\u00EC',\n    '&igrave;': '\\u00EC',\n    '&ii;': '\\u2148',\n    '&iiiint;': '\\u2A0C',\n    '&iiint;': '\\u222D',\n    '&iinfin;': '\\u29DC',\n    '&iiota;': '\\u2129',\n    '&ijlig;': '\\u0133',\n    '&imacr;': '\\u012B',\n    '&image;': '\\u2111',\n    '&imagline;': '\\u2110',\n    '&imagpart;': '\\u2111',\n    '&imath;': '\\u0131',\n    '&imof;': '\\u22B7',\n    '&imped;': '\\u01B5',\n    '&in;': '\\u2208',\n    '&incare;': '\\u2105',\n    '&infin;': '\\u221E',\n    '&infintie;': '\\u29DD',\n    '&inodot;': '\\u0131',\n    '&int;': '\\u222B',\n    '&intcal;': '\\u22BA',\n    '&integers;': '\\u2124',\n    '&intercal;': '\\u22BA',\n    '&intlarhk;': '\\u2A17',\n    '&intprod;': '\\u2A3C',\n    '&iocy;': '\\u0451',\n    '&iogon;': '\\u012F',\n    '&iopf;': '\\uD835\\uDD5A',\n    '&iota;': '\\u03B9',\n    '&iprod;': '\\u2A3C',\n    '&iquest': '\\u00BF',\n    '&iquest;': '\\u00BF',\n    '&iscr;': '\\uD835\\uDCBE',\n    '&isin;': '\\u2208',\n    '&isinE;': '\\u22F9',\n    '&isindot;': '\\u22F5',\n    '&isins;': '\\u22F4',\n    '&isinsv;': '\\u22F3',\n    '&isinv;': '\\u2208',\n    '&it;': '\\u2062',\n    '&itilde;': '\\u0129',\n    '&iukcy;': '\\u0456',\n    '&iuml': '\\u00EF',\n    '&iuml;': '\\u00EF',\n    '&jcirc;': '\\u0135',\n    '&jcy;': '\\u0439',\n    '&jfr;': '\\uD835\\uDD27',\n    '&jmath;': '\\u0237',\n    '&jopf;': '\\uD835\\uDD5B',\n    '&jscr;': '\\uD835\\uDCBF',\n    '&jsercy;': '\\u0458',\n    '&jukcy;': '\\u0454',\n    '&kappa;': '\\u03BA',\n    '&kappav;': '\\u03F0',\n    '&kcedil;': '\\u0137',\n    '&kcy;': '\\u043A',\n    '&kfr;': '\\uD835\\uDD28',\n    '&kgreen;': '\\u0138',\n    '&khcy;': '\\u0445',\n    '&kjcy;': '\\u045C',\n    '&kopf;': '\\uD835\\uDD5C',\n    '&kscr;': '\\uD835\\uDCC0',\n    '&lAarr;': '\\u21DA',\n    '&lArr;': '\\u21D0',\n    '&lAtail;': '\\u291B',\n    '&lBarr;': '\\u290E',\n    '&lE;': '\\u2266',\n    '&lEg;': '\\u2A8B',\n    '&lHar;': '\\u2962',\n    '&lacute;': '\\u013A',\n    '&laemptyv;': '\\u29B4',\n    '&lagran;': '\\u2112',\n    '&lambda;': '\\u03BB',\n    '&lang;': '\\u27E8',\n    '&langd;': '\\u2991',\n    '&langle;': '\\u27E8',\n    '&lap;': '\\u2A85',\n    '&laquo': '\\u00AB',\n    '&laquo;': '\\u00AB',\n    '&larr;': '\\u2190',\n    '&larrb;': '\\u21E4',\n    '&larrbfs;': '\\u291F',\n    '&larrfs;': '\\u291D',\n    '&larrhk;': '\\u21A9',\n    '&larrlp;': '\\u21AB',\n    '&larrpl;': '\\u2939',\n    '&larrsim;': '\\u2973',\n    '&larrtl;': '\\u21A2',\n    '&lat;': '\\u2AAB',\n    '&latail;': '\\u2919',\n    '&late;': '\\u2AAD',\n    '&lates;': '\\u2AAD\\uFE00',\n    '&lbarr;': '\\u290C',\n    '&lbbrk;': '\\u2772',\n    '&lbrace;': '\\u007B',\n    '&lbrack;': '\\u005B',\n    '&lbrke;': '\\u298B',\n    '&lbrksld;': '\\u298F',\n    '&lbrkslu;': '\\u298D',\n    '&lcaron;': '\\u013E',\n    '&lcedil;': '\\u013C',\n    '&lceil;': '\\u2308',\n    '&lcub;': '\\u007B',\n    '&lcy;': '\\u043B',\n    '&ldca;': '\\u2936',\n    '&ldquo;': '\\u201C',\n    '&ldquor;': '\\u201E',\n    '&ldrdhar;': '\\u2967',\n    '&ldrushar;': '\\u294B',\n    '&ldsh;': '\\u21B2',\n    '&le;': '\\u2264',\n    '&leftarrow;': '\\u2190',\n    '&leftarrowtail;': '\\u21A2',\n    '&leftharpoondown;': '\\u21BD',\n    '&leftharpoonup;': '\\u21BC',\n    '&leftleftarrows;': '\\u21C7',\n    '&leftrightarrow;': '\\u2194',\n    '&leftrightarrows;': '\\u21C6',\n    '&leftrightharpoons;': '\\u21CB',\n    '&leftrightsquigarrow;': '\\u21AD',\n    '&leftthreetimes;': '\\u22CB',\n    '&leg;': '\\u22DA',\n    '&leq;': '\\u2264',\n    '&leqq;': '\\u2266',\n    '&leqslant;': '\\u2A7D',\n    '&les;': '\\u2A7D',\n    '&lescc;': '\\u2AA8',\n    '&lesdot;': '\\u2A7F',\n    '&lesdoto;': '\\u2A81',\n    '&lesdotor;': '\\u2A83',\n    '&lesg;': '\\u22DA\\uFE00',\n    '&lesges;': '\\u2A93',\n    '&lessapprox;': '\\u2A85',\n    '&lessdot;': '\\u22D6',\n    '&lesseqgtr;': '\\u22DA',\n    '&lesseqqgtr;': '\\u2A8B',\n    '&lessgtr;': '\\u2276',\n    '&lesssim;': '\\u2272',\n    '&lfisht;': '\\u297C',\n    '&lfloor;': '\\u230A',\n    '&lfr;': '\\uD835\\uDD29',\n    '&lg;': '\\u2276',\n    '&lgE;': '\\u2A91',\n    '&lhard;': '\\u21BD',\n    '&lharu;': '\\u21BC',\n    '&lharul;': '\\u296A',\n    '&lhblk;': '\\u2584',\n    '&ljcy;': '\\u0459',\n    '&ll;': '\\u226A',\n    '&llarr;': '\\u21C7',\n    '&llcorner;': '\\u231E',\n    '&llhard;': '\\u296B',\n    '&lltri;': '\\u25FA',\n    '&lmidot;': '\\u0140',\n    '&lmoust;': '\\u23B0',\n    '&lmoustache;': '\\u23B0',\n    '&lnE;': '\\u2268',\n    '&lnap;': '\\u2A89',\n    '&lnapprox;': '\\u2A89',\n    '&lne;': '\\u2A87',\n    '&lneq;': '\\u2A87',\n    '&lneqq;': '\\u2268',\n    '&lnsim;': '\\u22E6',\n    '&loang;': '\\u27EC',\n    '&loarr;': '\\u21FD',\n    '&lobrk;': '\\u27E6',\n    '&longleftarrow;': '\\u27F5',\n    '&longleftrightarrow;': '\\u27F7',\n    '&longmapsto;': '\\u27FC',\n    '&longrightarrow;': '\\u27F6',\n    '&looparrowleft;': '\\u21AB',\n    '&looparrowright;': '\\u21AC',\n    '&lopar;': '\\u2985',\n    '&lopf;': '\\uD835\\uDD5D',\n    '&loplus;': '\\u2A2D',\n    '&lotimes;': '\\u2A34',\n    '&lowast;': '\\u2217',\n    '&lowbar;': '\\u005F',\n    '&loz;': '\\u25CA',\n    '&lozenge;': '\\u25CA',\n    '&lozf;': '\\u29EB',\n    '&lpar;': '\\u0028',\n    '&lparlt;': '\\u2993',\n    '&lrarr;': '\\u21C6',\n    '&lrcorner;': '\\u231F',\n    '&lrhar;': '\\u21CB',\n    '&lrhard;': '\\u296D',\n    '&lrm;': '\\u200E',\n    '&lrtri;': '\\u22BF',\n    '&lsaquo;': '\\u2039',\n    '&lscr;': '\\uD835\\uDCC1',\n    '&lsh;': '\\u21B0',\n    '&lsim;': '\\u2272',\n    '&lsime;': '\\u2A8D',\n    '&lsimg;': '\\u2A8F',\n    '&lsqb;': '\\u005B',\n    '&lsquo;': '\\u2018',\n    '&lsquor;': '\\u201A',\n    '&lstrok;': '\\u0142',\n    '&lt': '\\u003C',\n    '&lt;': '\\u003C',\n    '&ltcc;': '\\u2AA6',\n    '&ltcir;': '\\u2A79',\n    '&ltdot;': '\\u22D6',\n    '&lthree;': '\\u22CB',\n    '&ltimes;': '\\u22C9',\n    '&ltlarr;': '\\u2976',\n    '&ltquest;': '\\u2A7B',\n    '&ltrPar;': '\\u2996',\n    '&ltri;': '\\u25C3',\n    '&ltrie;': '\\u22B4',\n    '&ltrif;': '\\u25C2',\n    '&lurdshar;': '\\u294A',\n    '&luruhar;': '\\u2966',\n    '&lvertneqq;': '\\u2268\\uFE00',\n    '&lvnE;': '\\u2268\\uFE00',\n    '&mDDot;': '\\u223A',\n    '&macr': '\\u00AF',\n    '&macr;': '\\u00AF',\n    '&male;': '\\u2642',\n    '&malt;': '\\u2720',\n    '&maltese;': '\\u2720',\n    '&map;': '\\u21A6',\n    '&mapsto;': '\\u21A6',\n    '&mapstodown;': '\\u21A7',\n    '&mapstoleft;': '\\u21A4',\n    '&mapstoup;': '\\u21A5',\n    '&marker;': '\\u25AE',\n    '&mcomma;': '\\u2A29',\n    '&mcy;': '\\u043C',\n    '&mdash;': '\\u2014',\n    '&measuredangle;': '\\u2221',\n    '&mfr;': '\\uD835\\uDD2A',\n    '&mho;': '\\u2127',\n    '&micro': '\\u00B5',\n    '&micro;': '\\u00B5',\n    '&mid;': '\\u2223',\n    '&midast;': '\\u002A',\n    '&midcir;': '\\u2AF0',\n    '&middot': '\\u00B7',\n    '&middot;': '\\u00B7',\n    '&minus;': '\\u2212',\n    '&minusb;': '\\u229F',\n    '&minusd;': '\\u2238',\n    '&minusdu;': '\\u2A2A',\n    '&mlcp;': '\\u2ADB',\n    '&mldr;': '\\u2026',\n    '&mnplus;': '\\u2213',\n    '&models;': '\\u22A7',\n    '&mopf;': '\\uD835\\uDD5E',\n    '&mp;': '\\u2213',\n    '&mscr;': '\\uD835\\uDCC2',\n    '&mstpos;': '\\u223E',\n    '&mu;': '\\u03BC',\n    '&multimap;': '\\u22B8',\n    '&mumap;': '\\u22B8',\n    '&nGg;': '\\u22D9\\u0338',\n    '&nGt;': '\\u226B\\u20D2',\n    '&nGtv;': '\\u226B\\u0338',\n    '&nLeftarrow;': '\\u21CD',\n    '&nLeftrightarrow;': '\\u21CE',\n    '&nLl;': '\\u22D8\\u0338',\n    '&nLt;': '\\u226A\\u20D2',\n    '&nLtv;': '\\u226A\\u0338',\n    '&nRightarrow;': '\\u21CF',\n    '&nVDash;': '\\u22AF',\n    '&nVdash;': '\\u22AE',\n    '&nabla;': '\\u2207',\n    '&nacute;': '\\u0144',\n    '&nang;': '\\u2220\\u20D2',\n    '&nap;': '\\u2249',\n    '&napE;': '\\u2A70\\u0338',\n    '&napid;': '\\u224B\\u0338',\n    '&napos;': '\\u0149',\n    '&napprox;': '\\u2249',\n    '&natur;': '\\u266E',\n    '&natural;': '\\u266E',\n    '&naturals;': '\\u2115',\n    '&nbsp': '\\u00A0',\n    '&nbsp;': '\\u00A0',\n    '&nbump;': '\\u224E\\u0338',\n    '&nbumpe;': '\\u224F\\u0338',\n    '&ncap;': '\\u2A43',\n    '&ncaron;': '\\u0148',\n    '&ncedil;': '\\u0146',\n    '&ncong;': '\\u2247',\n    '&ncongdot;': '\\u2A6D\\u0338',\n    '&ncup;': '\\u2A42',\n    '&ncy;': '\\u043D',\n    '&ndash;': '\\u2013',\n    '&ne;': '\\u2260',\n    '&neArr;': '\\u21D7',\n    '&nearhk;': '\\u2924',\n    '&nearr;': '\\u2197',\n    '&nearrow;': '\\u2197',\n    '&nedot;': '\\u2250\\u0338',\n    '&nequiv;': '\\u2262',\n    '&nesear;': '\\u2928',\n    '&nesim;': '\\u2242\\u0338',\n    '&nexist;': '\\u2204',\n    '&nexists;': '\\u2204',\n    '&nfr;': '\\uD835\\uDD2B',\n    '&ngE;': '\\u2267\\u0338',\n    '&nge;': '\\u2271',\n    '&ngeq;': '\\u2271',\n    '&ngeqq;': '\\u2267\\u0338',\n    '&ngeqslant;': '\\u2A7E\\u0338',\n    '&nges;': '\\u2A7E\\u0338',\n    '&ngsim;': '\\u2275',\n    '&ngt;': '\\u226F',\n    '&ngtr;': '\\u226F',\n    '&nhArr;': '\\u21CE',\n    '&nharr;': '\\u21AE',\n    '&nhpar;': '\\u2AF2',\n    '&ni;': '\\u220B',\n    '&nis;': '\\u22FC',\n    '&nisd;': '\\u22FA',\n    '&niv;': '\\u220B',\n    '&njcy;': '\\u045A',\n    '&nlArr;': '\\u21CD',\n    '&nlE;': '\\u2266\\u0338',\n    '&nlarr;': '\\u219A',\n    '&nldr;': '\\u2025',\n    '&nle;': '\\u2270',\n    '&nleftarrow;': '\\u219A',\n    '&nleftrightarrow;': '\\u21AE',\n    '&nleq;': '\\u2270',\n    '&nleqq;': '\\u2266\\u0338',\n    '&nleqslant;': '\\u2A7D\\u0338',\n    '&nles;': '\\u2A7D\\u0338',\n    '&nless;': '\\u226E',\n    '&nlsim;': '\\u2274',\n    '&nlt;': '\\u226E',\n    '&nltri;': '\\u22EA',\n    '&nltrie;': '\\u22EC',\n    '&nmid;': '\\u2224',\n    '&nopf;': '\\uD835\\uDD5F',\n    '&not': '\\u00AC',\n    '&not;': '\\u00AC',\n    '&notin;': '\\u2209',\n    '&notinE;': '\\u22F9\\u0338',\n    '&notindot;': '\\u22F5\\u0338',\n    '&notinva;': '\\u2209',\n    '&notinvb;': '\\u22F7',\n    '&notinvc;': '\\u22F6',\n    '&notni;': '\\u220C',\n    '&notniva;': '\\u220C',\n    '&notnivb;': '\\u22FE',\n    '&notnivc;': '\\u22FD',\n    '&npar;': '\\u2226',\n    '&nparallel;': '\\u2226',\n    '&nparsl;': '\\u2AFD\\u20E5',\n    '&npart;': '\\u2202\\u0338',\n    '&npolint;': '\\u2A14',\n    '&npr;': '\\u2280',\n    '&nprcue;': '\\u22E0',\n    '&npre;': '\\u2AAF\\u0338',\n    '&nprec;': '\\u2280',\n    '&npreceq;': '\\u2AAF\\u0338',\n    '&nrArr;': '\\u21CF',\n    '&nrarr;': '\\u219B',\n    '&nrarrc;': '\\u2933\\u0338',\n    '&nrarrw;': '\\u219D\\u0338',\n    '&nrightarrow;': '\\u219B',\n    '&nrtri;': '\\u22EB',\n    '&nrtrie;': '\\u22ED',\n    '&nsc;': '\\u2281',\n    '&nsccue;': '\\u22E1',\n    '&nsce;': '\\u2AB0\\u0338',\n    '&nscr;': '\\uD835\\uDCC3',\n    '&nshortmid;': '\\u2224',\n    '&nshortparallel;': '\\u2226',\n    '&nsim;': '\\u2241',\n    '&nsime;': '\\u2244',\n    '&nsimeq;': '\\u2244',\n    '&nsmid;': '\\u2224',\n    '&nspar;': '\\u2226',\n    '&nsqsube;': '\\u22E2',\n    '&nsqsupe;': '\\u22E3',\n    '&nsub;': '\\u2284',\n    '&nsubE;': '\\u2AC5\\u0338',\n    '&nsube;': '\\u2288',\n    '&nsubset;': '\\u2282\\u20D2',\n    '&nsubseteq;': '\\u2288',\n    '&nsubseteqq;': '\\u2AC5\\u0338',\n    '&nsucc;': '\\u2281',\n    '&nsucceq;': '\\u2AB0\\u0338',\n    '&nsup;': '\\u2285',\n    '&nsupE;': '\\u2AC6\\u0338',\n    '&nsupe;': '\\u2289',\n    '&nsupset;': '\\u2283\\u20D2',\n    '&nsupseteq;': '\\u2289',\n    '&nsupseteqq;': '\\u2AC6\\u0338',\n    '&ntgl;': '\\u2279',\n    '&ntilde': '\\u00F1',\n    '&ntilde;': '\\u00F1',\n    '&ntlg;': '\\u2278',\n    '&ntriangleleft;': '\\u22EA',\n    '&ntrianglelefteq;': '\\u22EC',\n    '&ntriangleright;': '\\u22EB',\n    '&ntrianglerighteq;': '\\u22ED',\n    '&nu;': '\\u03BD',\n    '&num;': '\\u0023',\n    '&numero;': '\\u2116',\n    '&numsp;': '\\u2007',\n    '&nvDash;': '\\u22AD',\n    '&nvHarr;': '\\u2904',\n    '&nvap;': '\\u224D\\u20D2',\n    '&nvdash;': '\\u22AC',\n    '&nvge;': '\\u2265\\u20D2',\n    '&nvgt;': '\\u003E\\u20D2',\n    '&nvinfin;': '\\u29DE',\n    '&nvlArr;': '\\u2902',\n    '&nvle;': '\\u2264\\u20D2',\n    '&nvlt;': '\\u003C\\u20D2',\n    '&nvltrie;': '\\u22B4\\u20D2',\n    '&nvrArr;': '\\u2903',\n    '&nvrtrie;': '\\u22B5\\u20D2',\n    '&nvsim;': '\\u223C\\u20D2',\n    '&nwArr;': '\\u21D6',\n    '&nwarhk;': '\\u2923',\n    '&nwarr;': '\\u2196',\n    '&nwarrow;': '\\u2196',\n    '&nwnear;': '\\u2927',\n    '&oS;': '\\u24C8',\n    '&oacute': '\\u00F3',\n    '&oacute;': '\\u00F3',\n    '&oast;': '\\u229B',\n    '&ocir;': '\\u229A',\n    '&ocirc': '\\u00F4',\n    '&ocirc;': '\\u00F4',\n    '&ocy;': '\\u043E',\n    '&odash;': '\\u229D',\n    '&odblac;': '\\u0151',\n    '&odiv;': '\\u2A38',\n    '&odot;': '\\u2299',\n    '&odsold;': '\\u29BC',\n    '&oelig;': '\\u0153',\n    '&ofcir;': '\\u29BF',\n    '&ofr;': '\\uD835\\uDD2C',\n    '&ogon;': '\\u02DB',\n    '&ograve': '\\u00F2',\n    '&ograve;': '\\u00F2',\n    '&ogt;': '\\u29C1',\n    '&ohbar;': '\\u29B5',\n    '&ohm;': '\\u03A9',\n    '&oint;': '\\u222E',\n    '&olarr;': '\\u21BA',\n    '&olcir;': '\\u29BE',\n    '&olcross;': '\\u29BB',\n    '&oline;': '\\u203E',\n    '&olt;': '\\u29C0',\n    '&omacr;': '\\u014D',\n    '&omega;': '\\u03C9',\n    '&omicron;': '\\u03BF',\n    '&omid;': '\\u29B6',\n    '&ominus;': '\\u2296',\n    '&oopf;': '\\uD835\\uDD60',\n    '&opar;': '\\u29B7',\n    '&operp;': '\\u29B9',\n    '&oplus;': '\\u2295',\n    '&or;': '\\u2228',\n    '&orarr;': '\\u21BB',\n    '&ord;': '\\u2A5D',\n    '&order;': '\\u2134',\n    '&orderof;': '\\u2134',\n    '&ordf': '\\u00AA',\n    '&ordf;': '\\u00AA',\n    '&ordm': '\\u00BA',\n    '&ordm;': '\\u00BA',\n    '&origof;': '\\u22B6',\n    '&oror;': '\\u2A56',\n    '&orslope;': '\\u2A57',\n    '&orv;': '\\u2A5B',\n    '&oscr;': '\\u2134',\n    '&oslash': '\\u00F8',\n    '&oslash;': '\\u00F8',\n    '&osol;': '\\u2298',\n    '&otilde': '\\u00F5',\n    '&otilde;': '\\u00F5',\n    '&otimes;': '\\u2297',\n    '&otimesas;': '\\u2A36',\n    '&ouml': '\\u00F6',\n    '&ouml;': '\\u00F6',\n    '&ovbar;': '\\u233D',\n    '&par;': '\\u2225',\n    '&para': '\\u00B6',\n    '&para;': '\\u00B6',\n    '&parallel;': '\\u2225',\n    '&parsim;': '\\u2AF3',\n    '&parsl;': '\\u2AFD',\n    '&part;': '\\u2202',\n    '&pcy;': '\\u043F',\n    '&percnt;': '\\u0025',\n    '&period;': '\\u002E',\n    '&permil;': '\\u2030',\n    '&perp;': '\\u22A5',\n    '&pertenk;': '\\u2031',\n    '&pfr;': '\\uD835\\uDD2D',\n    '&phi;': '\\u03C6',\n    '&phiv;': '\\u03D5',\n    '&phmmat;': '\\u2133',\n    '&phone;': '\\u260E',\n    '&pi;': '\\u03C0',\n    '&pitchfork;': '\\u22D4',\n    '&piv;': '\\u03D6',\n    '&planck;': '\\u210F',\n    '&planckh;': '\\u210E',\n    '&plankv;': '\\u210F',\n    '&plus;': '\\u002B',\n    '&plusacir;': '\\u2A23',\n    '&plusb;': '\\u229E',\n    '&pluscir;': '\\u2A22',\n    '&plusdo;': '\\u2214',\n    '&plusdu;': '\\u2A25',\n    '&pluse;': '\\u2A72',\n    '&plusmn': '\\u00B1',\n    '&plusmn;': '\\u00B1',\n    '&plussim;': '\\u2A26',\n    '&plustwo;': '\\u2A27',\n    '&pm;': '\\u00B1',\n    '&pointint;': '\\u2A15',\n    '&popf;': '\\uD835\\uDD61',\n    '&pound': '\\u00A3',\n    '&pound;': '\\u00A3',\n    '&pr;': '\\u227A',\n    '&prE;': '\\u2AB3',\n    '&prap;': '\\u2AB7',\n    '&prcue;': '\\u227C',\n    '&pre;': '\\u2AAF',\n    '&prec;': '\\u227A',\n    '&precapprox;': '\\u2AB7',\n    '&preccurlyeq;': '\\u227C',\n    '&preceq;': '\\u2AAF',\n    '&precnapprox;': '\\u2AB9',\n    '&precneqq;': '\\u2AB5',\n    '&precnsim;': '\\u22E8',\n    '&precsim;': '\\u227E',\n    '&prime;': '\\u2032',\n    '&primes;': '\\u2119',\n    '&prnE;': '\\u2AB5',\n    '&prnap;': '\\u2AB9',\n    '&prnsim;': '\\u22E8',\n    '&prod;': '\\u220F',\n    '&profalar;': '\\u232E',\n    '&profline;': '\\u2312',\n    '&profsurf;': '\\u2313',\n    '&prop;': '\\u221D',\n    '&propto;': '\\u221D',\n    '&prsim;': '\\u227E',\n    '&prurel;': '\\u22B0',\n    '&pscr;': '\\uD835\\uDCC5',\n    '&psi;': '\\u03C8',\n    '&puncsp;': '\\u2008',\n    '&qfr;': '\\uD835\\uDD2E',\n    '&qint;': '\\u2A0C',\n    '&qopf;': '\\uD835\\uDD62',\n    '&qprime;': '\\u2057',\n    '&qscr;': '\\uD835\\uDCC6',\n    '&quaternions;': '\\u210D',\n    '&quatint;': '\\u2A16',\n    '&quest;': '\\u003F',\n    '&questeq;': '\\u225F',\n    '&quot': '\\u0022',\n    '&quot;': '\\u0022',\n    '&rAarr;': '\\u21DB',\n    '&rArr;': '\\u21D2',\n    '&rAtail;': '\\u291C',\n    '&rBarr;': '\\u290F',\n    '&rHar;': '\\u2964',\n    '&race;': '\\u223D\\u0331',\n    '&racute;': '\\u0155',\n    '&radic;': '\\u221A',\n    '&raemptyv;': '\\u29B3',\n    '&rang;': '\\u27E9',\n    '&rangd;': '\\u2992',\n    '&range;': '\\u29A5',\n    '&rangle;': '\\u27E9',\n    '&raquo': '\\u00BB',\n    '&raquo;': '\\u00BB',\n    '&rarr;': '\\u2192',\n    '&rarrap;': '\\u2975',\n    '&rarrb;': '\\u21E5',\n    '&rarrbfs;': '\\u2920',\n    '&rarrc;': '\\u2933',\n    '&rarrfs;': '\\u291E',\n    '&rarrhk;': '\\u21AA',\n    '&rarrlp;': '\\u21AC',\n    '&rarrpl;': '\\u2945',\n    '&rarrsim;': '\\u2974',\n    '&rarrtl;': '\\u21A3',\n    '&rarrw;': '\\u219D',\n    '&ratail;': '\\u291A',\n    '&ratio;': '\\u2236',\n    '&rationals;': '\\u211A',\n    '&rbarr;': '\\u290D',\n    '&rbbrk;': '\\u2773',\n    '&rbrace;': '\\u007D',\n    '&rbrack;': '\\u005D',\n    '&rbrke;': '\\u298C',\n    '&rbrksld;': '\\u298E',\n    '&rbrkslu;': '\\u2990',\n    '&rcaron;': '\\u0159',\n    '&rcedil;': '\\u0157',\n    '&rceil;': '\\u2309',\n    '&rcub;': '\\u007D',\n    '&rcy;': '\\u0440',\n    '&rdca;': '\\u2937',\n    '&rdldhar;': '\\u2969',\n    '&rdquo;': '\\u201D',\n    '&rdquor;': '\\u201D',\n    '&rdsh;': '\\u21B3',\n    '&real;': '\\u211C',\n    '&realine;': '\\u211B',\n    '&realpart;': '\\u211C',\n    '&reals;': '\\u211D',\n    '&rect;': '\\u25AD',\n    '&reg': '\\u00AE',\n    '&reg;': '\\u00AE',\n    '&rfisht;': '\\u297D',\n    '&rfloor;': '\\u230B',\n    '&rfr;': '\\uD835\\uDD2F',\n    '&rhard;': '\\u21C1',\n    '&rharu;': '\\u21C0',\n    '&rharul;': '\\u296C',\n    '&rho;': '\\u03C1',\n    '&rhov;': '\\u03F1',\n    '&rightarrow;': '\\u2192',\n    '&rightarrowtail;': '\\u21A3',\n    '&rightharpoondown;': '\\u21C1',\n    '&rightharpoonup;': '\\u21C0',\n    '&rightleftarrows;': '\\u21C4',\n    '&rightleftharpoons;': '\\u21CC',\n    '&rightrightarrows;': '\\u21C9',\n    '&rightsquigarrow;': '\\u219D',\n    '&rightthreetimes;': '\\u22CC',\n    '&ring;': '\\u02DA',\n    '&risingdotseq;': '\\u2253',\n    '&rlarr;': '\\u21C4',\n    '&rlhar;': '\\u21CC',\n    '&rlm;': '\\u200F',\n    '&rmoust;': '\\u23B1',\n    '&rmoustache;': '\\u23B1',\n    '&rnmid;': '\\u2AEE',\n    '&roang;': '\\u27ED',\n    '&roarr;': '\\u21FE',\n    '&robrk;': '\\u27E7',\n    '&ropar;': '\\u2986',\n    '&ropf;': '\\uD835\\uDD63',\n    '&roplus;': '\\u2A2E',\n    '&rotimes;': '\\u2A35',\n    '&rpar;': '\\u0029',\n    '&rpargt;': '\\u2994',\n    '&rppolint;': '\\u2A12',\n    '&rrarr;': '\\u21C9',\n    '&rsaquo;': '\\u203A',\n    '&rscr;': '\\uD835\\uDCC7',\n    '&rsh;': '\\u21B1',\n    '&rsqb;': '\\u005D',\n    '&rsquo;': '\\u2019',\n    '&rsquor;': '\\u2019',\n    '&rthree;': '\\u22CC',\n    '&rtimes;': '\\u22CA',\n    '&rtri;': '\\u25B9',\n    '&rtrie;': '\\u22B5',\n    '&rtrif;': '\\u25B8',\n    '&rtriltri;': '\\u29CE',\n    '&ruluhar;': '\\u2968',\n    '&rx;': '\\u211E',\n    '&sacute;': '\\u015B',\n    '&sbquo;': '\\u201A',\n    '&sc;': '\\u227B',\n    '&scE;': '\\u2AB4',\n    '&scap;': '\\u2AB8',\n    '&scaron;': '\\u0161',\n    '&sccue;': '\\u227D',\n    '&sce;': '\\u2AB0',\n    '&scedil;': '\\u015F',\n    '&scirc;': '\\u015D',\n    '&scnE;': '\\u2AB6',\n    '&scnap;': '\\u2ABA',\n    '&scnsim;': '\\u22E9',\n    '&scpolint;': '\\u2A13',\n    '&scsim;': '\\u227F',\n    '&scy;': '\\u0441',\n    '&sdot;': '\\u22C5',\n    '&sdotb;': '\\u22A1',\n    '&sdote;': '\\u2A66',\n    '&seArr;': '\\u21D8',\n    '&searhk;': '\\u2925',\n    '&searr;': '\\u2198',\n    '&searrow;': '\\u2198',\n    '&sect': '\\u00A7',\n    '&sect;': '\\u00A7',\n    '&semi;': '\\u003B',\n    '&seswar;': '\\u2929',\n    '&setminus;': '\\u2216',\n    '&setmn;': '\\u2216',\n    '&sext;': '\\u2736',\n    '&sfr;': '\\uD835\\uDD30',\n    '&sfrown;': '\\u2322',\n    '&sharp;': '\\u266F',\n    '&shchcy;': '\\u0449',\n    '&shcy;': '\\u0448',\n    '&shortmid;': '\\u2223',\n    '&shortparallel;': '\\u2225',\n    '&shy': '\\u00AD',\n    '&shy;': '\\u00AD',\n    '&sigma;': '\\u03C3',\n    '&sigmaf;': '\\u03C2',\n    '&sigmav;': '\\u03C2',\n    '&sim;': '\\u223C',\n    '&simdot;': '\\u2A6A',\n    '&sime;': '\\u2243',\n    '&simeq;': '\\u2243',\n    '&simg;': '\\u2A9E',\n    '&simgE;': '\\u2AA0',\n    '&siml;': '\\u2A9D',\n    '&simlE;': '\\u2A9F',\n    '&simne;': '\\u2246',\n    '&simplus;': '\\u2A24',\n    '&simrarr;': '\\u2972',\n    '&slarr;': '\\u2190',\n    '&smallsetminus;': '\\u2216',\n    '&smashp;': '\\u2A33',\n    '&smeparsl;': '\\u29E4',\n    '&smid;': '\\u2223',\n    '&smile;': '\\u2323',\n    '&smt;': '\\u2AAA',\n    '&smte;': '\\u2AAC',\n    '&smtes;': '\\u2AAC\\uFE00',\n    '&softcy;': '\\u044C',\n    '&sol;': '\\u002F',\n    '&solb;': '\\u29C4',\n    '&solbar;': '\\u233F',\n    '&sopf;': '\\uD835\\uDD64',\n    '&spades;': '\\u2660',\n    '&spadesuit;': '\\u2660',\n    '&spar;': '\\u2225',\n    '&sqcap;': '\\u2293',\n    '&sqcaps;': '\\u2293\\uFE00',\n    '&sqcup;': '\\u2294',\n    '&sqcups;': '\\u2294\\uFE00',\n    '&sqsub;': '\\u228F',\n    '&sqsube;': '\\u2291',\n    '&sqsubset;': '\\u228F',\n    '&sqsubseteq;': '\\u2291',\n    '&sqsup;': '\\u2290',\n    '&sqsupe;': '\\u2292',\n    '&sqsupset;': '\\u2290',\n    '&sqsupseteq;': '\\u2292',\n    '&squ;': '\\u25A1',\n    '&square;': '\\u25A1',\n    '&squarf;': '\\u25AA',\n    '&squf;': '\\u25AA',\n    '&srarr;': '\\u2192',\n    '&sscr;': '\\uD835\\uDCC8',\n    '&ssetmn;': '\\u2216',\n    '&ssmile;': '\\u2323',\n    '&sstarf;': '\\u22C6',\n    '&star;': '\\u2606',\n    '&starf;': '\\u2605',\n    '&straightepsilon;': '\\u03F5',\n    '&straightphi;': '\\u03D5',\n    '&strns;': '\\u00AF',\n    '&sub;': '\\u2282',\n    '&subE;': '\\u2AC5',\n    '&subdot;': '\\u2ABD',\n    '&sube;': '\\u2286',\n    '&subedot;': '\\u2AC3',\n    '&submult;': '\\u2AC1',\n    '&subnE;': '\\u2ACB',\n    '&subne;': '\\u228A',\n    '&subplus;': '\\u2ABF',\n    '&subrarr;': '\\u2979',\n    '&subset;': '\\u2282',\n    '&subseteq;': '\\u2286',\n    '&subseteqq;': '\\u2AC5',\n    '&subsetneq;': '\\u228A',\n    '&subsetneqq;': '\\u2ACB',\n    '&subsim;': '\\u2AC7',\n    '&subsub;': '\\u2AD5',\n    '&subsup;': '\\u2AD3',\n    '&succ;': '\\u227B',\n    '&succapprox;': '\\u2AB8',\n    '&succcurlyeq;': '\\u227D',\n    '&succeq;': '\\u2AB0',\n    '&succnapprox;': '\\u2ABA',\n    '&succneqq;': '\\u2AB6',\n    '&succnsim;': '\\u22E9',\n    '&succsim;': '\\u227F',\n    '&sum;': '\\u2211',\n    '&sung;': '\\u266A',\n    '&sup1': '\\u00B9',\n    '&sup1;': '\\u00B9',\n    '&sup2': '\\u00B2',\n    '&sup2;': '\\u00B2',\n    '&sup3': '\\u00B3',\n    '&sup3;': '\\u00B3',\n    '&sup;': '\\u2283',\n    '&supE;': '\\u2AC6',\n    '&supdot;': '\\u2ABE',\n    '&supdsub;': '\\u2AD8',\n    '&supe;': '\\u2287',\n    '&supedot;': '\\u2AC4',\n    '&suphsol;': '\\u27C9',\n    '&suphsub;': '\\u2AD7',\n    '&suplarr;': '\\u297B',\n    '&supmult;': '\\u2AC2',\n    '&supnE;': '\\u2ACC',\n    '&supne;': '\\u228B',\n    '&supplus;': '\\u2AC0',\n    '&supset;': '\\u2283',\n    '&supseteq;': '\\u2287',\n    '&supseteqq;': '\\u2AC6',\n    '&supsetneq;': '\\u228B',\n    '&supsetneqq;': '\\u2ACC',\n    '&supsim;': '\\u2AC8',\n    '&supsub;': '\\u2AD4',\n    '&supsup;': '\\u2AD6',\n    '&swArr;': '\\u21D9',\n    '&swarhk;': '\\u2926',\n    '&swarr;': '\\u2199',\n    '&swarrow;': '\\u2199',\n    '&swnwar;': '\\u292A',\n    '&szlig': '\\u00DF',\n    '&szlig;': '\\u00DF',\n    '&target;': '\\u2316',\n    '&tau;': '\\u03C4',\n    '&tbrk;': '\\u23B4',\n    '&tcaron;': '\\u0165',\n    '&tcedil;': '\\u0163',\n    '&tcy;': '\\u0442',\n    '&tdot;': '\\u20DB',\n    '&telrec;': '\\u2315',\n    '&tfr;': '\\uD835\\uDD31',\n    '&there4;': '\\u2234',\n    '&therefore;': '\\u2234',\n    '&theta;': '\\u03B8',\n    '&thetasym;': '\\u03D1',\n    '&thetav;': '\\u03D1',\n    '&thickapprox;': '\\u2248',\n    '&thicksim;': '\\u223C',\n    '&thinsp;': '\\u2009',\n    '&thkap;': '\\u2248',\n    '&thksim;': '\\u223C',\n    '&thorn': '\\u00FE',\n    '&thorn;': '\\u00FE',\n    '&tilde;': '\\u02DC',\n    '&times': '\\u00D7',\n    '&times;': '\\u00D7',\n    '&timesb;': '\\u22A0',\n    '&timesbar;': '\\u2A31',\n    '&timesd;': '\\u2A30',\n    '&tint;': '\\u222D',\n    '&toea;': '\\u2928',\n    '&top;': '\\u22A4',\n    '&topbot;': '\\u2336',\n    '&topcir;': '\\u2AF1',\n    '&topf;': '\\uD835\\uDD65',\n    '&topfork;': '\\u2ADA',\n    '&tosa;': '\\u2929',\n    '&tprime;': '\\u2034',\n    '&trade;': '\\u2122',\n    '&triangle;': '\\u25B5',\n    '&triangledown;': '\\u25BF',\n    '&triangleleft;': '\\u25C3',\n    '&trianglelefteq;': '\\u22B4',\n    '&triangleq;': '\\u225C',\n    '&triangleright;': '\\u25B9',\n    '&trianglerighteq;': '\\u22B5',\n    '&tridot;': '\\u25EC',\n    '&trie;': '\\u225C',\n    '&triminus;': '\\u2A3A',\n    '&triplus;': '\\u2A39',\n    '&trisb;': '\\u29CD',\n    '&tritime;': '\\u2A3B',\n    '&trpezium;': '\\u23E2',\n    '&tscr;': '\\uD835\\uDCC9',\n    '&tscy;': '\\u0446',\n    '&tshcy;': '\\u045B',\n    '&tstrok;': '\\u0167',\n    '&twixt;': '\\u226C',\n    '&twoheadleftarrow;': '\\u219E',\n    '&twoheadrightarrow;': '\\u21A0',\n    '&uArr;': '\\u21D1',\n    '&uHar;': '\\u2963',\n    '&uacute': '\\u00FA',\n    '&uacute;': '\\u00FA',\n    '&uarr;': '\\u2191',\n    '&ubrcy;': '\\u045E',\n    '&ubreve;': '\\u016D',\n    '&ucirc': '\\u00FB',\n    '&ucirc;': '\\u00FB',\n    '&ucy;': '\\u0443',\n    '&udarr;': '\\u21C5',\n    '&udblac;': '\\u0171',\n    '&udhar;': '\\u296E',\n    '&ufisht;': '\\u297E',\n    '&ufr;': '\\uD835\\uDD32',\n    '&ugrave': '\\u00F9',\n    '&ugrave;': '\\u00F9',\n    '&uharl;': '\\u21BF',\n    '&uharr;': '\\u21BE',\n    '&uhblk;': '\\u2580',\n    '&ulcorn;': '\\u231C',\n    '&ulcorner;': '\\u231C',\n    '&ulcrop;': '\\u230F',\n    '&ultri;': '\\u25F8',\n    '&umacr;': '\\u016B',\n    '&uml': '\\u00A8',\n    '&uml;': '\\u00A8',\n    '&uogon;': '\\u0173',\n    '&uopf;': '\\uD835\\uDD66',\n    '&uparrow;': '\\u2191',\n    '&updownarrow;': '\\u2195',\n    '&upharpoonleft;': '\\u21BF',\n    '&upharpoonright;': '\\u21BE',\n    '&uplus;': '\\u228E',\n    '&upsi;': '\\u03C5',\n    '&upsih;': '\\u03D2',\n    '&upsilon;': '\\u03C5',\n    '&upuparrows;': '\\u21C8',\n    '&urcorn;': '\\u231D',\n    '&urcorner;': '\\u231D',\n    '&urcrop;': '\\u230E',\n    '&uring;': '\\u016F',\n    '&urtri;': '\\u25F9',\n    '&uscr;': '\\uD835\\uDCCA',\n    '&utdot;': '\\u22F0',\n    '&utilde;': '\\u0169',\n    '&utri;': '\\u25B5',\n    '&utrif;': '\\u25B4',\n    '&uuarr;': '\\u21C8',\n    '&uuml': '\\u00FC',\n    '&uuml;': '\\u00FC',\n    '&uwangle;': '\\u29A7',\n    '&vArr;': '\\u21D5',\n    '&vBar;': '\\u2AE8',\n    '&vBarv;': '\\u2AE9',\n    '&vDash;': '\\u22A8',\n    '&vangrt;': '\\u299C',\n    '&varepsilon;': '\\u03F5',\n    '&varkappa;': '\\u03F0',\n    '&varnothing;': '\\u2205',\n    '&varphi;': '\\u03D5',\n    '&varpi;': '\\u03D6',\n    '&varpropto;': '\\u221D',\n    '&varr;': '\\u2195',\n    '&varrho;': '\\u03F1',\n    '&varsigma;': '\\u03C2',\n    '&varsubsetneq;': '\\u228A\\uFE00',\n    '&varsubsetneqq;': '\\u2ACB\\uFE00',\n    '&varsupsetneq;': '\\u228B\\uFE00',\n    '&varsupsetneqq;': '\\u2ACC\\uFE00',\n    '&vartheta;': '\\u03D1',\n    '&vartriangleleft;': '\\u22B2',\n    '&vartriangleright;': '\\u22B3',\n    '&vcy;': '\\u0432',\n    '&vdash;': '\\u22A2',\n    '&vee;': '\\u2228',\n    '&veebar;': '\\u22BB',\n    '&veeeq;': '\\u225A',\n    '&vellip;': '\\u22EE',\n    '&verbar;': '\\u007C',\n    '&vert;': '\\u007C',\n    '&vfr;': '\\uD835\\uDD33',\n    '&vltri;': '\\u22B2',\n    '&vnsub;': '\\u2282\\u20D2',\n    '&vnsup;': '\\u2283\\u20D2',\n    '&vopf;': '\\uD835\\uDD67',\n    '&vprop;': '\\u221D',\n    '&vrtri;': '\\u22B3',\n    '&vscr;': '\\uD835\\uDCCB',\n    '&vsubnE;': '\\u2ACB\\uFE00',\n    '&vsubne;': '\\u228A\\uFE00',\n    '&vsupnE;': '\\u2ACC\\uFE00',\n    '&vsupne;': '\\u228B\\uFE00',\n    '&vzigzag;': '\\u299A',\n    '&wcirc;': '\\u0175',\n    '&wedbar;': '\\u2A5F',\n    '&wedge;': '\\u2227',\n    '&wedgeq;': '\\u2259',\n    '&weierp;': '\\u2118',\n    '&wfr;': '\\uD835\\uDD34',\n    '&wopf;': '\\uD835\\uDD68',\n    '&wp;': '\\u2118',\n    '&wr;': '\\u2240',\n    '&wreath;': '\\u2240',\n    '&wscr;': '\\uD835\\uDCCC',\n    '&xcap;': '\\u22C2',\n    '&xcirc;': '\\u25EF',\n    '&xcup;': '\\u22C3',\n    '&xdtri;': '\\u25BD',\n    '&xfr;': '\\uD835\\uDD35',\n    '&xhArr;': '\\u27FA',\n    '&xharr;': '\\u27F7',\n    '&xi;': '\\u03BE',\n    '&xlArr;': '\\u27F8',\n    '&xlarr;': '\\u27F5',\n    '&xmap;': '\\u27FC',\n    '&xnis;': '\\u22FB',\n    '&xodot;': '\\u2A00',\n    '&xopf;': '\\uD835\\uDD69',\n    '&xoplus;': '\\u2A01',\n    '&xotime;': '\\u2A02',\n    '&xrArr;': '\\u27F9',\n    '&xrarr;': '\\u27F6',\n    '&xscr;': '\\uD835\\uDCCD',\n    '&xsqcup;': '\\u2A06',\n    '&xuplus;': '\\u2A04',\n    '&xutri;': '\\u25B3',\n    '&xvee;': '\\u22C1',\n    '&xwedge;': '\\u22C0',\n    '&yacute': '\\u00FD',\n    '&yacute;': '\\u00FD',\n    '&yacy;': '\\u044F',\n    '&ycirc;': '\\u0177',\n    '&ycy;': '\\u044B',\n    '&yen': '\\u00A5',\n    '&yen;': '\\u00A5',\n    '&yfr;': '\\uD835\\uDD36',\n    '&yicy;': '\\u0457',\n    '&yopf;': '\\uD835\\uDD6A',\n    '&yscr;': '\\uD835\\uDCCE',\n    '&yucy;': '\\u044E',\n    '&yuml': '\\u00FF',\n    '&yuml;': '\\u00FF',\n    '&zacute;': '\\u017A',\n    '&zcaron;': '\\u017E',\n    '&zcy;': '\\u0437',\n    '&zdot;': '\\u017C',\n    '&zeetrf;': '\\u2128',\n    '&zeta;': '\\u03B6',\n    '&zfr;': '\\uD835\\uDD37',\n    '&zhcy;': '\\u0436',\n    '&zigrarr;': '\\u21DD',\n    '&zopf;': '\\uD835\\uDD6B',\n    '&zscr;': '\\uD835\\uDCCF',\n    '&zwj;': '\\u200D',\n    '&zwnj;': '\\u200C'\n};\n\nexport default htmlEntities;\n","import htmlEntities from './html-entities.js';\n\nexport function decodeHTMLEntities(str) {\n    return str.replace(/&(#\\d+|#x[a-f0-9]+|[a-z]+\\d*);?/gi, (match, entity) => {\n        if (typeof htmlEntities[match] === 'string') {\n            return htmlEntities[match];\n        }\n\n        if (entity.charAt(0) !== '#' || match.charAt(match.length - 1) !== ';') {\n            // keep as is, invalid or unknown sequence\n            return match;\n        }\n\n        let codePoint;\n        if (entity.charAt(1) === 'x') {\n            // hex\n            codePoint = parseInt(entity.substr(2), 16);\n        } else {\n            // dec\n            codePoint = parseInt(entity.substr(1), 10);\n        }\n\n        var output = '';\n\n        if ((codePoint >= 0xd800 && codePoint <= 0xdfff) || codePoint > 0x10ffff) {\n            // Invalid range, return a replacement character instead\n            return '\\uFFFD';\n        }\n\n        if (codePoint > 0xffff) {\n            codePoint -= 0x10000;\n            output += String.fromCharCode(((codePoint >>> 10) & 0x3ff) | 0xd800);\n            codePoint = 0xdc00 | (codePoint & 0x3ff);\n        }\n\n        output += String.fromCharCode(codePoint);\n\n        return output;\n    });\n}\n\nexport function escapeHtml(str) {\n    return str.trim().replace(/[<>\"'?&]/g, c => {\n        let hex = c.charCodeAt(0).toString(16);\n        if (hex.length < 2) {\n            hex = '0' + hex;\n        }\n        return '&#x' + hex.toUpperCase() + ';';\n    });\n}\n\nexport function textToHtml(str) {\n    let html = escapeHtml(str).replace(/\\n/g, '<br />');\n    return '<div>' + html + '</div>';\n}\n\nexport function htmlToText(str) {\n    str = str\n        // we can't process tags on multiple lines so remove newlines first\n        .replace(/\\r?\\n/g, '\\u0001')\n        .replace(/<\\!\\-\\-.*?\\-\\->/gi, ' ')\n\n        .replace(/<br\\b[^>]*>/gi, '\\n')\n        .replace(/<\\/?(p|div|table|tr|td|th)\\b[^>]*>/gi, '\\n\\n')\n        .replace(/<script\\b[^>]*>.*?<\\/script\\b[^>]*>/gi, ' ')\n        .replace(/^.*<body\\b[^>]*>/i, '')\n        .replace(/^.*<\\/head\\b[^>]*>/i, '')\n        .replace(/^.*<\\!doctype\\b[^>]*>/i, '')\n        .replace(/<\\/body\\b[^>]*>.*$/i, '')\n        .replace(/<\\/html\\b[^>]*>.*$/i, '')\n\n        .replace(/<a\\b[^>]*href\\s*=\\s*[\"']?([^\\s\"']+)[^>]*>/gi, ' ($1) ')\n\n        .replace(/<\\/?(span|em|i|strong|b|u|a)\\b[^>]*>/gi, '')\n\n        .replace(/<li\\b[^>]*>[\\n\\u0001\\s]*/gi, '* ')\n\n        .replace(/<hr\\b[^>]*>/g, '\\n-------------\\n')\n\n        .replace(/<[^>]*>/g, ' ')\n\n        // convert linebreak placeholders back to newlines\n        .replace(/\\u0001/g, '\\n')\n\n        .replace(/[ \\t]+/g, ' ')\n\n        .replace(/^\\s+$/gm, '')\n\n        .replace(/\\n\\n+/g, '\\n\\n')\n        .replace(/^\\n+/, '\\n')\n        .replace(/\\n+$/, '\\n');\n\n    str = decodeHTMLEntities(str);\n\n    return str;\n}\n\nfunction formatTextAddress(address) {\n    return []\n        .concat(address.name || [])\n        .concat(address.name ? `<${address.address}>` : address.address)\n        .join(' ');\n}\n\nfunction formatTextAddresses(addresses) {\n    let parts = [];\n\n    let processAddress = (address, partCounter) => {\n        if (partCounter) {\n            parts.push(', ');\n        }\n\n        if (address.group) {\n            let groupStart = `${address.name}:`;\n            let groupEnd = `;`;\n\n            parts.push(groupStart);\n            address.group.forEach(processAddress);\n            parts.push(groupEnd);\n        } else {\n            parts.push(formatTextAddress(address));\n        }\n    };\n\n    addresses.forEach(processAddress);\n\n    return parts.join('');\n}\n\nfunction formatHtmlAddress(address) {\n    return `<a href=\"mailto:${escapeHtml(address.address)}\" class=\"postal-email-address\">${escapeHtml(address.name || `<${address.address}>`)}</a>`;\n}\n\nfunction formatHtmlAddresses(addresses) {\n    let parts = [];\n\n    let processAddress = (address, partCounter) => {\n        if (partCounter) {\n            parts.push('<span class=\"postal-email-address-separator\">, </span>');\n        }\n\n        if (address.group) {\n            let groupStart = `<span class=\"postal-email-address-group\">${escapeHtml(address.name)}:</span>`;\n            let groupEnd = `<span class=\"postal-email-address-group\">;</span>`;\n\n            parts.push(groupStart);\n            address.group.forEach(processAddress);\n            parts.push(groupEnd);\n        } else {\n            parts.push(formatHtmlAddress(address));\n        }\n    };\n\n    addresses.forEach(processAddress);\n\n    return parts.join(' ');\n}\n\nfunction foldLines(str, lineLength, afterSpace) {\n    str = (str || '').toString();\n    lineLength = lineLength || 76;\n\n    let pos = 0,\n        len = str.length,\n        result = '',\n        line,\n        match;\n\n    while (pos < len) {\n        line = str.substr(pos, lineLength);\n        if (line.length < lineLength) {\n            result += line;\n            break;\n        }\n        if ((match = line.match(/^[^\\n\\r]*(\\r?\\n|\\r)/))) {\n            line = match[0];\n            result += line;\n            pos += line.length;\n            continue;\n        } else if (\n            (match = line.match(/(\\s+)[^\\s]*$/)) &&\n            match[0].length - (afterSpace ? (match[1] || '').length : 0) < line.length\n        ) {\n            line = line.substr(0, line.length - (match[0].length - (afterSpace ? (match[1] || '').length : 0)));\n        } else if ((match = str.substr(pos + line.length).match(/^[^\\s]+(\\s*)/))) {\n            line = line + match[0].substr(0, match[0].length - (!afterSpace ? (match[1] || '').length : 0));\n        }\n\n        result += line;\n        pos += line.length;\n        if (pos < len) {\n            result += '\\r\\n';\n        }\n    }\n\n    return result;\n}\n\nexport function formatTextHeader(message) {\n    let rows = [];\n\n    if (message.from) {\n        rows.push({ key: 'From', val: formatTextAddress(message.from) });\n    }\n\n    if (message.subject) {\n        rows.push({ key: 'Subject', val: message.subject });\n    }\n\n    if (message.date) {\n        let dateOptions = {\n            year: 'numeric',\n            month: 'numeric',\n            day: 'numeric',\n            hour: 'numeric',\n            minute: 'numeric',\n            second: 'numeric',\n            hour12: false\n        };\n\n        let dateStr =\n            typeof Intl === 'undefined'\n                ? message.date\n                : new Intl.DateTimeFormat('default', dateOptions).format(new Date(message.date));\n\n        rows.push({ key: 'Date', val: dateStr });\n    }\n\n    if (message.to && message.to.length) {\n        rows.push({ key: 'To', val: formatTextAddresses(message.to) });\n    }\n\n    if (message.cc && message.cc.length) {\n        rows.push({ key: 'Cc', val: formatTextAddresses(message.cc) });\n    }\n\n    if (message.bcc && message.bcc.length) {\n        rows.push({ key: 'Bcc', val: formatTextAddresses(message.bcc) });\n    }\n\n    // Align keys and values by adding space between these two\n    // Also make sure that the separator line is as long as the longest line\n    // Should end up with something like this:\n    /*\n    -----------------------------\n    From:    xx xx <xxx@xxx.com>\n    Subject: Example Subject\n    Date:    16/02/2021, 02:57:06\n    To:      not@found.com\n    -----------------------------\n    */\n\n    let maxKeyLength = rows\n        .map(r => r.key.length)\n        .reduce((acc, cur) => {\n            return cur > acc ? cur : acc;\n        }, 0);\n\n    rows = rows.flatMap(row => {\n        let sepLen = maxKeyLength - row.key.length;\n        let prefix = `${row.key}: ${' '.repeat(sepLen)}`;\n        let emptyPrefix = `${' '.repeat(row.key.length + 1)} ${' '.repeat(sepLen)}`;\n\n        let foldedLines = foldLines(row.val, 80, true)\n            .split(/\\r?\\n/)\n            .map(line => line.trim());\n\n        return foldedLines.map((line, i) => `${i ? emptyPrefix : prefix}${line}`);\n    });\n\n    let maxLineLength = rows\n        .map(r => r.length)\n        .reduce((acc, cur) => {\n            return cur > acc ? cur : acc;\n        }, 0);\n\n    let lineMarker = '-'.repeat(maxLineLength);\n\n    let template = `\n${lineMarker}\n${rows.join('\\n')}\n${lineMarker}\n`;\n\n    return template;\n}\n\nexport function formatHtmlHeader(message) {\n    let rows = [];\n\n    if (message.from) {\n        rows.push(\n            `<div class=\"postal-email-header-key\">From</div><div class=\"postal-email-header-value\">${formatHtmlAddress(message.from)}</div>`\n        );\n    }\n\n    if (message.subject) {\n        rows.push(\n            `<div class=\"postal-email-header-key\">Subject</div><div class=\"postal-email-header-value postal-email-header-subject\">${escapeHtml(\n                message.subject\n            )}</div>`\n        );\n    }\n\n    if (message.date) {\n        let dateOptions = {\n            year: 'numeric',\n            month: 'numeric',\n            day: 'numeric',\n            hour: 'numeric',\n            minute: 'numeric',\n            second: 'numeric',\n            hour12: false\n        };\n\n        let dateStr =\n            typeof Intl === 'undefined'\n                ? message.date\n                : new Intl.DateTimeFormat('default', dateOptions).format(new Date(message.date));\n\n        rows.push(\n            `<div class=\"postal-email-header-key\">Date</div><div class=\"postal-email-header-value postal-email-header-date\" data-date=\"${escapeHtml(\n                message.date\n            )}\">${escapeHtml(dateStr)}</div>`\n        );\n    }\n\n    if (message.to && message.to.length) {\n        rows.push(\n            `<div class=\"postal-email-header-key\">To</div><div class=\"postal-email-header-value\">${formatHtmlAddresses(message.to)}</div>`\n        );\n    }\n\n    if (message.cc && message.cc.length) {\n        rows.push(\n            `<div class=\"postal-email-header-key\">Cc</div><div class=\"postal-email-header-value\">${formatHtmlAddresses(message.cc)}</div>`\n        );\n    }\n\n    if (message.bcc && message.bcc.length) {\n        rows.push(\n            `<div class=\"postal-email-header-key\">Bcc</div><div class=\"postal-email-header-value\">${formatHtmlAddresses(message.bcc)}</div>`\n        );\n    }\n\n    let template = `<div class=\"postal-email-header\">${rows.length ? '<div class=\"postal-email-header-row\">' : ''}${rows.join(\n        '</div>\\n<div class=\"postal-email-header-row\">'\n    )}${rows.length ? '</div>' : ''}</div>`;\n\n    return template;\n}\n","import { decodeWords } from './decode-strings.js';\n\n/**\n * Converts tokens for a single address into an address object\n *\n * @param {Array} tokens Tokens object\n * @param {Number} depth Current recursion depth for nested group protection\n * @return {Object} Address object\n */\nfunction _handleAddress(tokens, depth) {\n    let isGroup = false;\n    let state = 'text';\n    let address;\n    let addresses = [];\n    let data = {\n        address: [],\n        comment: [],\n        group: [],\n        text: [],\n        textWasQuoted: [] // Track which text tokens came from inside quotes\n    };\n    let i;\n    let len;\n    let insideQuotes = false; // Track if we're currently inside a quoted string\n\n    // Filter out <addresses>, (comments) and regular text\n    for (i = 0, len = tokens.length; i < len; i++) {\n        let token = tokens[i];\n        let prevToken = i ? tokens[i - 1] : null;\n        if (token.type === 'operator') {\n            switch (token.value) {\n                case '<':\n                    state = 'address';\n                    insideQuotes = false;\n                    break;\n                case '(':\n                    state = 'comment';\n                    insideQuotes = false;\n                    break;\n                case ':':\n                    state = 'group';\n                    isGroup = true;\n                    insideQuotes = false;\n                    break;\n                case '\"':\n                    // Track quote state for text tokens\n                    insideQuotes = !insideQuotes;\n                    state = 'text';\n                    break;\n                default:\n                    state = 'text';\n                    insideQuotes = false;\n                    break;\n            }\n        } else if (token.value) {\n            if (state === 'address') {\n                // handle use case where unquoted name includes a \"<\"\n                // Apple Mail truncates everything between an unexpected < and an address\n                // and so will we\n                token.value = token.value.replace(/^[^<]*<\\s*/, '');\n            }\n\n            if (prevToken && prevToken.noBreak && data[state].length) {\n                // join values\n                data[state][data[state].length - 1] += token.value;\n                if (state === 'text' && insideQuotes) {\n                    data.textWasQuoted[data.textWasQuoted.length - 1] = true;\n                }\n            } else {\n                data[state].push(token.value);\n                if (state === 'text') {\n                    data.textWasQuoted.push(insideQuotes);\n                }\n            }\n        }\n    }\n\n    // If there is no text but a comment, replace the two\n    if (!data.text.length && data.comment.length) {\n        data.text = data.comment;\n        data.comment = [];\n    }\n\n    if (isGroup) {\n        // http://tools.ietf.org/html/rfc2822#appendix-A.1.3\n        data.text = data.text.join(' ');\n\n        // Parse group members, but flatten any nested groups (RFC 5322 doesn't allow nesting)\n        let groupMembers = [];\n        if (data.group.length) {\n            let parsedGroup = addressParser(data.group.join(','), { _depth: depth + 1 });\n            // Flatten: if any member is itself a group, extract its members into the sequence\n            parsedGroup.forEach(member => {\n                if (member.group) {\n                    // Nested group detected - flatten it by adding its members directly\n                    groupMembers = groupMembers.concat(member.group);\n                } else {\n                    groupMembers.push(member);\n                }\n            });\n        }\n\n        addresses.push({\n            name: decodeWords(data.text || (address && address.name)),\n            group: groupMembers\n        });\n    } else {\n        // If no address was found, try to detect one from regular text\n        if (!data.address.length && data.text.length) {\n            for (i = data.text.length - 1; i >= 0; i--) {\n                // Security fix: Do not extract email addresses from quoted strings\n                // RFC 5321 allows @ inside quoted local-parts like \"user@domain\"@example.com\n                // Extracting emails from quoted text leads to misrouting vulnerabilities\n                if (!data.textWasQuoted[i] && data.text[i].match(/^[^@\\s]+@[^@\\s]+$/)) {\n                    data.address = data.text.splice(i, 1);\n                    data.textWasQuoted.splice(i, 1);\n                    break;\n                }\n            }\n\n            let _regexHandler = function (address) {\n                if (!data.address.length) {\n                    data.address = [address.trim()];\n                    return ' ';\n                } else {\n                    return address;\n                }\n            };\n\n            // still no address\n            if (!data.address.length) {\n                for (i = data.text.length - 1; i >= 0; i--) {\n                    // Security fix: Do not extract email addresses from quoted strings\n                    if (!data.textWasQuoted[i]) {\n                        // fixed the regex to parse email address correctly when email address has more than one @\n                        data.text[i] = data.text[i].replace(/\\s*\\b[^@\\s]+@[^\\s]+\\b\\s*/, _regexHandler).trim();\n                        if (data.address.length) {\n                            break;\n                        }\n                    }\n                }\n            }\n        }\n\n        // If there's still is no text but a comment exixts, replace the two\n        if (!data.text.length && data.comment.length) {\n            data.text = data.comment;\n            data.comment = [];\n        }\n\n        // Keep only the first address occurence, push others to regular text\n        if (data.address.length > 1) {\n            data.text = data.text.concat(data.address.splice(1));\n        }\n\n        // Join values with spaces\n        data.text = data.text.join(' ');\n        data.address = data.address.join(' ');\n\n        if (!data.address && /^=\\?[^=]+?=$/.test(data.text.trim())) {\n            // try to extract words from text content\n            const parsedSubAddresses = addressParser(decodeWords(data.text));\n            if (parsedSubAddresses && parsedSubAddresses.length) {\n                return parsedSubAddresses;\n            }\n        }\n\n        if (!data.address && isGroup) {\n            return [];\n        } else {\n            address = {\n                address: data.address || data.text || '',\n                name: decodeWords(data.text || data.address || '')\n            };\n\n            if (address.address === address.name) {\n                if ((address.address || '').match(/@/)) {\n                    address.name = '';\n                } else {\n                    address.address = '';\n                }\n            }\n\n            addresses.push(address);\n        }\n    }\n\n    return addresses;\n}\n\n/**\n * Creates a Tokenizer object for tokenizing address field strings\n *\n * @constructor\n * @param {String} str Address field string\n */\nclass Tokenizer {\n    constructor(str) {\n        this.str = (str || '').toString();\n        this.operatorCurrent = '';\n        this.operatorExpecting = '';\n        this.node = null;\n        this.escaped = false;\n\n        this.list = [];\n        /**\n         * Operator tokens and which tokens are expected to end the sequence\n         */\n        this.operators = {\n            '\"': '\"',\n            '(': ')',\n            '<': '>',\n            ',': '',\n            ':': ';',\n            // Semicolons are not a legal delimiter per the RFC2822 grammar other\n            // than for terminating a group, but they are also not valid for any\n            // other use in this context.  Given that some mail clients have\n            // historically allowed the semicolon as a delimiter equivalent to the\n            // comma in their UI, it makes sense to treat them the same as a comma\n            // when used outside of a group.\n            ';': ''\n        };\n    }\n\n    /**\n     * Tokenizes the original input string\n     *\n     * @return {Array} An array of operator|text tokens\n     */\n    tokenize() {\n        let list = [];\n\n        for (let i = 0, len = this.str.length; i < len; i++) {\n            let chr = this.str.charAt(i);\n            let nextChr = i < len - 1 ? this.str.charAt(i + 1) : null;\n            this.checkChar(chr, nextChr);\n        }\n\n        this.list.forEach(node => {\n            node.value = (node.value || '').toString().trim();\n            if (node.value) {\n                list.push(node);\n            }\n        });\n\n        return list;\n    }\n\n    /**\n     * Checks if a character is an operator or text and acts accordingly\n     *\n     * @param {String} chr Character from the address field\n     */\n    checkChar(chr, nextChr) {\n        if (this.escaped) {\n            // ignore next condition blocks\n        } else if (chr === this.operatorExpecting) {\n            this.node = {\n                type: 'operator',\n                value: chr\n            };\n\n            if (nextChr && ![' ', '\\t', '\\r', '\\n', ',', ';'].includes(nextChr)) {\n                this.node.noBreak = true;\n            }\n\n            this.list.push(this.node);\n            this.node = null;\n            this.operatorExpecting = '';\n            this.escaped = false;\n\n            return;\n        } else if (!this.operatorExpecting && chr in this.operators) {\n            this.node = {\n                type: 'operator',\n                value: chr\n            };\n            this.list.push(this.node);\n            this.node = null;\n            this.operatorExpecting = this.operators[chr];\n            this.escaped = false;\n            return;\n        } else if (['\"', \"'\"].includes(this.operatorExpecting) && chr === '\\\\') {\n            this.escaped = true;\n            return;\n        }\n\n        if (!this.node) {\n            this.node = {\n                type: 'text',\n                value: ''\n            };\n            this.list.push(this.node);\n        }\n\n        if (chr === '\\n') {\n            // Convert newlines to spaces. Carriage return is ignored as \\r and \\n usually\n            // go together anyway and there already is a WS for \\n. Lone \\r means something is fishy.\n            chr = ' ';\n        }\n\n        if (chr.charCodeAt(0) >= 0x21 || [' ', '\\t'].includes(chr)) {\n            // skip command bytes\n            this.node.value += chr;\n        }\n\n        this.escaped = false;\n    }\n}\n\n/**\n * Maximum recursion depth for parsing nested groups.\n * RFC 5322 doesn't allow nested groups, so this is a safeguard against\n * malicious input that could cause stack overflow.\n */\nconst MAX_NESTED_GROUP_DEPTH = 50;\n\n/**\n * Parses structured e-mail addresses from an address field\n *\n * Example:\n *\n *    'Name <address@domain>'\n *\n * will be converted to\n *\n *     [{name: 'Name', address: 'address@domain'}]\n *\n * @param {String} str Address field\n * @param {Object} options Optional options object\n * @param {Number} options._depth Internal recursion depth counter (do not set manually)\n * @return {Array} An array of address objects\n */\nfunction addressParser(str, options) {\n    options = options || {};\n    let depth = options._depth || 0;\n\n    // Prevent stack overflow from deeply nested groups (DoS protection)\n    if (depth > MAX_NESTED_GROUP_DEPTH) {\n        return [];\n    }\n\n    let tokenizer = new Tokenizer(str);\n    let tokens = tokenizer.tokenize();\n\n    let addresses = [];\n    let address = [];\n    let parsedAddresses = [];\n\n    tokens.forEach(token => {\n        if (token.type === 'operator' && (token.value === ',' || token.value === ';')) {\n            if (address.length) {\n                addresses.push(address);\n            }\n            address = [];\n        } else {\n            address.push(token);\n        }\n    });\n\n    if (address.length) {\n        addresses.push(address);\n    }\n\n    addresses.forEach(address => {\n        address = _handleAddress(address, depth);\n        if (address.length) {\n            parsedAddresses = parsedAddresses.concat(address);\n        }\n    });\n\n    if (options.flatten) {\n        let addresses = [];\n        let walkAddressList = list => {\n            list.forEach(address => {\n                if (address.group) {\n                    return walkAddressList(address.group);\n                } else {\n                    addresses.push(address);\n                }\n            });\n        };\n        walkAddressList(parsedAddresses);\n        return addresses;\n    }\n\n    return parsedAddresses;\n}\n\n// expose to the world\nexport default addressParser;\n","// Code from: https://gist.githubusercontent.com/jonleighton/958841/raw/fb05a8632efb75d85d43deb593df04367ce48371/base64ArrayBuffer.js\n\n// Converts an ArrayBuffer directly to base64, without any intermediate 'convert to string then\n// use window.btoa' step. According to my tests, this appears to be a faster approach:\n// http://jsperf.com/encoding-xhr-image-data/5\n\n/*\nMIT LICENSE\n\nCopyright 2011 Jon Leighton\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n*/\n\nexport function base64ArrayBuffer(arrayBuffer) {\n    var base64 = '';\n    var encodings = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n\n    var bytes = new Uint8Array(arrayBuffer);\n    var byteLength = bytes.byteLength;\n    var byteRemainder = byteLength % 3;\n    var mainLength = byteLength - byteRemainder;\n\n    var a, b, c, d;\n    var chunk;\n\n    // Main loop deals with bytes in chunks of 3\n    for (var i = 0; i < mainLength; i = i + 3) {\n        // Combine the three bytes into a single integer\n        chunk = (bytes[i] << 16) | (bytes[i + 1] << 8) | bytes[i + 2];\n\n        // Use bitmasks to extract 6-bit segments from the triplet\n        a = (chunk & 16515072) >> 18; // 16515072 = (2^6 - 1) << 18\n        b = (chunk & 258048) >> 12; // 258048   = (2^6 - 1) << 12\n        c = (chunk & 4032) >> 6; // 4032     = (2^6 - 1) << 6\n        d = chunk & 63; // 63       = 2^6 - 1\n\n        // Convert the raw binary segments to the appropriate ASCII encoding\n        base64 += encodings[a] + encodings[b] + encodings[c] + encodings[d];\n    }\n\n    // Deal with the remaining bytes and padding\n    if (byteRemainder == 1) {\n        chunk = bytes[mainLength];\n\n        a = (chunk & 252) >> 2; // 252 = (2^6 - 1) << 2\n\n        // Set the 4 least significant bits to zero\n        b = (chunk & 3) << 4; // 3   = 2^2 - 1\n\n        base64 += encodings[a] + encodings[b] + '==';\n    } else if (byteRemainder == 2) {\n        chunk = (bytes[mainLength] << 8) | bytes[mainLength + 1];\n\n        a = (chunk & 64512) >> 10; // 64512 = (2^6 - 1) << 10\n        b = (chunk & 1008) >> 4; // 1008  = (2^6 - 1) << 4\n\n        // Set the 2 least significant bits to zero\n        c = (chunk & 15) << 2; // 15    = 2^4 - 1\n\n        base64 += encodings[a] + encodings[b] + encodings[c] + '=';\n    }\n\n    return base64;\n}\n","import MimeNode from './mime-node.js';\nimport { textToHtml, htmlToText, formatTextHeader, formatHtmlHeader } from './text-format.js';\nimport addressParser from './address-parser.js';\nimport { decodeWords, textEncoder, blobToArrayBuffer } from './decode-strings.js';\nimport { base64ArrayBuffer } from './base64-encoder.js';\n\nexport { addressParser, decodeWords };\n\nconst MAX_NESTING_DEPTH = 256;\nconst MAX_HEADERS_SIZE = 2 * 1024 * 1024;\n\nexport default class PostalMime {\n    static parse(buf, options) {\n        const parser = new PostalMime(options);\n        return parser.parse(buf);\n    }\n\n    constructor(options) {\n        this.options = options || {};\n        this.mimeOptions = {\n            maxNestingDepth: this.options.maxNestingDepth || MAX_NESTING_DEPTH,\n            maxHeadersSize: this.options.maxHeadersSize || MAX_HEADERS_SIZE\n        };\n\n        this.root = this.currentNode = new MimeNode({\n            postalMime: this,\n            ...this.mimeOptions\n        });\n        this.boundaries = [];\n\n        this.textContent = {};\n        this.attachments = [];\n\n        this.attachmentEncoding =\n            (this.options.attachmentEncoding || '')\n                .toString()\n                .replace(/[-_\\s]/g, '')\n                .trim()\n                .toLowerCase() || 'arraybuffer';\n\n        this.started = false;\n    }\n\n    async finalize() {\n        // close all pending nodes\n        await this.root.finalize();\n    }\n\n    async processLine(line, isFinal) {\n        let boundaries = this.boundaries;\n\n        // check if this is a mime boundary\n        if (boundaries.length && line.length > 2 && line[0] === 0x2d && line[1] === 0x2d) {\n            // could be a boundary marker\n            for (let i = boundaries.length - 1; i >= 0; i--) {\n                let boundary = boundaries[i];\n\n                // Line must be at least long enough for \"--\" + boundary\n                if (line.length < boundary.value.length + 2) {\n                    continue;\n                }\n\n                // Check if boundary value matches\n                let boundaryMatches = true;\n                for (let j = 0; j < boundary.value.length; j++) {\n                    if (line[j + 2] !== boundary.value[j]) {\n                        boundaryMatches = false;\n                        break;\n                    }\n                }\n                if (!boundaryMatches) {\n                    continue;\n                }\n\n                // Check for terminator (-- after boundary) and determine where boundary ends\n                let boundaryEnd = boundary.value.length + 2;\n                let isTerminator = false;\n\n                if (line.length >= boundary.value.length + 4 &&\n                    line[boundary.value.length + 2] === 0x2d &&\n                    line[boundary.value.length + 3] === 0x2d) {\n                    isTerminator = true;\n                    boundaryEnd = boundary.value.length + 4;\n                }\n\n                // RFC 2046: boundary line may have trailing whitespace (space/tab) before CRLF\n                let hasValidTrailing = true;\n                for (let j = boundaryEnd; j < line.length; j++) {\n                    if (line[j] !== 0x20 && line[j] !== 0x09) {\n                        hasValidTrailing = false;\n                        break;\n                    }\n                }\n                if (!hasValidTrailing) {\n                    continue;\n                }\n\n                if (isTerminator) {\n                    await boundary.node.finalize();\n\n                    this.currentNode = boundary.node.parentNode || this.root;\n                } else {\n                    // finalize any open child nodes (should be just one though)\n                    await boundary.node.finalizeChildNodes();\n\n                    this.currentNode = new MimeNode({\n                        postalMime: this,\n                        parentNode: boundary.node,\n                        parentMultipartType: boundary.node.contentType.multipart,\n                        ...this.mimeOptions\n                    });\n                }\n\n                if (isFinal) {\n                    return this.finalize();\n                }\n\n                return;\n            }\n        }\n\n        this.currentNode.feed(line);\n\n        if (isFinal) {\n            return this.finalize();\n        }\n    }\n\n    readLine() {\n        let startPos = this.readPos;\n        let endPos = this.readPos;\n\n        let res = () => {\n            return {\n                bytes: new Uint8Array(this.buf, startPos, endPos - startPos),\n                done: this.readPos >= this.av.length\n            };\n        };\n\n        while (this.readPos < this.av.length) {\n            const c = this.av[this.readPos++];\n\n            if (c !== 0x0d && c !== 0x0a) {\n                endPos = this.readPos;\n            }\n\n            if (c === 0x0a) {\n                return res();\n            }\n        }\n\n        return res();\n    }\n\n    async processNodeTree() {\n        // get text nodes\n\n        let textContent = {};\n\n        let textTypes = new Set();\n        let textMap = (this.textMap = new Map());\n\n        let forceRfc822Attachments = this.forceRfc822Attachments();\n\n        let walk = async (node, alternative, related) => {\n            alternative = alternative || false;\n            related = related || false;\n\n            if (!node.contentType.multipart) {\n                // is it inline message/rfc822\n                if (this.isInlineMessageRfc822(node) && !forceRfc822Attachments) {\n                    const subParser = new PostalMime();\n                    node.subMessage = await subParser.parse(node.content);\n\n                    if (!textMap.has(node)) {\n                        textMap.set(node, {});\n                    }\n\n                    let textEntry = textMap.get(node);\n\n                    // default to text if there is no content\n                    if (node.subMessage.text || !node.subMessage.html) {\n                        textEntry.plain = textEntry.plain || [];\n                        textEntry.plain.push({ type: 'subMessage', value: node.subMessage });\n                        textTypes.add('plain');\n                    }\n\n                    if (node.subMessage.html) {\n                        textEntry.html = textEntry.html || [];\n                        textEntry.html.push({ type: 'subMessage', value: node.subMessage });\n                        textTypes.add('html');\n                    }\n\n                    if (subParser.textMap) {\n                        subParser.textMap.forEach((subTextEntry, subTextNode) => {\n                            textMap.set(subTextNode, subTextEntry);\n                        });\n                    }\n\n                    for (let attachment of node.subMessage.attachments || []) {\n                        this.attachments.push(attachment);\n                    }\n                }\n\n                // is it text?\n                else if (this.isInlineTextNode(node)) {\n                    let textType = node.contentType.parsed.value.substr(node.contentType.parsed.value.indexOf('/') + 1);\n\n                    let selectorNode = alternative || node;\n                    if (!textMap.has(selectorNode)) {\n                        textMap.set(selectorNode, {});\n                    }\n\n                    let textEntry = textMap.get(selectorNode);\n                    textEntry[textType] = textEntry[textType] || [];\n                    textEntry[textType].push({ type: 'text', value: node.getTextContent() });\n                    textTypes.add(textType);\n                }\n\n                // is it an attachment\n                else if (node.content) {\n                    const filename =\n                        node.contentDisposition?.parsed?.params?.filename || node.contentType.parsed.params.name || null;\n                    const attachment = {\n                        filename: filename ? decodeWords(filename) : null,\n                        mimeType: node.contentType.parsed.value,\n                        disposition: node.contentDisposition?.parsed?.value || null\n                    };\n\n                    if (related && node.contentId) {\n                        attachment.related = true;\n                    }\n\n                    if (node.contentDescription) {\n                        attachment.description = node.contentDescription;\n                    }\n\n                    if (node.contentId) {\n                        attachment.contentId = node.contentId;\n                    }\n\n                    switch (node.contentType.parsed.value) {\n                        // Special handling for calendar events\n                        case 'text/calendar':\n                        case 'application/ics': {\n                            if (node.contentType.parsed.params.method) {\n                                attachment.method = node.contentType.parsed.params.method\n                                    .toString()\n                                    .toUpperCase()\n                                    .trim();\n                            }\n\n                            // Enforce into unicode\n                            const decodedText = node.getTextContent().replace(/\\r?\\n/g, '\\n').replace(/\\n*$/, '\\n');\n                            attachment.content = textEncoder.encode(decodedText);\n                            break;\n                        }\n\n                        // Regular attachments\n                        default:\n                            attachment.content = node.content;\n                    }\n\n                    this.attachments.push(attachment);\n                }\n            } else if (node.contentType.multipart === 'alternative') {\n                alternative = node;\n            } else if (node.contentType.multipart === 'related') {\n                related = node;\n            }\n\n            for (let childNode of node.childNodes) {\n                await walk(childNode, alternative, related);\n            }\n        };\n\n        await walk(this.root, false, []);\n\n        textMap.forEach(mapEntry => {\n            textTypes.forEach(textType => {\n                if (!textContent[textType]) {\n                    textContent[textType] = [];\n                }\n\n                if (mapEntry[textType]) {\n                    mapEntry[textType].forEach(textEntry => {\n                        switch (textEntry.type) {\n                            case 'text':\n                                textContent[textType].push(textEntry.value);\n                                break;\n\n                            case 'subMessage':\n                                {\n                                    switch (textType) {\n                                        case 'html':\n                                            textContent[textType].push(formatHtmlHeader(textEntry.value));\n                                            break;\n                                        case 'plain':\n                                            textContent[textType].push(formatTextHeader(textEntry.value));\n                                            break;\n                                    }\n                                }\n                                break;\n                        }\n                    });\n                } else {\n                    let alternativeType;\n                    switch (textType) {\n                        case 'html':\n                            alternativeType = 'plain';\n                            break;\n                        case 'plain':\n                            alternativeType = 'html';\n                            break;\n                    }\n\n                    (mapEntry[alternativeType] || []).forEach(textEntry => {\n                        switch (textEntry.type) {\n                            case 'text':\n                                switch (textType) {\n                                    case 'html':\n                                        textContent[textType].push(textToHtml(textEntry.value));\n                                        break;\n                                    case 'plain':\n                                        textContent[textType].push(htmlToText(textEntry.value));\n                                        break;\n                                }\n                                break;\n\n                            case 'subMessage':\n                                {\n                                    switch (textType) {\n                                        case 'html':\n                                            textContent[textType].push(formatHtmlHeader(textEntry.value));\n                                            break;\n                                        case 'plain':\n                                            textContent[textType].push(formatTextHeader(textEntry.value));\n                                            break;\n                                    }\n                                }\n                                break;\n                        }\n                    });\n                }\n            });\n        });\n\n        Object.keys(textContent).forEach(textType => {\n            textContent[textType] = textContent[textType].join('\\n');\n        });\n\n        this.textContent = textContent;\n    }\n\n    isInlineTextNode(node) {\n        if (node.contentDisposition?.parsed?.value === 'attachment') {\n            // no matter the type, this is an attachment\n            return false;\n        }\n\n        switch (node.contentType.parsed?.value) {\n            case 'text/html':\n            case 'text/plain':\n                return true;\n\n            case 'text/calendar':\n            case 'text/csv':\n            default:\n                return false;\n        }\n    }\n\n    isInlineMessageRfc822(node) {\n        if (node.contentType.parsed?.value !== 'message/rfc822') {\n            return false;\n        }\n        let disposition =\n            node.contentDisposition?.parsed?.value || (this.options.rfc822Attachments ? 'attachment' : 'inline');\n        return disposition === 'inline';\n    }\n\n    // Check if this is a specially crafted report email where message/rfc822 content should not be inlined\n    forceRfc822Attachments() {\n        if (this.options.forceRfc822Attachments) {\n            return true;\n        }\n\n        let forceRfc822Attachments = false;\n        let walk = node => {\n            if (!node.contentType.multipart) {\n                if (\n                    node.contentType.parsed &&\n                    ['message/delivery-status', 'message/feedback-report'].includes(node.contentType.parsed.value)\n                ) {\n                    forceRfc822Attachments = true;\n                }\n            }\n\n            for (let childNode of node.childNodes) {\n                walk(childNode);\n            }\n        };\n        walk(this.root);\n        return forceRfc822Attachments;\n    }\n\n    async resolveStream(stream) {\n        let chunkLen = 0;\n        let chunks = [];\n        const reader = stream.getReader();\n\n        while (true) {\n            const { done, value } = await reader.read();\n            if (done) {\n                break;\n            }\n            chunks.push(value);\n            chunkLen += value.length;\n        }\n\n        const result = new Uint8Array(chunkLen);\n        let chunkPointer = 0;\n        for (let chunk of chunks) {\n            result.set(chunk, chunkPointer);\n            chunkPointer += chunk.length;\n        }\n\n        return result;\n    }\n\n    async parse(buf) {\n        if (this.started) {\n            throw new Error('Can not reuse parser, create a new PostalMime object');\n        }\n        this.started = true;\n\n        // Check if the input is a readable stream and resolve it into an ArrayBuffer\n        if (buf && typeof buf.getReader === 'function') {\n            buf = await this.resolveStream(buf);\n        }\n\n        // Should it throw for an empty value instead of defaulting to an empty ArrayBuffer?\n        buf = buf || new ArrayBuffer(0);\n\n        // Cast string input to Uint8Array\n        if (typeof buf === 'string') {\n            buf = textEncoder.encode(buf);\n        }\n\n        // Cast Blob to ArrayBuffer\n        if (buf instanceof Blob || Object.prototype.toString.call(buf) === '[object Blob]') {\n            buf = await blobToArrayBuffer(buf);\n        }\n\n        // Cast Node.js Buffer object or Uint8Array into ArrayBuffer\n        if (buf.buffer instanceof ArrayBuffer) {\n            buf = new Uint8Array(buf).buffer;\n        }\n\n        this.buf = buf;\n\n        this.av = new Uint8Array(buf);\n        this.readPos = 0;\n\n        while (this.readPos < this.av.length) {\n            const line = this.readLine();\n\n            await this.processLine(line.bytes, line.done);\n        }\n\n        await this.processNodeTree();\n\n        const message = {\n            headers: this.root.headers.map(entry => ({ key: entry.key, value: entry.value })).reverse()\n        };\n\n        for (const key of ['from', 'sender']) {\n            const addressHeader = this.root.headers.find(line => line.key === key);\n            if (addressHeader && addressHeader.value) {\n                const addresses = addressParser(addressHeader.value);\n                if (addresses && addresses.length) {\n                    message[key] = addresses[0];\n                }\n            }\n        }\n\n        for (const key of ['delivered-to', 'return-path']) {\n            const addressHeader = this.root.headers.find(line => line.key === key);\n            if (addressHeader && addressHeader.value) {\n                const addresses = addressParser(addressHeader.value);\n                if (addresses && addresses.length && addresses[0].address) {\n                    const camelKey = key.replace(/\\-(.)/g, (o, c) => c.toUpperCase());\n                    message[camelKey] = addresses[0].address;\n                }\n            }\n        }\n\n        for (const key of ['to', 'cc', 'bcc', 'reply-to']) {\n            const addressHeaders = this.root.headers.filter(line => line.key === key);\n            let addresses = [];\n\n            addressHeaders\n                .filter(entry => entry && entry.value)\n                .map(entry => addressParser(entry.value))\n                .forEach(parsed => (addresses = addresses.concat(parsed || [])));\n\n            if (addresses && addresses.length) {\n                const camelKey = key.replace(/\\-(.)/g, (o, c) => c.toUpperCase());\n                message[camelKey] = addresses;\n            }\n        }\n\n        for (const key of ['subject', 'message-id', 'in-reply-to', 'references']) {\n            const header = this.root.headers.find(line => line.key === key);\n            if (header && header.value) {\n                const camelKey = key.replace(/\\-(.)/g, (o, c) => c.toUpperCase());\n                message[camelKey] = decodeWords(header.value);\n            }\n        }\n\n        let dateHeader = this.root.headers.find(line => line.key === 'date');\n        if (dateHeader) {\n            let date = new Date(dateHeader.value);\n            if (!date || date.toString() === 'Invalid Date') {\n                date = dateHeader.value;\n            } else {\n                // enforce ISO format if seems to be a valid date\n                date = date.toISOString();\n            }\n            message.date = date;\n        }\n\n        if (this.textContent?.html) {\n            message.html = this.textContent.html;\n        }\n\n        if (this.textContent?.plain) {\n            message.text = this.textContent.plain;\n        }\n\n        message.attachments = this.attachments;\n\n        // Expose raw header lines (reversed to match headers array order)\n        message.headerLines = (this.root.rawHeaderLines || []).slice().reverse();\n\n        switch (this.attachmentEncoding) {\n            case 'arraybuffer':\n                break;\n\n            case 'base64':\n                for (let attachment of message.attachments || []) {\n                    if (attachment?.content) {\n                        attachment.content = base64ArrayBuffer(attachment.content);\n                        attachment.encoding = 'base64';\n                    }\n                }\n                break;\n\n            case 'utf8':\n                let attachmentDecoder = new TextDecoder('utf8');\n                for (let attachment of message.attachments || []) {\n                    if (attachment?.content) {\n                        attachment.content = attachmentDecoder.decode(attachment.content);\n                        attachment.encoding = 'utf8';\n                    }\n                }\n                break;\n\n            default:\n                throw new Error('Unknwon attachment encoding');\n        }\n\n        return message;\n    }\n}\n","import PostalMime from 'postal-mime';\nimport { Email } from '../../util/email';\n\n/**\n * Email loading/parsing helpers for `limel-file-viewer`.\n *\n * Parses an RFC 5322 / MIME email message (commonly stored as a `.eml` file)\n * and returns a simplified `Email` view-model.\n */\n\n/**\n * Fetches and parses an email message.\n *\n * - Prefers `email.html` if present, otherwise falls back to `email.text`.\n * - Attempts to resolve inline images referenced via `cid:` by replacing\n *   `<img src=\"cid:...\">` with `data:` URLs generated from inline attachments.\n *\n * @param url - URL to an email message, usually ending in `.eml`.\n * @returns A simplified `Email` object for rendering.\n */\nexport async function loadEmail(url: string): Promise<Email> {\n    const buffer = await fetchEmailBuffer(url);\n    const email = await parseEmail(url, buffer);\n\n    const parsedEmail: Email = {\n        subject: email.subject || undefined,\n        from: formatAddress(email.from),\n        to: formatAddresses(email.to),\n        cc: formatAddresses(email.cc),\n        date: email.date || undefined,\n    };\n\n    const { attachments, cidUrlById } = extractAttachments(email);\n    if (attachments.length > 0) {\n        parsedEmail.attachments = attachments;\n    }\n\n    await applyBody(parsedEmail, email, cidUrlById);\n\n    return parsedEmail;\n}\n\nasync function fetchEmailBuffer(url: string): Promise<ArrayBuffer> {\n    try {\n        const response = await fetch(url);\n\n        if (!response.ok) {\n            throw new Error(\n                `Failed to fetch email (${response.status} ${response.statusText})`\n            );\n        }\n\n        return await response.arrayBuffer();\n    } catch (error) {\n        const message = error instanceof Error ? error.message : String(error);\n        throw new Error(`Failed to load email from ${url}: ${message}`);\n    }\n}\n\nasync function parseEmail(url: string, buffer: ArrayBuffer): Promise<any> {\n    try {\n        return await PostalMime.parse(buffer, {\n            attachmentEncoding: 'arraybuffer',\n        });\n    } catch (error) {\n        const message = error instanceof Error ? error.message : String(error);\n        throw new Error(`Failed to parse email from ${url}: ${message}`);\n    }\n}\n\nfunction extractAttachments(email: any): {\n    attachments: Email['attachments'];\n    cidUrlById: Map<string, string>;\n} {\n    const attachments: Email['attachments'] = [];\n    const cidUrlById = new Map<string, string>();\n\n    for (const attachment of email.attachments || []) {\n        const contentId = normalizeContentId(attachment.contentId);\n        const isInline =\n            attachment.related || attachment.disposition === 'inline';\n\n        if (!isInline) {\n            const size =\n                attachment.content instanceof ArrayBuffer\n                    ? attachment.content.byteLength\n                    : undefined;\n\n            attachments.push({\n                filename: attachment.filename || undefined,\n                mimeType: attachment.mimeType || undefined,\n                size,\n            });\n            continue;\n        }\n\n        if (!contentId) {\n            continue;\n        }\n\n        if (!(attachment.content instanceof ArrayBuffer)) {\n            continue;\n        }\n\n        const mimeType = attachment.mimeType || 'application/octet-stream';\n        const base64 = arrayBufferToBase64(attachment.content);\n        const dataUrl = `data:${mimeType};base64,${base64}`;\n        cidUrlById.set(contentId, dataUrl);\n    }\n\n    return { attachments, cidUrlById };\n}\n\nasync function applyBody(\n    parsedEmail: Email,\n    email: any,\n    cidUrlById: Map<string, string>\n) {\n    const html = (email.html || '').trim();\n    if (html) {\n        const withCidsResolved = replaceCidReferences(html, cidUrlById);\n        const { sanitizeEmailHTML } = await import(\n            '../../util/sanitize-email-html'\n        );\n        parsedEmail.bodyHtml = await sanitizeEmailHTML(withCidsResolved);\n        return;\n    }\n\n    parsedEmail.bodyText = (email.text || '').trim() || undefined;\n}\n\n/**\n * Normalizes a Content-ID by removing surrounding angle brackets.\n *\n * Example: `<image@id>` -> `image@id`\n *\n * @param contentId - The Content-ID to normalize, optionally surrounded by angle brackets.\n */\nfunction normalizeContentId(contentId?: string): string {\n    if (!contentId) {\n        return '';\n    }\n\n    let normalized = contentId.trim();\n\n    if (normalized.startsWith('<')) {\n        normalized = normalized.slice(1);\n    }\n\n    if (normalized.endsWith('>')) {\n        normalized = normalized.slice(0, -1);\n    }\n\n    return normalized.trim();\n}\n\nfunction replaceCidReferences(\n    html: string,\n    cidUrlById: Map<string, string>\n): string {\n    if (cidUrlById.size === 0) {\n        return html;\n    }\n\n    return html.replaceAll(\n        /(src\\s*=\\s*[\"']?)cid:([^\"'\\s>]+)([\"']?)/gi,\n        (match, prefix, cid, suffix) => {\n            const normalized = normalizeContentId(cid);\n            const replacement = cidUrlById.get(normalized);\n            if (!replacement) {\n                return match;\n            }\n\n            return `${prefix}${replacement}${suffix}`;\n        }\n    );\n}\n\nfunction arrayBufferToBase64(buffer: ArrayBuffer): string {\n    const bytes = new Uint8Array(buffer);\n\n    if (typeof btoa === 'function') {\n        let binary = '';\n        for (const byte of bytes) {\n            binary += String.fromCodePoint(byte);\n        }\n        return btoa(binary);\n    }\n\n    // Jest/Node fallback\n    return (globalThis as any).Buffer.from(bytes).toString('base64');\n}\n\nfunction isNonEmptyString(value: unknown): value is string {\n    return typeof value === 'string' && value.length > 0;\n}\n\n/**\n * Formats one or many address objects returned by PostalMime.\n *\n * @param addresses - Address object(s) to format.\n * @returns Formatted address string, or undefined if no valid addresses.\n */\nfunction formatAddresses(addresses: any): string | undefined {\n    if (!addresses) {\n        return undefined;\n    }\n\n    const list = Array.isArray(addresses) ? addresses : [addresses];\n    const parts = list\n        .map((addr) => formatAddress(addr))\n        .filter(isNonEmptyString);\n\n    return parts.length > 0 ? parts.join(', ') : undefined;\n}\n\nfunction formatAddress(address: any): string | undefined {\n    if (!address) {\n        return undefined;\n    }\n\n    if (Array.isArray(address)) {\n        return formatAddresses(address);\n    }\n\n    if (address.group && Array.isArray(address.group)) {\n        const groupName = (address.name || '').trim();\n        const groupMembers = address.group\n            .map((m) => formatAddress(m))\n            .filter(isNonEmptyString)\n            .join(', ');\n\n        if (groupName && groupMembers) {\n            return `${groupName}: ${groupMembers}`;\n        }\n\n        return groupName || groupMembers || undefined;\n    }\n\n    const name = (address.name || '').trim();\n    const email = (address.address || '').trim();\n\n    if (name && email) {\n        const displayName = quoteDisplayNameIfNeeded(name);\n        return `${displayName} <${email}>`;\n    }\n\n    return name || email || undefined;\n}\n\nfunction quoteDisplayNameIfNeeded(name: string): string {\n    if (!name) {\n        return '';\n    }\n\n    // If the display name contains a comma, it must be quoted for safe parsing\n    // of comma-separated address lists.\n    if (!name.includes(',') && !name.includes('\"')) {\n        return name;\n    }\n\n    const escaped = name\n        .replaceAll('\\\\', '\\\\\\\\')\n        .replaceAll('\"', String.raw`\\\"`);\n    return `\"${escaped}\"`;\n}\n","@use '../../style/internal/shared_input-select-picker';\n@use '../../style/mixins';\n\n$size-of-buttons: 2rem;\n\n:host {\n    isolation: isolate;\n    position: relative;\n    box-sizing: border-box;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: 100%;\n    height: 100%;\n}\n\n* {\n    box-sizing: border-box;\n}\n\nimg,\nvideo,\naudio,\nobject,\niframe {\n    max-height: 100%;\n    max-width: 100%;\n    box-sizing: border-box;\n}\n\niframe {\n    border: none;\n    width: 100%;\n    height: 100%;\n    min-height: 20rem; // makes sure to get minimum comfortable space for viewing office files, and Microsoft Office viewers toolbars\n}\n\nimg {\n    min-width: 7rem;\n    object-fit: contain; // increases or decreases the size of the image to fill the box whilst preserving its aspect-ratio.\n}\n\nvideo {\n    width: 100%;\n    height: auto;\n}\n\naudio {\n    width: 100%;\n}\n\nobject {\n    width: 100%;\n    height: 100%;\n}\n\nobject[type='application/pdf'] {\n    min-height: 20rem;\n    // makes sure to get browsers' native controls for the PDF\n}\n\nobject[type='text/plain'] {\n    border-radius: 0.25rem;\n    padding-right: $size-of-buttons;\n\n    overflow-y: auto;\n}\n\n@mixin plain-text-in-fullscreen {\n    background-color: rgb(var(--color-gray-darker));\n\n    object[type='text/plain'] {\n        max-width: 50rem;\n        max-height: calc(100% - 2rem);\n    }\n}\n\n:host(:fullscreen) {\n    @include plain-text-in-fullscreen;\n}\n:host(:-webkit-full-screen) {\n    // this is repetition of the previous block,\n    // but needed for Safari to work.\n    // Cannot write SCSS rules for `:host` using commas for some reason.\n    // e.g.: `:host(:fullscreen), :host(:-webkit-full-screen)`.\n    // So you have to repeat it sadly.\n    @include plain-text-in-fullscreen;\n}\n\n@import './partial-styles/ui-controls.scss';\n","import {\n    Component,\n    Element,\n    h,\n    Prop,\n    State,\n    Event,\n    EventEmitter,\n    Watch,\n} from '@stencil/core';\nimport { Languages } from '../date-picker/date.types';\nimport { ListItem } from '../list-item/list-item.types';\nimport translate from '../../global/translations';\nimport { detectExtension } from './extension-mapping';\nimport { Fullscreen } from './fullscreen';\nimport { FileType, OfficeViewer } from './file-viewer.types';\nimport { LimelMenuCustomEvent } from '../../components';\nimport { Email } from '../../util/email';\nimport { loadEmail } from './email-loader';\n\n/**\n * This is a smart component that automatically detects\n * the most common file types such as image, audio, video, and text,\n * and properly displays them in the browser.\n * The component is also capable to render the most common office files.\n *\n * :::note\n * Image files will always be contained in their containers, which means\n * they automatically increase or decrease in size to fill their containing box\n * whilst preserving their aspect-ratio.\n *\n * Text and PDF files will also always respect the width and height of the\n * container in which the `limel-file-viewer` is loaded.\n * :::\n *\n * For some file types such as text and images, the component will display a\n * download button and a button to open the file in a new browser tab.\n * This will allow users to preview the file in a fullscreen mode with the\n * browser and take advantage of for example native zooming and panning\n * functionalities.\n *\n * @exampleComponent limel-example-file-viewer-basic\n * @exampleComponent limel-example-file-viewer-office\n * @exampleComponent limel-example-file-viewer-eml\n * @exampleComponent limel-example-file-viewer-filename\n * @exampleComponent limel-example-file-viewer-inbuilt-actions\n * @exampleComponent limel-example-file-viewer-custom-actions\n * @exampleComponent limel-example-file-viewer-with-picker\n *\n * @beta\n */\n\n@Component({\n    tag: 'limel-file-viewer',\n    shadow: true,\n    styleUrl: 'file-viewer.scss',\n})\nexport class FileViewer {\n    /**\n     * Link to the file\n     */\n    @Prop({ reflect: true })\n    public url: string;\n\n    /**\n     * The name of the file that must also contains its extension.\n     * This overrides the filename that the `url` ends with.\n     * Useful when the `url` does not contain the filename.\n     * When specified, the `filename` will be used as filename of\n     * the downloaded file.\n     */\n    @Prop({ reflect: true })\n    public filename?: string;\n\n    /**\n     * An optional alternative text, mainly for assistive technologies and screen readers.\n     * It is used for only image files, as an `alt` attribute.\n     * Should optimally hold a description of the image,\n     * which is also displayed on the page if the image can't be loaded for some reason.\n     */\n    @Prop({ reflect: true })\n    public alt?: string;\n\n    /**\n     * Displays a button that allows the user to view the file\n     * in fullscreen mode.\n     * Not displayed for office files!\n     */\n    @Prop({ reflect: true })\n    public allowFullscreen?: boolean = false;\n\n    /**\n     * Displays a button that allows the user to open the file\n     * in a new browser tab.\n     * Not displayed for office files!\n     */\n    @Prop({ reflect: true })\n    public allowOpenInNewTab?: boolean = false;\n\n    /**\n     * Displays a button that allows the user to download the file.\n     * Note that due to the browser's security policies,\n     * the file should be hosted on the same domain\n     * for the download button to work properly.\n     * Not displayed for office files!\n     */\n    @Prop({ reflect: true })\n    public allowDownload?: boolean = false;\n\n    /**\n     * Defines the localization for translations.\n     */\n    @Prop()\n    public language: Languages = 'en';\n\n    /**\n     * Defines the third-party viewer that should be used to render\n     * the content of office files, such as word processing documents,\n     * presentations, or spreadsheets.\n     */\n    @Prop({ reflect: true })\n    public officeViewer: OfficeViewer = 'microsoft-office';\n\n    /**\n     * An array of custom actions that can be displayed\n     * as an action menu on the file which is being displayed.\n     */\n    @Prop()\n    public actions: ListItem[];\n\n    /**\n     * Emitted when a custom action is selected from the action menu.\n     */\n    @Event()\n    public action: EventEmitter<ListItem>;\n\n    @Element()\n    public HostElement: HTMLLimelFileViewerElement;\n\n    private fullscreen: Fullscreen;\n\n    @State()\n    private isFullscreen: boolean = false;\n\n    @State()\n    private fileType: FileType;\n\n    private createdObjectUrls: string[] = [];\n    private email?: Email;\n\n    /**\n     * True while the file is being loaded.\n     */\n    @State()\n    private loading: boolean = true;\n\n    @State()\n    private fileUrl: string = '';\n\n    constructor() {\n        this.fullscreen = new Fullscreen(this.HostElement);\n    }\n\n    public disconnectedCallback() {\n        this.revokeCreatedObjectUrls();\n    }\n\n    public async componentWillLoad() {\n        this.fileType = detectExtension(this.filename, this.url);\n        await this.createURL(this.fileType);\n    }\n\n    public render() {\n        if (!this.isOfficeFileAccessibleViaURL) {\n            return this.renderNoFileSupportMessage();\n        }\n\n        if (this.loading) {\n            return <limel-spinner size=\"x-small\" limeBranded={false} />;\n        }\n\n        return this.renderFileViewer();\n    }\n\n    @Watch('url')\n    protected async watchUrl(newUrl: string, oldUrl: string) {\n        if (newUrl === oldUrl) {\n            return;\n        }\n\n        this.loading = true;\n        this.fileType = detectExtension(this.filename, this.fileUrl);\n        await this.createURL(this.fileType);\n    }\n\n    private renderFileViewer() {\n        const fileViewerFunctions = {\n            pdf: this.renderPdf,\n            image: this.renderImage,\n            video: this.renderVideo,\n            audio: this.renderAudio,\n            text: this.renderText,\n            email: this.renderEmail,\n            office: this.renderOffice,\n        };\n        const fileViewerFunction =\n            fileViewerFunctions[this.fileType] ||\n            this.renderNoFileSupportMessage;\n\n        return fileViewerFunction();\n    }\n\n    private renderPdf = () => {\n        return [\n            <div class=\"action-menu-for-pdf-files\">\n                {this.renderActionMenu()}\n            </div>,\n            <iframe src={this.sanitizeUrl(this.fileUrl)} loading=\"lazy\" />,\n        ];\n    };\n\n    private renderImage = () => {\n        return [\n            this.renderButtons(),\n            <img\n                src={this.sanitizeUrl(this.fileUrl)}\n                alt={this.alt}\n                loading=\"lazy\"\n            />,\n        ];\n    };\n\n    private renderVideo = () => {\n        return (\n            <video controls>\n                <source src={this.sanitizeUrl(this.fileUrl)} />\n            </video>\n        );\n    };\n\n    private renderAudio = () => {\n        return (\n            <audio controls>\n                <source src={this.sanitizeUrl(this.fileUrl)} />\n            </audio>\n        );\n    };\n\n    private renderText = () => {\n        const fallbackContent = [this.renderNoFileSupportMessage()];\n\n        return [\n            this.renderButtons(),\n            <object data={this.sanitizeUrl(this.fileUrl)} type=\"text/plain\">\n                {fallbackContent}\n            </object>,\n        ];\n    };\n\n    private renderEmail = () => {\n        return [\n            this.renderButtons(),\n            <limel-email-viewer\n                subject={this.email?.subject}\n                from={this.email?.from}\n                to={this.email?.to}\n                cc={this.email?.cc}\n                date={this.email?.date}\n                bodyHtml={this.email?.bodyHtml}\n                bodyText={this.email?.bodyText}\n                attachments={this.email?.attachments}\n                fallbackUrl={this.sanitizeUrl(this.fileUrl)}\n                language={this.language}\n            >\n                <div slot=\"fallback\">{this.renderNoFileSupportMessage()}</div>\n            </limel-email-viewer>,\n        ];\n    };\n\n    private renderOffice = () => {\n        return [\n            <div class=\"action-menu-for-office-files\">\n                {this.renderActionMenu()}\n            </div>,\n            <iframe\n                src={\n                    this.getOfficeViewerUrl() +\n                    encodeURIComponent(this.sanitizeUrl(this.fileUrl)) +\n                    '&embedded=true'\n                }\n                loading=\"lazy\"\n            />,\n        ];\n    };\n\n    private isOfficeFileAccessibleViaURL = () => {\n        return (\n            this.fileType === 'office' &&\n            !(\n                this.fileUrl.startsWith('http://') ||\n                this.fileUrl.startsWith('https://')\n            )\n        );\n    };\n\n    private getOfficeViewerUrl = () => {\n        const officeViewers = {\n            'microsoft-office':\n                'https://view.officeapps.live.com/op/embed.aspx?src=',\n            'google-drive': 'https://docs.google.com/gview?url=',\n        };\n\n        return officeViewers[this.officeViewer];\n    };\n\n    private renderNoFileSupportMessage = () => {\n        return (\n            <div class=\"no-support\" role=\"alert\">\n                <h1></h1>\n                <p>\n                    {this.getTranslation(\n                        'file-viewer.message.unsupported-filetype'\n                    )}\n                </p>\n                <p style={{ textAlign: 'center', margin: '0 auto' }}>\n                    {this.getTranslation(\n                        'file-viewer.message.try-other-options'\n                    )}\n                </p>\n                {this.renderDownloadButton()}\n            </div>\n        );\n    };\n\n    private renderButtons = () => {\n        return (\n            <div class=\"buttons\">\n                {this.renderActionMenu()}\n                {this.renderToggleFullscreenButton()}\n                {this.renderDownloadButton()}\n                {this.renderOpenInNewTabButton()}\n            </div>\n        );\n    };\n\n    private renderToggleFullscreenButton = () => {\n        if (!this.allowFullscreen || !this.fullscreen.isSupported()) {\n            return;\n        }\n\n        const icon = this.isFullscreen ? 'multiply' : 'fit_to_width';\n\n        const label = this.isFullscreen\n            ? this.getTranslation('file-viewer.exit-fullscreen')\n            : this.getTranslation('file-viewer.open-in-fullscreen');\n\n        return [\n            <button\n                class=\"button--toggle-fullscreen\"\n                id=\"tooltip-toggle-fullscreen\"\n                role=\"button\"\n                onClick={this.handleToggleFullscreen}\n            >\n                <limel-icon name={icon} />\n                <limel-tooltip\n                    label={label}\n                    elementId=\"tooltip-toggle-fullscreen\"\n                    openDirection=\"left\"\n                />\n            </button>,\n        ];\n    };\n\n    private renderDownloadButton = () => {\n        if (!this.allowDownload || this.isFullscreen) {\n            return;\n        }\n\n        return (\n            <a\n                class=\"button--download\"\n                id=\"tooltip-download\"\n                role=\"button\"\n                download={this.filename ?? ''}\n                href={this.sanitizeUrl(this.fileUrl)}\n                target=\"_blank\"\n            >\n                <limel-icon name=\"download_2\" />\n                <limel-tooltip\n                    label={this.getTranslation('file-viewer.download')}\n                    elementId=\"tooltip-download\"\n                    openDirection=\"left\"\n                />\n            </a>\n        );\n    };\n\n    private renderOpenInNewTabButton = () => {\n        if (!this.allowOpenInNewTab || this.isFullscreen) {\n            return;\n        }\n\n        return (\n            <a\n                class=\"button--new-tab\"\n                id=\"tooltip-new-tab\"\n                role=\"button\"\n                href={this.sanitizeUrl(this.fileUrl)}\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n            >\n                <limel-icon name=\"external_link\" />\n                <limel-tooltip\n                    label={this.getTranslation('file-viewer.open-in-new-tab')}\n                    elementId=\"tooltip-new-tab\"\n                    openDirection=\"left\"\n                />\n            </a>\n        );\n    };\n\n    private renderActionMenu = () => {\n        if (!this.actions || this.isFullscreen) {\n            return;\n        }\n\n        return (\n            <limel-menu\n                class=\"action-menu\"\n                items={this.actions}\n                onSelect={this.emitOnAction}\n                open-direction=\"left\"\n            >\n                <button\n                    class=\"button--action\"\n                    id=\"tooltip-more\"\n                    role=\"button\"\n                    slot=\"trigger\"\n                >\n                    <limel-icon name=\"menu_2\" />\n                    <limel-tooltip\n                        label={this.getTranslation('file-viewer.more-actions')}\n                        elementId=\"tooltip-more\"\n                        openDirection=\"left\"\n                    />\n                </button>\n            </limel-menu>\n        );\n    };\n\n    private createURL = async (fileType: string) => {\n        this.revokeCreatedObjectUrls();\n\n        try {\n            if (fileType === 'pdf') {\n                const response = await fetch(this.url);\n                const blob = await response.blob();\n\n                this.fileUrl = URL.createObjectURL(blob);\n                this.createdObjectUrls.push(this.fileUrl);\n            } else if (fileType === 'email') {\n                try {\n                    this.email = await loadEmail(this.url);\n                    this.fileUrl = this.url;\n                } catch {\n                    this.email = undefined;\n                    this.fileUrl = '';\n                }\n            } else {\n                this.fileUrl = this.url;\n            }\n        } finally {\n            this.loading = false;\n        }\n    };\n\n    private revokeCreatedObjectUrls() {\n        for (const url of this.createdObjectUrls) {\n            try {\n                URL.revokeObjectURL(url);\n            } catch {\n                // ignore\n            }\n        }\n\n        this.createdObjectUrls = [];\n    }\n\n    private handleToggleFullscreen = () => {\n        if (this.fullscreen.isSupported()) {\n            this.fullscreen.toggle();\n            this.isFullscreen = !this.isFullscreen;\n        }\n    };\n\n    private emitOnAction = (event: LimelMenuCustomEvent<ListItem>) => {\n        event.stopPropagation();\n        this.action.emit(event.detail);\n    };\n\n    private sanitizeUrl(url: string): string {\n        try {\n            const u = new URL(url, window.location.href);\n            const allowed = ['http:', 'https:', 'blob:'];\n            return allowed.includes(u.protocol) ? u.href : '';\n        } catch {\n            return '';\n        }\n    }\n\n    private getTranslation(key: string) {\n        return translate.get(key, this.language);\n    }\n}\n"],"mappings":"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"}