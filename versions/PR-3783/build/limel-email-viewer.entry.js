import{r as e,h as i}from"./index-0c4503aa.js";import{t}from"./translations-365084a8.js";const a=':host(limel-email-viewer){display:block;width:100%;height:100%;box-sizing:border-box}*{box-sizing:border-box;min-width:0;min-height:0}.email{display:flex;flex-direction:column;gap:0.5rem;width:100%;height:100%;padding:0.5rem 0;box-shadow:var(--shadow-depth-8)}.email-headers{display:flex;flex-direction:column;padding-bottom:0.75rem;border-bottom:1px dashed rgba(var(--contrast-600))}.email-headers dl{all:unset;display:flex;flex-wrap:wrap;gap:0 0.5rem;padding:0.5rem 0.75rem}.email-headers dl:nth-child(even){background-color:rgb(var(--contrast-800), 0.1)}.email-headers dl dt{all:unset;opacity:0.6;font-size:var(--limel-theme-small-font-size);min-width:3rem}.email-headers dl dt:after{content:":"}.email-headers dl dd{all:unset;font-size:var(--limel-theme-default-font-size)}.email-headers dl dd:not(:last-child):after{content:",";opacity:0.6}.email-headers dl.subject dd{font-weight:bold}.body{max-width:100%;padding:0.75rem}.body.plain-text{all:unset;white-space:pre-wrap;overflow-wrap:anywhere;margin:0;font-family:inherit;max-width:100%;padding:0.75rem}.body img{max-width:100% !important}';const r=class{constructor(i){e(this,i);this.date=undefined;this.from=undefined;this.to=undefined;this.cc=undefined;this.subject=undefined;this.bodyHtml=undefined;this.bodyText=undefined;this.fallbackUrl=undefined;this.language="en"}render(){return i("div",{class:"email",part:"email"},this.renderHeaders(),this.renderBody())}renderHeaders(){return i("div",{class:"email-headers",part:"email-headers"},this.renderEmailHeader("subject",this.getTranslation("file-viewer.email.subject"),this.subject),this.renderEmailHeader("from",this.getTranslation("file-viewer.email.from"),this.from),this.renderEmailHeader("to",this.getTranslation("file-viewer.email.to"),this.to),this.renderEmailHeader("cc",this.getTranslation("file-viewer.email.cc"),this.cc),this.renderEmailHeader("date",this.getTranslation("file-viewer.email.date"),this.date))}renderBody(){if(this.bodyHtml){return i("div",{class:"body",innerHTML:this.bodyHtml,part:"email-body"})}if(this.bodyText){return i("pre",{class:{body:true,"plain-text":true},part:"email-body"},this.bodyText)}if(this.fallbackUrl){return i("object",{data:this.fallbackUrl,type:"text/plain"},i("slot",{name:"fallback"}))}return i("slot",{name:"fallback"})}renderEmailHeader(e,t,a){if(!a){return}const r=this.getHeaderValues(e,a);return i("dl",{class:`headers ${e}`},i("dt",null,t),r.map((e=>i("dd",null,e))))}getHeaderValues(e,i){if(e==="to"||e==="cc"){return i.split(",").map((e=>e.trim())).filter(Boolean)}return[i]}getTranslation(e){return t.get(e,this.language)}};r.style=a;export{r as limel_email_viewer};
//# sourceMappingURL=limel-email-viewer.entry.js.map