{"version":3,"names":["htmlDecodeTree","Uint16Array","split","map","c","charCodeAt","_a","decodeMap","Map","fromCodePoint","String","codePoint","output","fromCharCode","replaceCodePoint","get","CharCodes","TO_LOWER_BIT","BinTrieFlags","isNumber","code","ZERO","NINE","isHexadecimalCharacter","UPPER_A","UPPER_F","LOWER_A","LOWER_F","isAsciiAlphaNumeric","UPPER_Z","LOWER_Z","isEntityInAttributeInvalidEnd","EQUALS","EntityDecoderState","DecodingMode","EntityDecoder","constructor","decodeTree","emitCodePoint","errors","this","state","EntityStart","consumed","result","treeIndex","excess","decodeMode","Strict","startEntity","write","str","offset","NUM","NumericStart","stateNumericStart","NamedEntity","stateNamedEntity","NumericDecimal","stateNumericDecimal","NumericHex","stateNumericHex","length","LOWER_X","addToNumericResult","start","end","base","digitCount","Math","pow","parseInt","substr","startIdx","char","emitNumericEntity","lastCp","expectedLength","absenceOfDigitsInNumericCharacterReference","SEMI","missingSemicolonAfterCharacterReference","validateNumericCharacterReference","current","valueLength","VALUE_LENGTH","determineBranch","max","Attribute","emitNotTerminatedNamedEntity","emitNamedEntityData","getDecoder","ret","decoder","decodeWithTrie","lastIndex","indexOf","slice","len","nodeIdx","branchCount","BRANCH_LENGTH","jumpOffset","JUMP_TABLE","value","lo","hi","mid","midVal","htmlDecoder","decodeHTML","mode","Legacy","bail","error","hasOwn","Object","prototype","hasOwnProperty","toStr","toString","defineProperty","gOPD","getOwnPropertyDescriptor","isArray","arr","Array","call","isPlainObject","obj","hasOwnConstructor","hasIsPrototypeOf","key","setProperty","target","options","name","enumerable","configurable","newValue","writable","getProperty","extend","src","copy","copyIsArray","clone","arguments","i","deep","getPrototypeOf","Symbol","toStringTag","iterator","trough","fns","pipeline","run","use","values","middlewareIndex","callback","pop","TypeError","next","fn","index","undefined","wrap","middelware","push","middleware","called","wrapped","parameters","fnExpectsCallback","done","apply","exception","Promise","then","Error","stringifyPosition","position","point","line","column","pos","VFileMessage","causeOrReason","optionsOrParentOrPlace","origin","super","reason","legacyCause","place","ancestors","cause","message","ruleId","source","parent","fatal","stack","file","path","basename","dirname","extname","join","sep","ext","assertPath","seenNonSlash","codePointAt","firstNonSlashEnd","extIndex","unmatchedSlash","startPart","startDot","preDotState","segments","joined","normalize","absolute","normalizeString","allowAboveRoot","lastSegmentLength","lastSlash","dots","lastSlashIndex","lastIndexOf","JSON","stringify","proc","cwd","isUrl","fileUrlOrPath","Boolean","href","protocol","auth","urlToPath","URL","getPathFromURLPosix","url","hostname","pathname","third","decodeURIComponent","order","VFile","isUint8Array","data","history","messages","prop","includes","assertNonEmpty","assertPart","stem","fail","info","encoding","TextDecoder","decode","part","CallableInstance","property","self","constr","proto","setPrototypeOf","own","Processor","Compiler","Parser","attachers","compiler","freezeIndex","frozen","namespace","parser","transformers","destination","attacher","assertUnfrozen","freeze","transformer","Number","POSITIVE_INFINITY","parse","realFile","vfile","assertParser","process","assertCompiler","executor","resolve","reject","parseTree","tree","realDone","compileTree","compileResult","looksLikeAValue","processSync","complete","assertDone","assertNode","outputTree","resultingTree","runSync","addPlugin","addList","addPreset","add","plugin","plugins","settings","thing","entryIndex","primary","rest","currentPrimary","isPlainObj","unified","node","type","asyncName","looksLikeAVFile","VOID","PRIMITIVE","ARRAY","OBJECT","DATE","REGEXP","MAP","SET","ERROR","BIGINT","env","globalThis","deserializer","$","_","as","out","set","unpair","has","object","Date","flags","RegExp","Set","BigInt","deserialize","serialized","EMPTY","keys","typeOf","asString","shouldSkip","TYPE","serializer","strict","json","pair","entry","valueOf","toJSON","entries","toISOString","serialize","lossy","structuredClone$1","structuredClone","any","convert","test","ok","castFactory","anyFactory","propsFactory","typeFactory","tests","checks","check","checkAsRecord","all","nodeAsRecord","testFunction","looksLikeANode","color","d","empty","CONTINUE","EXIT","SKIP","visitParents","visitor","reverse","is","step","factory","parents","tagName","visit","subresult","grandparents","toResult","children","nodeAsParent","concat","child","testOrVisitor","visitorOrReverse","maybeReverse","overload","Schema","normal","space","merge","definitions","assign","toLowerCase","Info","attribute","boolean","booleanish","overloadedBoolean","number","commaSeparated","spaceSeparated","commaOrSpaceSeparated","mustUseProperty","defined","powers","increment","types","DefinedInfo","mask","mark","create","definition","properties","transform","attributes","xlink","xLinkActuate","xLinkArcRole","xLinkHref","xLinkRole","xLinkShow","xLinkTitle","xLinkType","xml","xmlLang","xmlBase","xmlSpace","caseSensitiveTransform","caseInsensitiveTransform","xmlns","xmlnsxlink","xmlnsXLink","aria","ariaActiveDescendant","ariaAtomic","ariaAutoComplete","ariaBusy","ariaChecked","ariaColCount","ariaColIndex","ariaColSpan","ariaControls","ariaCurrent","ariaDescribedBy","ariaDetails","ariaDisabled","ariaDropEffect","ariaErrorMessage","ariaExpanded","ariaFlowTo","ariaGrabbed","ariaHasPopup","ariaHidden","ariaInvalid","ariaKeyShortcuts","ariaLabel","ariaLabelledBy","ariaLevel","ariaLive","ariaModal","ariaMultiLine","ariaMultiSelectable","ariaOrientation","ariaOwns","ariaPlaceholder","ariaPosInSet","ariaPressed","ariaReadOnly","ariaRelevant","ariaRequired","ariaRoleDescription","ariaRowCount","ariaRowIndex","ariaRowSpan","ariaSelected","ariaSetSize","ariaSort","ariaValueMax","ariaValueMin","ariaValueNow","ariaValueText","role","html","acceptcharset","classname","htmlfor","httpequiv","abbr","accept","acceptCharset","accessKey","action","allow","allowFullScreen","allowPaymentRequest","allowUserMedia","alt","async","autoCapitalize","autoComplete","autoFocus","autoPlay","blocking","capture","charSet","checked","cite","className","cols","colSpan","content","contentEditable","controls","controlsList","coords","crossOrigin","dateTime","decoding","default","defer","dir","dirName","disabled","download","draggable","encType","enterKeyHint","fetchPriority","form","formAction","formEncType","formMethod","formNoValidate","formTarget","headers","height","hidden","high","hrefLang","htmlFor","httpEquiv","id","imageSizes","imageSrcSet","inert","inputMode","integrity","isMap","itemId","itemProp","itemRef","itemScope","itemType","kind","label","lang","language","list","loading","loop","low","manifest","maxLength","media","method","min","minLength","multiple","muted","nonce","noModule","noValidate","onAbort","onAfterPrint","onAuxClick","onBeforeMatch","onBeforePrint","onBeforeToggle","onBeforeUnload","onBlur","onCancel","onCanPlay","onCanPlayThrough","onChange","onClick","onClose","onContextLost","onContextMenu","onContextRestored","onCopy","onCueChange","onCut","onDblClick","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onDurationChange","onEmptied","onEnded","onError","onFocus","onFormData","onHashChange","onInput","onInvalid","onKeyDown","onKeyPress","onKeyUp","onLanguageChange","onLoad","onLoadedData","onLoadedMetadata","onLoadEnd","onLoadStart","onMessage","onMessageError","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onOffline","onOnline","onPageHide","onPageShow","onPaste","onPause","onPlay","onPlaying","onPopState","onProgress","onRateChange","onRejectionHandled","onReset","onResize","onScroll","onScrollEnd","onSecurityPolicyViolation","onSeeked","onSeeking","onSelect","onSlotChange","onStalled","onStorage","onSubmit","onSuspend","onTimeUpdate","onToggle","onUnhandledRejection","onUnload","onVolumeChange","onWaiting","onWheel","open","optimum","pattern","ping","placeholder","playsInline","popover","popoverTarget","popoverTargetAction","poster","preload","readOnly","referrerPolicy","rel","required","reversed","rows","rowSpan","sandbox","scope","scoped","seamless","selected","shadowRootClonable","shadowRootDelegatesFocus","shadowRootMode","shape","size","sizes","slot","span","spellCheck","srcDoc","srcLang","srcSet","style","tabIndex","title","translate","typeMustMatch","useMap","width","writingSuggestions","align","aLink","archive","axis","background","bgColor","border","borderColor","bottomMargin","cellPadding","cellSpacing","charOff","classId","clear","codeBase","codeType","compact","declare","event","face","frame","frameBorder","hSpace","leftMargin","link","longDesc","lowSrc","marginHeight","marginWidth","noResize","noHref","noShade","noWrap","profile","prompt","rev","rightMargin","rules","scheme","scrolling","standby","summary","text","topMargin","valueType","version","vAlign","vLink","vSpace","allowTransparency","autoCorrect","autoSave","disablePictureInPicture","disableRemotePlayback","prefix","results","security","unselectable","svg","accentHeight","alignmentBaseline","arabicForm","baselineShift","capHeight","clipPath","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","dataType","dominantBaseline","enableBackground","fillOpacity","fillRule","floodColor","floodOpacity","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","horizAdvX","horizOriginX","horizOriginY","imageRendering","letterSpacing","lightingColor","markerEnd","markerMid","markerStart","navDown","navDownLeft","navDownRight","navLeft","navNext","navPrev","navRight","navUp","navUpLeft","navUpRight","onActivate","onBegin","onEnd","onFocusIn","onFocusOut","onMouseWheel","onRepeat","onShow","onZoom","overlinePosition","overlineThickness","paintOrder","panose1","pointerEvents","renderingIntent","shapeRendering","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","strokeDashArray","strokeDashOffset","strokeLineCap","strokeLineJoin","strokeMiterLimit","strokeOpacity","strokeWidth","textAnchor","textDecoration","textRendering","transformOrigin","underlinePosition","underlineThickness","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","vHanging","vIdeographic","vMathematical","vectorEffect","vertAdvY","vertOriginX","vertOriginY","wordSpacing","writingMode","xHeight","playbackOrder","timelineBegin","about","accumulate","additive","alphabetic","amplitude","ascent","attributeName","attributeType","azimuth","bandwidth","baseFrequency","baseProfile","bbox","begin","bias","by","calcMode","clip","clipPathUnits","contentScriptType","contentStyleType","cursor","cx","cy","defaultAction","descent","diffuseConstant","direction","display","dur","divisor","dx","dy","edgeMode","editable","elevation","exponent","externalResourcesRequired","fill","filter","filterRes","filterUnits","focusable","focusHighlight","format","fr","from","fx","fy","g1","g2","glyphRef","gradientTransform","gradientUnits","handler","hanging","hatchContentUnits","hatchUnits","ideographic","initialVisibility","in","in2","intercept","k","k1","k2","k3","k4","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","kerning","lengthAdjust","limitingConeAngle","local","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","mathematical","mediaCharacterEncoding","mediaContentEncodings","mediaSize","mediaTime","numOctaves","observer","opacity","operator","orient","orientation","overflow","overlay","pathLength","patternContentUnits","patternTransform","patternUnits","phase","pitch","points","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","propagate","r","radius","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","requiredFonts","requiredFormats","resource","restart","rotate","rx","ry","scale","seed","side","slope","snapshotTime","specularConstant","specularExponent","spreadMethod","spacing","startOffset","stdDeviation","stemh","stemv","stitchTiles","string","stroke","surfaceScale","syncBehavior","syncBehaviorDefault","syncMaster","syncTolerance","syncToleranceDefault","systemLanguage","tableValues","targetX","targetY","textLength","transformBehavior","to","u1","u2","unicode","viewBox","viewTarget","visibility","widths","x","x1","x2","xChannelSelector","y","y1","y2","yChannelSelector","z","zoomAndPan","valid","dash","cap","find","schema","Type","charAt","replace","camelcase","toUpperCase","dashes","kebab","$0","htmlBase","svgBase","tokens","input","token","trim","search","parseSelector","selector","defaultTagName","props","previous","match","exec","subvalue","createH","caseSensitive","adjust","createAdjustMap","h","unshift","isChild","addProperty","addChild","record","item","isNaN","spaces","commas","parsePrimitive","finalResult","nodes","svgCaseSensitiveTagNames","s","location","indices","toOffset","toPoint","eol","cr","lf","webNamespaces","mathml","fromParse5","one","verbose","nodeName","reference","patch","quirksMode","childNodes","document","loc","element","namespaceURI","attrs","sourceCodeLocation","startTag","endTag","createLocation","tail","opening","closing","startLine","startCol","endLine","endCol","endOffset","UNDEFINED_CODE_POINTS","REPLACEMENT_CHARACTER","CODE_POINTS","SEQUENCES","DASH_DASH","CDATA_START","DOCTYPE","SCRIPT","PUBLIC","SYSTEM","isSurrogate","cp","isSurrogatePair","getSurrogatePairCodePoint","cp1","cp2","isControlCodePoint","isUndefinedCodePoint","ERR","DEFAULT_BUFFER_WATERLINE","Preprocessor","lastGapPos","gapStack","skipNextNewLine","lastChunkWritten","endOfChunkHit","bufferWaterline","isEol","lineStartPos","droppedBufferSize","lastErrOffset","col","getError","cpOffset","_err","onParseError","_addGap","_processSurrogate","nextCp","EOF","surrogateInInputStream","willDropParsedChunk","dropParsedChunk","substring","chunk","isLastChunk","insertHtmlAtCurrentPos","startsWith","peek","CARRIAGE_RETURN","LINE_FEED","advance","isCommonValidRange","_checkForProblematicCharacters","controlCharacterInInputStream","noncharacterInInputStream","retreat","count","TokenType","getTokenAttr","attrName","NS","ATTRS","DOCUMENT_MODE","TAG_NAMES","TAG_ID","TAG_NAME_TO_ID","A","ADDRESS","ANNOTATION_XML","APPLET","AREA","ARTICLE","ASIDE","B","BASE","BASEFONT","BGSOUND","BIG","BLOCKQUOTE","BODY","BR","BUTTON","CAPTION","CENTER","CODE","COL","COLGROUP","DD","DESC","DETAILS","DIALOG","DIR","DIV","DL","DT","EM","EMBED","FIELDSET","FIGCAPTION","FIGURE","FONT","FOOTER","FOREIGN_OBJECT","FORM","FRAME","FRAMESET","H1","H2","H3","H4","H5","H6","HEAD","HEADER","HGROUP","HR","HTML","I","IMG","IMAGE","INPUT","IFRAME","KEYGEN","LABEL","LI","LINK","LISTING","MAIN","MALIGNMARK","MARQUEE","MATH","MENU","META","MGLYPH","MI","MO","MN","MS","MTEXT","NAV","NOBR","NOFRAMES","NOEMBED","NOSCRIPT","OL","OPTGROUP","OPTION","P","PARAM","PLAINTEXT","PRE","RB","RP","RT","RTC","RUBY","S","SEARCH","SECTION","SELECT","SOURCE","SMALL","SPAN","STRIKE","STRONG","STYLE","SUB","SUMMARY","SUP","TABLE","TBODY","TEMPLATE","TEXTAREA","TFOOT","TD","TH","THEAD","TITLE","TR","TRACK","TT","U","UL","SVG","VAR","WBR","XMP","getTagID","UNKNOWN","SPECIAL_ELEMENTS","MATHML","XLINK","XML","XMLNS","NUMBERED_HEADERS","State","TokenizerMode","DATA","RCDATA","RAWTEXT","SCRIPT_DATA","CDATA_SECTION","isAsciiDigit","DIGIT_0","DIGIT_9","isAsciiUpper","LATIN_CAPITAL_A","LATIN_CAPITAL_Z","isAsciiLower","LATIN_SMALL_A","LATIN_SMALL_Z","isAsciiLetter","toAsciiLower","isWhitespace","SPACE","TABULATION","FORM_FEED","isScriptDataDoubleEscapeSequenceEnd","SOLIDUS","GREATER_THAN_SIGN","getErrorForNumericCharacterReference","NULL","nullCharacterReference","characterReferenceOutsideUnicodeRange","surrogateCharacterReference","noncharacterCharacterReference","controlCharacterReference","Tokenizer","paused","inLoop","inForeignNode","lastStartTagName","active","returnState","entityStartPos","consumedAfterSnapshot","currentCharacterToken","currentToken","currentAttr","preprocessor","currentLocation","getCurrentLocation","entityDecoder","_flushCodePointConsumedAsCharacterReference","_b","sourceCodeLocationInfo","_runParsingLoop","_consume","_ensureHibernation","_callState","pause","resume","writeCallback","_advanceBy","_consumeSequenceIfMatch","_createStartTagToken","START_TAG","tagID","selfClosing","ackSelfClosing","_createEndTagToken","END_TAG","_createCommentToken","COMMENT","_createDoctypeToken","initialName","forceQuirks","publicId","systemId","_createCharacterToken","chars","_createAttr","attrNameFirstCh","_leaveAttrName","attrLocations","_leaveAttrValue","duplicateAttribute","prepareToken","ct","_emitCurrentCharacterToken","emitCurrentTagToken","onStartTag","endTagWithAttributes","endTagWithTrailingSolidus","onEndTag","emitCurrentComment","onComment","emitCurrentDoctype","onDoctype","nextLocation","CHARACTER","onCharacter","NULL_CHARACTER","onNullCharacter","WHITESPACE_CHARACTER","onWhitespaceCharacter","_emitEOFToken","onEof","_appendCharToCurrentCharacterToken","ch","_emitCodePoint","_emitChars","_startCharacterReference","CHARACTER_REFERENCE","_isCharacterReferenceInAttribute","ATTRIBUTE_VALUE_DOUBLE_QUOTED","ATTRIBUTE_VALUE_SINGLE_QUOTED","ATTRIBUTE_VALUE_UNQUOTED","_stateData","_stateRcdata","_stateRawtext","_stateScriptData","_statePlaintext","TAG_OPEN","_stateTagOpen","END_TAG_OPEN","_stateEndTagOpen","TAG_NAME","_stateTagName","RCDATA_LESS_THAN_SIGN","_stateRcdataLessThanSign","RCDATA_END_TAG_OPEN","_stateRcdataEndTagOpen","RCDATA_END_TAG_NAME","_stateRcdataEndTagName","RAWTEXT_LESS_THAN_SIGN","_stateRawtextLessThanSign","RAWTEXT_END_TAG_OPEN","_stateRawtextEndTagOpen","RAWTEXT_END_TAG_NAME","_stateRawtextEndTagName","SCRIPT_DATA_LESS_THAN_SIGN","_stateScriptDataLessThanSign","SCRIPT_DATA_END_TAG_OPEN","_stateScriptDataEndTagOpen","SCRIPT_DATA_END_TAG_NAME","_stateScriptDataEndTagName","SCRIPT_DATA_ESCAPE_START","_stateScriptDataEscapeStart","SCRIPT_DATA_ESCAPE_START_DASH","_stateScriptDataEscapeStartDash","SCRIPT_DATA_ESCAPED","_stateScriptDataEscaped","SCRIPT_DATA_ESCAPED_DASH","_stateScriptDataEscapedDash","SCRIPT_DATA_ESCAPED_DASH_DASH","_stateScriptDataEscapedDashDash","SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN","_stateScriptDataEscapedLessThanSign","SCRIPT_DATA_ESCAPED_END_TAG_OPEN","_stateScriptDataEscapedEndTagOpen","SCRIPT_DATA_ESCAPED_END_TAG_NAME","_stateScriptDataEscapedEndTagName","SCRIPT_DATA_DOUBLE_ESCAPE_START","_stateScriptDataDoubleEscapeStart","SCRIPT_DATA_DOUBLE_ESCAPED","_stateScriptDataDoubleEscaped","SCRIPT_DATA_DOUBLE_ESCAPED_DASH","_stateScriptDataDoubleEscapedDash","SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH","_stateScriptDataDoubleEscapedDashDash","SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN","_stateScriptDataDoubleEscapedLessThanSign","SCRIPT_DATA_DOUBLE_ESCAPE_END","_stateScriptDataDoubleEscapeEnd","BEFORE_ATTRIBUTE_NAME","_stateBeforeAttributeName","ATTRIBUTE_NAME","_stateAttributeName","AFTER_ATTRIBUTE_NAME","_stateAfterAttributeName","BEFORE_ATTRIBUTE_VALUE","_stateBeforeAttributeValue","_stateAttributeValueDoubleQuoted","_stateAttributeValueSingleQuoted","_stateAttributeValueUnquoted","AFTER_ATTRIBUTE_VALUE_QUOTED","_stateAfterAttributeValueQuoted","SELF_CLOSING_START_TAG","_stateSelfClosingStartTag","BOGUS_COMMENT","_stateBogusComment","MARKUP_DECLARATION_OPEN","_stateMarkupDeclarationOpen","COMMENT_START","_stateCommentStart","COMMENT_START_DASH","_stateCommentStartDash","_stateComment","COMMENT_LESS_THAN_SIGN","_stateCommentLessThanSign","COMMENT_LESS_THAN_SIGN_BANG","_stateCommentLessThanSignBang","COMMENT_LESS_THAN_SIGN_BANG_DASH","_stateCommentLessThanSignBangDash","COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH","_stateCommentLessThanSignBangDashDash","COMMENT_END_DASH","_stateCommentEndDash","COMMENT_END","_stateCommentEnd","COMMENT_END_BANG","_stateCommentEndBang","_stateDoctype","BEFORE_DOCTYPE_NAME","_stateBeforeDoctypeName","DOCTYPE_NAME","_stateDoctypeName","AFTER_DOCTYPE_NAME","_stateAfterDoctypeName","AFTER_DOCTYPE_PUBLIC_KEYWORD","_stateAfterDoctypePublicKeyword","BEFORE_DOCTYPE_PUBLIC_IDENTIFIER","_stateBeforeDoctypePublicIdentifier","DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED","_stateDoctypePublicIdentifierDoubleQuoted","DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED","_stateDoctypePublicIdentifierSingleQuoted","AFTER_DOCTYPE_PUBLIC_IDENTIFIER","_stateAfterDoctypePublicIdentifier","BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS","_stateBetweenDoctypePublicAndSystemIdentifiers","AFTER_DOCTYPE_SYSTEM_KEYWORD","_stateAfterDoctypeSystemKeyword","BEFORE_DOCTYPE_SYSTEM_IDENTIFIER","_stateBeforeDoctypeSystemIdentifier","DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED","_stateDoctypeSystemIdentifierDoubleQuoted","DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED","_stateDoctypeSystemIdentifierSingleQuoted","AFTER_DOCTYPE_SYSTEM_IDENTIFIER","_stateAfterDoctypeSystemIdentifier","BOGUS_DOCTYPE","_stateBogusDoctype","_stateCdataSection","CDATA_SECTION_BRACKET","_stateCdataSectionBracket","CDATA_SECTION_END","_stateCdataSectionEnd","_stateCharacterReference","AMBIGUOUS_AMPERSAND","_stateAmbiguousAmpersand","LESS_THAN_SIGN","AMPERSAND","unexpectedNullCharacter","EXCLAMATION_MARK","QUESTION_MARK","unexpectedQuestionMarkInsteadOfTagName","eofBeforeTagName","invalidFirstCharacterOfTagName","missingEndTagName","eofInTag","handleSpecialEndTag","_cp","HYPHEN_MINUS","eofInScriptHtmlCommentLikeText","$$","EQUALS_SIGN","unexpectedEqualsSignBeforeAttributeName","QUOTATION_MARK","APOSTROPHE","unexpectedCharacterInAttributeName","missingAttributeValue","GRAVE_ACCENT","unexpectedCharacterInUnquotedAttributeValue","missingWhitespaceBetweenAttributes","unexpectedSolidusInTag","cdataInHtmlContent","incorrectlyOpenedComment","abruptClosingOfEmptyComment","eofInComment","nestedComment","incorrectlyClosedComment","eofInDoctype","missingWhitespaceBeforeDoctypeName","missingDoctypeName","invalidCharacterSequenceAfterDoctypeName","missingWhitespaceAfterDoctypePublicKeyword","missingDoctypePublicIdentifier","missingQuoteBeforeDoctypePublicIdentifier","abruptDoctypePublicIdentifier","missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers","missingQuoteBeforeDoctypeSystemIdentifier","missingWhitespaceAfterDoctypeSystemKeyword","missingDoctypeSystemIdentifier","abruptDoctypeSystemIdentifier","unexpectedCharacterAfterDoctypeSystemIdentifier","RIGHT_SQUARE_BRACKET","eofInCdata","SEMICOLON","unknownNamedCharacterReference","IMPLICIT_END_TAG_REQUIRED","IMPLICIT_END_TAG_REQUIRED_THOROUGHLY","SCOPING_ELEMENTS_HTML","SCOPING_ELEMENTS_HTML_LIST","SCOPING_ELEMENTS_HTML_BUTTON","SCOPING_ELEMENTS_MATHML","SCOPING_ELEMENTS_SVG","TABLE_ROW_CONTEXT","TABLE_BODY_CONTEXT","TABLE_CONTEXT","TABLE_CELLS","OpenElementStack","currentTmplContentOrNode","_isInTemplate","treeAdapter","getTemplateContent","items","tagIDs","stackTop","tmplCount","currentTagId","_indexOf","getNamespaceURI","_updateCurrentElement","onItemPush","popped","onItemPop","oldElement","newElement","idx","insertAfter","referenceElement","newElementID","insertionIdx","splice","popUntilTagNamePopped","targetIdx","shortenToLength","popUntilElementPopped","popUntilPopped","tagNames","targetNS","_indexOfTagNames","popUntilNumberedHeaderPopped","popUntilTableCellPopped","popAllUpToHtmlElement","clearBackTo","clearBackToTableContext","clearBackToTableBodyContext","clearBackToTableRowContext","remove","tryPeekProperlyNestedBodyElement","contains","getCommonAncestor","elementIdx","isRootHtmlElementCurrent","hasInDynamicScope","htmlScope","tn","hasInScope","hasInListItemScope","hasInButtonScope","hasNumberedHeaderInScope","hasInTableScope","hasTableBodyContextInTableScope","hasInSelectScope","generateImpliedEndTags","generateImpliedEndTagsThoroughly","generateImpliedEndTagsWithExclusion","exclusionId","NOAH_ARK_CAPACITY","EntryType","MARKER","Marker","FormattingElementList","bookmark","_getNoahArkConditionCandidates","neAttrs","candidates","neAttrsLength","neTagName","getTagName","neNamespaceURI","elementAttrs","getAttrList","_ensureNoahArkCondition","neAttrsMap","neAttr","validCandidates","candidate","every","cAttr","insertMarker","pushElement","Element","insertElementAfterBookmark","bookmarkIdx","removeEntry","clearToLastMarker","markerIdx","getElementEntryInScopeWithTagName","getElementEntry","defaultTreeAdapter","createDocument","NO_QUIRKS","createDocumentFragment","createElement","parentNode","createCommentNode","createTextNode","appendChild","newNode","insertBefore","referenceNode","setTemplateContent","templateElement","contentElement","setDocumentType","doctypeNode","setDocumentMode","getDocumentMode","detachNode","insertText","prevNode","isTextNode","insertTextBefore","adoptAttributes","recipient","recipientAttrsMap","attr","j","getFirstChild","getChildNodes","getParentNode","getTextNodeContent","textNode","getCommentNodeContent","commentNode","getDocumentTypeNodeName","getDocumentTypeNodePublicId","getDocumentTypeNodeSystemId","isCommentNode","isDocumentTypeNode","isElementNode","setNodeSourceCodeLocation","getNodeSourceCodeLocation","updateNodeSourceCodeLocation","endLocation","VALID_DOCTYPE_NAME","VALID_SYSTEM_ID","QUIRKS_MODE_SYSTEM_ID","QUIRKS_MODE_PUBLIC_ID_PREFIXES","QUIRKS_MODE_NO_SYSTEM_ID_PUBLIC_ID_PREFIXES","QUIRKS_MODE_PUBLIC_IDS","LIMITED_QUIRKS_PUBLIC_ID_PREFIXES","LIMITED_QUIRKS_WITH_SYSTEM_ID_PUBLIC_ID_PREFIXES","hasPrefix","prefixes","some","isConforming","QUIRKS","LIMITED_QUIRKS","MIME_TYPES","TEXT_HTML","APPLICATION_XML","DEFINITION_URL_ATTR","ADJUSTED_DEFINITION_URL_ATTR","SVG_ATTRS_ADJUSTMENT_MAP","XML_ATTRS_ADJUSTMENT_MAP","SVG_TAG_NAMES_ADJUSTMENT_MAP","EXITS_FOREIGN_CONTENT","causesExit","startTagToken","isFontWithAttrs","COLOR","SIZE","FACE","adjustTokenMathMLAttrs","adjustTokenSVGAttrs","adjustedAttrName","adjustTokenXMLAttrs","adjustedAttrEntry","adjustTokenSVGTagName","adjustedTagName","isMathMLTextIntegrationPoint","ns","isHtmlIntegrationPoint","ENCODING","isIntegrationPoint","foreignNS","HIDDEN_INPUT_TYPE","AA_OUTER_LOOP_ITER","AA_INNER_LOOP_ITER","InsertionMode","BASE_LOC","TABLE_STRUCTURE_TAGS","defaultParserOptions","scriptingEnabled","fragmentContext","scriptHandler","stopped","insertionMode","INITIAL","originalInsertionMode","headElement","formElement","currentNotInHTML","tmplInsertionModeStack","pendingCharacterTokens","hasNonWhitespacePendingCharacterToken","framesetOk","fosterParentingEnabled","tokenizer","activeFormattingElements","fragmentContextID","_setContextModes","openElements","static","opts","TN","documentMock","IN_TEMPLATE","_initTokenizerForFragmentParsing","_insertFakeRootElement","_resetInsertionMode","_findFormInFragmentContext","getFragment","rootElement","fragment","_adoptNodes","beforeToken","err","tid","isTop","_setEndLocation","isHTML","_isIntegrationPoint","_switchToTextParsing","nextTokenizerState","_insertElement","TEXT","switchToPlaintextParsing","IN_BODY","_getAdjustedCurrentElement","_setDocumentType","documentChildren","docTypeNode","_attachElementToTree","_shouldFosterParentOnInsertion","_fosterParentElement","_appendElement","_insertFakeElement","_insertTemplate","tmpl","_appendCommentNode","_insertCharacters","beforeElement","_findFosterParentingLocation","siblings","textNodeIdx","tnLoc","donor","closingToken","ctLoc","endLoc","shouldProcessStartTagTokenInForeignContent","_processToken","_processStartTag","foreignContent.isIntegrationPoint","_reconstructActiveFormattingElements","listLength","endIndex","findIndex","unopenIdx","_closeTableCell","IN_ROW","_closePElement","IN_TABLE_BODY","IN_CAPTION","IN_COLUMN_GROUP","IN_TABLE","IN_FRAMESET","_resetInsertionModeForSelect","AFTER_HEAD","BEFORE_HEAD","IN_CELL","IN_HEAD","selectIdx","IN_SELECT_IN_TABLE","IN_SELECT","_isElementCausesFosterParenting","openElement","_isSpecialElement","characterInForeignContent","tokenInInitialMode","BEFORE_HTML","tokenBeforeHtml","tokenBeforeHead","tokenInHead","IN_HEAD_NO_SCRIPT","tokenInHeadNoScript","tokenAfterHead","characterInBody","characterInTable","IN_TABLE_TEXT","characterInTableText","tokenInColumnGroup","AFTER_BODY","tokenAfterBody","AFTER_AFTER_BODY","tokenAfterAfterBody","nullCharacterInForeignContent","appendComment","AFTER_FRAMESET","tokenInTableText","appendCommentToRootHtmlElement","AFTER_AFTER_FRAMESET","appendCommentToDocument","doctypeInInitialMode","misplacedDoctype","nonVoidHtmlElementStartTagWithTrailingSolidus","startTagInForeignContent","_startTagOutsideForeignContent","startTagBeforeHtml","startTagBeforeHead","startTagInHead","startTagInHeadNoScript","startTagAfterHead","startTagInBody","startTagInTable","startTagInCaption","startTagInColumnGroup","startTagInTableBody","startTagInRow","startTagInCell","startTagInSelect","startTagInSelectInTable","startTagInTemplate","startTagAfterBody","startTagInFrameset","startTagAfterFrameset","startTagAfterAfterBody","startTagAfterAfterFrameset","endTagInForeignContent","_endTagOutsideForeignContent","endTagBeforeHtml","endTagBeforeHead","endTagInHead","endTagInHeadNoScript","endTagAfterHead","endTagInBody","endTagInText","endTagInTable","endTagInCaption","endTagInColumnGroup","endTagInTableBody","endTagInRow","endTagInCell","endTagInSelect","endTagInSelectInTable","endTagInTemplate","endTagAfterBody","endTagInFrameset","endTagAfterFrameset","eofInBody","eofInText","eofInTemplate","stopParsing","unicode.CODE_POINTS","whitespaceCharacterInBody","whitespaceCharacterInTableText","aaObtainFormattingElementEntry","p","formattingElementEntry","genericEndTagInBody","aaObtainFurthestBlock","furthestBlock","aaInnerLoop","formattingElement","lastElement","nextElement","elementEntry","counterOverflow","shouldRemoveFromOpenElements","aaRecreateElementFromEntry","aaInsertLastNodeInCommonAncestor","commonAncestor","aaReplaceFormattingElement","callAdoptionAgency","htmlElement","htmlLocation","bodyElement","bodyLocation","doctype.getDocumentMode","doctype.isConforming","nonConformingDoctype","missingDoctype","endTagWithoutMatchingOpenElement","misplacedStartTagForHeadElement","templateEndTagInHead","closingOfElementWithOpenChildElements","shift","nestedNoscriptInHead","errCode","openElementsLeftAfterEof","disallowedContentInNoscriptInHead","abandonedHeadElementChild","modeInBody","htmlStartTagInBody","bodyStartTagInBody","framesetStartTagInBody","addressStartTagInBody","numberedHeaderStartTagInBody","preStartTagInBody","formStartTagInBody","inTemplate","listItemStartTagInBody","elementId","plaintextStartTagInBody","buttonStartTagInBody","aStartTagInBody","activeElementEntry","bStartTagInBody","nobrStartTagInBody","appletStartTagInBody","tableStartTagInBody","areaStartTagInBody","isHiddenInput","inputType","inputStartTagInBody","paramStartTagInBody","hrStartTagInBody","imageStartTagInBody","textareaStartTagInBody","xmpStartTagInBody","iframeStartTagInBody","rawTextStartTagInBody","selectStartTagInBody","optgroupStartTagInBody","rbStartTagInBody","rtStartTagInBody","mathStartTagInBody","foreignContent.adjustTokenMathMLAttrs","foreignContent.adjustTokenXMLAttrs","svgStartTagInBody","foreignContent.adjustTokenSVGAttrs","genericStartTagInBody","bodyEndTagInBody","htmlEndTagInBody","addressEndTagInBody","formEndTagInBody","pEndTagInBody","liEndTagInBody","ddEndTagInBody","numberedHeaderEndTagInBody","appletEndTagInBody","brEndTagInBody","eofInElementThatCanContainOnlyText","tokenInTable","captionStartTagInTable","colgroupStartTagInTable","colStartTagInTable","tbodyStartTagInTable","tdStartTagInTable","tableStartTagInTable","inputStartTagInTable","formStartTagInTable","savedFosterParentingState","TABLE_VOID_ELEMENTS","unicode.REPLACEMENT_CHARACTER","popUntilHtmlOrIntegrationPoint","foreignContent.causesExit","currentNs","foreignContent.adjustTokenSVGTagName","parseFragment","getFragmentParser","minpath","extnameIndex","minproc","field","description","dashToCamelRe","formatCRe","formatXRe","fatalities","emptyOptions","fromHtml","onerror","parseFunction","p5Document","internalOnerror","setting","config","level","note","formatC","formatX","$1","$2","visualizeCharacter","visualizeCharacterCode","dashToCamel","charCode","rehypeParse","emitParseErrors","pointEnd","pointStart","defaultSchema","tbody","td","th","thead","tfoot","tr","a","blockquote","del","div","dl","h2","img","ins","li","ol","q","section","table","ul","clobber","clobberPrefix","protocols","strip","sanitize","ctx","unsafe","comment","doctype","root","allowComments","allowDoctypes","safeElement","childrenUnknown","specific","defaults","findDefinition","safe","propertyValues","propertyValue","safeProtocol","allowed","colon","questionMark","numberSign","slash","cleanPosition","dataDefault","rehypeSanitize","htmlVoidElements","zwitch","invalid","handlers","unknown","core","subset","charactersToExpression","basic","escapeOnly","surrogate","character","groups","toHexadecimal","omit","toDecimal","characterEntitiesLegacy","characterEntitiesHtml4","nbsp","iexcl","cent","pound","curren","yen","brvbar","sect","uml","ordf","laquo","not","shy","reg","macr","deg","plusmn","sup2","sup3","acute","micro","para","middot","cedil","sup1","ordm","raquo","frac14","frac12","frac34","iquest","Agrave","Aacute","Acirc","Atilde","Auml","Aring","AElig","Ccedil","Egrave","Eacute","Ecirc","Euml","Igrave","Iacute","Icirc","Iuml","ETH","Ntilde","Ograve","Oacute","Ocirc","Otilde","Ouml","times","Oslash","Ugrave","Uacute","Ucirc","Uuml","Yacute","THORN","szlig","agrave","aacute","acirc","atilde","auml","aring","aelig","ccedil","egrave","eacute","ecirc","euml","igrave","iacute","icirc","iuml","eth","ntilde","ograve","oacute","ocirc","otilde","ouml","divide","oslash","ugrave","uacute","ucirc","uuml","yacute","thorn","yuml","fnof","Alpha","Beta","Gamma","Delta","Epsilon","Zeta","Eta","Theta","Iota","Kappa","Lambda","Mu","Nu","Xi","Omicron","Pi","Rho","Sigma","Tau","Upsilon","Phi","Chi","Psi","Omega","alpha","beta","gamma","delta","epsilon","zeta","eta","theta","iota","kappa","lambda","mu","nu","xi","omicron","pi","rho","sigmaf","sigma","tau","upsilon","phi","chi","psi","omega","thetasym","upsih","piv","bull","hellip","prime","Prime","oline","frasl","weierp","image","real","trade","alefsym","larr","uarr","rarr","darr","harr","crarr","lArr","uArr","rArr","dArr","hArr","forall","exist","nabla","isin","notin","ni","prod","sum","minus","lowast","radic","infin","ang","and","or","cup","int","there4","sim","cong","asymp","ne","equiv","le","ge","sub","sup","nsub","sube","supe","oplus","otimes","perp","sdot","lceil","rceil","lfloor","rfloor","rang","loz","spades","clubs","hearts","diams","quot","amp","lt","gt","OElig","oelig","Scaron","scaron","Yuml","circ","tilde","ensp","emsp","thinsp","zwnj","zwj","lrm","rlm","ndash","mdash","lsquo","rsquo","sbquo","ldquo","rdquo","bdquo","dagger","Dagger","permil","lsaquo","rsaquo","euro","dangerous","characters","toNamed","formatSmart","numeric","omitOptionalSemicolons","named","useNamedReferences","useShortestReferences","decimal","stringifyEntities","_1","_2","bogusComments","characterReferences","encode","_3","upperDoctype","tightDoctype","ccount","padRight","padLeft","re","whitespace","siblingAfter","siblingBefore","emptyChildren","sibling","includeWhitespace","omission","body","caption","headOrColgroupOrCaption","colgroup","dd","dt","head","optgroup","option","rp","rubyElement","rt","cells","seen","constants","unquoted","single","double","omitOptionalTags","closeEmptyElements","voids","parts","last","serializeAttributes","closeSelfClosing","tightSelfClosing","serializeAttribute","tightAttributes","allowParseErrors","allowDangerousCharacters","quote","tightCommaSeparatedLists","collapseEmptyAttributes","preferUnquoted","quoteSmart","alternative","raw","allowDangerousHtml","handle","node_","emptyCharacterReferences","toHtml","options_","rehypeStringify"],"sources":["./node_modules/entities/lib/esm/generated/decode-data-html.js","./node_modules/entities/lib/esm/generated/decode-data-xml.js","./node_modules/entities/lib/esm/decode_codepoint.js","./node_modules/entities/lib/esm/decode.js","./node_modules/unified/node_modules/bail/index.js","./node_modules/extend/index.js","./node_modules/unified/node_modules/is-plain-obj/index.js","./node_modules/unified/node_modules/trough/index.js","./node_modules/unified/node_modules/unist-util-stringify-position/lib/index.js","./node_modules/unified/node_modules/vfile-message/lib/index.js","./node_modules/unified/node_modules/vfile/lib/minpath.browser.js","./node_modules/unified/node_modules/vfile/lib/minproc.browser.js","./node_modules/unified/node_modules/vfile/lib/minurl.shared.js","./node_modules/unified/node_modules/vfile/lib/minurl.browser.js","./node_modules/unified/node_modules/vfile/lib/index.js","./node_modules/unified/lib/callable-instance.js","./node_modules/unified/lib/index.js","./node_modules/@ungap/structured-clone/esm/types.js","./node_modules/@ungap/structured-clone/esm/deserialize.js","./node_modules/@ungap/structured-clone/esm/serialize.js","./node_modules/@ungap/structured-clone/esm/index.js","./node_modules/unist-util-is/lib/index.js","./node_modules/unist-util-visit-parents/lib/color.js","./node_modules/unist-util-visit-parents/lib/index.js","./node_modules/unist-util-visit/lib/index.js","./node_modules/hast-util-from-html/node_modules/property-information/lib/util/schema.js","./node_modules/hast-util-from-html/node_modules/property-information/lib/util/merge.js","./node_modules/hast-util-from-html/node_modules/property-information/lib/normalize.js","./node_modules/hast-util-from-html/node_modules/property-information/lib/util/info.js","./node_modules/hast-util-from-html/node_modules/property-information/lib/util/types.js","./node_modules/hast-util-from-html/node_modules/property-information/lib/util/defined-info.js","./node_modules/hast-util-from-html/node_modules/property-information/lib/util/create.js","./node_modules/hast-util-from-html/node_modules/property-information/lib/xlink.js","./node_modules/hast-util-from-html/node_modules/property-information/lib/xml.js","./node_modules/hast-util-from-html/node_modules/property-information/lib/util/case-sensitive-transform.js","./node_modules/hast-util-from-html/node_modules/property-information/lib/util/case-insensitive-transform.js","./node_modules/hast-util-from-html/node_modules/property-information/lib/xmlns.js","./node_modules/hast-util-from-html/node_modules/property-information/lib/aria.js","./node_modules/hast-util-from-html/node_modules/property-information/lib/html.js","./node_modules/hast-util-from-html/node_modules/property-information/lib/svg.js","./node_modules/hast-util-from-html/node_modules/property-information/lib/find.js","./node_modules/hast-util-from-html/node_modules/property-information/index.js","./node_modules/hast-util-from-html/node_modules/comma-separated-tokens/index.js","./node_modules/hast-util-from-html/node_modules/hast-util-parse-selector/lib/index.js","./node_modules/hast-util-from-html/node_modules/space-separated-tokens/index.js","./node_modules/hast-util-from-html/node_modules/hastscript/lib/create-h.js","./node_modules/hast-util-from-html/node_modules/hastscript/lib/svg-case-sensitive-tag-names.js","./node_modules/hast-util-from-html/node_modules/hastscript/lib/index.js","./node_modules/hast-util-from-html/node_modules/vfile-location/lib/index.js","./node_modules/hast-util-from-html/node_modules/web-namespaces/index.js","./node_modules/hast-util-from-html/node_modules/hast-util-from-parse5/lib/index.js","./node_modules/hast-util-from-html/node_modules/parse5/dist/common/unicode.js","./node_modules/hast-util-from-html/node_modules/parse5/dist/common/error-codes.js","./node_modules/hast-util-from-html/node_modules/parse5/dist/tokenizer/preprocessor.js","./node_modules/hast-util-from-html/node_modules/parse5/dist/common/token.js","./node_modules/hast-util-from-html/node_modules/parse5/dist/common/html.js","./node_modules/hast-util-from-html/node_modules/parse5/dist/tokenizer/index.js","./node_modules/hast-util-from-html/node_modules/parse5/dist/parser/open-element-stack.js","./node_modules/hast-util-from-html/node_modules/parse5/dist/parser/formatting-element-list.js","./node_modules/hast-util-from-html/node_modules/parse5/dist/tree-adapters/default.js","./node_modules/hast-util-from-html/node_modules/parse5/dist/common/doctype.js","./node_modules/hast-util-from-html/node_modules/parse5/dist/common/foreign-content.js","./node_modules/hast-util-from-html/node_modules/parse5/dist/parser/index.js","./node_modules/hast-util-from-html/node_modules/parse5/dist/index.js","./node_modules/hast-util-from-html/node_modules/unist-util-stringify-position/lib/index.js","./node_modules/hast-util-from-html/node_modules/vfile-message/lib/index.js","./node_modules/hast-util-from-html/node_modules/vfile/lib/minpath.browser.js","./node_modules/hast-util-from-html/node_modules/vfile/lib/minproc.browser.js","./node_modules/hast-util-from-html/node_modules/vfile/lib/minurl.shared.js","./node_modules/hast-util-from-html/node_modules/vfile/lib/minurl.browser.js","./node_modules/hast-util-from-html/node_modules/vfile/lib/index.js","./node_modules/hast-util-from-html/lib/errors.js","./node_modules/hast-util-from-html/lib/index.js","./node_modules/rehype-parse/lib/index.js","./node_modules/hast-util-sanitize/node_modules/unist-util-position/lib/index.js","./node_modules/hast-util-sanitize/lib/schema.js","./node_modules/hast-util-sanitize/lib/index.js","./node_modules/rehype-sanitize/lib/index.js","./node_modules/hast-util-to-html/node_modules/html-void-elements/index.js","./node_modules/hast-util-to-html/node_modules/property-information/lib/util/schema.js","./node_modules/hast-util-to-html/node_modules/property-information/lib/util/merge.js","./node_modules/hast-util-to-html/node_modules/property-information/lib/normalize.js","./node_modules/hast-util-to-html/node_modules/property-information/lib/util/info.js","./node_modules/hast-util-to-html/node_modules/property-information/lib/util/types.js","./node_modules/hast-util-to-html/node_modules/property-information/lib/util/defined-info.js","./node_modules/hast-util-to-html/node_modules/property-information/lib/util/create.js","./node_modules/hast-util-to-html/node_modules/property-information/lib/xlink.js","./node_modules/hast-util-to-html/node_modules/property-information/lib/xml.js","./node_modules/hast-util-to-html/node_modules/property-information/lib/util/case-sensitive-transform.js","./node_modules/hast-util-to-html/node_modules/property-information/lib/util/case-insensitive-transform.js","./node_modules/hast-util-to-html/node_modules/property-information/lib/xmlns.js","./node_modules/hast-util-to-html/node_modules/property-information/lib/aria.js","./node_modules/hast-util-to-html/node_modules/property-information/lib/html.js","./node_modules/hast-util-to-html/node_modules/property-information/lib/svg.js","./node_modules/hast-util-to-html/node_modules/property-information/lib/find.js","./node_modules/hast-util-to-html/node_modules/property-information/index.js","./node_modules/hast-util-to-html/node_modules/zwitch/index.js","./node_modules/stringify-entities/lib/core.js","./node_modules/stringify-entities/lib/util/to-hexadecimal.js","./node_modules/stringify-entities/lib/util/to-decimal.js","./node_modules/stringify-entities/node_modules/character-entities-legacy/index.js","./node_modules/character-entities-html4/index.js","./node_modules/stringify-entities/lib/constant/dangerous.js","./node_modules/stringify-entities/lib/util/to-named.js","./node_modules/stringify-entities/lib/util/format-smart.js","./node_modules/stringify-entities/lib/index.js","./node_modules/hast-util-to-html/lib/handle/comment.js","./node_modules/hast-util-to-html/lib/handle/doctype.js","./node_modules/hast-util-to-html/node_modules/ccount/index.js","./node_modules/hast-util-to-html/node_modules/comma-separated-tokens/index.js","./node_modules/hast-util-to-html/node_modules/space-separated-tokens/index.js","./node_modules/hast-util-whitespace/lib/index.js","./node_modules/hast-util-to-html/lib/omission/util/siblings.js","./node_modules/hast-util-to-html/lib/omission/omission.js","./node_modules/hast-util-to-html/lib/omission/closing.js","./node_modules/hast-util-to-html/lib/omission/opening.js","./node_modules/hast-util-to-html/lib/handle/element.js","./node_modules/hast-util-to-html/lib/handle/text.js","./node_modules/hast-util-to-html/lib/handle/raw.js","./node_modules/hast-util-to-html/lib/handle/root.js","./node_modules/hast-util-to-html/lib/handle/index.js","./node_modules/hast-util-to-html/lib/index.js","./node_modules/rehype-stringify/lib/index.js"],"sourcesContent":["// Generated using scripts/write-decode-map.ts\nexport default new Uint16Array(\n// prettier-ignore\n\"\\u1d41<\\xd5\\u0131\\u028a\\u049d\\u057b\\u05d0\\u0675\\u06de\\u07a2\\u07d6\\u080f\\u0a4a\\u0a91\\u0da1\\u0e6d\\u0f09\\u0f26\\u10ca\\u1228\\u12e1\\u1415\\u149d\\u14c3\\u14df\\u1525\\0\\0\\0\\0\\0\\0\\u156b\\u16cd\\u198d\\u1c12\\u1ddd\\u1f7e\\u2060\\u21b0\\u228d\\u23c0\\u23fb\\u2442\\u2824\\u2912\\u2d08\\u2e48\\u2fce\\u3016\\u32ba\\u3639\\u37ac\\u38fe\\u3a28\\u3a71\\u3ae0\\u3b2e\\u0800EMabcfglmnoprstu\\\\bfms\\x7f\\x84\\x8b\\x90\\x95\\x98\\xa6\\xb3\\xb9\\xc8\\xcflig\\u803b\\xc6\\u40c6P\\u803b&\\u4026cute\\u803b\\xc1\\u40c1reve;\\u4102\\u0100iyx}rc\\u803b\\xc2\\u40c2;\\u4410r;\\uc000\\ud835\\udd04rave\\u803b\\xc0\\u40c0pha;\\u4391acr;\\u4100d;\\u6a53\\u0100gp\\x9d\\xa1on;\\u4104f;\\uc000\\ud835\\udd38plyFunction;\\u6061ing\\u803b\\xc5\\u40c5\\u0100cs\\xbe\\xc3r;\\uc000\\ud835\\udc9cign;\\u6254ilde\\u803b\\xc3\\u40c3ml\\u803b\\xc4\\u40c4\\u0400aceforsu\\xe5\\xfb\\xfe\\u0117\\u011c\\u0122\\u0127\\u012a\\u0100cr\\xea\\xf2kslash;\\u6216\\u0176\\xf6\\xf8;\\u6ae7ed;\\u6306y;\\u4411\\u0180crt\\u0105\\u010b\\u0114ause;\\u6235noullis;\\u612ca;\\u4392r;\\uc000\\ud835\\udd05pf;\\uc000\\ud835\\udd39eve;\\u42d8c\\xf2\\u0113mpeq;\\u624e\\u0700HOacdefhilorsu\\u014d\\u0151\\u0156\\u0180\\u019e\\u01a2\\u01b5\\u01b7\\u01ba\\u01dc\\u0215\\u0273\\u0278\\u027ecy;\\u4427PY\\u803b\\xa9\\u40a9\\u0180cpy\\u015d\\u0162\\u017aute;\\u4106\\u0100;i\\u0167\\u0168\\u62d2talDifferentialD;\\u6145leys;\\u612d\\u0200aeio\\u0189\\u018e\\u0194\\u0198ron;\\u410cdil\\u803b\\xc7\\u40c7rc;\\u4108nint;\\u6230ot;\\u410a\\u0100dn\\u01a7\\u01adilla;\\u40b8terDot;\\u40b7\\xf2\\u017fi;\\u43a7rcle\\u0200DMPT\\u01c7\\u01cb\\u01d1\\u01d6ot;\\u6299inus;\\u6296lus;\\u6295imes;\\u6297o\\u0100cs\\u01e2\\u01f8kwiseContourIntegral;\\u6232eCurly\\u0100DQ\\u0203\\u020foubleQuote;\\u601duote;\\u6019\\u0200lnpu\\u021e\\u0228\\u0247\\u0255on\\u0100;e\\u0225\\u0226\\u6237;\\u6a74\\u0180git\\u022f\\u0236\\u023aruent;\\u6261nt;\\u622fourIntegral;\\u622e\\u0100fr\\u024c\\u024e;\\u6102oduct;\\u6210nterClockwiseContourIntegral;\\u6233oss;\\u6a2fcr;\\uc000\\ud835\\udc9ep\\u0100;C\\u0284\\u0285\\u62d3ap;\\u624d\\u0580DJSZacefios\\u02a0\\u02ac\\u02b0\\u02b4\\u02b8\\u02cb\\u02d7\\u02e1\\u02e6\\u0333\\u048d\\u0100;o\\u0179\\u02a5trahd;\\u6911cy;\\u4402cy;\\u4405cy;\\u440f\\u0180grs\\u02bf\\u02c4\\u02c7ger;\\u6021r;\\u61a1hv;\\u6ae4\\u0100ay\\u02d0\\u02d5ron;\\u410e;\\u4414l\\u0100;t\\u02dd\\u02de\\u6207a;\\u4394r;\\uc000\\ud835\\udd07\\u0100af\\u02eb\\u0327\\u0100cm\\u02f0\\u0322ritical\\u0200ADGT\\u0300\\u0306\\u0316\\u031ccute;\\u40b4o\\u0174\\u030b\\u030d;\\u42d9bleAcute;\\u42ddrave;\\u4060ilde;\\u42dcond;\\u62c4ferentialD;\\u6146\\u0470\\u033d\\0\\0\\0\\u0342\\u0354\\0\\u0405f;\\uc000\\ud835\\udd3b\\u0180;DE\\u0348\\u0349\\u034d\\u40a8ot;\\u60dcqual;\\u6250ble\\u0300CDLRUV\\u0363\\u0372\\u0382\\u03cf\\u03e2\\u03f8ontourIntegra\\xec\\u0239o\\u0274\\u0379\\0\\0\\u037b\\xbb\\u0349nArrow;\\u61d3\\u0100eo\\u0387\\u03a4ft\\u0180ART\\u0390\\u0396\\u03a1rrow;\\u61d0ightArrow;\\u61d4e\\xe5\\u02cang\\u0100LR\\u03ab\\u03c4eft\\u0100AR\\u03b3\\u03b9rrow;\\u67f8ightArrow;\\u67faightArrow;\\u67f9ight\\u0100AT\\u03d8\\u03derrow;\\u61d2ee;\\u62a8p\\u0241\\u03e9\\0\\0\\u03efrrow;\\u61d1ownArrow;\\u61d5erticalBar;\\u6225n\\u0300ABLRTa\\u0412\\u042a\\u0430\\u045e\\u047f\\u037crrow\\u0180;BU\\u041d\\u041e\\u0422\\u6193ar;\\u6913pArrow;\\u61f5reve;\\u4311eft\\u02d2\\u043a\\0\\u0446\\0\\u0450ightVector;\\u6950eeVector;\\u695eector\\u0100;B\\u0459\\u045a\\u61bdar;\\u6956ight\\u01d4\\u0467\\0\\u0471eeVector;\\u695fector\\u0100;B\\u047a\\u047b\\u61c1ar;\\u6957ee\\u0100;A\\u0486\\u0487\\u62a4rrow;\\u61a7\\u0100ct\\u0492\\u0497r;\\uc000\\ud835\\udc9frok;\\u4110\\u0800NTacdfglmopqstux\\u04bd\\u04c0\\u04c4\\u04cb\\u04de\\u04e2\\u04e7\\u04ee\\u04f5\\u0521\\u052f\\u0536\\u0552\\u055d\\u0560\\u0565G;\\u414aH\\u803b\\xd0\\u40d0cute\\u803b\\xc9\\u40c9\\u0180aiy\\u04d2\\u04d7\\u04dcron;\\u411arc\\u803b\\xca\\u40ca;\\u442dot;\\u4116r;\\uc000\\ud835\\udd08rave\\u803b\\xc8\\u40c8ement;\\u6208\\u0100ap\\u04fa\\u04fecr;\\u4112ty\\u0253\\u0506\\0\\0\\u0512mallSquare;\\u65fberySmallSquare;\\u65ab\\u0100gp\\u0526\\u052aon;\\u4118f;\\uc000\\ud835\\udd3csilon;\\u4395u\\u0100ai\\u053c\\u0549l\\u0100;T\\u0542\\u0543\\u6a75ilde;\\u6242librium;\\u61cc\\u0100ci\\u0557\\u055ar;\\u6130m;\\u6a73a;\\u4397ml\\u803b\\xcb\\u40cb\\u0100ip\\u056a\\u056fsts;\\u6203onentialE;\\u6147\\u0280cfios\\u0585\\u0588\\u058d\\u05b2\\u05ccy;\\u4424r;\\uc000\\ud835\\udd09lled\\u0253\\u0597\\0\\0\\u05a3mallSquare;\\u65fcerySmallSquare;\\u65aa\\u0370\\u05ba\\0\\u05bf\\0\\0\\u05c4f;\\uc000\\ud835\\udd3dAll;\\u6200riertrf;\\u6131c\\xf2\\u05cb\\u0600JTabcdfgorst\\u05e8\\u05ec\\u05ef\\u05fa\\u0600\\u0612\\u0616\\u061b\\u061d\\u0623\\u066c\\u0672cy;\\u4403\\u803b>\\u403emma\\u0100;d\\u05f7\\u05f8\\u4393;\\u43dcreve;\\u411e\\u0180eiy\\u0607\\u060c\\u0610dil;\\u4122rc;\\u411c;\\u4413ot;\\u4120r;\\uc000\\ud835\\udd0a;\\u62d9pf;\\uc000\\ud835\\udd3eeater\\u0300EFGLST\\u0635\\u0644\\u064e\\u0656\\u065b\\u0666qual\\u0100;L\\u063e\\u063f\\u6265ess;\\u62dbullEqual;\\u6267reater;\\u6aa2ess;\\u6277lantEqual;\\u6a7eilde;\\u6273cr;\\uc000\\ud835\\udca2;\\u626b\\u0400Aacfiosu\\u0685\\u068b\\u0696\\u069b\\u069e\\u06aa\\u06be\\u06caRDcy;\\u442a\\u0100ct\\u0690\\u0694ek;\\u42c7;\\u405eirc;\\u4124r;\\u610clbertSpace;\\u610b\\u01f0\\u06af\\0\\u06b2f;\\u610dizontalLine;\\u6500\\u0100ct\\u06c3\\u06c5\\xf2\\u06a9rok;\\u4126mp\\u0144\\u06d0\\u06d8ownHum\\xf0\\u012fqual;\\u624f\\u0700EJOacdfgmnostu\\u06fa\\u06fe\\u0703\\u0707\\u070e\\u071a\\u071e\\u0721\\u0728\\u0744\\u0778\\u078b\\u078f\\u0795cy;\\u4415lig;\\u4132cy;\\u4401cute\\u803b\\xcd\\u40cd\\u0100iy\\u0713\\u0718rc\\u803b\\xce\\u40ce;\\u4418ot;\\u4130r;\\u6111rave\\u803b\\xcc\\u40cc\\u0180;ap\\u0720\\u072f\\u073f\\u0100cg\\u0734\\u0737r;\\u412ainaryI;\\u6148lie\\xf3\\u03dd\\u01f4\\u0749\\0\\u0762\\u0100;e\\u074d\\u074e\\u622c\\u0100gr\\u0753\\u0758ral;\\u622bsection;\\u62c2isible\\u0100CT\\u076c\\u0772omma;\\u6063imes;\\u6062\\u0180gpt\\u077f\\u0783\\u0788on;\\u412ef;\\uc000\\ud835\\udd40a;\\u4399cr;\\u6110ilde;\\u4128\\u01eb\\u079a\\0\\u079ecy;\\u4406l\\u803b\\xcf\\u40cf\\u0280cfosu\\u07ac\\u07b7\\u07bc\\u07c2\\u07d0\\u0100iy\\u07b1\\u07b5rc;\\u4134;\\u4419r;\\uc000\\ud835\\udd0dpf;\\uc000\\ud835\\udd41\\u01e3\\u07c7\\0\\u07ccr;\\uc000\\ud835\\udca5rcy;\\u4408kcy;\\u4404\\u0380HJacfos\\u07e4\\u07e8\\u07ec\\u07f1\\u07fd\\u0802\\u0808cy;\\u4425cy;\\u440cppa;\\u439a\\u0100ey\\u07f6\\u07fbdil;\\u4136;\\u441ar;\\uc000\\ud835\\udd0epf;\\uc000\\ud835\\udd42cr;\\uc000\\ud835\\udca6\\u0580JTaceflmost\\u0825\\u0829\\u082c\\u0850\\u0863\\u09b3\\u09b8\\u09c7\\u09cd\\u0a37\\u0a47cy;\\u4409\\u803b<\\u403c\\u0280cmnpr\\u0837\\u083c\\u0841\\u0844\\u084dute;\\u4139bda;\\u439bg;\\u67ealacetrf;\\u6112r;\\u619e\\u0180aey\\u0857\\u085c\\u0861ron;\\u413ddil;\\u413b;\\u441b\\u0100fs\\u0868\\u0970t\\u0500ACDFRTUVar\\u087e\\u08a9\\u08b1\\u08e0\\u08e6\\u08fc\\u092f\\u095b\\u0390\\u096a\\u0100nr\\u0883\\u088fgleBracket;\\u67e8row\\u0180;BR\\u0899\\u089a\\u089e\\u6190ar;\\u61e4ightArrow;\\u61c6eiling;\\u6308o\\u01f5\\u08b7\\0\\u08c3bleBracket;\\u67e6n\\u01d4\\u08c8\\0\\u08d2eeVector;\\u6961ector\\u0100;B\\u08db\\u08dc\\u61c3ar;\\u6959loor;\\u630aight\\u0100AV\\u08ef\\u08f5rrow;\\u6194ector;\\u694e\\u0100er\\u0901\\u0917e\\u0180;AV\\u0909\\u090a\\u0910\\u62a3rrow;\\u61a4ector;\\u695aiangle\\u0180;BE\\u0924\\u0925\\u0929\\u62b2ar;\\u69cfqual;\\u62b4p\\u0180DTV\\u0937\\u0942\\u094cownVector;\\u6951eeVector;\\u6960ector\\u0100;B\\u0956\\u0957\\u61bfar;\\u6958ector\\u0100;B\\u0965\\u0966\\u61bcar;\\u6952ight\\xe1\\u039cs\\u0300EFGLST\\u097e\\u098b\\u0995\\u099d\\u09a2\\u09adqualGreater;\\u62daullEqual;\\u6266reater;\\u6276ess;\\u6aa1lantEqual;\\u6a7dilde;\\u6272r;\\uc000\\ud835\\udd0f\\u0100;e\\u09bd\\u09be\\u62d8ftarrow;\\u61daidot;\\u413f\\u0180npw\\u09d4\\u0a16\\u0a1bg\\u0200LRlr\\u09de\\u09f7\\u0a02\\u0a10eft\\u0100AR\\u09e6\\u09ecrrow;\\u67f5ightArrow;\\u67f7ightArrow;\\u67f6eft\\u0100ar\\u03b3\\u0a0aight\\xe1\\u03bfight\\xe1\\u03caf;\\uc000\\ud835\\udd43er\\u0100LR\\u0a22\\u0a2ceftArrow;\\u6199ightArrow;\\u6198\\u0180cht\\u0a3e\\u0a40\\u0a42\\xf2\\u084c;\\u61b0rok;\\u4141;\\u626a\\u0400acefiosu\\u0a5a\\u0a5d\\u0a60\\u0a77\\u0a7c\\u0a85\\u0a8b\\u0a8ep;\\u6905y;\\u441c\\u0100dl\\u0a65\\u0a6fiumSpace;\\u605flintrf;\\u6133r;\\uc000\\ud835\\udd10nusPlus;\\u6213pf;\\uc000\\ud835\\udd44c\\xf2\\u0a76;\\u439c\\u0480Jacefostu\\u0aa3\\u0aa7\\u0aad\\u0ac0\\u0b14\\u0b19\\u0d91\\u0d97\\u0d9ecy;\\u440acute;\\u4143\\u0180aey\\u0ab4\\u0ab9\\u0aberon;\\u4147dil;\\u4145;\\u441d\\u0180gsw\\u0ac7\\u0af0\\u0b0eative\\u0180MTV\\u0ad3\\u0adf\\u0ae8ediumSpace;\\u600bhi\\u0100cn\\u0ae6\\u0ad8\\xeb\\u0ad9eryThi\\xee\\u0ad9ted\\u0100GL\\u0af8\\u0b06reaterGreate\\xf2\\u0673essLes\\xf3\\u0a48Line;\\u400ar;\\uc000\\ud835\\udd11\\u0200Bnpt\\u0b22\\u0b28\\u0b37\\u0b3areak;\\u6060BreakingSpace;\\u40a0f;\\u6115\\u0680;CDEGHLNPRSTV\\u0b55\\u0b56\\u0b6a\\u0b7c\\u0ba1\\u0beb\\u0c04\\u0c5e\\u0c84\\u0ca6\\u0cd8\\u0d61\\u0d85\\u6aec\\u0100ou\\u0b5b\\u0b64ngruent;\\u6262pCap;\\u626doubleVerticalBar;\\u6226\\u0180lqx\\u0b83\\u0b8a\\u0b9bement;\\u6209ual\\u0100;T\\u0b92\\u0b93\\u6260ilde;\\uc000\\u2242\\u0338ists;\\u6204reater\\u0380;EFGLST\\u0bb6\\u0bb7\\u0bbd\\u0bc9\\u0bd3\\u0bd8\\u0be5\\u626fqual;\\u6271ullEqual;\\uc000\\u2267\\u0338reater;\\uc000\\u226b\\u0338ess;\\u6279lantEqual;\\uc000\\u2a7e\\u0338ilde;\\u6275ump\\u0144\\u0bf2\\u0bfdownHump;\\uc000\\u224e\\u0338qual;\\uc000\\u224f\\u0338e\\u0100fs\\u0c0a\\u0c27tTriangle\\u0180;BE\\u0c1a\\u0c1b\\u0c21\\u62eaar;\\uc000\\u29cf\\u0338qual;\\u62ecs\\u0300;EGLST\\u0c35\\u0c36\\u0c3c\\u0c44\\u0c4b\\u0c58\\u626equal;\\u6270reater;\\u6278ess;\\uc000\\u226a\\u0338lantEqual;\\uc000\\u2a7d\\u0338ilde;\\u6274ested\\u0100GL\\u0c68\\u0c79reaterGreater;\\uc000\\u2aa2\\u0338essLess;\\uc000\\u2aa1\\u0338recedes\\u0180;ES\\u0c92\\u0c93\\u0c9b\\u6280qual;\\uc000\\u2aaf\\u0338lantEqual;\\u62e0\\u0100ei\\u0cab\\u0cb9verseElement;\\u620cghtTriangle\\u0180;BE\\u0ccb\\u0ccc\\u0cd2\\u62ebar;\\uc000\\u29d0\\u0338qual;\\u62ed\\u0100qu\\u0cdd\\u0d0cuareSu\\u0100bp\\u0ce8\\u0cf9set\\u0100;E\\u0cf0\\u0cf3\\uc000\\u228f\\u0338qual;\\u62e2erset\\u0100;E\\u0d03\\u0d06\\uc000\\u2290\\u0338qual;\\u62e3\\u0180bcp\\u0d13\\u0d24\\u0d4eset\\u0100;E\\u0d1b\\u0d1e\\uc000\\u2282\\u20d2qual;\\u6288ceeds\\u0200;EST\\u0d32\\u0d33\\u0d3b\\u0d46\\u6281qual;\\uc000\\u2ab0\\u0338lantEqual;\\u62e1ilde;\\uc000\\u227f\\u0338erset\\u0100;E\\u0d58\\u0d5b\\uc000\\u2283\\u20d2qual;\\u6289ilde\\u0200;EFT\\u0d6e\\u0d6f\\u0d75\\u0d7f\\u6241qual;\\u6244ullEqual;\\u6247ilde;\\u6249erticalBar;\\u6224cr;\\uc000\\ud835\\udca9ilde\\u803b\\xd1\\u40d1;\\u439d\\u0700Eacdfgmoprstuv\\u0dbd\\u0dc2\\u0dc9\\u0dd5\\u0ddb\\u0de0\\u0de7\\u0dfc\\u0e02\\u0e20\\u0e22\\u0e32\\u0e3f\\u0e44lig;\\u4152cute\\u803b\\xd3\\u40d3\\u0100iy\\u0dce\\u0dd3rc\\u803b\\xd4\\u40d4;\\u441eblac;\\u4150r;\\uc000\\ud835\\udd12rave\\u803b\\xd2\\u40d2\\u0180aei\\u0dee\\u0df2\\u0df6cr;\\u414cga;\\u43a9cron;\\u439fpf;\\uc000\\ud835\\udd46enCurly\\u0100DQ\\u0e0e\\u0e1aoubleQuote;\\u601cuote;\\u6018;\\u6a54\\u0100cl\\u0e27\\u0e2cr;\\uc000\\ud835\\udcaaash\\u803b\\xd8\\u40d8i\\u016c\\u0e37\\u0e3cde\\u803b\\xd5\\u40d5es;\\u6a37ml\\u803b\\xd6\\u40d6er\\u0100BP\\u0e4b\\u0e60\\u0100ar\\u0e50\\u0e53r;\\u603eac\\u0100ek\\u0e5a\\u0e5c;\\u63deet;\\u63b4arenthesis;\\u63dc\\u0480acfhilors\\u0e7f\\u0e87\\u0e8a\\u0e8f\\u0e92\\u0e94\\u0e9d\\u0eb0\\u0efcrtialD;\\u6202y;\\u441fr;\\uc000\\ud835\\udd13i;\\u43a6;\\u43a0usMinus;\\u40b1\\u0100ip\\u0ea2\\u0eadncareplan\\xe5\\u069df;\\u6119\\u0200;eio\\u0eb9\\u0eba\\u0ee0\\u0ee4\\u6abbcedes\\u0200;EST\\u0ec8\\u0ec9\\u0ecf\\u0eda\\u627aqual;\\u6aaflantEqual;\\u627cilde;\\u627eme;\\u6033\\u0100dp\\u0ee9\\u0eeeuct;\\u620fortion\\u0100;a\\u0225\\u0ef9l;\\u621d\\u0100ci\\u0f01\\u0f06r;\\uc000\\ud835\\udcab;\\u43a8\\u0200Ufos\\u0f11\\u0f16\\u0f1b\\u0f1fOT\\u803b\\\"\\u4022r;\\uc000\\ud835\\udd14pf;\\u611acr;\\uc000\\ud835\\udcac\\u0600BEacefhiorsu\\u0f3e\\u0f43\\u0f47\\u0f60\\u0f73\\u0fa7\\u0faa\\u0fad\\u1096\\u10a9\\u10b4\\u10bearr;\\u6910G\\u803b\\xae\\u40ae\\u0180cnr\\u0f4e\\u0f53\\u0f56ute;\\u4154g;\\u67ebr\\u0100;t\\u0f5c\\u0f5d\\u61a0l;\\u6916\\u0180aey\\u0f67\\u0f6c\\u0f71ron;\\u4158dil;\\u4156;\\u4420\\u0100;v\\u0f78\\u0f79\\u611cerse\\u0100EU\\u0f82\\u0f99\\u0100lq\\u0f87\\u0f8eement;\\u620builibrium;\\u61cbpEquilibrium;\\u696fr\\xbb\\u0f79o;\\u43a1ght\\u0400ACDFTUVa\\u0fc1\\u0feb\\u0ff3\\u1022\\u1028\\u105b\\u1087\\u03d8\\u0100nr\\u0fc6\\u0fd2gleBracket;\\u67e9row\\u0180;BL\\u0fdc\\u0fdd\\u0fe1\\u6192ar;\\u61e5eftArrow;\\u61c4eiling;\\u6309o\\u01f5\\u0ff9\\0\\u1005bleBracket;\\u67e7n\\u01d4\\u100a\\0\\u1014eeVector;\\u695dector\\u0100;B\\u101d\\u101e\\u61c2ar;\\u6955loor;\\u630b\\u0100er\\u102d\\u1043e\\u0180;AV\\u1035\\u1036\\u103c\\u62a2rrow;\\u61a6ector;\\u695biangle\\u0180;BE\\u1050\\u1051\\u1055\\u62b3ar;\\u69d0qual;\\u62b5p\\u0180DTV\\u1063\\u106e\\u1078ownVector;\\u694feeVector;\\u695cector\\u0100;B\\u1082\\u1083\\u61bear;\\u6954ector\\u0100;B\\u1091\\u1092\\u61c0ar;\\u6953\\u0100pu\\u109b\\u109ef;\\u611dndImplies;\\u6970ightarrow;\\u61db\\u0100ch\\u10b9\\u10bcr;\\u611b;\\u61b1leDelayed;\\u69f4\\u0680HOacfhimoqstu\\u10e4\\u10f1\\u10f7\\u10fd\\u1119\\u111e\\u1151\\u1156\\u1161\\u1167\\u11b5\\u11bb\\u11bf\\u0100Cc\\u10e9\\u10eeHcy;\\u4429y;\\u4428FTcy;\\u442ccute;\\u415a\\u0280;aeiy\\u1108\\u1109\\u110e\\u1113\\u1117\\u6abcron;\\u4160dil;\\u415erc;\\u415c;\\u4421r;\\uc000\\ud835\\udd16ort\\u0200DLRU\\u112a\\u1134\\u113e\\u1149ownArrow\\xbb\\u041eeftArrow\\xbb\\u089aightArrow\\xbb\\u0fddpArrow;\\u6191gma;\\u43a3allCircle;\\u6218pf;\\uc000\\ud835\\udd4a\\u0272\\u116d\\0\\0\\u1170t;\\u621aare\\u0200;ISU\\u117b\\u117c\\u1189\\u11af\\u65a1ntersection;\\u6293u\\u0100bp\\u118f\\u119eset\\u0100;E\\u1197\\u1198\\u628fqual;\\u6291erset\\u0100;E\\u11a8\\u11a9\\u6290qual;\\u6292nion;\\u6294cr;\\uc000\\ud835\\udcaear;\\u62c6\\u0200bcmp\\u11c8\\u11db\\u1209\\u120b\\u0100;s\\u11cd\\u11ce\\u62d0et\\u0100;E\\u11cd\\u11d5qual;\\u6286\\u0100ch\\u11e0\\u1205eeds\\u0200;EST\\u11ed\\u11ee\\u11f4\\u11ff\\u627bqual;\\u6ab0lantEqual;\\u627dilde;\\u627fTh\\xe1\\u0f8c;\\u6211\\u0180;es\\u1212\\u1213\\u1223\\u62d1rset\\u0100;E\\u121c\\u121d\\u6283qual;\\u6287et\\xbb\\u1213\\u0580HRSacfhiors\\u123e\\u1244\\u1249\\u1255\\u125e\\u1271\\u1276\\u129f\\u12c2\\u12c8\\u12d1ORN\\u803b\\xde\\u40deADE;\\u6122\\u0100Hc\\u124e\\u1252cy;\\u440by;\\u4426\\u0100bu\\u125a\\u125c;\\u4009;\\u43a4\\u0180aey\\u1265\\u126a\\u126fron;\\u4164dil;\\u4162;\\u4422r;\\uc000\\ud835\\udd17\\u0100ei\\u127b\\u1289\\u01f2\\u1280\\0\\u1287efore;\\u6234a;\\u4398\\u0100cn\\u128e\\u1298kSpace;\\uc000\\u205f\\u200aSpace;\\u6009lde\\u0200;EFT\\u12ab\\u12ac\\u12b2\\u12bc\\u623cqual;\\u6243ullEqual;\\u6245ilde;\\u6248pf;\\uc000\\ud835\\udd4bipleDot;\\u60db\\u0100ct\\u12d6\\u12dbr;\\uc000\\ud835\\udcafrok;\\u4166\\u0ae1\\u12f7\\u130e\\u131a\\u1326\\0\\u132c\\u1331\\0\\0\\0\\0\\0\\u1338\\u133d\\u1377\\u1385\\0\\u13ff\\u1404\\u140a\\u1410\\u0100cr\\u12fb\\u1301ute\\u803b\\xda\\u40dar\\u0100;o\\u1307\\u1308\\u619fcir;\\u6949r\\u01e3\\u1313\\0\\u1316y;\\u440eve;\\u416c\\u0100iy\\u131e\\u1323rc\\u803b\\xdb\\u40db;\\u4423blac;\\u4170r;\\uc000\\ud835\\udd18rave\\u803b\\xd9\\u40d9acr;\\u416a\\u0100di\\u1341\\u1369er\\u0100BP\\u1348\\u135d\\u0100ar\\u134d\\u1350r;\\u405fac\\u0100ek\\u1357\\u1359;\\u63dfet;\\u63b5arenthesis;\\u63ddon\\u0100;P\\u1370\\u1371\\u62c3lus;\\u628e\\u0100gp\\u137b\\u137fon;\\u4172f;\\uc000\\ud835\\udd4c\\u0400ADETadps\\u1395\\u13ae\\u13b8\\u13c4\\u03e8\\u13d2\\u13d7\\u13f3rrow\\u0180;BD\\u1150\\u13a0\\u13a4ar;\\u6912ownArrow;\\u61c5ownArrow;\\u6195quilibrium;\\u696eee\\u0100;A\\u13cb\\u13cc\\u62a5rrow;\\u61a5own\\xe1\\u03f3er\\u0100LR\\u13de\\u13e8eftArrow;\\u6196ightArrow;\\u6197i\\u0100;l\\u13f9\\u13fa\\u43d2on;\\u43a5ing;\\u416ecr;\\uc000\\ud835\\udcb0ilde;\\u4168ml\\u803b\\xdc\\u40dc\\u0480Dbcdefosv\\u1427\\u142c\\u1430\\u1433\\u143e\\u1485\\u148a\\u1490\\u1496ash;\\u62abar;\\u6aeby;\\u4412ash\\u0100;l\\u143b\\u143c\\u62a9;\\u6ae6\\u0100er\\u1443\\u1445;\\u62c1\\u0180bty\\u144c\\u1450\\u147aar;\\u6016\\u0100;i\\u144f\\u1455cal\\u0200BLST\\u1461\\u1465\\u146a\\u1474ar;\\u6223ine;\\u407ceparator;\\u6758ilde;\\u6240ThinSpace;\\u600ar;\\uc000\\ud835\\udd19pf;\\uc000\\ud835\\udd4dcr;\\uc000\\ud835\\udcb1dash;\\u62aa\\u0280cefos\\u14a7\\u14ac\\u14b1\\u14b6\\u14bcirc;\\u4174dge;\\u62c0r;\\uc000\\ud835\\udd1apf;\\uc000\\ud835\\udd4ecr;\\uc000\\ud835\\udcb2\\u0200fios\\u14cb\\u14d0\\u14d2\\u14d8r;\\uc000\\ud835\\udd1b;\\u439epf;\\uc000\\ud835\\udd4fcr;\\uc000\\ud835\\udcb3\\u0480AIUacfosu\\u14f1\\u14f5\\u14f9\\u14fd\\u1504\\u150f\\u1514\\u151a\\u1520cy;\\u442fcy;\\u4407cy;\\u442ecute\\u803b\\xdd\\u40dd\\u0100iy\\u1509\\u150drc;\\u4176;\\u442br;\\uc000\\ud835\\udd1cpf;\\uc000\\ud835\\udd50cr;\\uc000\\ud835\\udcb4ml;\\u4178\\u0400Hacdefos\\u1535\\u1539\\u153f\\u154b\\u154f\\u155d\\u1560\\u1564cy;\\u4416cute;\\u4179\\u0100ay\\u1544\\u1549ron;\\u417d;\\u4417ot;\\u417b\\u01f2\\u1554\\0\\u155boWidt\\xe8\\u0ad9a;\\u4396r;\\u6128pf;\\u6124cr;\\uc000\\ud835\\udcb5\\u0be1\\u1583\\u158a\\u1590\\0\\u15b0\\u15b6\\u15bf\\0\\0\\0\\0\\u15c6\\u15db\\u15eb\\u165f\\u166d\\0\\u1695\\u169b\\u16b2\\u16b9\\0\\u16becute\\u803b\\xe1\\u40e1reve;\\u4103\\u0300;Ediuy\\u159c\\u159d\\u15a1\\u15a3\\u15a8\\u15ad\\u623e;\\uc000\\u223e\\u0333;\\u623frc\\u803b\\xe2\\u40e2te\\u80bb\\xb4\\u0306;\\u4430lig\\u803b\\xe6\\u40e6\\u0100;r\\xb2\\u15ba;\\uc000\\ud835\\udd1erave\\u803b\\xe0\\u40e0\\u0100ep\\u15ca\\u15d6\\u0100fp\\u15cf\\u15d4sym;\\u6135\\xe8\\u15d3ha;\\u43b1\\u0100ap\\u15dfc\\u0100cl\\u15e4\\u15e7r;\\u4101g;\\u6a3f\\u0264\\u15f0\\0\\0\\u160a\\u0280;adsv\\u15fa\\u15fb\\u15ff\\u1601\\u1607\\u6227nd;\\u6a55;\\u6a5clope;\\u6a58;\\u6a5a\\u0380;elmrsz\\u1618\\u1619\\u161b\\u161e\\u163f\\u164f\\u1659\\u6220;\\u69a4e\\xbb\\u1619sd\\u0100;a\\u1625\\u1626\\u6221\\u0461\\u1630\\u1632\\u1634\\u1636\\u1638\\u163a\\u163c\\u163e;\\u69a8;\\u69a9;\\u69aa;\\u69ab;\\u69ac;\\u69ad;\\u69ae;\\u69aft\\u0100;v\\u1645\\u1646\\u621fb\\u0100;d\\u164c\\u164d\\u62be;\\u699d\\u0100pt\\u1654\\u1657h;\\u6222\\xbb\\xb9arr;\\u637c\\u0100gp\\u1663\\u1667on;\\u4105f;\\uc000\\ud835\\udd52\\u0380;Eaeiop\\u12c1\\u167b\\u167d\\u1682\\u1684\\u1687\\u168a;\\u6a70cir;\\u6a6f;\\u624ad;\\u624bs;\\u4027rox\\u0100;e\\u12c1\\u1692\\xf1\\u1683ing\\u803b\\xe5\\u40e5\\u0180cty\\u16a1\\u16a6\\u16a8r;\\uc000\\ud835\\udcb6;\\u402amp\\u0100;e\\u12c1\\u16af\\xf1\\u0288ilde\\u803b\\xe3\\u40e3ml\\u803b\\xe4\\u40e4\\u0100ci\\u16c2\\u16c8onin\\xf4\\u0272nt;\\u6a11\\u0800Nabcdefiklnoprsu\\u16ed\\u16f1\\u1730\\u173c\\u1743\\u1748\\u1778\\u177d\\u17e0\\u17e6\\u1839\\u1850\\u170d\\u193d\\u1948\\u1970ot;\\u6aed\\u0100cr\\u16f6\\u171ek\\u0200ceps\\u1700\\u1705\\u170d\\u1713ong;\\u624cpsilon;\\u43f6rime;\\u6035im\\u0100;e\\u171a\\u171b\\u623dq;\\u62cd\\u0176\\u1722\\u1726ee;\\u62bded\\u0100;g\\u172c\\u172d\\u6305e\\xbb\\u172drk\\u0100;t\\u135c\\u1737brk;\\u63b6\\u0100oy\\u1701\\u1741;\\u4431quo;\\u601e\\u0280cmprt\\u1753\\u175b\\u1761\\u1764\\u1768aus\\u0100;e\\u010a\\u0109ptyv;\\u69b0s\\xe9\\u170cno\\xf5\\u0113\\u0180ahw\\u176f\\u1771\\u1773;\\u43b2;\\u6136een;\\u626cr;\\uc000\\ud835\\udd1fg\\u0380costuvw\\u178d\\u179d\\u17b3\\u17c1\\u17d5\\u17db\\u17de\\u0180aiu\\u1794\\u1796\\u179a\\xf0\\u0760rc;\\u65efp\\xbb\\u1371\\u0180dpt\\u17a4\\u17a8\\u17adot;\\u6a00lus;\\u6a01imes;\\u6a02\\u0271\\u17b9\\0\\0\\u17becup;\\u6a06ar;\\u6605riangle\\u0100du\\u17cd\\u17d2own;\\u65bdp;\\u65b3plus;\\u6a04e\\xe5\\u1444\\xe5\\u14adarow;\\u690d\\u0180ako\\u17ed\\u1826\\u1835\\u0100cn\\u17f2\\u1823k\\u0180lst\\u17fa\\u05ab\\u1802ozenge;\\u69ebriangle\\u0200;dlr\\u1812\\u1813\\u1818\\u181d\\u65b4own;\\u65beeft;\\u65c2ight;\\u65b8k;\\u6423\\u01b1\\u182b\\0\\u1833\\u01b2\\u182f\\0\\u1831;\\u6592;\\u65914;\\u6593ck;\\u6588\\u0100eo\\u183e\\u184d\\u0100;q\\u1843\\u1846\\uc000=\\u20e5uiv;\\uc000\\u2261\\u20e5t;\\u6310\\u0200ptwx\\u1859\\u185e\\u1867\\u186cf;\\uc000\\ud835\\udd53\\u0100;t\\u13cb\\u1863om\\xbb\\u13cctie;\\u62c8\\u0600DHUVbdhmptuv\\u1885\\u1896\\u18aa\\u18bb\\u18d7\\u18db\\u18ec\\u18ff\\u1905\\u190a\\u1910\\u1921\\u0200LRlr\\u188e\\u1890\\u1892\\u1894;\\u6557;\\u6554;\\u6556;\\u6553\\u0280;DUdu\\u18a1\\u18a2\\u18a4\\u18a6\\u18a8\\u6550;\\u6566;\\u6569;\\u6564;\\u6567\\u0200LRlr\\u18b3\\u18b5\\u18b7\\u18b9;\\u655d;\\u655a;\\u655c;\\u6559\\u0380;HLRhlr\\u18ca\\u18cb\\u18cd\\u18cf\\u18d1\\u18d3\\u18d5\\u6551;\\u656c;\\u6563;\\u6560;\\u656b;\\u6562;\\u655fox;\\u69c9\\u0200LRlr\\u18e4\\u18e6\\u18e8\\u18ea;\\u6555;\\u6552;\\u6510;\\u650c\\u0280;DUdu\\u06bd\\u18f7\\u18f9\\u18fb\\u18fd;\\u6565;\\u6568;\\u652c;\\u6534inus;\\u629flus;\\u629eimes;\\u62a0\\u0200LRlr\\u1919\\u191b\\u191d\\u191f;\\u655b;\\u6558;\\u6518;\\u6514\\u0380;HLRhlr\\u1930\\u1931\\u1933\\u1935\\u1937\\u1939\\u193b\\u6502;\\u656a;\\u6561;\\u655e;\\u653c;\\u6524;\\u651c\\u0100ev\\u0123\\u1942bar\\u803b\\xa6\\u40a6\\u0200ceio\\u1951\\u1956\\u195a\\u1960r;\\uc000\\ud835\\udcb7mi;\\u604fm\\u0100;e\\u171a\\u171cl\\u0180;bh\\u1968\\u1969\\u196b\\u405c;\\u69c5sub;\\u67c8\\u016c\\u1974\\u197el\\u0100;e\\u1979\\u197a\\u6022t\\xbb\\u197ap\\u0180;Ee\\u012f\\u1985\\u1987;\\u6aae\\u0100;q\\u06dc\\u06db\\u0ce1\\u19a7\\0\\u19e8\\u1a11\\u1a15\\u1a32\\0\\u1a37\\u1a50\\0\\0\\u1ab4\\0\\0\\u1ac1\\0\\0\\u1b21\\u1b2e\\u1b4d\\u1b52\\0\\u1bfd\\0\\u1c0c\\u0180cpr\\u19ad\\u19b2\\u19ddute;\\u4107\\u0300;abcds\\u19bf\\u19c0\\u19c4\\u19ca\\u19d5\\u19d9\\u6229nd;\\u6a44rcup;\\u6a49\\u0100au\\u19cf\\u19d2p;\\u6a4bp;\\u6a47ot;\\u6a40;\\uc000\\u2229\\ufe00\\u0100eo\\u19e2\\u19e5t;\\u6041\\xee\\u0693\\u0200aeiu\\u19f0\\u19fb\\u1a01\\u1a05\\u01f0\\u19f5\\0\\u19f8s;\\u6a4don;\\u410ddil\\u803b\\xe7\\u40e7rc;\\u4109ps\\u0100;s\\u1a0c\\u1a0d\\u6a4cm;\\u6a50ot;\\u410b\\u0180dmn\\u1a1b\\u1a20\\u1a26il\\u80bb\\xb8\\u01adptyv;\\u69b2t\\u8100\\xa2;e\\u1a2d\\u1a2e\\u40a2r\\xe4\\u01b2r;\\uc000\\ud835\\udd20\\u0180cei\\u1a3d\\u1a40\\u1a4dy;\\u4447ck\\u0100;m\\u1a47\\u1a48\\u6713ark\\xbb\\u1a48;\\u43c7r\\u0380;Ecefms\\u1a5f\\u1a60\\u1a62\\u1a6b\\u1aa4\\u1aaa\\u1aae\\u65cb;\\u69c3\\u0180;el\\u1a69\\u1a6a\\u1a6d\\u42c6q;\\u6257e\\u0261\\u1a74\\0\\0\\u1a88rrow\\u0100lr\\u1a7c\\u1a81eft;\\u61baight;\\u61bb\\u0280RSacd\\u1a92\\u1a94\\u1a96\\u1a9a\\u1a9f\\xbb\\u0f47;\\u64c8st;\\u629birc;\\u629aash;\\u629dnint;\\u6a10id;\\u6aefcir;\\u69c2ubs\\u0100;u\\u1abb\\u1abc\\u6663it\\xbb\\u1abc\\u02ec\\u1ac7\\u1ad4\\u1afa\\0\\u1b0aon\\u0100;e\\u1acd\\u1ace\\u403a\\u0100;q\\xc7\\xc6\\u026d\\u1ad9\\0\\0\\u1ae2a\\u0100;t\\u1ade\\u1adf\\u402c;\\u4040\\u0180;fl\\u1ae8\\u1ae9\\u1aeb\\u6201\\xee\\u1160e\\u0100mx\\u1af1\\u1af6ent\\xbb\\u1ae9e\\xf3\\u024d\\u01e7\\u1afe\\0\\u1b07\\u0100;d\\u12bb\\u1b02ot;\\u6a6dn\\xf4\\u0246\\u0180fry\\u1b10\\u1b14\\u1b17;\\uc000\\ud835\\udd54o\\xe4\\u0254\\u8100\\xa9;s\\u0155\\u1b1dr;\\u6117\\u0100ao\\u1b25\\u1b29rr;\\u61b5ss;\\u6717\\u0100cu\\u1b32\\u1b37r;\\uc000\\ud835\\udcb8\\u0100bp\\u1b3c\\u1b44\\u0100;e\\u1b41\\u1b42\\u6acf;\\u6ad1\\u0100;e\\u1b49\\u1b4a\\u6ad0;\\u6ad2dot;\\u62ef\\u0380delprvw\\u1b60\\u1b6c\\u1b77\\u1b82\\u1bac\\u1bd4\\u1bf9arr\\u0100lr\\u1b68\\u1b6a;\\u6938;\\u6935\\u0270\\u1b72\\0\\0\\u1b75r;\\u62dec;\\u62dfarr\\u0100;p\\u1b7f\\u1b80\\u61b6;\\u693d\\u0300;bcdos\\u1b8f\\u1b90\\u1b96\\u1ba1\\u1ba5\\u1ba8\\u622arcap;\\u6a48\\u0100au\\u1b9b\\u1b9ep;\\u6a46p;\\u6a4aot;\\u628dr;\\u6a45;\\uc000\\u222a\\ufe00\\u0200alrv\\u1bb5\\u1bbf\\u1bde\\u1be3rr\\u0100;m\\u1bbc\\u1bbd\\u61b7;\\u693cy\\u0180evw\\u1bc7\\u1bd4\\u1bd8q\\u0270\\u1bce\\0\\0\\u1bd2re\\xe3\\u1b73u\\xe3\\u1b75ee;\\u62ceedge;\\u62cfen\\u803b\\xa4\\u40a4earrow\\u0100lr\\u1bee\\u1bf3eft\\xbb\\u1b80ight\\xbb\\u1bbde\\xe4\\u1bdd\\u0100ci\\u1c01\\u1c07onin\\xf4\\u01f7nt;\\u6231lcty;\\u632d\\u0980AHabcdefhijlorstuwz\\u1c38\\u1c3b\\u1c3f\\u1c5d\\u1c69\\u1c75\\u1c8a\\u1c9e\\u1cac\\u1cb7\\u1cfb\\u1cff\\u1d0d\\u1d7b\\u1d91\\u1dab\\u1dbb\\u1dc6\\u1dcdr\\xf2\\u0381ar;\\u6965\\u0200glrs\\u1c48\\u1c4d\\u1c52\\u1c54ger;\\u6020eth;\\u6138\\xf2\\u1133h\\u0100;v\\u1c5a\\u1c5b\\u6010\\xbb\\u090a\\u016b\\u1c61\\u1c67arow;\\u690fa\\xe3\\u0315\\u0100ay\\u1c6e\\u1c73ron;\\u410f;\\u4434\\u0180;ao\\u0332\\u1c7c\\u1c84\\u0100gr\\u02bf\\u1c81r;\\u61catseq;\\u6a77\\u0180glm\\u1c91\\u1c94\\u1c98\\u803b\\xb0\\u40b0ta;\\u43b4ptyv;\\u69b1\\u0100ir\\u1ca3\\u1ca8sht;\\u697f;\\uc000\\ud835\\udd21ar\\u0100lr\\u1cb3\\u1cb5\\xbb\\u08dc\\xbb\\u101e\\u0280aegsv\\u1cc2\\u0378\\u1cd6\\u1cdc\\u1ce0m\\u0180;os\\u0326\\u1cca\\u1cd4nd\\u0100;s\\u0326\\u1cd1uit;\\u6666amma;\\u43ddin;\\u62f2\\u0180;io\\u1ce7\\u1ce8\\u1cf8\\u40f7de\\u8100\\xf7;o\\u1ce7\\u1cf0ntimes;\\u62c7n\\xf8\\u1cf7cy;\\u4452c\\u026f\\u1d06\\0\\0\\u1d0arn;\\u631eop;\\u630d\\u0280lptuw\\u1d18\\u1d1d\\u1d22\\u1d49\\u1d55lar;\\u4024f;\\uc000\\ud835\\udd55\\u0280;emps\\u030b\\u1d2d\\u1d37\\u1d3d\\u1d42q\\u0100;d\\u0352\\u1d33ot;\\u6251inus;\\u6238lus;\\u6214quare;\\u62a1blebarwedg\\xe5\\xfan\\u0180adh\\u112e\\u1d5d\\u1d67ownarrow\\xf3\\u1c83arpoon\\u0100lr\\u1d72\\u1d76ef\\xf4\\u1cb4igh\\xf4\\u1cb6\\u0162\\u1d7f\\u1d85karo\\xf7\\u0f42\\u026f\\u1d8a\\0\\0\\u1d8ern;\\u631fop;\\u630c\\u0180cot\\u1d98\\u1da3\\u1da6\\u0100ry\\u1d9d\\u1da1;\\uc000\\ud835\\udcb9;\\u4455l;\\u69f6rok;\\u4111\\u0100dr\\u1db0\\u1db4ot;\\u62f1i\\u0100;f\\u1dba\\u1816\\u65bf\\u0100ah\\u1dc0\\u1dc3r\\xf2\\u0429a\\xf2\\u0fa6angle;\\u69a6\\u0100ci\\u1dd2\\u1dd5y;\\u445fgrarr;\\u67ff\\u0900Dacdefglmnopqrstux\\u1e01\\u1e09\\u1e19\\u1e38\\u0578\\u1e3c\\u1e49\\u1e61\\u1e7e\\u1ea5\\u1eaf\\u1ebd\\u1ee1\\u1f2a\\u1f37\\u1f44\\u1f4e\\u1f5a\\u0100Do\\u1e06\\u1d34o\\xf4\\u1c89\\u0100cs\\u1e0e\\u1e14ute\\u803b\\xe9\\u40e9ter;\\u6a6e\\u0200aioy\\u1e22\\u1e27\\u1e31\\u1e36ron;\\u411br\\u0100;c\\u1e2d\\u1e2e\\u6256\\u803b\\xea\\u40ealon;\\u6255;\\u444dot;\\u4117\\u0100Dr\\u1e41\\u1e45ot;\\u6252;\\uc000\\ud835\\udd22\\u0180;rs\\u1e50\\u1e51\\u1e57\\u6a9aave\\u803b\\xe8\\u40e8\\u0100;d\\u1e5c\\u1e5d\\u6a96ot;\\u6a98\\u0200;ils\\u1e6a\\u1e6b\\u1e72\\u1e74\\u6a99nters;\\u63e7;\\u6113\\u0100;d\\u1e79\\u1e7a\\u6a95ot;\\u6a97\\u0180aps\\u1e85\\u1e89\\u1e97cr;\\u4113ty\\u0180;sv\\u1e92\\u1e93\\u1e95\\u6205et\\xbb\\u1e93p\\u01001;\\u1e9d\\u1ea4\\u0133\\u1ea1\\u1ea3;\\u6004;\\u6005\\u6003\\u0100gs\\u1eaa\\u1eac;\\u414bp;\\u6002\\u0100gp\\u1eb4\\u1eb8on;\\u4119f;\\uc000\\ud835\\udd56\\u0180als\\u1ec4\\u1ece\\u1ed2r\\u0100;s\\u1eca\\u1ecb\\u62d5l;\\u69e3us;\\u6a71i\\u0180;lv\\u1eda\\u1edb\\u1edf\\u43b5on\\xbb\\u1edb;\\u43f5\\u0200csuv\\u1eea\\u1ef3\\u1f0b\\u1f23\\u0100io\\u1eef\\u1e31rc\\xbb\\u1e2e\\u0269\\u1ef9\\0\\0\\u1efb\\xed\\u0548ant\\u0100gl\\u1f02\\u1f06tr\\xbb\\u1e5dess\\xbb\\u1e7a\\u0180aei\\u1f12\\u1f16\\u1f1als;\\u403dst;\\u625fv\\u0100;D\\u0235\\u1f20D;\\u6a78parsl;\\u69e5\\u0100Da\\u1f2f\\u1f33ot;\\u6253rr;\\u6971\\u0180cdi\\u1f3e\\u1f41\\u1ef8r;\\u612fo\\xf4\\u0352\\u0100ah\\u1f49\\u1f4b;\\u43b7\\u803b\\xf0\\u40f0\\u0100mr\\u1f53\\u1f57l\\u803b\\xeb\\u40ebo;\\u60ac\\u0180cip\\u1f61\\u1f64\\u1f67l;\\u4021s\\xf4\\u056e\\u0100eo\\u1f6c\\u1f74ctatio\\xee\\u0559nential\\xe5\\u0579\\u09e1\\u1f92\\0\\u1f9e\\0\\u1fa1\\u1fa7\\0\\0\\u1fc6\\u1fcc\\0\\u1fd3\\0\\u1fe6\\u1fea\\u2000\\0\\u2008\\u205allingdotse\\xf1\\u1e44y;\\u4444male;\\u6640\\u0180ilr\\u1fad\\u1fb3\\u1fc1lig;\\u8000\\ufb03\\u0269\\u1fb9\\0\\0\\u1fbdg;\\u8000\\ufb00ig;\\u8000\\ufb04;\\uc000\\ud835\\udd23lig;\\u8000\\ufb01lig;\\uc000fj\\u0180alt\\u1fd9\\u1fdc\\u1fe1t;\\u666dig;\\u8000\\ufb02ns;\\u65b1of;\\u4192\\u01f0\\u1fee\\0\\u1ff3f;\\uc000\\ud835\\udd57\\u0100ak\\u05bf\\u1ff7\\u0100;v\\u1ffc\\u1ffd\\u62d4;\\u6ad9artint;\\u6a0d\\u0100ao\\u200c\\u2055\\u0100cs\\u2011\\u2052\\u03b1\\u201a\\u2030\\u2038\\u2045\\u2048\\0\\u2050\\u03b2\\u2022\\u2025\\u2027\\u202a\\u202c\\0\\u202e\\u803b\\xbd\\u40bd;\\u6153\\u803b\\xbc\\u40bc;\\u6155;\\u6159;\\u615b\\u01b3\\u2034\\0\\u2036;\\u6154;\\u6156\\u02b4\\u203e\\u2041\\0\\0\\u2043\\u803b\\xbe\\u40be;\\u6157;\\u615c5;\\u6158\\u01b6\\u204c\\0\\u204e;\\u615a;\\u615d8;\\u615el;\\u6044wn;\\u6322cr;\\uc000\\ud835\\udcbb\\u0880Eabcdefgijlnorstv\\u2082\\u2089\\u209f\\u20a5\\u20b0\\u20b4\\u20f0\\u20f5\\u20fa\\u20ff\\u2103\\u2112\\u2138\\u0317\\u213e\\u2152\\u219e\\u0100;l\\u064d\\u2087;\\u6a8c\\u0180cmp\\u2090\\u2095\\u209dute;\\u41f5ma\\u0100;d\\u209c\\u1cda\\u43b3;\\u6a86reve;\\u411f\\u0100iy\\u20aa\\u20aerc;\\u411d;\\u4433ot;\\u4121\\u0200;lqs\\u063e\\u0642\\u20bd\\u20c9\\u0180;qs\\u063e\\u064c\\u20c4lan\\xf4\\u0665\\u0200;cdl\\u0665\\u20d2\\u20d5\\u20e5c;\\u6aa9ot\\u0100;o\\u20dc\\u20dd\\u6a80\\u0100;l\\u20e2\\u20e3\\u6a82;\\u6a84\\u0100;e\\u20ea\\u20ed\\uc000\\u22db\\ufe00s;\\u6a94r;\\uc000\\ud835\\udd24\\u0100;g\\u0673\\u061bmel;\\u6137cy;\\u4453\\u0200;Eaj\\u065a\\u210c\\u210e\\u2110;\\u6a92;\\u6aa5;\\u6aa4\\u0200Eaes\\u211b\\u211d\\u2129\\u2134;\\u6269p\\u0100;p\\u2123\\u2124\\u6a8arox\\xbb\\u2124\\u0100;q\\u212e\\u212f\\u6a88\\u0100;q\\u212e\\u211bim;\\u62e7pf;\\uc000\\ud835\\udd58\\u0100ci\\u2143\\u2146r;\\u610am\\u0180;el\\u066b\\u214e\\u2150;\\u6a8e;\\u6a90\\u8300>;cdlqr\\u05ee\\u2160\\u216a\\u216e\\u2173\\u2179\\u0100ci\\u2165\\u2167;\\u6aa7r;\\u6a7aot;\\u62d7Par;\\u6995uest;\\u6a7c\\u0280adels\\u2184\\u216a\\u2190\\u0656\\u219b\\u01f0\\u2189\\0\\u218epro\\xf8\\u209er;\\u6978q\\u0100lq\\u063f\\u2196les\\xf3\\u2088i\\xed\\u066b\\u0100en\\u21a3\\u21adrtneqq;\\uc000\\u2269\\ufe00\\xc5\\u21aa\\u0500Aabcefkosy\\u21c4\\u21c7\\u21f1\\u21f5\\u21fa\\u2218\\u221d\\u222f\\u2268\\u227dr\\xf2\\u03a0\\u0200ilmr\\u21d0\\u21d4\\u21d7\\u21dbrs\\xf0\\u1484f\\xbb\\u2024il\\xf4\\u06a9\\u0100dr\\u21e0\\u21e4cy;\\u444a\\u0180;cw\\u08f4\\u21eb\\u21efir;\\u6948;\\u61adar;\\u610firc;\\u4125\\u0180alr\\u2201\\u220e\\u2213rts\\u0100;u\\u2209\\u220a\\u6665it\\xbb\\u220alip;\\u6026con;\\u62b9r;\\uc000\\ud835\\udd25s\\u0100ew\\u2223\\u2229arow;\\u6925arow;\\u6926\\u0280amopr\\u223a\\u223e\\u2243\\u225e\\u2263rr;\\u61fftht;\\u623bk\\u0100lr\\u2249\\u2253eftarrow;\\u61a9ightarrow;\\u61aaf;\\uc000\\ud835\\udd59bar;\\u6015\\u0180clt\\u226f\\u2274\\u2278r;\\uc000\\ud835\\udcbdas\\xe8\\u21f4rok;\\u4127\\u0100bp\\u2282\\u2287ull;\\u6043hen\\xbb\\u1c5b\\u0ae1\\u22a3\\0\\u22aa\\0\\u22b8\\u22c5\\u22ce\\0\\u22d5\\u22f3\\0\\0\\u22f8\\u2322\\u2367\\u2362\\u237f\\0\\u2386\\u23aa\\u23b4cute\\u803b\\xed\\u40ed\\u0180;iy\\u0771\\u22b0\\u22b5rc\\u803b\\xee\\u40ee;\\u4438\\u0100cx\\u22bc\\u22bfy;\\u4435cl\\u803b\\xa1\\u40a1\\u0100fr\\u039f\\u22c9;\\uc000\\ud835\\udd26rave\\u803b\\xec\\u40ec\\u0200;ino\\u073e\\u22dd\\u22e9\\u22ee\\u0100in\\u22e2\\u22e6nt;\\u6a0ct;\\u622dfin;\\u69dcta;\\u6129lig;\\u4133\\u0180aop\\u22fe\\u231a\\u231d\\u0180cgt\\u2305\\u2308\\u2317r;\\u412b\\u0180elp\\u071f\\u230f\\u2313in\\xe5\\u078ear\\xf4\\u0720h;\\u4131f;\\u62b7ed;\\u41b5\\u0280;cfot\\u04f4\\u232c\\u2331\\u233d\\u2341are;\\u6105in\\u0100;t\\u2338\\u2339\\u621eie;\\u69dddo\\xf4\\u2319\\u0280;celp\\u0757\\u234c\\u2350\\u235b\\u2361al;\\u62ba\\u0100gr\\u2355\\u2359er\\xf3\\u1563\\xe3\\u234darhk;\\u6a17rod;\\u6a3c\\u0200cgpt\\u236f\\u2372\\u2376\\u237by;\\u4451on;\\u412ff;\\uc000\\ud835\\udd5aa;\\u43b9uest\\u803b\\xbf\\u40bf\\u0100ci\\u238a\\u238fr;\\uc000\\ud835\\udcben\\u0280;Edsv\\u04f4\\u239b\\u239d\\u23a1\\u04f3;\\u62f9ot;\\u62f5\\u0100;v\\u23a6\\u23a7\\u62f4;\\u62f3\\u0100;i\\u0777\\u23aelde;\\u4129\\u01eb\\u23b8\\0\\u23bccy;\\u4456l\\u803b\\xef\\u40ef\\u0300cfmosu\\u23cc\\u23d7\\u23dc\\u23e1\\u23e7\\u23f5\\u0100iy\\u23d1\\u23d5rc;\\u4135;\\u4439r;\\uc000\\ud835\\udd27ath;\\u4237pf;\\uc000\\ud835\\udd5b\\u01e3\\u23ec\\0\\u23f1r;\\uc000\\ud835\\udcbfrcy;\\u4458kcy;\\u4454\\u0400acfghjos\\u240b\\u2416\\u2422\\u2427\\u242d\\u2431\\u2435\\u243bppa\\u0100;v\\u2413\\u2414\\u43ba;\\u43f0\\u0100ey\\u241b\\u2420dil;\\u4137;\\u443ar;\\uc000\\ud835\\udd28reen;\\u4138cy;\\u4445cy;\\u445cpf;\\uc000\\ud835\\udd5ccr;\\uc000\\ud835\\udcc0\\u0b80ABEHabcdefghjlmnoprstuv\\u2470\\u2481\\u2486\\u248d\\u2491\\u250e\\u253d\\u255a\\u2580\\u264e\\u265e\\u2665\\u2679\\u267d\\u269a\\u26b2\\u26d8\\u275d\\u2768\\u278b\\u27c0\\u2801\\u2812\\u0180art\\u2477\\u247a\\u247cr\\xf2\\u09c6\\xf2\\u0395ail;\\u691barr;\\u690e\\u0100;g\\u0994\\u248b;\\u6a8bar;\\u6962\\u0963\\u24a5\\0\\u24aa\\0\\u24b1\\0\\0\\0\\0\\0\\u24b5\\u24ba\\0\\u24c6\\u24c8\\u24cd\\0\\u24f9ute;\\u413amptyv;\\u69b4ra\\xee\\u084cbda;\\u43bbg\\u0180;dl\\u088e\\u24c1\\u24c3;\\u6991\\xe5\\u088e;\\u6a85uo\\u803b\\xab\\u40abr\\u0400;bfhlpst\\u0899\\u24de\\u24e6\\u24e9\\u24eb\\u24ee\\u24f1\\u24f5\\u0100;f\\u089d\\u24e3s;\\u691fs;\\u691d\\xeb\\u2252p;\\u61abl;\\u6939im;\\u6973l;\\u61a2\\u0180;ae\\u24ff\\u2500\\u2504\\u6aabil;\\u6919\\u0100;s\\u2509\\u250a\\u6aad;\\uc000\\u2aad\\ufe00\\u0180abr\\u2515\\u2519\\u251drr;\\u690crk;\\u6772\\u0100ak\\u2522\\u252cc\\u0100ek\\u2528\\u252a;\\u407b;\\u405b\\u0100es\\u2531\\u2533;\\u698bl\\u0100du\\u2539\\u253b;\\u698f;\\u698d\\u0200aeuy\\u2546\\u254b\\u2556\\u2558ron;\\u413e\\u0100di\\u2550\\u2554il;\\u413c\\xec\\u08b0\\xe2\\u2529;\\u443b\\u0200cqrs\\u2563\\u2566\\u256d\\u257da;\\u6936uo\\u0100;r\\u0e19\\u1746\\u0100du\\u2572\\u2577har;\\u6967shar;\\u694bh;\\u61b2\\u0280;fgqs\\u258b\\u258c\\u0989\\u25f3\\u25ff\\u6264t\\u0280ahlrt\\u2598\\u25a4\\u25b7\\u25c2\\u25e8rrow\\u0100;t\\u0899\\u25a1a\\xe9\\u24f6arpoon\\u0100du\\u25af\\u25b4own\\xbb\\u045ap\\xbb\\u0966eftarrows;\\u61c7ight\\u0180ahs\\u25cd\\u25d6\\u25derrow\\u0100;s\\u08f4\\u08a7arpoon\\xf3\\u0f98quigarro\\xf7\\u21f0hreetimes;\\u62cb\\u0180;qs\\u258b\\u0993\\u25falan\\xf4\\u09ac\\u0280;cdgs\\u09ac\\u260a\\u260d\\u261d\\u2628c;\\u6aa8ot\\u0100;o\\u2614\\u2615\\u6a7f\\u0100;r\\u261a\\u261b\\u6a81;\\u6a83\\u0100;e\\u2622\\u2625\\uc000\\u22da\\ufe00s;\\u6a93\\u0280adegs\\u2633\\u2639\\u263d\\u2649\\u264bppro\\xf8\\u24c6ot;\\u62d6q\\u0100gq\\u2643\\u2645\\xf4\\u0989gt\\xf2\\u248c\\xf4\\u099bi\\xed\\u09b2\\u0180ilr\\u2655\\u08e1\\u265asht;\\u697c;\\uc000\\ud835\\udd29\\u0100;E\\u099c\\u2663;\\u6a91\\u0161\\u2669\\u2676r\\u0100du\\u25b2\\u266e\\u0100;l\\u0965\\u2673;\\u696alk;\\u6584cy;\\u4459\\u0280;acht\\u0a48\\u2688\\u268b\\u2691\\u2696r\\xf2\\u25c1orne\\xf2\\u1d08ard;\\u696bri;\\u65fa\\u0100io\\u269f\\u26a4dot;\\u4140ust\\u0100;a\\u26ac\\u26ad\\u63b0che\\xbb\\u26ad\\u0200Eaes\\u26bb\\u26bd\\u26c9\\u26d4;\\u6268p\\u0100;p\\u26c3\\u26c4\\u6a89rox\\xbb\\u26c4\\u0100;q\\u26ce\\u26cf\\u6a87\\u0100;q\\u26ce\\u26bbim;\\u62e6\\u0400abnoptwz\\u26e9\\u26f4\\u26f7\\u271a\\u272f\\u2741\\u2747\\u2750\\u0100nr\\u26ee\\u26f1g;\\u67ecr;\\u61fdr\\xeb\\u08c1g\\u0180lmr\\u26ff\\u270d\\u2714eft\\u0100ar\\u09e6\\u2707ight\\xe1\\u09f2apsto;\\u67fcight\\xe1\\u09fdparrow\\u0100lr\\u2725\\u2729ef\\xf4\\u24edight;\\u61ac\\u0180afl\\u2736\\u2739\\u273dr;\\u6985;\\uc000\\ud835\\udd5dus;\\u6a2dimes;\\u6a34\\u0161\\u274b\\u274fst;\\u6217\\xe1\\u134e\\u0180;ef\\u2757\\u2758\\u1800\\u65cange\\xbb\\u2758ar\\u0100;l\\u2764\\u2765\\u4028t;\\u6993\\u0280achmt\\u2773\\u2776\\u277c\\u2785\\u2787r\\xf2\\u08a8orne\\xf2\\u1d8car\\u0100;d\\u0f98\\u2783;\\u696d;\\u600eri;\\u62bf\\u0300achiqt\\u2798\\u279d\\u0a40\\u27a2\\u27ae\\u27bbquo;\\u6039r;\\uc000\\ud835\\udcc1m\\u0180;eg\\u09b2\\u27aa\\u27ac;\\u6a8d;\\u6a8f\\u0100bu\\u252a\\u27b3o\\u0100;r\\u0e1f\\u27b9;\\u601arok;\\u4142\\u8400<;cdhilqr\\u082b\\u27d2\\u2639\\u27dc\\u27e0\\u27e5\\u27ea\\u27f0\\u0100ci\\u27d7\\u27d9;\\u6aa6r;\\u6a79re\\xe5\\u25f2mes;\\u62c9arr;\\u6976uest;\\u6a7b\\u0100Pi\\u27f5\\u27f9ar;\\u6996\\u0180;ef\\u2800\\u092d\\u181b\\u65c3r\\u0100du\\u2807\\u280dshar;\\u694ahar;\\u6966\\u0100en\\u2817\\u2821rtneqq;\\uc000\\u2268\\ufe00\\xc5\\u281e\\u0700Dacdefhilnopsu\\u2840\\u2845\\u2882\\u288e\\u2893\\u28a0\\u28a5\\u28a8\\u28da\\u28e2\\u28e4\\u0a83\\u28f3\\u2902Dot;\\u623a\\u0200clpr\\u284e\\u2852\\u2863\\u287dr\\u803b\\xaf\\u40af\\u0100et\\u2857\\u2859;\\u6642\\u0100;e\\u285e\\u285f\\u6720se\\xbb\\u285f\\u0100;s\\u103b\\u2868to\\u0200;dlu\\u103b\\u2873\\u2877\\u287bow\\xee\\u048cef\\xf4\\u090f\\xf0\\u13d1ker;\\u65ae\\u0100oy\\u2887\\u288cmma;\\u6a29;\\u443cash;\\u6014asuredangle\\xbb\\u1626r;\\uc000\\ud835\\udd2ao;\\u6127\\u0180cdn\\u28af\\u28b4\\u28c9ro\\u803b\\xb5\\u40b5\\u0200;acd\\u1464\\u28bd\\u28c0\\u28c4s\\xf4\\u16a7ir;\\u6af0ot\\u80bb\\xb7\\u01b5us\\u0180;bd\\u28d2\\u1903\\u28d3\\u6212\\u0100;u\\u1d3c\\u28d8;\\u6a2a\\u0163\\u28de\\u28e1p;\\u6adb\\xf2\\u2212\\xf0\\u0a81\\u0100dp\\u28e9\\u28eeels;\\u62a7f;\\uc000\\ud835\\udd5e\\u0100ct\\u28f8\\u28fdr;\\uc000\\ud835\\udcc2pos\\xbb\\u159d\\u0180;lm\\u2909\\u290a\\u290d\\u43bctimap;\\u62b8\\u0c00GLRVabcdefghijlmoprstuvw\\u2942\\u2953\\u297e\\u2989\\u2998\\u29da\\u29e9\\u2a15\\u2a1a\\u2a58\\u2a5d\\u2a83\\u2a95\\u2aa4\\u2aa8\\u2b04\\u2b07\\u2b44\\u2b7f\\u2bae\\u2c34\\u2c67\\u2c7c\\u2ce9\\u0100gt\\u2947\\u294b;\\uc000\\u22d9\\u0338\\u0100;v\\u2950\\u0bcf\\uc000\\u226b\\u20d2\\u0180elt\\u295a\\u2972\\u2976ft\\u0100ar\\u2961\\u2967rrow;\\u61cdightarrow;\\u61ce;\\uc000\\u22d8\\u0338\\u0100;v\\u297b\\u0c47\\uc000\\u226a\\u20d2ightarrow;\\u61cf\\u0100Dd\\u298e\\u2993ash;\\u62afash;\\u62ae\\u0280bcnpt\\u29a3\\u29a7\\u29ac\\u29b1\\u29ccla\\xbb\\u02deute;\\u4144g;\\uc000\\u2220\\u20d2\\u0280;Eiop\\u0d84\\u29bc\\u29c0\\u29c5\\u29c8;\\uc000\\u2a70\\u0338d;\\uc000\\u224b\\u0338s;\\u4149ro\\xf8\\u0d84ur\\u0100;a\\u29d3\\u29d4\\u666el\\u0100;s\\u29d3\\u0b38\\u01f3\\u29df\\0\\u29e3p\\u80bb\\xa0\\u0b37mp\\u0100;e\\u0bf9\\u0c00\\u0280aeouy\\u29f4\\u29fe\\u2a03\\u2a10\\u2a13\\u01f0\\u29f9\\0\\u29fb;\\u6a43on;\\u4148dil;\\u4146ng\\u0100;d\\u0d7e\\u2a0aot;\\uc000\\u2a6d\\u0338p;\\u6a42;\\u443dash;\\u6013\\u0380;Aadqsx\\u0b92\\u2a29\\u2a2d\\u2a3b\\u2a41\\u2a45\\u2a50rr;\\u61d7r\\u0100hr\\u2a33\\u2a36k;\\u6924\\u0100;o\\u13f2\\u13f0ot;\\uc000\\u2250\\u0338ui\\xf6\\u0b63\\u0100ei\\u2a4a\\u2a4ear;\\u6928\\xed\\u0b98ist\\u0100;s\\u0ba0\\u0b9fr;\\uc000\\ud835\\udd2b\\u0200Eest\\u0bc5\\u2a66\\u2a79\\u2a7c\\u0180;qs\\u0bbc\\u2a6d\\u0be1\\u0180;qs\\u0bbc\\u0bc5\\u2a74lan\\xf4\\u0be2i\\xed\\u0bea\\u0100;r\\u0bb6\\u2a81\\xbb\\u0bb7\\u0180Aap\\u2a8a\\u2a8d\\u2a91r\\xf2\\u2971rr;\\u61aear;\\u6af2\\u0180;sv\\u0f8d\\u2a9c\\u0f8c\\u0100;d\\u2aa1\\u2aa2\\u62fc;\\u62facy;\\u445a\\u0380AEadest\\u2ab7\\u2aba\\u2abe\\u2ac2\\u2ac5\\u2af6\\u2af9r\\xf2\\u2966;\\uc000\\u2266\\u0338rr;\\u619ar;\\u6025\\u0200;fqs\\u0c3b\\u2ace\\u2ae3\\u2aeft\\u0100ar\\u2ad4\\u2ad9rro\\xf7\\u2ac1ightarro\\xf7\\u2a90\\u0180;qs\\u0c3b\\u2aba\\u2aealan\\xf4\\u0c55\\u0100;s\\u0c55\\u2af4\\xbb\\u0c36i\\xed\\u0c5d\\u0100;r\\u0c35\\u2afei\\u0100;e\\u0c1a\\u0c25i\\xe4\\u0d90\\u0100pt\\u2b0c\\u2b11f;\\uc000\\ud835\\udd5f\\u8180\\xac;in\\u2b19\\u2b1a\\u2b36\\u40acn\\u0200;Edv\\u0b89\\u2b24\\u2b28\\u2b2e;\\uc000\\u22f9\\u0338ot;\\uc000\\u22f5\\u0338\\u01e1\\u0b89\\u2b33\\u2b35;\\u62f7;\\u62f6i\\u0100;v\\u0cb8\\u2b3c\\u01e1\\u0cb8\\u2b41\\u2b43;\\u62fe;\\u62fd\\u0180aor\\u2b4b\\u2b63\\u2b69r\\u0200;ast\\u0b7b\\u2b55\\u2b5a\\u2b5flle\\xec\\u0b7bl;\\uc000\\u2afd\\u20e5;\\uc000\\u2202\\u0338lint;\\u6a14\\u0180;ce\\u0c92\\u2b70\\u2b73u\\xe5\\u0ca5\\u0100;c\\u0c98\\u2b78\\u0100;e\\u0c92\\u2b7d\\xf1\\u0c98\\u0200Aait\\u2b88\\u2b8b\\u2b9d\\u2ba7r\\xf2\\u2988rr\\u0180;cw\\u2b94\\u2b95\\u2b99\\u619b;\\uc000\\u2933\\u0338;\\uc000\\u219d\\u0338ghtarrow\\xbb\\u2b95ri\\u0100;e\\u0ccb\\u0cd6\\u0380chimpqu\\u2bbd\\u2bcd\\u2bd9\\u2b04\\u0b78\\u2be4\\u2bef\\u0200;cer\\u0d32\\u2bc6\\u0d37\\u2bc9u\\xe5\\u0d45;\\uc000\\ud835\\udcc3ort\\u026d\\u2b05\\0\\0\\u2bd6ar\\xe1\\u2b56m\\u0100;e\\u0d6e\\u2bdf\\u0100;q\\u0d74\\u0d73su\\u0100bp\\u2beb\\u2bed\\xe5\\u0cf8\\xe5\\u0d0b\\u0180bcp\\u2bf6\\u2c11\\u2c19\\u0200;Ees\\u2bff\\u2c00\\u0d22\\u2c04\\u6284;\\uc000\\u2ac5\\u0338et\\u0100;e\\u0d1b\\u2c0bq\\u0100;q\\u0d23\\u2c00c\\u0100;e\\u0d32\\u2c17\\xf1\\u0d38\\u0200;Ees\\u2c22\\u2c23\\u0d5f\\u2c27\\u6285;\\uc000\\u2ac6\\u0338et\\u0100;e\\u0d58\\u2c2eq\\u0100;q\\u0d60\\u2c23\\u0200gilr\\u2c3d\\u2c3f\\u2c45\\u2c47\\xec\\u0bd7lde\\u803b\\xf1\\u40f1\\xe7\\u0c43iangle\\u0100lr\\u2c52\\u2c5ceft\\u0100;e\\u0c1a\\u2c5a\\xf1\\u0c26ight\\u0100;e\\u0ccb\\u2c65\\xf1\\u0cd7\\u0100;m\\u2c6c\\u2c6d\\u43bd\\u0180;es\\u2c74\\u2c75\\u2c79\\u4023ro;\\u6116p;\\u6007\\u0480DHadgilrs\\u2c8f\\u2c94\\u2c99\\u2c9e\\u2ca3\\u2cb0\\u2cb6\\u2cd3\\u2ce3ash;\\u62adarr;\\u6904p;\\uc000\\u224d\\u20d2ash;\\u62ac\\u0100et\\u2ca8\\u2cac;\\uc000\\u2265\\u20d2;\\uc000>\\u20d2nfin;\\u69de\\u0180Aet\\u2cbd\\u2cc1\\u2cc5rr;\\u6902;\\uc000\\u2264\\u20d2\\u0100;r\\u2cca\\u2ccd\\uc000<\\u20d2ie;\\uc000\\u22b4\\u20d2\\u0100At\\u2cd8\\u2cdcrr;\\u6903rie;\\uc000\\u22b5\\u20d2im;\\uc000\\u223c\\u20d2\\u0180Aan\\u2cf0\\u2cf4\\u2d02rr;\\u61d6r\\u0100hr\\u2cfa\\u2cfdk;\\u6923\\u0100;o\\u13e7\\u13e5ear;\\u6927\\u1253\\u1a95\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\u2d2d\\0\\u2d38\\u2d48\\u2d60\\u2d65\\u2d72\\u2d84\\u1b07\\0\\0\\u2d8d\\u2dab\\0\\u2dc8\\u2dce\\0\\u2ddc\\u2e19\\u2e2b\\u2e3e\\u2e43\\u0100cs\\u2d31\\u1a97ute\\u803b\\xf3\\u40f3\\u0100iy\\u2d3c\\u2d45r\\u0100;c\\u1a9e\\u2d42\\u803b\\xf4\\u40f4;\\u443e\\u0280abios\\u1aa0\\u2d52\\u2d57\\u01c8\\u2d5alac;\\u4151v;\\u6a38old;\\u69bclig;\\u4153\\u0100cr\\u2d69\\u2d6dir;\\u69bf;\\uc000\\ud835\\udd2c\\u036f\\u2d79\\0\\0\\u2d7c\\0\\u2d82n;\\u42dbave\\u803b\\xf2\\u40f2;\\u69c1\\u0100bm\\u2d88\\u0df4ar;\\u69b5\\u0200acit\\u2d95\\u2d98\\u2da5\\u2da8r\\xf2\\u1a80\\u0100ir\\u2d9d\\u2da0r;\\u69beoss;\\u69bbn\\xe5\\u0e52;\\u69c0\\u0180aei\\u2db1\\u2db5\\u2db9cr;\\u414dga;\\u43c9\\u0180cdn\\u2dc0\\u2dc5\\u01cdron;\\u43bf;\\u69b6pf;\\uc000\\ud835\\udd60\\u0180ael\\u2dd4\\u2dd7\\u01d2r;\\u69b7rp;\\u69b9\\u0380;adiosv\\u2dea\\u2deb\\u2dee\\u2e08\\u2e0d\\u2e10\\u2e16\\u6228r\\xf2\\u1a86\\u0200;efm\\u2df7\\u2df8\\u2e02\\u2e05\\u6a5dr\\u0100;o\\u2dfe\\u2dff\\u6134f\\xbb\\u2dff\\u803b\\xaa\\u40aa\\u803b\\xba\\u40bagof;\\u62b6r;\\u6a56lope;\\u6a57;\\u6a5b\\u0180clo\\u2e1f\\u2e21\\u2e27\\xf2\\u2e01ash\\u803b\\xf8\\u40f8l;\\u6298i\\u016c\\u2e2f\\u2e34de\\u803b\\xf5\\u40f5es\\u0100;a\\u01db\\u2e3as;\\u6a36ml\\u803b\\xf6\\u40f6bar;\\u633d\\u0ae1\\u2e5e\\0\\u2e7d\\0\\u2e80\\u2e9d\\0\\u2ea2\\u2eb9\\0\\0\\u2ecb\\u0e9c\\0\\u2f13\\0\\0\\u2f2b\\u2fbc\\0\\u2fc8r\\u0200;ast\\u0403\\u2e67\\u2e72\\u0e85\\u8100\\xb6;l\\u2e6d\\u2e6e\\u40b6le\\xec\\u0403\\u0269\\u2e78\\0\\0\\u2e7bm;\\u6af3;\\u6afdy;\\u443fr\\u0280cimpt\\u2e8b\\u2e8f\\u2e93\\u1865\\u2e97nt;\\u4025od;\\u402eil;\\u6030enk;\\u6031r;\\uc000\\ud835\\udd2d\\u0180imo\\u2ea8\\u2eb0\\u2eb4\\u0100;v\\u2ead\\u2eae\\u43c6;\\u43d5ma\\xf4\\u0a76ne;\\u660e\\u0180;tv\\u2ebf\\u2ec0\\u2ec8\\u43c0chfork\\xbb\\u1ffd;\\u43d6\\u0100au\\u2ecf\\u2edfn\\u0100ck\\u2ed5\\u2eddk\\u0100;h\\u21f4\\u2edb;\\u610e\\xf6\\u21f4s\\u0480;abcdemst\\u2ef3\\u2ef4\\u1908\\u2ef9\\u2efd\\u2f04\\u2f06\\u2f0a\\u2f0e\\u402bcir;\\u6a23ir;\\u6a22\\u0100ou\\u1d40\\u2f02;\\u6a25;\\u6a72n\\u80bb\\xb1\\u0e9dim;\\u6a26wo;\\u6a27\\u0180ipu\\u2f19\\u2f20\\u2f25ntint;\\u6a15f;\\uc000\\ud835\\udd61nd\\u803b\\xa3\\u40a3\\u0500;Eaceinosu\\u0ec8\\u2f3f\\u2f41\\u2f44\\u2f47\\u2f81\\u2f89\\u2f92\\u2f7e\\u2fb6;\\u6ab3p;\\u6ab7u\\xe5\\u0ed9\\u0100;c\\u0ece\\u2f4c\\u0300;acens\\u0ec8\\u2f59\\u2f5f\\u2f66\\u2f68\\u2f7eppro\\xf8\\u2f43urlye\\xf1\\u0ed9\\xf1\\u0ece\\u0180aes\\u2f6f\\u2f76\\u2f7approx;\\u6ab9qq;\\u6ab5im;\\u62e8i\\xed\\u0edfme\\u0100;s\\u2f88\\u0eae\\u6032\\u0180Eas\\u2f78\\u2f90\\u2f7a\\xf0\\u2f75\\u0180dfp\\u0eec\\u2f99\\u2faf\\u0180als\\u2fa0\\u2fa5\\u2faalar;\\u632eine;\\u6312urf;\\u6313\\u0100;t\\u0efb\\u2fb4\\xef\\u0efbrel;\\u62b0\\u0100ci\\u2fc0\\u2fc5r;\\uc000\\ud835\\udcc5;\\u43c8ncsp;\\u6008\\u0300fiopsu\\u2fda\\u22e2\\u2fdf\\u2fe5\\u2feb\\u2ff1r;\\uc000\\ud835\\udd2epf;\\uc000\\ud835\\udd62rime;\\u6057cr;\\uc000\\ud835\\udcc6\\u0180aeo\\u2ff8\\u3009\\u3013t\\u0100ei\\u2ffe\\u3005rnion\\xf3\\u06b0nt;\\u6a16st\\u0100;e\\u3010\\u3011\\u403f\\xf1\\u1f19\\xf4\\u0f14\\u0a80ABHabcdefhilmnoprstux\\u3040\\u3051\\u3055\\u3059\\u30e0\\u310e\\u312b\\u3147\\u3162\\u3172\\u318e\\u3206\\u3215\\u3224\\u3229\\u3258\\u326e\\u3272\\u3290\\u32b0\\u32b7\\u0180art\\u3047\\u304a\\u304cr\\xf2\\u10b3\\xf2\\u03ddail;\\u691car\\xf2\\u1c65ar;\\u6964\\u0380cdenqrt\\u3068\\u3075\\u3078\\u307f\\u308f\\u3094\\u30cc\\u0100eu\\u306d\\u3071;\\uc000\\u223d\\u0331te;\\u4155i\\xe3\\u116emptyv;\\u69b3g\\u0200;del\\u0fd1\\u3089\\u308b\\u308d;\\u6992;\\u69a5\\xe5\\u0fd1uo\\u803b\\xbb\\u40bbr\\u0580;abcfhlpstw\\u0fdc\\u30ac\\u30af\\u30b7\\u30b9\\u30bc\\u30be\\u30c0\\u30c3\\u30c7\\u30cap;\\u6975\\u0100;f\\u0fe0\\u30b4s;\\u6920;\\u6933s;\\u691e\\xeb\\u225d\\xf0\\u272el;\\u6945im;\\u6974l;\\u61a3;\\u619d\\u0100ai\\u30d1\\u30d5il;\\u691ao\\u0100;n\\u30db\\u30dc\\u6236al\\xf3\\u0f1e\\u0180abr\\u30e7\\u30ea\\u30eer\\xf2\\u17e5rk;\\u6773\\u0100ak\\u30f3\\u30fdc\\u0100ek\\u30f9\\u30fb;\\u407d;\\u405d\\u0100es\\u3102\\u3104;\\u698cl\\u0100du\\u310a\\u310c;\\u698e;\\u6990\\u0200aeuy\\u3117\\u311c\\u3127\\u3129ron;\\u4159\\u0100di\\u3121\\u3125il;\\u4157\\xec\\u0ff2\\xe2\\u30fa;\\u4440\\u0200clqs\\u3134\\u3137\\u313d\\u3144a;\\u6937dhar;\\u6969uo\\u0100;r\\u020e\\u020dh;\\u61b3\\u0180acg\\u314e\\u315f\\u0f44l\\u0200;ips\\u0f78\\u3158\\u315b\\u109cn\\xe5\\u10bbar\\xf4\\u0fa9t;\\u65ad\\u0180ilr\\u3169\\u1023\\u316esht;\\u697d;\\uc000\\ud835\\udd2f\\u0100ao\\u3177\\u3186r\\u0100du\\u317d\\u317f\\xbb\\u047b\\u0100;l\\u1091\\u3184;\\u696c\\u0100;v\\u318b\\u318c\\u43c1;\\u43f1\\u0180gns\\u3195\\u31f9\\u31fcht\\u0300ahlrst\\u31a4\\u31b0\\u31c2\\u31d8\\u31e4\\u31eerrow\\u0100;t\\u0fdc\\u31ada\\xe9\\u30c8arpoon\\u0100du\\u31bb\\u31bfow\\xee\\u317ep\\xbb\\u1092eft\\u0100ah\\u31ca\\u31d0rrow\\xf3\\u0feaarpoon\\xf3\\u0551ightarrows;\\u61c9quigarro\\xf7\\u30cbhreetimes;\\u62ccg;\\u42daingdotse\\xf1\\u1f32\\u0180ahm\\u320d\\u3210\\u3213r\\xf2\\u0feaa\\xf2\\u0551;\\u600foust\\u0100;a\\u321e\\u321f\\u63b1che\\xbb\\u321fmid;\\u6aee\\u0200abpt\\u3232\\u323d\\u3240\\u3252\\u0100nr\\u3237\\u323ag;\\u67edr;\\u61fer\\xeb\\u1003\\u0180afl\\u3247\\u324a\\u324er;\\u6986;\\uc000\\ud835\\udd63us;\\u6a2eimes;\\u6a35\\u0100ap\\u325d\\u3267r\\u0100;g\\u3263\\u3264\\u4029t;\\u6994olint;\\u6a12ar\\xf2\\u31e3\\u0200achq\\u327b\\u3280\\u10bc\\u3285quo;\\u603ar;\\uc000\\ud835\\udcc7\\u0100bu\\u30fb\\u328ao\\u0100;r\\u0214\\u0213\\u0180hir\\u3297\\u329b\\u32a0re\\xe5\\u31f8mes;\\u62cai\\u0200;efl\\u32aa\\u1059\\u1821\\u32ab\\u65b9tri;\\u69celuhar;\\u6968;\\u611e\\u0d61\\u32d5\\u32db\\u32df\\u332c\\u3338\\u3371\\0\\u337a\\u33a4\\0\\0\\u33ec\\u33f0\\0\\u3428\\u3448\\u345a\\u34ad\\u34b1\\u34ca\\u34f1\\0\\u3616\\0\\0\\u3633cute;\\u415bqu\\xef\\u27ba\\u0500;Eaceinpsy\\u11ed\\u32f3\\u32f5\\u32ff\\u3302\\u330b\\u330f\\u331f\\u3326\\u3329;\\u6ab4\\u01f0\\u32fa\\0\\u32fc;\\u6ab8on;\\u4161u\\xe5\\u11fe\\u0100;d\\u11f3\\u3307il;\\u415frc;\\u415d\\u0180Eas\\u3316\\u3318\\u331b;\\u6ab6p;\\u6abaim;\\u62e9olint;\\u6a13i\\xed\\u1204;\\u4441ot\\u0180;be\\u3334\\u1d47\\u3335\\u62c5;\\u6a66\\u0380Aacmstx\\u3346\\u334a\\u3357\\u335b\\u335e\\u3363\\u336drr;\\u61d8r\\u0100hr\\u3350\\u3352\\xeb\\u2228\\u0100;o\\u0a36\\u0a34t\\u803b\\xa7\\u40a7i;\\u403bwar;\\u6929m\\u0100in\\u3369\\xf0nu\\xf3\\xf1t;\\u6736r\\u0100;o\\u3376\\u2055\\uc000\\ud835\\udd30\\u0200acoy\\u3382\\u3386\\u3391\\u33a0rp;\\u666f\\u0100hy\\u338b\\u338fcy;\\u4449;\\u4448rt\\u026d\\u3399\\0\\0\\u339ci\\xe4\\u1464ara\\xec\\u2e6f\\u803b\\xad\\u40ad\\u0100gm\\u33a8\\u33b4ma\\u0180;fv\\u33b1\\u33b2\\u33b2\\u43c3;\\u43c2\\u0400;deglnpr\\u12ab\\u33c5\\u33c9\\u33ce\\u33d6\\u33de\\u33e1\\u33e6ot;\\u6a6a\\u0100;q\\u12b1\\u12b0\\u0100;E\\u33d3\\u33d4\\u6a9e;\\u6aa0\\u0100;E\\u33db\\u33dc\\u6a9d;\\u6a9fe;\\u6246lus;\\u6a24arr;\\u6972ar\\xf2\\u113d\\u0200aeit\\u33f8\\u3408\\u340f\\u3417\\u0100ls\\u33fd\\u3404lsetm\\xe9\\u336ahp;\\u6a33parsl;\\u69e4\\u0100dl\\u1463\\u3414e;\\u6323\\u0100;e\\u341c\\u341d\\u6aaa\\u0100;s\\u3422\\u3423\\u6aac;\\uc000\\u2aac\\ufe00\\u0180flp\\u342e\\u3433\\u3442tcy;\\u444c\\u0100;b\\u3438\\u3439\\u402f\\u0100;a\\u343e\\u343f\\u69c4r;\\u633ff;\\uc000\\ud835\\udd64a\\u0100dr\\u344d\\u0402es\\u0100;u\\u3454\\u3455\\u6660it\\xbb\\u3455\\u0180csu\\u3460\\u3479\\u349f\\u0100au\\u3465\\u346fp\\u0100;s\\u1188\\u346b;\\uc000\\u2293\\ufe00p\\u0100;s\\u11b4\\u3475;\\uc000\\u2294\\ufe00u\\u0100bp\\u347f\\u348f\\u0180;es\\u1197\\u119c\\u3486et\\u0100;e\\u1197\\u348d\\xf1\\u119d\\u0180;es\\u11a8\\u11ad\\u3496et\\u0100;e\\u11a8\\u349d\\xf1\\u11ae\\u0180;af\\u117b\\u34a6\\u05b0r\\u0165\\u34ab\\u05b1\\xbb\\u117car\\xf2\\u1148\\u0200cemt\\u34b9\\u34be\\u34c2\\u34c5r;\\uc000\\ud835\\udcc8tm\\xee\\xf1i\\xec\\u3415ar\\xe6\\u11be\\u0100ar\\u34ce\\u34d5r\\u0100;f\\u34d4\\u17bf\\u6606\\u0100an\\u34da\\u34edight\\u0100ep\\u34e3\\u34eapsilo\\xee\\u1ee0h\\xe9\\u2eafs\\xbb\\u2852\\u0280bcmnp\\u34fb\\u355e\\u1209\\u358b\\u358e\\u0480;Edemnprs\\u350e\\u350f\\u3511\\u3515\\u351e\\u3523\\u352c\\u3531\\u3536\\u6282;\\u6ac5ot;\\u6abd\\u0100;d\\u11da\\u351aot;\\u6ac3ult;\\u6ac1\\u0100Ee\\u3528\\u352a;\\u6acb;\\u628alus;\\u6abfarr;\\u6979\\u0180eiu\\u353d\\u3552\\u3555t\\u0180;en\\u350e\\u3545\\u354bq\\u0100;q\\u11da\\u350feq\\u0100;q\\u352b\\u3528m;\\u6ac7\\u0100bp\\u355a\\u355c;\\u6ad5;\\u6ad3c\\u0300;acens\\u11ed\\u356c\\u3572\\u3579\\u357b\\u3326ppro\\xf8\\u32faurlye\\xf1\\u11fe\\xf1\\u11f3\\u0180aes\\u3582\\u3588\\u331bppro\\xf8\\u331aq\\xf1\\u3317g;\\u666a\\u0680123;Edehlmnps\\u35a9\\u35ac\\u35af\\u121c\\u35b2\\u35b4\\u35c0\\u35c9\\u35d5\\u35da\\u35df\\u35e8\\u35ed\\u803b\\xb9\\u40b9\\u803b\\xb2\\u40b2\\u803b\\xb3\\u40b3;\\u6ac6\\u0100os\\u35b9\\u35bct;\\u6abeub;\\u6ad8\\u0100;d\\u1222\\u35c5ot;\\u6ac4s\\u0100ou\\u35cf\\u35d2l;\\u67c9b;\\u6ad7arr;\\u697bult;\\u6ac2\\u0100Ee\\u35e4\\u35e6;\\u6acc;\\u628blus;\\u6ac0\\u0180eiu\\u35f4\\u3609\\u360ct\\u0180;en\\u121c\\u35fc\\u3602q\\u0100;q\\u1222\\u35b2eq\\u0100;q\\u35e7\\u35e4m;\\u6ac8\\u0100bp\\u3611\\u3613;\\u6ad4;\\u6ad6\\u0180Aan\\u361c\\u3620\\u362drr;\\u61d9r\\u0100hr\\u3626\\u3628\\xeb\\u222e\\u0100;o\\u0a2b\\u0a29war;\\u692alig\\u803b\\xdf\\u40df\\u0be1\\u3651\\u365d\\u3660\\u12ce\\u3673\\u3679\\0\\u367e\\u36c2\\0\\0\\0\\0\\0\\u36db\\u3703\\0\\u3709\\u376c\\0\\0\\0\\u3787\\u0272\\u3656\\0\\0\\u365bget;\\u6316;\\u43c4r\\xeb\\u0e5f\\u0180aey\\u3666\\u366b\\u3670ron;\\u4165dil;\\u4163;\\u4442lrec;\\u6315r;\\uc000\\ud835\\udd31\\u0200eiko\\u3686\\u369d\\u36b5\\u36bc\\u01f2\\u368b\\0\\u3691e\\u01004f\\u1284\\u1281a\\u0180;sv\\u3698\\u3699\\u369b\\u43b8ym;\\u43d1\\u0100cn\\u36a2\\u36b2k\\u0100as\\u36a8\\u36aeppro\\xf8\\u12c1im\\xbb\\u12acs\\xf0\\u129e\\u0100as\\u36ba\\u36ae\\xf0\\u12c1rn\\u803b\\xfe\\u40fe\\u01ec\\u031f\\u36c6\\u22e7es\\u8180\\xd7;bd\\u36cf\\u36d0\\u36d8\\u40d7\\u0100;a\\u190f\\u36d5r;\\u6a31;\\u6a30\\u0180eps\\u36e1\\u36e3\\u3700\\xe1\\u2a4d\\u0200;bcf\\u0486\\u36ec\\u36f0\\u36f4ot;\\u6336ir;\\u6af1\\u0100;o\\u36f9\\u36fc\\uc000\\ud835\\udd65rk;\\u6ada\\xe1\\u3362rime;\\u6034\\u0180aip\\u370f\\u3712\\u3764d\\xe5\\u1248\\u0380adempst\\u3721\\u374d\\u3740\\u3751\\u3757\\u375c\\u375fngle\\u0280;dlqr\\u3730\\u3731\\u3736\\u3740\\u3742\\u65b5own\\xbb\\u1dbbeft\\u0100;e\\u2800\\u373e\\xf1\\u092e;\\u625cight\\u0100;e\\u32aa\\u374b\\xf1\\u105aot;\\u65ecinus;\\u6a3alus;\\u6a39b;\\u69cdime;\\u6a3bezium;\\u63e2\\u0180cht\\u3772\\u377d\\u3781\\u0100ry\\u3777\\u377b;\\uc000\\ud835\\udcc9;\\u4446cy;\\u445brok;\\u4167\\u0100io\\u378b\\u378ex\\xf4\\u1777head\\u0100lr\\u3797\\u37a0eftarro\\xf7\\u084fightarrow\\xbb\\u0f5d\\u0900AHabcdfghlmoprstuw\\u37d0\\u37d3\\u37d7\\u37e4\\u37f0\\u37fc\\u380e\\u381c\\u3823\\u3834\\u3851\\u385d\\u386b\\u38a9\\u38cc\\u38d2\\u38ea\\u38f6r\\xf2\\u03edar;\\u6963\\u0100cr\\u37dc\\u37e2ute\\u803b\\xfa\\u40fa\\xf2\\u1150r\\u01e3\\u37ea\\0\\u37edy;\\u445eve;\\u416d\\u0100iy\\u37f5\\u37farc\\u803b\\xfb\\u40fb;\\u4443\\u0180abh\\u3803\\u3806\\u380br\\xf2\\u13adlac;\\u4171a\\xf2\\u13c3\\u0100ir\\u3813\\u3818sht;\\u697e;\\uc000\\ud835\\udd32rave\\u803b\\xf9\\u40f9\\u0161\\u3827\\u3831r\\u0100lr\\u382c\\u382e\\xbb\\u0957\\xbb\\u1083lk;\\u6580\\u0100ct\\u3839\\u384d\\u026f\\u383f\\0\\0\\u384arn\\u0100;e\\u3845\\u3846\\u631cr\\xbb\\u3846op;\\u630fri;\\u65f8\\u0100al\\u3856\\u385acr;\\u416b\\u80bb\\xa8\\u0349\\u0100gp\\u3862\\u3866on;\\u4173f;\\uc000\\ud835\\udd66\\u0300adhlsu\\u114b\\u3878\\u387d\\u1372\\u3891\\u38a0own\\xe1\\u13b3arpoon\\u0100lr\\u3888\\u388cef\\xf4\\u382digh\\xf4\\u382fi\\u0180;hl\\u3899\\u389a\\u389c\\u43c5\\xbb\\u13faon\\xbb\\u389aparrows;\\u61c8\\u0180cit\\u38b0\\u38c4\\u38c8\\u026f\\u38b6\\0\\0\\u38c1rn\\u0100;e\\u38bc\\u38bd\\u631dr\\xbb\\u38bdop;\\u630eng;\\u416fri;\\u65f9cr;\\uc000\\ud835\\udcca\\u0180dir\\u38d9\\u38dd\\u38e2ot;\\u62f0lde;\\u4169i\\u0100;f\\u3730\\u38e8\\xbb\\u1813\\u0100am\\u38ef\\u38f2r\\xf2\\u38a8l\\u803b\\xfc\\u40fcangle;\\u69a7\\u0780ABDacdeflnoprsz\\u391c\\u391f\\u3929\\u392d\\u39b5\\u39b8\\u39bd\\u39df\\u39e4\\u39e8\\u39f3\\u39f9\\u39fd\\u3a01\\u3a20r\\xf2\\u03f7ar\\u0100;v\\u3926\\u3927\\u6ae8;\\u6ae9as\\xe8\\u03e1\\u0100nr\\u3932\\u3937grt;\\u699c\\u0380eknprst\\u34e3\\u3946\\u394b\\u3952\\u395d\\u3964\\u3996app\\xe1\\u2415othin\\xe7\\u1e96\\u0180hir\\u34eb\\u2ec8\\u3959op\\xf4\\u2fb5\\u0100;h\\u13b7\\u3962\\xef\\u318d\\u0100iu\\u3969\\u396dgm\\xe1\\u33b3\\u0100bp\\u3972\\u3984setneq\\u0100;q\\u397d\\u3980\\uc000\\u228a\\ufe00;\\uc000\\u2acb\\ufe00setneq\\u0100;q\\u398f\\u3992\\uc000\\u228b\\ufe00;\\uc000\\u2acc\\ufe00\\u0100hr\\u399b\\u399fet\\xe1\\u369ciangle\\u0100lr\\u39aa\\u39afeft\\xbb\\u0925ight\\xbb\\u1051y;\\u4432ash\\xbb\\u1036\\u0180elr\\u39c4\\u39d2\\u39d7\\u0180;be\\u2dea\\u39cb\\u39cfar;\\u62bbq;\\u625alip;\\u62ee\\u0100bt\\u39dc\\u1468a\\xf2\\u1469r;\\uc000\\ud835\\udd33tr\\xe9\\u39aesu\\u0100bp\\u39ef\\u39f1\\xbb\\u0d1c\\xbb\\u0d59pf;\\uc000\\ud835\\udd67ro\\xf0\\u0efbtr\\xe9\\u39b4\\u0100cu\\u3a06\\u3a0br;\\uc000\\ud835\\udccb\\u0100bp\\u3a10\\u3a18n\\u0100Ee\\u3980\\u3a16\\xbb\\u397en\\u0100Ee\\u3992\\u3a1e\\xbb\\u3990igzag;\\u699a\\u0380cefoprs\\u3a36\\u3a3b\\u3a56\\u3a5b\\u3a54\\u3a61\\u3a6airc;\\u4175\\u0100di\\u3a40\\u3a51\\u0100bg\\u3a45\\u3a49ar;\\u6a5fe\\u0100;q\\u15fa\\u3a4f;\\u6259erp;\\u6118r;\\uc000\\ud835\\udd34pf;\\uc000\\ud835\\udd68\\u0100;e\\u1479\\u3a66at\\xe8\\u1479cr;\\uc000\\ud835\\udccc\\u0ae3\\u178e\\u3a87\\0\\u3a8b\\0\\u3a90\\u3a9b\\0\\0\\u3a9d\\u3aa8\\u3aab\\u3aaf\\0\\0\\u3ac3\\u3ace\\0\\u3ad8\\u17dc\\u17dftr\\xe9\\u17d1r;\\uc000\\ud835\\udd35\\u0100Aa\\u3a94\\u3a97r\\xf2\\u03c3r\\xf2\\u09f6;\\u43be\\u0100Aa\\u3aa1\\u3aa4r\\xf2\\u03b8r\\xf2\\u09eba\\xf0\\u2713is;\\u62fb\\u0180dpt\\u17a4\\u3ab5\\u3abe\\u0100fl\\u3aba\\u17a9;\\uc000\\ud835\\udd69im\\xe5\\u17b2\\u0100Aa\\u3ac7\\u3acar\\xf2\\u03cer\\xf2\\u0a01\\u0100cq\\u3ad2\\u17b8r;\\uc000\\ud835\\udccd\\u0100pt\\u17d6\\u3adcr\\xe9\\u17d4\\u0400acefiosu\\u3af0\\u3afd\\u3b08\\u3b0c\\u3b11\\u3b15\\u3b1b\\u3b21c\\u0100uy\\u3af6\\u3afbte\\u803b\\xfd\\u40fd;\\u444f\\u0100iy\\u3b02\\u3b06rc;\\u4177;\\u444bn\\u803b\\xa5\\u40a5r;\\uc000\\ud835\\udd36cy;\\u4457pf;\\uc000\\ud835\\udd6acr;\\uc000\\ud835\\udcce\\u0100cm\\u3b26\\u3b29y;\\u444el\\u803b\\xff\\u40ff\\u0500acdefhiosw\\u3b42\\u3b48\\u3b54\\u3b58\\u3b64\\u3b69\\u3b6d\\u3b74\\u3b7a\\u3b80cute;\\u417a\\u0100ay\\u3b4d\\u3b52ron;\\u417e;\\u4437ot;\\u417c\\u0100et\\u3b5d\\u3b61tr\\xe6\\u155fa;\\u43b6r;\\uc000\\ud835\\udd37cy;\\u4436grarr;\\u61ddpf;\\uc000\\ud835\\udd6bcr;\\uc000\\ud835\\udccf\\u0100jn\\u3b85\\u3b87;\\u600dj;\\u600c\"\n    .split(\"\")\n    .map((c) => c.charCodeAt(0)));\n//# sourceMappingURL=decode-data-html.js.map","// Generated using scripts/write-decode-map.ts\nexport default new Uint16Array(\n// prettier-ignore\n\"\\u0200aglq\\t\\x15\\x18\\x1b\\u026d\\x0f\\0\\0\\x12p;\\u4026os;\\u4027t;\\u403et;\\u403cuot;\\u4022\"\n    .split(\"\")\n    .map((c) => c.charCodeAt(0)));\n//# sourceMappingURL=decode-data-xml.js.map","// Adapted from https://github.com/mathiasbynens/he/blob/36afe179392226cf1b6ccdb16ebbb7a5a844d93a/src/he.js#L106-L134\nvar _a;\nconst decodeMap = new Map([\n    [0, 65533],\n    // C1 Unicode control character reference replacements\n    [128, 8364],\n    [130, 8218],\n    [131, 402],\n    [132, 8222],\n    [133, 8230],\n    [134, 8224],\n    [135, 8225],\n    [136, 710],\n    [137, 8240],\n    [138, 352],\n    [139, 8249],\n    [140, 338],\n    [142, 381],\n    [145, 8216],\n    [146, 8217],\n    [147, 8220],\n    [148, 8221],\n    [149, 8226],\n    [150, 8211],\n    [151, 8212],\n    [152, 732],\n    [153, 8482],\n    [154, 353],\n    [155, 8250],\n    [156, 339],\n    [158, 382],\n    [159, 376],\n]);\n/**\n * Polyfill for `String.fromCodePoint`. It is used to create a string from a Unicode code point.\n */\nexport const fromCodePoint = \n// eslint-disable-next-line @typescript-eslint/no-unnecessary-condition, node/no-unsupported-features/es-builtins\n(_a = String.fromCodePoint) !== null && _a !== void 0 ? _a : function (codePoint) {\n    let output = \"\";\n    if (codePoint > 0xffff) {\n        codePoint -= 0x10000;\n        output += String.fromCharCode(((codePoint >>> 10) & 0x3ff) | 0xd800);\n        codePoint = 0xdc00 | (codePoint & 0x3ff);\n    }\n    output += String.fromCharCode(codePoint);\n    return output;\n};\n/**\n * Replace the given code point with a replacement character if it is a\n * surrogate or is outside the valid range. Otherwise return the code\n * point unchanged.\n */\nexport function replaceCodePoint(codePoint) {\n    var _a;\n    if ((codePoint >= 0xd800 && codePoint <= 0xdfff) || codePoint > 0x10ffff) {\n        return 0xfffd;\n    }\n    return (_a = decodeMap.get(codePoint)) !== null && _a !== void 0 ? _a : codePoint;\n}\n/**\n * Replace the code point if relevant, then convert it to a string.\n *\n * @deprecated Use `fromCodePoint(replaceCodePoint(codePoint))` instead.\n * @param codePoint The code point to decode.\n * @returns The decoded code point.\n */\nexport default function decodeCodePoint(codePoint) {\n    return fromCodePoint(replaceCodePoint(codePoint));\n}\n//# sourceMappingURL=decode_codepoint.js.map","import htmlDecodeTree from \"./generated/decode-data-html.js\";\nimport xmlDecodeTree from \"./generated/decode-data-xml.js\";\nimport decodeCodePoint, { replaceCodePoint, fromCodePoint, } from \"./decode_codepoint.js\";\n// Re-export for use by eg. htmlparser2\nexport { htmlDecodeTree, xmlDecodeTree, decodeCodePoint };\nexport { replaceCodePoint, fromCodePoint } from \"./decode_codepoint.js\";\nvar CharCodes;\n(function (CharCodes) {\n    CharCodes[CharCodes[\"NUM\"] = 35] = \"NUM\";\n    CharCodes[CharCodes[\"SEMI\"] = 59] = \"SEMI\";\n    CharCodes[CharCodes[\"EQUALS\"] = 61] = \"EQUALS\";\n    CharCodes[CharCodes[\"ZERO\"] = 48] = \"ZERO\";\n    CharCodes[CharCodes[\"NINE\"] = 57] = \"NINE\";\n    CharCodes[CharCodes[\"LOWER_A\"] = 97] = \"LOWER_A\";\n    CharCodes[CharCodes[\"LOWER_F\"] = 102] = \"LOWER_F\";\n    CharCodes[CharCodes[\"LOWER_X\"] = 120] = \"LOWER_X\";\n    CharCodes[CharCodes[\"LOWER_Z\"] = 122] = \"LOWER_Z\";\n    CharCodes[CharCodes[\"UPPER_A\"] = 65] = \"UPPER_A\";\n    CharCodes[CharCodes[\"UPPER_F\"] = 70] = \"UPPER_F\";\n    CharCodes[CharCodes[\"UPPER_Z\"] = 90] = \"UPPER_Z\";\n})(CharCodes || (CharCodes = {}));\n/** Bit that needs to be set to convert an upper case ASCII character to lower case */\nconst TO_LOWER_BIT = 0b100000;\nexport var BinTrieFlags;\n(function (BinTrieFlags) {\n    BinTrieFlags[BinTrieFlags[\"VALUE_LENGTH\"] = 49152] = \"VALUE_LENGTH\";\n    BinTrieFlags[BinTrieFlags[\"BRANCH_LENGTH\"] = 16256] = \"BRANCH_LENGTH\";\n    BinTrieFlags[BinTrieFlags[\"JUMP_TABLE\"] = 127] = \"JUMP_TABLE\";\n})(BinTrieFlags || (BinTrieFlags = {}));\nfunction isNumber(code) {\n    return code >= CharCodes.ZERO && code <= CharCodes.NINE;\n}\nfunction isHexadecimalCharacter(code) {\n    return ((code >= CharCodes.UPPER_A && code <= CharCodes.UPPER_F) ||\n        (code >= CharCodes.LOWER_A && code <= CharCodes.LOWER_F));\n}\nfunction isAsciiAlphaNumeric(code) {\n    return ((code >= CharCodes.UPPER_A && code <= CharCodes.UPPER_Z) ||\n        (code >= CharCodes.LOWER_A && code <= CharCodes.LOWER_Z) ||\n        isNumber(code));\n}\n/**\n * Checks if the given character is a valid end character for an entity in an attribute.\n *\n * Attribute values that aren't terminated properly aren't parsed, and shouldn't lead to a parser error.\n * See the example in https://html.spec.whatwg.org/multipage/parsing.html#named-character-reference-state\n */\nfunction isEntityInAttributeInvalidEnd(code) {\n    return code === CharCodes.EQUALS || isAsciiAlphaNumeric(code);\n}\nvar EntityDecoderState;\n(function (EntityDecoderState) {\n    EntityDecoderState[EntityDecoderState[\"EntityStart\"] = 0] = \"EntityStart\";\n    EntityDecoderState[EntityDecoderState[\"NumericStart\"] = 1] = \"NumericStart\";\n    EntityDecoderState[EntityDecoderState[\"NumericDecimal\"] = 2] = \"NumericDecimal\";\n    EntityDecoderState[EntityDecoderState[\"NumericHex\"] = 3] = \"NumericHex\";\n    EntityDecoderState[EntityDecoderState[\"NamedEntity\"] = 4] = \"NamedEntity\";\n})(EntityDecoderState || (EntityDecoderState = {}));\nexport var DecodingMode;\n(function (DecodingMode) {\n    /** Entities in text nodes that can end with any character. */\n    DecodingMode[DecodingMode[\"Legacy\"] = 0] = \"Legacy\";\n    /** Only allow entities terminated with a semicolon. */\n    DecodingMode[DecodingMode[\"Strict\"] = 1] = \"Strict\";\n    /** Entities in attributes have limitations on ending characters. */\n    DecodingMode[DecodingMode[\"Attribute\"] = 2] = \"Attribute\";\n})(DecodingMode || (DecodingMode = {}));\n/**\n * Token decoder with support of writing partial entities.\n */\nexport class EntityDecoder {\n    constructor(\n    /** The tree used to decode entities. */\n    decodeTree, \n    /**\n     * The function that is called when a codepoint is decoded.\n     *\n     * For multi-byte named entities, this will be called multiple times,\n     * with the second codepoint, and the same `consumed` value.\n     *\n     * @param codepoint The decoded codepoint.\n     * @param consumed The number of bytes consumed by the decoder.\n     */\n    emitCodePoint, \n    /** An object that is used to produce errors. */\n    errors) {\n        this.decodeTree = decodeTree;\n        this.emitCodePoint = emitCodePoint;\n        this.errors = errors;\n        /** The current state of the decoder. */\n        this.state = EntityDecoderState.EntityStart;\n        /** Characters that were consumed while parsing an entity. */\n        this.consumed = 1;\n        /**\n         * The result of the entity.\n         *\n         * Either the result index of a numeric entity, or the codepoint of a\n         * numeric entity.\n         */\n        this.result = 0;\n        /** The current index in the decode tree. */\n        this.treeIndex = 0;\n        /** The number of characters that were consumed in excess. */\n        this.excess = 1;\n        /** The mode in which the decoder is operating. */\n        this.decodeMode = DecodingMode.Strict;\n    }\n    /** Resets the instance to make it reusable. */\n    startEntity(decodeMode) {\n        this.decodeMode = decodeMode;\n        this.state = EntityDecoderState.EntityStart;\n        this.result = 0;\n        this.treeIndex = 0;\n        this.excess = 1;\n        this.consumed = 1;\n    }\n    /**\n     * Write an entity to the decoder. This can be called multiple times with partial entities.\n     * If the entity is incomplete, the decoder will return -1.\n     *\n     * Mirrors the implementation of `getDecoder`, but with the ability to stop decoding if the\n     * entity is incomplete, and resume when the next string is written.\n     *\n     * @param string The string containing the entity (or a continuation of the entity).\n     * @param offset The offset at which the entity begins. Should be 0 if this is not the first call.\n     * @returns The number of characters that were consumed, or -1 if the entity is incomplete.\n     */\n    write(str, offset) {\n        switch (this.state) {\n            case EntityDecoderState.EntityStart: {\n                if (str.charCodeAt(offset) === CharCodes.NUM) {\n                    this.state = EntityDecoderState.NumericStart;\n                    this.consumed += 1;\n                    return this.stateNumericStart(str, offset + 1);\n                }\n                this.state = EntityDecoderState.NamedEntity;\n                return this.stateNamedEntity(str, offset);\n            }\n            case EntityDecoderState.NumericStart: {\n                return this.stateNumericStart(str, offset);\n            }\n            case EntityDecoderState.NumericDecimal: {\n                return this.stateNumericDecimal(str, offset);\n            }\n            case EntityDecoderState.NumericHex: {\n                return this.stateNumericHex(str, offset);\n            }\n            case EntityDecoderState.NamedEntity: {\n                return this.stateNamedEntity(str, offset);\n            }\n        }\n    }\n    /**\n     * Switches between the numeric decimal and hexadecimal states.\n     *\n     * Equivalent to the `Numeric character reference state` in the HTML spec.\n     *\n     * @param str The string containing the entity (or a continuation of the entity).\n     * @param offset The current offset.\n     * @returns The number of characters that were consumed, or -1 if the entity is incomplete.\n     */\n    stateNumericStart(str, offset) {\n        if (offset >= str.length) {\n            return -1;\n        }\n        if ((str.charCodeAt(offset) | TO_LOWER_BIT) === CharCodes.LOWER_X) {\n            this.state = EntityDecoderState.NumericHex;\n            this.consumed += 1;\n            return this.stateNumericHex(str, offset + 1);\n        }\n        this.state = EntityDecoderState.NumericDecimal;\n        return this.stateNumericDecimal(str, offset);\n    }\n    addToNumericResult(str, start, end, base) {\n        if (start !== end) {\n            const digitCount = end - start;\n            this.result =\n                this.result * Math.pow(base, digitCount) +\n                    parseInt(str.substr(start, digitCount), base);\n            this.consumed += digitCount;\n        }\n    }\n    /**\n     * Parses a hexadecimal numeric entity.\n     *\n     * Equivalent to the `Hexademical character reference state` in the HTML spec.\n     *\n     * @param str The string containing the entity (or a continuation of the entity).\n     * @param offset The current offset.\n     * @returns The number of characters that were consumed, or -1 if the entity is incomplete.\n     */\n    stateNumericHex(str, offset) {\n        const startIdx = offset;\n        while (offset < str.length) {\n            const char = str.charCodeAt(offset);\n            if (isNumber(char) || isHexadecimalCharacter(char)) {\n                offset += 1;\n            }\n            else {\n                this.addToNumericResult(str, startIdx, offset, 16);\n                return this.emitNumericEntity(char, 3);\n            }\n        }\n        this.addToNumericResult(str, startIdx, offset, 16);\n        return -1;\n    }\n    /**\n     * Parses a decimal numeric entity.\n     *\n     * Equivalent to the `Decimal character reference state` in the HTML spec.\n     *\n     * @param str The string containing the entity (or a continuation of the entity).\n     * @param offset The current offset.\n     * @returns The number of characters that were consumed, or -1 if the entity is incomplete.\n     */\n    stateNumericDecimal(str, offset) {\n        const startIdx = offset;\n        while (offset < str.length) {\n            const char = str.charCodeAt(offset);\n            if (isNumber(char)) {\n                offset += 1;\n            }\n            else {\n                this.addToNumericResult(str, startIdx, offset, 10);\n                return this.emitNumericEntity(char, 2);\n            }\n        }\n        this.addToNumericResult(str, startIdx, offset, 10);\n        return -1;\n    }\n    /**\n     * Validate and emit a numeric entity.\n     *\n     * Implements the logic from the `Hexademical character reference start\n     * state` and `Numeric character reference end state` in the HTML spec.\n     *\n     * @param lastCp The last code point of the entity. Used to see if the\n     *               entity was terminated with a semicolon.\n     * @param expectedLength The minimum number of characters that should be\n     *                       consumed. Used to validate that at least one digit\n     *                       was consumed.\n     * @returns The number of characters that were consumed.\n     */\n    emitNumericEntity(lastCp, expectedLength) {\n        var _a;\n        // Ensure we consumed at least one digit.\n        if (this.consumed <= expectedLength) {\n            (_a = this.errors) === null || _a === void 0 ? void 0 : _a.absenceOfDigitsInNumericCharacterReference(this.consumed);\n            return 0;\n        }\n        // Figure out if this is a legit end of the entity\n        if (lastCp === CharCodes.SEMI) {\n            this.consumed += 1;\n        }\n        else if (this.decodeMode === DecodingMode.Strict) {\n            return 0;\n        }\n        this.emitCodePoint(replaceCodePoint(this.result), this.consumed);\n        if (this.errors) {\n            if (lastCp !== CharCodes.SEMI) {\n                this.errors.missingSemicolonAfterCharacterReference();\n            }\n            this.errors.validateNumericCharacterReference(this.result);\n        }\n        return this.consumed;\n    }\n    /**\n     * Parses a named entity.\n     *\n     * Equivalent to the `Named character reference state` in the HTML spec.\n     *\n     * @param str The string containing the entity (or a continuation of the entity).\n     * @param offset The current offset.\n     * @returns The number of characters that were consumed, or -1 if the entity is incomplete.\n     */\n    stateNamedEntity(str, offset) {\n        const { decodeTree } = this;\n        let current = decodeTree[this.treeIndex];\n        // The mask is the number of bytes of the value, including the current byte.\n        let valueLength = (current & BinTrieFlags.VALUE_LENGTH) >> 14;\n        for (; offset < str.length; offset++, this.excess++) {\n            const char = str.charCodeAt(offset);\n            this.treeIndex = determineBranch(decodeTree, current, this.treeIndex + Math.max(1, valueLength), char);\n            if (this.treeIndex < 0) {\n                return this.result === 0 ||\n                    // If we are parsing an attribute\n                    (this.decodeMode === DecodingMode.Attribute &&\n                        // We shouldn't have consumed any characters after the entity,\n                        (valueLength === 0 ||\n                            // And there should be no invalid characters.\n                            isEntityInAttributeInvalidEnd(char)))\n                    ? 0\n                    : this.emitNotTerminatedNamedEntity();\n            }\n            current = decodeTree[this.treeIndex];\n            valueLength = (current & BinTrieFlags.VALUE_LENGTH) >> 14;\n            // If the branch is a value, store it and continue\n            if (valueLength !== 0) {\n                // If the entity is terminated by a semicolon, we are done.\n                if (char === CharCodes.SEMI) {\n                    return this.emitNamedEntityData(this.treeIndex, valueLength, this.consumed + this.excess);\n                }\n                // If we encounter a non-terminated (legacy) entity while parsing strictly, then ignore it.\n                if (this.decodeMode !== DecodingMode.Strict) {\n                    this.result = this.treeIndex;\n                    this.consumed += this.excess;\n                    this.excess = 0;\n                }\n            }\n        }\n        return -1;\n    }\n    /**\n     * Emit a named entity that was not terminated with a semicolon.\n     *\n     * @returns The number of characters consumed.\n     */\n    emitNotTerminatedNamedEntity() {\n        var _a;\n        const { result, decodeTree } = this;\n        const valueLength = (decodeTree[result] & BinTrieFlags.VALUE_LENGTH) >> 14;\n        this.emitNamedEntityData(result, valueLength, this.consumed);\n        (_a = this.errors) === null || _a === void 0 ? void 0 : _a.missingSemicolonAfterCharacterReference();\n        return this.consumed;\n    }\n    /**\n     * Emit a named entity.\n     *\n     * @param result The index of the entity in the decode tree.\n     * @param valueLength The number of bytes in the entity.\n     * @param consumed The number of characters consumed.\n     *\n     * @returns The number of characters consumed.\n     */\n    emitNamedEntityData(result, valueLength, consumed) {\n        const { decodeTree } = this;\n        this.emitCodePoint(valueLength === 1\n            ? decodeTree[result] & ~BinTrieFlags.VALUE_LENGTH\n            : decodeTree[result + 1], consumed);\n        if (valueLength === 3) {\n            // For multi-byte values, we need to emit the second byte.\n            this.emitCodePoint(decodeTree[result + 2], consumed);\n        }\n        return consumed;\n    }\n    /**\n     * Signal to the parser that the end of the input was reached.\n     *\n     * Remaining data will be emitted and relevant errors will be produced.\n     *\n     * @returns The number of characters consumed.\n     */\n    end() {\n        var _a;\n        switch (this.state) {\n            case EntityDecoderState.NamedEntity: {\n                // Emit a named entity if we have one.\n                return this.result !== 0 &&\n                    (this.decodeMode !== DecodingMode.Attribute ||\n                        this.result === this.treeIndex)\n                    ? this.emitNotTerminatedNamedEntity()\n                    : 0;\n            }\n            // Otherwise, emit a numeric entity if we have one.\n            case EntityDecoderState.NumericDecimal: {\n                return this.emitNumericEntity(0, 2);\n            }\n            case EntityDecoderState.NumericHex: {\n                return this.emitNumericEntity(0, 3);\n            }\n            case EntityDecoderState.NumericStart: {\n                (_a = this.errors) === null || _a === void 0 ? void 0 : _a.absenceOfDigitsInNumericCharacterReference(this.consumed);\n                return 0;\n            }\n            case EntityDecoderState.EntityStart: {\n                // Return 0 if we have no entity.\n                return 0;\n            }\n        }\n    }\n}\n/**\n * Creates a function that decodes entities in a string.\n *\n * @param decodeTree The decode tree.\n * @returns A function that decodes entities in a string.\n */\nfunction getDecoder(decodeTree) {\n    let ret = \"\";\n    const decoder = new EntityDecoder(decodeTree, (str) => (ret += fromCodePoint(str)));\n    return function decodeWithTrie(str, decodeMode) {\n        let lastIndex = 0;\n        let offset = 0;\n        while ((offset = str.indexOf(\"&\", offset)) >= 0) {\n            ret += str.slice(lastIndex, offset);\n            decoder.startEntity(decodeMode);\n            const len = decoder.write(str, \n            // Skip the \"&\"\n            offset + 1);\n            if (len < 0) {\n                lastIndex = offset + decoder.end();\n                break;\n            }\n            lastIndex = offset + len;\n            // If `len` is 0, skip the current `&` and continue.\n            offset = len === 0 ? lastIndex + 1 : lastIndex;\n        }\n        const result = ret + str.slice(lastIndex);\n        // Make sure we don't keep a reference to the final string.\n        ret = \"\";\n        return result;\n    };\n}\n/**\n * Determines the branch of the current node that is taken given the current\n * character. This function is used to traverse the trie.\n *\n * @param decodeTree The trie.\n * @param current The current node.\n * @param nodeIdx The index right after the current node and its value.\n * @param char The current character.\n * @returns The index of the next node, or -1 if no branch is taken.\n */\nexport function determineBranch(decodeTree, current, nodeIdx, char) {\n    const branchCount = (current & BinTrieFlags.BRANCH_LENGTH) >> 7;\n    const jumpOffset = current & BinTrieFlags.JUMP_TABLE;\n    // Case 1: Single branch encoded in jump offset\n    if (branchCount === 0) {\n        return jumpOffset !== 0 && char === jumpOffset ? nodeIdx : -1;\n    }\n    // Case 2: Multiple branches encoded in jump table\n    if (jumpOffset) {\n        const value = char - jumpOffset;\n        return value < 0 || value >= branchCount\n            ? -1\n            : decodeTree[nodeIdx + value] - 1;\n    }\n    // Case 3: Multiple branches encoded in dictionary\n    // Binary search for the character.\n    let lo = nodeIdx;\n    let hi = lo + branchCount - 1;\n    while (lo <= hi) {\n        const mid = (lo + hi) >>> 1;\n        const midVal = decodeTree[mid];\n        if (midVal < char) {\n            lo = mid + 1;\n        }\n        else if (midVal > char) {\n            hi = mid - 1;\n        }\n        else {\n            return decodeTree[mid + branchCount];\n        }\n    }\n    return -1;\n}\nconst htmlDecoder = getDecoder(htmlDecodeTree);\nconst xmlDecoder = getDecoder(xmlDecodeTree);\n/**\n * Decodes an HTML string.\n *\n * @param str The string to decode.\n * @param mode The decoding mode.\n * @returns The decoded string.\n */\nexport function decodeHTML(str, mode = DecodingMode.Legacy) {\n    return htmlDecoder(str, mode);\n}\n/**\n * Decodes an HTML string in an attribute.\n *\n * @param str The string to decode.\n * @returns The decoded string.\n */\nexport function decodeHTMLAttribute(str) {\n    return htmlDecoder(str, DecodingMode.Attribute);\n}\n/**\n * Decodes an HTML string, requiring all entities to be terminated by a semicolon.\n *\n * @param str The string to decode.\n * @returns The decoded string.\n */\nexport function decodeHTMLStrict(str) {\n    return htmlDecoder(str, DecodingMode.Strict);\n}\n/**\n * Decodes an XML string, requiring all entities to be terminated by a semicolon.\n *\n * @param str The string to decode.\n * @returns The decoded string.\n */\nexport function decodeXML(str) {\n    return xmlDecoder(str, DecodingMode.Strict);\n}\n//# sourceMappingURL=decode.js.map","/**\n * Throw a given error.\n *\n * @param {Error|null|undefined} [error]\n *   Maybe error.\n * @returns {asserts error is null|undefined}\n */\nexport function bail(error) {\n  if (error) {\n    throw error\n  }\n}\n","'use strict';\n\nvar hasOwn = Object.prototype.hasOwnProperty;\nvar toStr = Object.prototype.toString;\nvar defineProperty = Object.defineProperty;\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nvar isArray = function isArray(arr) {\n\tif (typeof Array.isArray === 'function') {\n\t\treturn Array.isArray(arr);\n\t}\n\n\treturn toStr.call(arr) === '[object Array]';\n};\n\nvar isPlainObject = function isPlainObject(obj) {\n\tif (!obj || toStr.call(obj) !== '[object Object]') {\n\t\treturn false;\n\t}\n\n\tvar hasOwnConstructor = hasOwn.call(obj, 'constructor');\n\tvar hasIsPrototypeOf = obj.constructor && obj.constructor.prototype && hasOwn.call(obj.constructor.prototype, 'isPrototypeOf');\n\t// Not own constructor property must be Object\n\tif (obj.constructor && !hasOwnConstructor && !hasIsPrototypeOf) {\n\t\treturn false;\n\t}\n\n\t// Own properties are enumerated firstly, so to speed up,\n\t// if last one is own, then all properties are own.\n\tvar key;\n\tfor (key in obj) { /**/ }\n\n\treturn typeof key === 'undefined' || hasOwn.call(obj, key);\n};\n\n// If name is '__proto__', and Object.defineProperty is available, define __proto__ as an own property on target\nvar setProperty = function setProperty(target, options) {\n\tif (defineProperty && options.name === '__proto__') {\n\t\tdefineProperty(target, options.name, {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: true,\n\t\t\tvalue: options.newValue,\n\t\t\twritable: true\n\t\t});\n\t} else {\n\t\ttarget[options.name] = options.newValue;\n\t}\n};\n\n// Return undefined instead of __proto__ if '__proto__' is not an own property\nvar getProperty = function getProperty(obj, name) {\n\tif (name === '__proto__') {\n\t\tif (!hasOwn.call(obj, name)) {\n\t\t\treturn void 0;\n\t\t} else if (gOPD) {\n\t\t\t// In early versions of node, obj['__proto__'] is buggy when obj has\n\t\t\t// __proto__ as an own property. Object.getOwnPropertyDescriptor() works.\n\t\t\treturn gOPD(obj, name).value;\n\t\t}\n\t}\n\n\treturn obj[name];\n};\n\nmodule.exports = function extend() {\n\tvar options, name, src, copy, copyIsArray, clone;\n\tvar target = arguments[0];\n\tvar i = 1;\n\tvar length = arguments.length;\n\tvar deep = false;\n\n\t// Handle a deep copy situation\n\tif (typeof target === 'boolean') {\n\t\tdeep = target;\n\t\ttarget = arguments[1] || {};\n\t\t// skip the boolean and the target\n\t\ti = 2;\n\t}\n\tif (target == null || (typeof target !== 'object' && typeof target !== 'function')) {\n\t\ttarget = {};\n\t}\n\n\tfor (; i < length; ++i) {\n\t\toptions = arguments[i];\n\t\t// Only deal with non-null/undefined values\n\t\tif (options != null) {\n\t\t\t// Extend the base object\n\t\t\tfor (name in options) {\n\t\t\t\tsrc = getProperty(target, name);\n\t\t\t\tcopy = getProperty(options, name);\n\n\t\t\t\t// Prevent never-ending loop\n\t\t\t\tif (target !== copy) {\n\t\t\t\t\t// Recurse if we're merging plain objects or arrays\n\t\t\t\t\tif (deep && copy && (isPlainObject(copy) || (copyIsArray = isArray(copy)))) {\n\t\t\t\t\t\tif (copyIsArray) {\n\t\t\t\t\t\t\tcopyIsArray = false;\n\t\t\t\t\t\t\tclone = src && isArray(src) ? src : [];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tclone = src && isPlainObject(src) ? src : {};\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Never move original objects, clone them\n\t\t\t\t\t\tsetProperty(target, { name: name, newValue: extend(deep, clone, copy) });\n\n\t\t\t\t\t// Don't bring in undefined values\n\t\t\t\t\t} else if (typeof copy !== 'undefined') {\n\t\t\t\t\t\tsetProperty(target, { name: name, newValue: copy });\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Return the modified object\n\treturn target;\n};\n","export default function isPlainObject(value) {\n\tif (typeof value !== 'object' || value === null) {\n\t\treturn false;\n\t}\n\n\tconst prototype = Object.getPrototypeOf(value);\n\treturn (prototype === null || prototype === Object.prototype || Object.getPrototypeOf(prototype) === null) && !(Symbol.toStringTag in value) && !(Symbol.iterator in value);\n}\n","/**\n * @typedef {(error?: Error|null|undefined, ...output: Array<any>) => void} Callback\n * @typedef {(...input: Array<any>) => any} Middleware\n *\n * @typedef {(...input: Array<any>) => void} Run\n *   Call all middleware.\n * @typedef {(fn: Middleware) => Pipeline} Use\n *   Add `fn` (middleware) to the list.\n * @typedef {{run: Run, use: Use}} Pipeline\n *   Middleware.\n */\n\n/**\n * Create new middleware.\n *\n * @returns {Pipeline}\n */\nexport function trough() {\n  /** @type {Array<Middleware>} */\n  const fns = []\n  /** @type {Pipeline} */\n  const pipeline = {run, use}\n\n  return pipeline\n\n  /** @type {Run} */\n  function run(...values) {\n    let middlewareIndex = -1\n    /** @type {Callback} */\n    const callback = values.pop()\n\n    if (typeof callback !== 'function') {\n      throw new TypeError('Expected function as last argument, not ' + callback)\n    }\n\n    next(null, ...values)\n\n    /**\n     * Run the next `fn`, or were done.\n     *\n     * @param {Error|null|undefined} error\n     * @param {Array<any>} output\n     */\n    function next(error, ...output) {\n      const fn = fns[++middlewareIndex]\n      let index = -1\n\n      if (error) {\n        callback(error)\n        return\n      }\n\n      // Copy non-nullish input into values.\n      while (++index < values.length) {\n        if (output[index] === null || output[index] === undefined) {\n          output[index] = values[index]\n        }\n      }\n\n      // Save the newly created `output` for the next call.\n      values = output\n\n      // Next or done.\n      if (fn) {\n        wrap(fn, next)(...output)\n      } else {\n        callback(null, ...output)\n      }\n    }\n  }\n\n  /** @type {Use} */\n  function use(middelware) {\n    if (typeof middelware !== 'function') {\n      throw new TypeError(\n        'Expected `middelware` to be a function, not ' + middelware\n      )\n    }\n\n    fns.push(middelware)\n    return pipeline\n  }\n}\n\n/**\n * Wrap `middleware`.\n * Can be sync or async; return a promise, receive a callback, or return new\n * values and errors.\n *\n * @param {Middleware} middleware\n * @param {Callback} callback\n */\nexport function wrap(middleware, callback) {\n  /** @type {boolean} */\n  let called\n\n  return wrapped\n\n  /**\n   * Call `middleware`.\n   * @this {any}\n   * @param {Array<any>} parameters\n   * @returns {void}\n   */\n  function wrapped(...parameters) {\n    const fnExpectsCallback = middleware.length > parameters.length\n    /** @type {any} */\n    let result\n\n    if (fnExpectsCallback) {\n      parameters.push(done)\n    }\n\n    try {\n      result = middleware.apply(this, parameters)\n    } catch (error) {\n      const exception = /** @type {Error} */ (error)\n\n      // Well, this is quite the pickle.\n      // `middleware` received a callback and called it synchronously, but that\n      // threw an error.\n      // The only thing left to do is to throw the thing instead.\n      if (fnExpectsCallback && called) {\n        throw exception\n      }\n\n      return done(exception)\n    }\n\n    if (!fnExpectsCallback) {\n      if (result instanceof Promise) {\n        result.then(then, done)\n      } else if (result instanceof Error) {\n        done(result)\n      } else {\n        then(result)\n      }\n    }\n  }\n\n  /**\n   * Call `callback`, only once.\n   * @type {Callback}\n   */\n  function done(error, ...output) {\n    if (!called) {\n      called = true\n      callback(error, ...output)\n    }\n  }\n\n  /**\n   * Call `done` with one value.\n   *\n   * @param {any} [value]\n   */\n  function then(value) {\n    done(null, value)\n  }\n}\n","/**\n * @typedef {import('unist').Node} Node\n * @typedef {import('unist').Point} Point\n * @typedef {import('unist').Position} Position\n */\n\n/**\n * @typedef NodeLike\n * @property {string} type\n * @property {PositionLike | null | undefined} [position]\n *\n * @typedef PointLike\n * @property {number | null | undefined} [line]\n * @property {number | null | undefined} [column]\n * @property {number | null | undefined} [offset]\n *\n * @typedef PositionLike\n * @property {PointLike | null | undefined} [start]\n * @property {PointLike | null | undefined} [end]\n */\n\n/**\n * Serialize the positional info of a point, position (start and end points),\n * or node.\n *\n * @param {Node | NodeLike | Point | PointLike | Position | PositionLike | null | undefined} [value]\n *   Node, position, or point.\n * @returns {string}\n *   Pretty printed positional info of a node (`string`).\n *\n *   In the format of a range `ls:cs-le:ce` (when given `node` or `position`)\n *   or a point `l:c` (when given `point`), where `l` stands for line, `c` for\n *   column, `s` for `start`, and `e` for end.\n *   An empty string (`''`) is returned if the given value is neither `node`,\n *   `position`, nor `point`.\n */\nexport function stringifyPosition(value) {\n  // Nothing.\n  if (!value || typeof value !== 'object') {\n    return ''\n  }\n\n  // Node.\n  if ('position' in value || 'type' in value) {\n    return position(value.position)\n  }\n\n  // Position.\n  if ('start' in value || 'end' in value) {\n    return position(value)\n  }\n\n  // Point.\n  if ('line' in value || 'column' in value) {\n    return point(value)\n  }\n\n  // ?\n  return ''\n}\n\n/**\n * @param {Point | PointLike | null | undefined} point\n * @returns {string}\n */\nfunction point(point) {\n  return index(point && point.line) + ':' + index(point && point.column)\n}\n\n/**\n * @param {Position | PositionLike | null | undefined} pos\n * @returns {string}\n */\nfunction position(pos) {\n  return point(pos && pos.start) + '-' + point(pos && pos.end)\n}\n\n/**\n * @param {number | null | undefined} value\n * @returns {number}\n */\nfunction index(value) {\n  return value && typeof value === 'number' ? value : 1\n}\n","/**\n * @typedef {import('unist').Node} Node\n * @typedef {import('unist').Point} Point\n * @typedef {import('unist').Position} Position\n */\n\n/**\n * @typedef {object & {type: string, position?: Position | undefined}} NodeLike\n *\n * @typedef Options\n *   Configuration.\n * @property {Array<Node> | null | undefined} [ancestors]\n *   Stack of (inclusive) ancestor nodes surrounding the message (optional).\n * @property {Error | null | undefined} [cause]\n *   Original error cause of the message (optional).\n * @property {Point | Position | null | undefined} [place]\n *   Place of message (optional).\n * @property {string | null | undefined} [ruleId]\n *   Category of message (optional, example: `'my-rule'`).\n * @property {string | null | undefined} [source]\n *   Namespace of who sent the message (optional, example: `'my-package'`).\n */\n\nimport {stringifyPosition} from 'unist-util-stringify-position'\n\n/**\n * Message.\n */\nexport class VFileMessage extends Error {\n  /**\n   * Create a message for `reason`.\n   *\n   * >  **Note**: also has obsolete signatures.\n   *\n   * @overload\n   * @param {string} reason\n   * @param {Options | null | undefined} [options]\n   * @returns\n   *\n   * @overload\n   * @param {string} reason\n   * @param {Node | NodeLike | null | undefined} parent\n   * @param {string | null | undefined} [origin]\n   * @returns\n   *\n   * @overload\n   * @param {string} reason\n   * @param {Point | Position | null | undefined} place\n   * @param {string | null | undefined} [origin]\n   * @returns\n   *\n   * @overload\n   * @param {string} reason\n   * @param {string | null | undefined} [origin]\n   * @returns\n   *\n   * @overload\n   * @param {Error | VFileMessage} cause\n   * @param {Node | NodeLike | null | undefined} parent\n   * @param {string | null | undefined} [origin]\n   * @returns\n   *\n   * @overload\n   * @param {Error | VFileMessage} cause\n   * @param {Point | Position | null | undefined} place\n   * @param {string | null | undefined} [origin]\n   * @returns\n   *\n   * @overload\n   * @param {Error | VFileMessage} cause\n   * @param {string | null | undefined} [origin]\n   * @returns\n   *\n   * @param {Error | VFileMessage | string} causeOrReason\n   *   Reason for message, should use markdown.\n   * @param {Node | NodeLike | Options | Point | Position | string | null | undefined} [optionsOrParentOrPlace]\n   *   Configuration (optional).\n   * @param {string | null | undefined} [origin]\n   *   Place in code where the message originates (example:\n   *   `'my-package:my-rule'` or `'my-rule'`).\n   * @returns\n   *   Instance of `VFileMessage`.\n   */\n  // eslint-disable-next-line complexity\n  constructor(causeOrReason, optionsOrParentOrPlace, origin) {\n    super()\n\n    if (typeof optionsOrParentOrPlace === 'string') {\n      origin = optionsOrParentOrPlace\n      optionsOrParentOrPlace = undefined\n    }\n\n    /** @type {string} */\n    let reason = ''\n    /** @type {Options} */\n    let options = {}\n    let legacyCause = false\n\n    if (optionsOrParentOrPlace) {\n      // Point.\n      if (\n        'line' in optionsOrParentOrPlace &&\n        'column' in optionsOrParentOrPlace\n      ) {\n        options = {place: optionsOrParentOrPlace}\n      }\n      // Position.\n      else if (\n        'start' in optionsOrParentOrPlace &&\n        'end' in optionsOrParentOrPlace\n      ) {\n        options = {place: optionsOrParentOrPlace}\n      }\n      // Node.\n      else if ('type' in optionsOrParentOrPlace) {\n        options = {\n          ancestors: [optionsOrParentOrPlace],\n          place: optionsOrParentOrPlace.position\n        }\n      }\n      // Options.\n      else {\n        options = {...optionsOrParentOrPlace}\n      }\n    }\n\n    if (typeof causeOrReason === 'string') {\n      reason = causeOrReason\n    }\n    // Error.\n    else if (!options.cause && causeOrReason) {\n      legacyCause = true\n      reason = causeOrReason.message\n      options.cause = causeOrReason\n    }\n\n    if (!options.ruleId && !options.source && typeof origin === 'string') {\n      const index = origin.indexOf(':')\n\n      if (index === -1) {\n        options.ruleId = origin\n      } else {\n        options.source = origin.slice(0, index)\n        options.ruleId = origin.slice(index + 1)\n      }\n    }\n\n    if (!options.place && options.ancestors && options.ancestors) {\n      const parent = options.ancestors[options.ancestors.length - 1]\n\n      if (parent) {\n        options.place = parent.position\n      }\n    }\n\n    const start =\n      options.place && 'start' in options.place\n        ? options.place.start\n        : options.place\n\n    /* eslint-disable no-unused-expressions */\n    /**\n     * Stack of ancestor nodes surrounding the message.\n     *\n     * @type {Array<Node> | undefined}\n     */\n    this.ancestors = options.ancestors || undefined\n\n    /**\n     * Original error cause of the message.\n     *\n     * @type {Error | undefined}\n     */\n    this.cause = options.cause || undefined\n\n    /**\n     * Starting column of message.\n     *\n     * @type {number | undefined}\n     */\n    this.column = start ? start.column : undefined\n\n    /**\n     * State of problem.\n     *\n     * * `true`  error, file not usable\n     * * `false`  warning, change may be needed\n     * * `undefined`  change likely not needed\n     *\n     * @type {boolean | null | undefined}\n     */\n    this.fatal = undefined\n\n    /**\n     * Path of a file (used throughout the `VFile` ecosystem).\n     *\n     * @type {string | undefined}\n     */\n    this.file\n\n    // Field from `Error`.\n    /**\n     * Reason for message.\n     *\n     * @type {string}\n     */\n    this.message = reason\n\n    /**\n     * Starting line of error.\n     *\n     * @type {number | undefined}\n     */\n    this.line = start ? start.line : undefined\n\n    // Field from `Error`.\n    /**\n     * Serialized positional info of message.\n     *\n     * On normal errors, this would be something like `ParseError`, buit in\n     * `VFile` messages we use this space to show where an error happened.\n     */\n    this.name = stringifyPosition(options.place) || '1:1'\n\n    /**\n     * Place of message.\n     *\n     * @type {Point | Position | undefined}\n     */\n    this.place = options.place || undefined\n\n    /**\n     * Reason for message, should use markdown.\n     *\n     * @type {string}\n     */\n    this.reason = this.message\n\n    /**\n     * Category of message (example: `'my-rule'`).\n     *\n     * @type {string | undefined}\n     */\n    this.ruleId = options.ruleId || undefined\n\n    /**\n     * Namespace of message (example: `'my-package'`).\n     *\n     * @type {string | undefined}\n     */\n    this.source = options.source || undefined\n\n    // Field from `Error`.\n    /**\n     * Stack of message.\n     *\n     * This is used by normal errors to show where something happened in\n     * programming code, irrelevant for `VFile` messages,\n     *\n     * @type {string}\n     */\n    this.stack =\n      legacyCause && options.cause && typeof options.cause.stack === 'string'\n        ? options.cause.stack\n        : ''\n\n    // The following fields are well known.\n    // Not standard.\n    // Feel free to add other non-standard fields to your messages.\n\n    /**\n     * Specify the source value thats being reported, which is deemed\n     * incorrect.\n     *\n     * @type {string | undefined}\n     */\n    this.actual\n\n    /**\n     * Suggest acceptable values that can be used instead of `actual`.\n     *\n     * @type {Array<string> | undefined}\n     */\n    this.expected\n\n    /**\n     * Long form description of the message (you should use markdown).\n     *\n     * @type {string | undefined}\n     */\n    this.note\n\n    /**\n     * Link to docs for the message.\n     *\n     * >  **Note**: this must be an absolute URL that can be passed as `x`\n     * > to `new URL(x)`.\n     *\n     * @type {string | undefined}\n     */\n    this.url\n    /* eslint-enable no-unused-expressions */\n  }\n}\n\nVFileMessage.prototype.file = ''\nVFileMessage.prototype.name = ''\nVFileMessage.prototype.reason = ''\nVFileMessage.prototype.message = ''\nVFileMessage.prototype.stack = ''\nVFileMessage.prototype.column = undefined\nVFileMessage.prototype.line = undefined\nVFileMessage.prototype.ancestors = undefined\nVFileMessage.prototype.cause = undefined\nVFileMessage.prototype.fatal = undefined\nVFileMessage.prototype.place = undefined\nVFileMessage.prototype.ruleId = undefined\nVFileMessage.prototype.source = undefined\n","// A derivative work based on:\n// <https://github.com/browserify/path-browserify>.\n// Which is licensed:\n//\n// MIT License\n//\n// Copyright (c) 2013 James Halliday\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy of\n// this software and associated documentation files (the \"Software\"), to deal in\n// the Software without restriction, including without limitation the rights to\n// use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of\n// the Software, and to permit persons to whom the Software is furnished to do so,\n// subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in all\n// copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS\n// FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR\n// COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER\n// IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN\n// CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n// A derivative work based on:\n//\n// Parts of that are extracted from Nodes internal `path` module:\n// <https://github.com/nodejs/node/blob/master/lib/path.js>.\n// Which is licensed:\n//\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nexport const path = {basename, dirname, extname, join, sep: '/'}\n\n/* eslint-disable max-depth, complexity */\n\n/**\n * Get the basename from a path.\n *\n * @param {string} path\n *   File path.\n * @param {string | null | undefined} [ext]\n *   Extension to strip.\n * @returns {string}\n *   Stem or basename.\n */\nfunction basename(path, ext) {\n  if (ext !== undefined && typeof ext !== 'string') {\n    throw new TypeError('\"ext\" argument must be a string')\n  }\n\n  assertPath(path)\n  let start = 0\n  let end = -1\n  let index = path.length\n  /** @type {boolean | undefined} */\n  let seenNonSlash\n\n  if (ext === undefined || ext.length === 0 || ext.length > path.length) {\n    while (index--) {\n      if (path.codePointAt(index) === 47 /* `/` */) {\n        // If we reached a path separator that was not part of a set of path\n        // separators at the end of the string, stop now.\n        if (seenNonSlash) {\n          start = index + 1\n          break\n        }\n      } else if (end < 0) {\n        // We saw the first non-path separator, mark this as the end of our\n        // path component.\n        seenNonSlash = true\n        end = index + 1\n      }\n    }\n\n    return end < 0 ? '' : path.slice(start, end)\n  }\n\n  if (ext === path) {\n    return ''\n  }\n\n  let firstNonSlashEnd = -1\n  let extIndex = ext.length - 1\n\n  while (index--) {\n    if (path.codePointAt(index) === 47 /* `/` */) {\n      // If we reached a path separator that was not part of a set of path\n      // separators at the end of the string, stop now.\n      if (seenNonSlash) {\n        start = index + 1\n        break\n      }\n    } else {\n      if (firstNonSlashEnd < 0) {\n        // We saw the first non-path separator, remember this index in case\n        // we need it if the extension ends up not matching.\n        seenNonSlash = true\n        firstNonSlashEnd = index + 1\n      }\n\n      if (extIndex > -1) {\n        // Try to match the explicit extension.\n        if (path.codePointAt(index) === ext.codePointAt(extIndex--)) {\n          if (extIndex < 0) {\n            // We matched the extension, so mark this as the end of our path\n            // component\n            end = index\n          }\n        } else {\n          // Extension does not match, so our result is the entire path\n          // component\n          extIndex = -1\n          end = firstNonSlashEnd\n        }\n      }\n    }\n  }\n\n  if (start === end) {\n    end = firstNonSlashEnd\n  } else if (end < 0) {\n    end = path.length\n  }\n\n  return path.slice(start, end)\n}\n\n/**\n * Get the dirname from a path.\n *\n * @param {string} path\n *   File path.\n * @returns {string}\n *   File path.\n */\nfunction dirname(path) {\n  assertPath(path)\n\n  if (path.length === 0) {\n    return '.'\n  }\n\n  let end = -1\n  let index = path.length\n  /** @type {boolean | undefined} */\n  let unmatchedSlash\n\n  // Prefix `--` is important to not run on `0`.\n  while (--index) {\n    if (path.codePointAt(index) === 47 /* `/` */) {\n      if (unmatchedSlash) {\n        end = index\n        break\n      }\n    } else if (!unmatchedSlash) {\n      // We saw the first non-path separator\n      unmatchedSlash = true\n    }\n  }\n\n  return end < 0\n    ? path.codePointAt(0) === 47 /* `/` */\n      ? '/'\n      : '.'\n    : end === 1 && path.codePointAt(0) === 47 /* `/` */\n    ? '//'\n    : path.slice(0, end)\n}\n\n/**\n * Get an extname from a path.\n *\n * @param {string} path\n *   File path.\n * @returns {string}\n *   Extname.\n */\nfunction extname(path) {\n  assertPath(path)\n\n  let index = path.length\n\n  let end = -1\n  let startPart = 0\n  let startDot = -1\n  // Track the state of characters (if any) we see before our first dot and\n  // after any path separator we find.\n  let preDotState = 0\n  /** @type {boolean | undefined} */\n  let unmatchedSlash\n\n  while (index--) {\n    const code = path.codePointAt(index)\n\n    if (code === 47 /* `/` */) {\n      // If we reached a path separator that was not part of a set of path\n      // separators at the end of the string, stop now.\n      if (unmatchedSlash) {\n        startPart = index + 1\n        break\n      }\n\n      continue\n    }\n\n    if (end < 0) {\n      // We saw the first non-path separator, mark this as the end of our\n      // extension.\n      unmatchedSlash = true\n      end = index + 1\n    }\n\n    if (code === 46 /* `.` */) {\n      // If this is our first dot, mark it as the start of our extension.\n      if (startDot < 0) {\n        startDot = index\n      } else if (preDotState !== 1) {\n        preDotState = 1\n      }\n    } else if (startDot > -1) {\n      // We saw a non-dot and non-path separator before our dot, so we should\n      // have a good chance at having a non-empty extension.\n      preDotState = -1\n    }\n  }\n\n  if (\n    startDot < 0 ||\n    end < 0 ||\n    // We saw a non-dot character immediately before the dot.\n    preDotState === 0 ||\n    // The (right-most) trimmed path component is exactly `..`.\n    (preDotState === 1 && startDot === end - 1 && startDot === startPart + 1)\n  ) {\n    return ''\n  }\n\n  return path.slice(startDot, end)\n}\n\n/**\n * Join segments from a path.\n *\n * @param {Array<string>} segments\n *   Path segments.\n * @returns {string}\n *   File path.\n */\nfunction join(...segments) {\n  let index = -1\n  /** @type {string | undefined} */\n  let joined\n\n  while (++index < segments.length) {\n    assertPath(segments[index])\n\n    if (segments[index]) {\n      joined =\n        joined === undefined ? segments[index] : joined + '/' + segments[index]\n    }\n  }\n\n  return joined === undefined ? '.' : normalize(joined)\n}\n\n/**\n * Normalize a basic file path.\n *\n * @param {string} path\n *   File path.\n * @returns {string}\n *   File path.\n */\n// Note: `normalize` is not exposed as `path.normalize`, so some code is\n// manually removed from it.\nfunction normalize(path) {\n  assertPath(path)\n\n  const absolute = path.codePointAt(0) === 47 /* `/` */\n\n  // Normalize the path according to POSIX rules.\n  let value = normalizeString(path, !absolute)\n\n  if (value.length === 0 && !absolute) {\n    value = '.'\n  }\n\n  if (value.length > 0 && path.codePointAt(path.length - 1) === 47 /* / */) {\n    value += '/'\n  }\n\n  return absolute ? '/' + value : value\n}\n\n/**\n * Resolve `.` and `..` elements in a path with directory names.\n *\n * @param {string} path\n *   File path.\n * @param {boolean} allowAboveRoot\n *   Whether `..` can move above root.\n * @returns {string}\n *   File path.\n */\nfunction normalizeString(path, allowAboveRoot) {\n  let result = ''\n  let lastSegmentLength = 0\n  let lastSlash = -1\n  let dots = 0\n  let index = -1\n  /** @type {number | undefined} */\n  let code\n  /** @type {number} */\n  let lastSlashIndex\n\n  while (++index <= path.length) {\n    if (index < path.length) {\n      code = path.codePointAt(index)\n    } else if (code === 47 /* `/` */) {\n      break\n    } else {\n      code = 47 /* `/` */\n    }\n\n    if (code === 47 /* `/` */) {\n      if (lastSlash === index - 1 || dots === 1) {\n        // Empty.\n      } else if (lastSlash !== index - 1 && dots === 2) {\n        if (\n          result.length < 2 ||\n          lastSegmentLength !== 2 ||\n          result.codePointAt(result.length - 1) !== 46 /* `.` */ ||\n          result.codePointAt(result.length - 2) !== 46 /* `.` */\n        ) {\n          if (result.length > 2) {\n            lastSlashIndex = result.lastIndexOf('/')\n\n            if (lastSlashIndex !== result.length - 1) {\n              if (lastSlashIndex < 0) {\n                result = ''\n                lastSegmentLength = 0\n              } else {\n                result = result.slice(0, lastSlashIndex)\n                lastSegmentLength = result.length - 1 - result.lastIndexOf('/')\n              }\n\n              lastSlash = index\n              dots = 0\n              continue\n            }\n          } else if (result.length > 0) {\n            result = ''\n            lastSegmentLength = 0\n            lastSlash = index\n            dots = 0\n            continue\n          }\n        }\n\n        if (allowAboveRoot) {\n          result = result.length > 0 ? result + '/..' : '..'\n          lastSegmentLength = 2\n        }\n      } else {\n        if (result.length > 0) {\n          result += '/' + path.slice(lastSlash + 1, index)\n        } else {\n          result = path.slice(lastSlash + 1, index)\n        }\n\n        lastSegmentLength = index - lastSlash - 1\n      }\n\n      lastSlash = index\n      dots = 0\n    } else if (code === 46 /* `.` */ && dots > -1) {\n      dots++\n    } else {\n      dots = -1\n    }\n  }\n\n  return result\n}\n\n/**\n * Make sure `path` is a string.\n *\n * @param {string} path\n *   File path.\n * @returns {asserts path is string}\n *   Nothing.\n */\nfunction assertPath(path) {\n  if (typeof path !== 'string') {\n    throw new TypeError(\n      'Path must be a string. Received ' + JSON.stringify(path)\n    )\n  }\n}\n\n/* eslint-enable max-depth, complexity */\n","// Somewhat based on:\n// <https://github.com/defunctzombie/node-process/blob/master/browser.js>.\n// But I dont think one tiny line of code can be copyrighted. \nexport const proc = {cwd}\n\nfunction cwd() {\n  return '/'\n}\n","/**\n * Checks if a value has the shape of a WHATWG URL object.\n *\n * Using a symbol or instanceof would not be able to recognize URL objects\n * coming from other implementations (e.g. in Electron), so instead we are\n * checking some well known properties for a lack of a better test.\n *\n * We use `href` and `protocol` as they are the only properties that are\n * easy to retrieve and calculate due to the lazy nature of the getters.\n *\n * We check for auth attribute to distinguish legacy url instance with\n * WHATWG URL instance.\n *\n * @param {unknown} fileUrlOrPath\n *   File path or URL.\n * @returns {fileUrlOrPath is URL}\n *   Whether its a URL.\n */\n// From: <https://github.com/nodejs/node/blob/6a3403c/lib/internal/url.js#L720>\nexport function isUrl(fileUrlOrPath) {\n  return Boolean(\n    fileUrlOrPath !== null &&\n      typeof fileUrlOrPath === 'object' &&\n      'href' in fileUrlOrPath &&\n      fileUrlOrPath.href &&\n      'protocol' in fileUrlOrPath &&\n      fileUrlOrPath.protocol &&\n      // @ts-expect-error: indexing is fine.\n      fileUrlOrPath.auth === undefined\n  )\n}\n","import {isUrl} from './minurl.shared.js'\n\nexport {isUrl} from './minurl.shared.js'\n\n// See: <https://github.com/nodejs/node/blob/6a3403c/lib/internal/url.js>\n\n/**\n * @param {URL | string} path\n *   File URL.\n * @returns {string}\n *   File URL.\n */\nexport function urlToPath(path) {\n  if (typeof path === 'string') {\n    path = new URL(path)\n  } else if (!isUrl(path)) {\n    /** @type {NodeJS.ErrnoException} */\n    const error = new TypeError(\n      'The \"path\" argument must be of type string or an instance of URL. Received `' +\n        path +\n        '`'\n    )\n    error.code = 'ERR_INVALID_ARG_TYPE'\n    throw error\n  }\n\n  if (path.protocol !== 'file:') {\n    /** @type {NodeJS.ErrnoException} */\n    const error = new TypeError('The URL must be of scheme file')\n    error.code = 'ERR_INVALID_URL_SCHEME'\n    throw error\n  }\n\n  return getPathFromURLPosix(path)\n}\n\n/**\n * Get a path from a POSIX URL.\n *\n * @param {URL} url\n *   URL.\n * @returns {string}\n *   File path.\n */\nfunction getPathFromURLPosix(url) {\n  if (url.hostname !== '') {\n    /** @type {NodeJS.ErrnoException} */\n    const error = new TypeError(\n      'File URL host must be \"localhost\" or empty on darwin'\n    )\n    error.code = 'ERR_INVALID_FILE_URL_HOST'\n    throw error\n  }\n\n  const pathname = url.pathname\n  let index = -1\n\n  while (++index < pathname.length) {\n    if (\n      pathname.codePointAt(index) === 37 /* `%` */ &&\n      pathname.codePointAt(index + 1) === 50 /* `2` */\n    ) {\n      const third = pathname.codePointAt(index + 2)\n      if (third === 70 /* `F` */ || third === 102 /* `f` */) {\n        /** @type {NodeJS.ErrnoException} */\n        const error = new TypeError(\n          'File URL path must not include encoded / characters'\n        )\n        error.code = 'ERR_INVALID_FILE_URL_PATH'\n        throw error\n      }\n    }\n  }\n\n  return decodeURIComponent(pathname)\n}\n","/**\n * @typedef {import('unist').Node} Node\n * @typedef {import('unist').Point} Point\n * @typedef {import('unist').Position} Position\n * @typedef {import('vfile-message').Options} MessageOptions\n * @typedef {import('../index.js').Data} Data\n * @typedef {import('../index.js').Value} Value\n */\n\n/**\n * @typedef {object & {type: string, position?: Position | undefined}} NodeLike\n *\n * @typedef {Options | URL | VFile | Value} Compatible\n *   Things that can be passed to the constructor.\n *\n * @typedef VFileCoreOptions\n *   Set multiple values.\n * @property {string | null | undefined} [basename]\n *   Set `basename` (name).\n * @property {string | null | undefined} [cwd]\n *   Set `cwd` (working directory).\n * @property {Data | null | undefined} [data]\n *   Set `data` (associated info).\n * @property {string | null | undefined} [dirname]\n *   Set `dirname` (path w/o basename).\n * @property {string | null | undefined} [extname]\n *   Set `extname` (extension with dot).\n * @property {Array<string> | null | undefined} [history]\n *   Set `history` (paths the file moved between).\n * @property {URL | string | null | undefined} [path]\n *   Set `path` (current path).\n * @property {string | null | undefined} [stem]\n *   Set `stem` (name without extension).\n * @property {Value | null | undefined} [value]\n *   Set `value` (the contents of the file).\n *\n * @typedef Map\n *   Raw source map.\n *\n *   See:\n *   <https://github.com/mozilla/source-map/blob/60adcb0/source-map.d.ts#L15-L23>.\n * @property {number} version\n *   Which version of the source map spec this map is following.\n * @property {Array<string>} sources\n *   An array of URLs to the original source files.\n * @property {Array<string>} names\n *   An array of identifiers which can be referenced by individual mappings.\n * @property {string | undefined} [sourceRoot]\n *   The URL root from which all sources are relative.\n * @property {Array<string> | undefined} [sourcesContent]\n *   An array of contents of the original source files.\n * @property {string} mappings\n *   A string of base64 VLQs which contain the actual mappings.\n * @property {string} file\n *   The generated file this source map is associated with.\n *\n * @typedef {Record<string, unknown> & VFileCoreOptions} Options\n *   Configuration.\n *\n *   A bunch of keys that will be shallow copied over to the new file.\n *\n * @typedef {Record<string, unknown>} ReporterSettings\n *   Configuration for reporters.\n */\n\n/**\n * @template [Settings=ReporterSettings]\n *   Options type.\n * @callback Reporter\n *   Type for a reporter.\n * @param {Array<VFile>} files\n *   Files to report.\n * @param {Settings} options\n *   Configuration.\n * @returns {string}\n *   Report.\n */\n\nimport {VFileMessage} from 'vfile-message'\nimport {path} from 'vfile/do-not-use-conditional-minpath'\nimport {proc} from 'vfile/do-not-use-conditional-minproc'\nimport {urlToPath, isUrl} from 'vfile/do-not-use-conditional-minurl'\n\n/**\n * Order of setting (least specific to most), we need this because otherwise\n * `{stem: 'a', path: '~/b.js'}` would throw, as a path is needed before a\n * stem can be set.\n */\nconst order = /** @type {const} */ ([\n  'history',\n  'path',\n  'basename',\n  'stem',\n  'extname',\n  'dirname'\n])\n\nexport class VFile {\n  /**\n   * Create a new virtual file.\n   *\n   * `options` is treated as:\n   *\n   * *   `string` or `Uint8Array`  `{value: options}`\n   * *   `URL`  `{path: options}`\n   * *   `VFile`  shallow copies its data over to the new file\n   * *   `object`  all fields are shallow copied over to the new file\n   *\n   * Path related fields are set in the following order (least specific to\n   * most specific): `history`, `path`, `basename`, `stem`, `extname`,\n   * `dirname`.\n   *\n   * You cannot set `dirname` or `extname` without setting either `history`,\n   * `path`, `basename`, or `stem` too.\n   *\n   * @param {Compatible | null | undefined} [value]\n   *   File value.\n   * @returns\n   *   New instance.\n   */\n  constructor(value) {\n    /** @type {Options | VFile} */\n    let options\n\n    if (!value) {\n      options = {}\n    } else if (isUrl(value)) {\n      options = {path: value}\n    } else if (typeof value === 'string' || isUint8Array(value)) {\n      options = {value}\n    } else {\n      options = value\n    }\n\n    /* eslint-disable no-unused-expressions */\n\n    /**\n     * Base of `path` (default: `process.cwd()` or `'/'` in browsers).\n     *\n     * @type {string}\n     */\n    this.cwd = proc.cwd()\n\n    /**\n     * Place to store custom info (default: `{}`).\n     *\n     * Its OK to store custom data directly on the file but moving it to\n     * `data` is recommended.\n     *\n     * @type {Data}\n     */\n    this.data = {}\n\n    /**\n     * List of file paths the file moved between.\n     *\n     * The first is the original path and the last is the current path.\n     *\n     * @type {Array<string>}\n     */\n    this.history = []\n\n    /**\n     * List of messages associated with the file.\n     *\n     * @type {Array<VFileMessage>}\n     */\n    this.messages = []\n\n    /**\n     * Raw value.\n     *\n     * @type {Value}\n     */\n    this.value\n\n    // The below are non-standard, they are well-known.\n    // As in, used in several tools.\n    /**\n     * Source map.\n     *\n     * This type is equivalent to the `RawSourceMap` type from the `source-map`\n     * module.\n     *\n     * @type {Map | null | undefined}\n     */\n    this.map\n\n    /**\n     * Custom, non-string, compiled, representation.\n     *\n     * This is used by unified to store non-string results.\n     * One example is when turning markdown into React nodes.\n     *\n     * @type {unknown}\n     */\n    this.result\n\n    /**\n     * Whether a file was saved to disk.\n     *\n     * This is used by vfile reporters.\n     *\n     * @type {boolean}\n     */\n    this.stored\n    /* eslint-enable no-unused-expressions */\n\n    // Set path related properties in the correct order.\n    let index = -1\n\n    while (++index < order.length) {\n      const prop = order[index]\n\n      // Note: we specifically use `in` instead of `hasOwnProperty` to accept\n      // `vfile`s too.\n      if (\n        prop in options &&\n        options[prop] !== undefined &&\n        options[prop] !== null\n      ) {\n        // @ts-expect-error: TS doesnt understand basic reality.\n        this[prop] = prop === 'history' ? [...options[prop]] : options[prop]\n      }\n    }\n\n    /** @type {string} */\n    let prop\n\n    // Set non-path related properties.\n    for (prop in options) {\n      // @ts-expect-error: fine to set other things.\n      if (!order.includes(prop)) {\n        // @ts-expect-error: fine to set other things.\n        this[prop] = options[prop]\n      }\n    }\n  }\n\n  /**\n   * Get the basename (including extname) (example: `'index.min.js'`).\n   *\n   * @returns {string | undefined}\n   *   Basename.\n   */\n  get basename() {\n    return typeof this.path === 'string' ? path.basename(this.path) : undefined\n  }\n\n  /**\n   * Set basename (including extname) (`'index.min.js'`).\n   *\n   * Cannot contain path separators (`'/'` on unix, macOS, and browsers, `'\\'`\n   * on windows).\n   * Cannot be nullified (use `file.path = file.dirname` instead).\n   *\n   * @param {string} basename\n   *   Basename.\n   * @returns {undefined}\n   *   Nothing.\n   */\n  set basename(basename) {\n    assertNonEmpty(basename, 'basename')\n    assertPart(basename, 'basename')\n    this.path = path.join(this.dirname || '', basename)\n  }\n\n  /**\n   * Get the parent path (example: `'~'`).\n   *\n   * @returns {string | undefined}\n   *   Dirname.\n   */\n  get dirname() {\n    return typeof this.path === 'string' ? path.dirname(this.path) : undefined\n  }\n\n  /**\n   * Set the parent path (example: `'~'`).\n   *\n   * Cannot be set if theres no `path` yet.\n   *\n   * @param {string | undefined} dirname\n   *   Dirname.\n   * @returns {undefined}\n   *   Nothing.\n   */\n  set dirname(dirname) {\n    assertPath(this.basename, 'dirname')\n    this.path = path.join(dirname || '', this.basename)\n  }\n\n  /**\n   * Get the extname (including dot) (example: `'.js'`).\n   *\n   * @returns {string | undefined}\n   *   Extname.\n   */\n  get extname() {\n    return typeof this.path === 'string' ? path.extname(this.path) : undefined\n  }\n\n  /**\n   * Set the extname (including dot) (example: `'.js'`).\n   *\n   * Cannot contain path separators (`'/'` on unix, macOS, and browsers, `'\\'`\n   * on windows).\n   * Cannot be set if theres no `path` yet.\n   *\n   * @param {string | undefined} extname\n   *   Extname.\n   * @returns {undefined}\n   *   Nothing.\n   */\n  set extname(extname) {\n    assertPart(extname, 'extname')\n    assertPath(this.dirname, 'extname')\n\n    if (extname) {\n      if (extname.codePointAt(0) !== 46 /* `.` */) {\n        throw new Error('`extname` must start with `.`')\n      }\n\n      if (extname.includes('.', 1)) {\n        throw new Error('`extname` cannot contain multiple dots')\n      }\n    }\n\n    this.path = path.join(this.dirname, this.stem + (extname || ''))\n  }\n\n  /**\n   * Get the full path (example: `'~/index.min.js'`).\n   *\n   * @returns {string}\n   *   Path.\n   */\n  get path() {\n    return this.history[this.history.length - 1]\n  }\n\n  /**\n   * Set the full path (example: `'~/index.min.js'`).\n   *\n   * Cannot be nullified.\n   * You can set a file URL (a `URL` object with a `file:` protocol) which will\n   * be turned into a path with `url.fileURLToPath`.\n   *\n   * @param {URL | string} path\n   *   Path.\n   * @returns {undefined}\n   *   Nothing.\n   */\n  set path(path) {\n    if (isUrl(path)) {\n      path = urlToPath(path)\n    }\n\n    assertNonEmpty(path, 'path')\n\n    if (this.path !== path) {\n      this.history.push(path)\n    }\n  }\n\n  /**\n   * Get the stem (basename w/o extname) (example: `'index.min'`).\n   *\n   * @returns {string | undefined}\n   *   Stem.\n   */\n  get stem() {\n    return typeof this.path === 'string'\n      ? path.basename(this.path, this.extname)\n      : undefined\n  }\n\n  /**\n   * Set the stem (basename w/o extname) (example: `'index.min'`).\n   *\n   * Cannot contain path separators (`'/'` on unix, macOS, and browsers, `'\\'`\n   * on windows).\n   * Cannot be nullified (use `file.path = file.dirname` instead).\n   *\n   * @param {string} stem\n   *   Stem.\n   * @returns {undefined}\n   *   Nothing.\n   */\n  set stem(stem) {\n    assertNonEmpty(stem, 'stem')\n    assertPart(stem, 'stem')\n    this.path = path.join(this.dirname || '', stem + (this.extname || ''))\n  }\n\n  // Normal prototypal methods.\n  /**\n   * Create a fatal message for `reason` associated with the file.\n   *\n   * The `fatal` field of the message is set to `true` (error; file not usable)\n   * and the `file` field is set to the current file path.\n   * The message is added to the `messages` field on `file`.\n   *\n   * >  **Note**: also has obsolete signatures.\n   *\n   * @overload\n   * @param {string} reason\n   * @param {MessageOptions | null | undefined} [options]\n   * @returns {never}\n   *\n   * @overload\n   * @param {string} reason\n   * @param {Node | NodeLike | null | undefined} parent\n   * @param {string | null | undefined} [origin]\n   * @returns {never}\n   *\n   * @overload\n   * @param {string} reason\n   * @param {Point | Position | null | undefined} place\n   * @param {string | null | undefined} [origin]\n   * @returns {never}\n   *\n   * @overload\n   * @param {string} reason\n   * @param {string | null | undefined} [origin]\n   * @returns {never}\n   *\n   * @overload\n   * @param {Error | VFileMessage} cause\n   * @param {Node | NodeLike | null | undefined} parent\n   * @param {string | null | undefined} [origin]\n   * @returns {never}\n   *\n   * @overload\n   * @param {Error | VFileMessage} cause\n   * @param {Point | Position | null | undefined} place\n   * @param {string | null | undefined} [origin]\n   * @returns {never}\n   *\n   * @overload\n   * @param {Error | VFileMessage} cause\n   * @param {string | null | undefined} [origin]\n   * @returns {never}\n   *\n   * @param {Error | VFileMessage | string} causeOrReason\n   *   Reason for message, should use markdown.\n   * @param {Node | NodeLike | MessageOptions | Point | Position | string | null | undefined} [optionsOrParentOrPlace]\n   *   Configuration (optional).\n   * @param {string | null | undefined} [origin]\n   *   Place in code where the message originates (example:\n   *   `'my-package:my-rule'` or `'my-rule'`).\n   * @returns {never}\n   *   Never.\n   * @throws {VFileMessage}\n   *   Message.\n   */\n  fail(causeOrReason, optionsOrParentOrPlace, origin) {\n    // @ts-expect-error: the overloads are fine.\n    const message = this.message(causeOrReason, optionsOrParentOrPlace, origin)\n\n    message.fatal = true\n\n    throw message\n  }\n\n  /**\n   * Create an info message for `reason` associated with the file.\n   *\n   * The `fatal` field of the message is set to `undefined` (info; change\n   * likely not needed) and the `file` field is set to the current file path.\n   * The message is added to the `messages` field on `file`.\n   *\n   * >  **Note**: also has obsolete signatures.\n   *\n   * @overload\n   * @param {string} reason\n   * @param {MessageOptions | null | undefined} [options]\n   * @returns {VFileMessage}\n   *\n   * @overload\n   * @param {string} reason\n   * @param {Node | NodeLike | null | undefined} parent\n   * @param {string | null | undefined} [origin]\n   * @returns {VFileMessage}\n   *\n   * @overload\n   * @param {string} reason\n   * @param {Point | Position | null | undefined} place\n   * @param {string | null | undefined} [origin]\n   * @returns {VFileMessage}\n   *\n   * @overload\n   * @param {string} reason\n   * @param {string | null | undefined} [origin]\n   * @returns {VFileMessage}\n   *\n   * @overload\n   * @param {Error | VFileMessage} cause\n   * @param {Node | NodeLike | null | undefined} parent\n   * @param {string | null | undefined} [origin]\n   * @returns {VFileMessage}\n   *\n   * @overload\n   * @param {Error | VFileMessage} cause\n   * @param {Point | Position | null | undefined} place\n   * @param {string | null | undefined} [origin]\n   * @returns {VFileMessage}\n   *\n   * @overload\n   * @param {Error | VFileMessage} cause\n   * @param {string | null | undefined} [origin]\n   * @returns {VFileMessage}\n   *\n   * @param {Error | VFileMessage | string} causeOrReason\n   *   Reason for message, should use markdown.\n   * @param {Node | NodeLike | MessageOptions | Point | Position | string | null | undefined} [optionsOrParentOrPlace]\n   *   Configuration (optional).\n   * @param {string | null | undefined} [origin]\n   *   Place in code where the message originates (example:\n   *   `'my-package:my-rule'` or `'my-rule'`).\n   * @returns {VFileMessage}\n   *   Message.\n   */\n  info(causeOrReason, optionsOrParentOrPlace, origin) {\n    // @ts-expect-error: the overloads are fine.\n    const message = this.message(causeOrReason, optionsOrParentOrPlace, origin)\n\n    message.fatal = undefined\n\n    return message\n  }\n\n  /**\n   * Create a message for `reason` associated with the file.\n   *\n   * The `fatal` field of the message is set to `false` (warning; change may be\n   * needed) and the `file` field is set to the current file path.\n   * The message is added to the `messages` field on `file`.\n   *\n   * >  **Note**: also has obsolete signatures.\n   *\n   * @overload\n   * @param {string} reason\n   * @param {MessageOptions | null | undefined} [options]\n   * @returns {VFileMessage}\n   *\n   * @overload\n   * @param {string} reason\n   * @param {Node | NodeLike | null | undefined} parent\n   * @param {string | null | undefined} [origin]\n   * @returns {VFileMessage}\n   *\n   * @overload\n   * @param {string} reason\n   * @param {Point | Position | null | undefined} place\n   * @param {string | null | undefined} [origin]\n   * @returns {VFileMessage}\n   *\n   * @overload\n   * @param {string} reason\n   * @param {string | null | undefined} [origin]\n   * @returns {VFileMessage}\n   *\n   * @overload\n   * @param {Error | VFileMessage} cause\n   * @param {Node | NodeLike | null | undefined} parent\n   * @param {string | null | undefined} [origin]\n   * @returns {VFileMessage}\n   *\n   * @overload\n   * @param {Error | VFileMessage} cause\n   * @param {Point | Position | null | undefined} place\n   * @param {string | null | undefined} [origin]\n   * @returns {VFileMessage}\n   *\n   * @overload\n   * @param {Error | VFileMessage} cause\n   * @param {string | null | undefined} [origin]\n   * @returns {VFileMessage}\n   *\n   * @param {Error | VFileMessage | string} causeOrReason\n   *   Reason for message, should use markdown.\n   * @param {Node | NodeLike | MessageOptions | Point | Position | string | null | undefined} [optionsOrParentOrPlace]\n   *   Configuration (optional).\n   * @param {string | null | undefined} [origin]\n   *   Place in code where the message originates (example:\n   *   `'my-package:my-rule'` or `'my-rule'`).\n   * @returns {VFileMessage}\n   *   Message.\n   */\n  message(causeOrReason, optionsOrParentOrPlace, origin) {\n    const message = new VFileMessage(\n      // @ts-expect-error: the overloads are fine.\n      causeOrReason,\n      optionsOrParentOrPlace,\n      origin\n    )\n\n    if (this.path) {\n      message.name = this.path + ':' + message.name\n      message.file = this.path\n    }\n\n    message.fatal = false\n\n    this.messages.push(message)\n\n    return message\n  }\n\n  /**\n   * Serialize the file.\n   *\n   * > **Note**: which encodings are supported depends on the engine.\n   * > For info on Node.js, see:\n   * > <https://nodejs.org/api/util.html#whatwg-supported-encodings>.\n   *\n   * @param {string | null | undefined} [encoding='utf8']\n   *   Character encoding to understand `value` as when its a `Uint8Array`\n   *   (default: `'utf-8'`).\n   * @returns {string}\n   *   Serialized file.\n   */\n  toString(encoding) {\n    if (this.value === undefined) {\n      return ''\n    }\n\n    if (typeof this.value === 'string') {\n      return this.value\n    }\n\n    const decoder = new TextDecoder(encoding || undefined)\n    return decoder.decode(this.value)\n  }\n}\n\n/**\n * Assert that `part` is not a path (as in, does not contain `path.sep`).\n *\n * @param {string | null | undefined} part\n *   File path part.\n * @param {string} name\n *   Part name.\n * @returns {undefined}\n *   Nothing.\n */\nfunction assertPart(part, name) {\n  if (part && part.includes(path.sep)) {\n    throw new Error(\n      '`' + name + '` cannot be a path: did not expect `' + path.sep + '`'\n    )\n  }\n}\n\n/**\n * Assert that `part` is not empty.\n *\n * @param {string | undefined} part\n *   Thing.\n * @param {string} name\n *   Part name.\n * @returns {asserts part is string}\n *   Nothing.\n */\nfunction assertNonEmpty(part, name) {\n  if (!part) {\n    throw new Error('`' + name + '` cannot be empty')\n  }\n}\n\n/**\n * Assert `path` exists.\n *\n * @param {string | undefined} path\n *   Path.\n * @param {string} name\n *   Dependency name.\n * @returns {asserts path is string}\n *   Nothing.\n */\nfunction assertPath(path, name) {\n  if (!path) {\n    throw new Error('Setting `' + name + '` requires `path` to be set too')\n  }\n}\n\n/**\n * Assert `value` is an `Uint8Array`.\n *\n * @param {unknown} value\n *   thing.\n * @returns {value is Uint8Array}\n *   Whether `value` is an `Uint8Array`.\n */\nfunction isUint8Array(value) {\n  return Boolean(\n    value &&\n      typeof value === 'object' &&\n      'byteLength' in value &&\n      'byteOffset' in value\n  )\n}\n","export const CallableInstance =\n  /**\n   * @type {new <Parameters extends Array<unknown>, Result>(property: string | symbol) => (...parameters: Parameters) => Result}\n   */\n  (\n    /** @type {unknown} */\n    (\n      /**\n       * @this {Function}\n       * @param {string | symbol} property\n       * @returns {(...parameters: Array<unknown>) => unknown}\n       */\n      function (property) {\n        const self = this\n        const constr = self.constructor\n        const proto = /** @type {Record<string | symbol, Function>} */ (\n          // Prototypes do exist.\n          // type-coverage:ignore-next-line\n          constr.prototype\n        )\n        const value = proto[property]\n        /** @type {(...parameters: Array<unknown>) => unknown} */\n        const apply = function () {\n          return value.apply(apply, arguments)\n        }\n\n        Object.setPrototypeOf(apply, proto)\n\n        // Not needed for us in `unified`: we only call this on the `copy`\n        // function,\n        // and we don't need to add its fields (`length`, `name`)\n        // over.\n        // See also: GH-246.\n        // const names = Object.getOwnPropertyNames(value)\n        //\n        // for (const p of names) {\n        //   const descriptor = Object.getOwnPropertyDescriptor(value, p)\n        //   if (descriptor) Object.defineProperty(apply, p, descriptor)\n        // }\n\n        return apply\n      }\n    )\n  )\n","/**\n * @typedef {import('trough').Pipeline} Pipeline\n *\n * @typedef {import('unist').Node} Node\n *\n * @typedef {import('vfile').Compatible} Compatible\n * @typedef {import('vfile').Value} Value\n *\n * @typedef {import('../index.js').CompileResultMap} CompileResultMap\n * @typedef {import('../index.js').Data} Data\n * @typedef {import('../index.js').Settings} Settings\n */\n\n/**\n * @typedef {CompileResultMap[keyof CompileResultMap]} CompileResults\n *   Acceptable results from compilers.\n *\n *   To register custom results, add them to\n *   {@linkcode CompileResultMap}.\n */\n\n/**\n * @template {Node} [Tree=Node]\n *   The node that the compiler receives (default: `Node`).\n * @template {CompileResults} [Result=CompileResults]\n *   The thing that the compiler yields (default: `CompileResults`).\n * @callback Compiler\n *   A **compiler** handles the compiling of a syntax tree to something else\n *   (in most cases, text) (TypeScript type).\n *\n *   It is used in the stringify phase and called with a {@linkcode Node}\n *   and {@linkcode VFile} representation of the document to compile.\n *   It should return the textual representation of the given tree (typically\n *   `string`).\n *\n *   > **Note**: unified typically compiles by serializing: most compilers\n *   > return `string` (or `Uint8Array`).\n *   > Some compilers, such as the one configured with\n *   > [`rehype-react`][rehype-react], return other values (in this case, a\n *   > React tree).\n *   > If youre using a compiler that doesnt serialize, expect different\n *   > result values.\n *   >\n *   > To register custom results in TypeScript, add them to\n *   > {@linkcode CompileResultMap}.\n *\n *   [rehype-react]: https://github.com/rehypejs/rehype-react\n * @param {Tree} tree\n *   Tree to compile.\n * @param {VFile} file\n *   File associated with `tree`.\n * @returns {Result}\n *   New content: compiled text (`string` or `Uint8Array`, for `file.value`) or\n *   something else (for `file.result`).\n */\n\n/**\n * @template {Node} [Tree=Node]\n *   The node that the parser yields (default: `Node`)\n * @callback Parser\n *   A **parser** handles the parsing of text to a syntax tree.\n *\n *   It is used in the parse phase and is called with a `string` and\n *   {@linkcode VFile} of the document to parse.\n *   It must return the syntax tree representation of the given file\n *   ({@linkcode Node}).\n * @param {string} document\n *   Document to parse.\n * @param {VFile} file\n *   File associated with `document`.\n * @returns {Tree}\n *   Node representing the given file.\n */\n\n/**\n * @typedef {(\n *   Plugin<Array<any>, any, any> |\n *   PluginTuple<Array<any>, any, any> |\n *   Preset\n * )} Pluggable\n *   Union of the different ways to add plugins and settings.\n */\n\n/**\n * @typedef {Array<Pluggable>} PluggableList\n *   List of plugins and presets.\n */\n\n// Note: we cant use `callback` yet as it messes up `this`:\n//  <https://github.com/microsoft/TypeScript/issues/55197>.\n/**\n * @template {Array<unknown>} [PluginParameters=[]]\n *   Arguments passed to the plugin (default: `[]`, the empty tuple).\n * @template {Node | string | undefined} [Input=Node]\n *   Value that is expected as input (default: `Node`).\n *\n *   *   If the plugin returns a {@linkcode Transformer}, this\n *       should be the node it expects.\n *   *   If the plugin sets a {@linkcode Parser}, this should be\n *       `string`.\n *   *   If the plugin sets a {@linkcode Compiler}, this should be the\n *       node it expects.\n * @template [Output=Input]\n *   Value that is yielded as output (default: `Input`).\n *\n *   *   If the plugin returns a {@linkcode Transformer}, this\n *       should be the node that that yields.\n *   *   If the plugin sets a {@linkcode Parser}, this should be the\n *       node that it yields.\n *   *   If the plugin sets a {@linkcode Compiler}, this should be\n *       result it yields.\n * @typedef {(\n *   (this: Processor, ...parameters: PluginParameters) =>\n *     Input extends string ? // Parser.\n *        Output extends Node | undefined ? undefined | void : never :\n *     Output extends CompileResults ? // Compiler.\n *        Input extends Node | undefined ? undefined | void : never :\n *     Transformer<\n *       Input extends Node ? Input : Node,\n *       Output extends Node ? Output : Node\n *     > | undefined | void\n * )} Plugin\n *   Single plugin.\n *\n *   Plugins configure the processors they are applied on in the following\n *   ways:\n *\n *   *   they change the processor, such as the parser, the compiler, or by\n *       configuring data\n *   *   they specify how to handle trees and files\n *\n *   In practice, they are functions that can receive options and configure the\n *   processor (`this`).\n *\n *   > **Note**: plugins are called when the processor is *frozen*, not when\n *   > they are applied.\n */\n\n/**\n * Tuple of a plugin and its configuration.\n *\n * The first item is a plugin, the rest are its parameters.\n *\n * @template {Array<unknown>} [TupleParameters=[]]\n *   Arguments passed to the plugin (default: `[]`, the empty tuple).\n * @template {Node | string | undefined} [Input=undefined]\n *   Value that is expected as input (optional).\n *\n *   *   If the plugin returns a {@linkcode Transformer}, this\n *       should be the node it expects.\n *   *   If the plugin sets a {@linkcode Parser}, this should be\n *       `string`.\n *   *   If the plugin sets a {@linkcode Compiler}, this should be the\n *       node it expects.\n * @template [Output=undefined] (optional).\n *   Value that is yielded as output.\n *\n *   *   If the plugin returns a {@linkcode Transformer}, this\n *       should be the node that that yields.\n *   *   If the plugin sets a {@linkcode Parser}, this should be the\n *       node that it yields.\n *   *   If the plugin sets a {@linkcode Compiler}, this should be\n *       result it yields.\n * @typedef {(\n *   [\n *     plugin: Plugin<TupleParameters, Input, Output>,\n *     ...parameters: TupleParameters\n *   ]\n * )} PluginTuple\n */\n\n/**\n * @typedef Preset\n *   Sharable configuration.\n *\n *   They can contain plugins and settings.\n * @property {PluggableList | undefined} [plugins]\n *   List of plugins and presets (optional).\n * @property {Settings | undefined} [settings]\n *   Shared settings for parsers and compilers (optional).\n */\n\n/**\n * @template {VFile} [File=VFile]\n *   The file that the callback receives (default: `VFile`).\n * @callback ProcessCallback\n *   Callback called when the process is done.\n *\n *   Called with either an error or a result.\n * @param {Error | undefined} [error]\n *   Fatal error (optional).\n * @param {File | undefined} [file]\n *   Processed file (optional).\n * @returns {undefined}\n *   Nothing.\n */\n\n/**\n * @template {Node} [Tree=Node]\n *   The tree that the callback receives (default: `Node`).\n * @callback RunCallback\n *   Callback called when transformers are done.\n *\n *   Called with either an error or results.\n * @param {Error | undefined} [error]\n *   Fatal error (optional).\n * @param {Tree | undefined} [tree]\n *   Transformed tree (optional).\n * @param {VFile | undefined} [file]\n *   File (optional).\n * @returns {undefined}\n *   Nothing.\n */\n\n/**\n * @template {Node} [Output=Node]\n *   Node type that the transformer yields (default: `Node`).\n * @callback TransformCallback\n *   Callback passed to transforms.\n *\n *   If the signature of a `transformer` accepts a third argument, the\n *   transformer may perform asynchronous operations, and must call it.\n * @param {Error | undefined} [error]\n *   Fatal error to stop the process (optional).\n * @param {Output | undefined} [tree]\n *   New, changed, tree (optional).\n * @param {VFile | undefined} [file]\n *   New, changed, file (optional).\n * @returns {undefined}\n *   Nothing.\n */\n\n/**\n * @template {Node} [Input=Node]\n *   Node type that the transformer expects (default: `Node`).\n * @template {Node} [Output=Input]\n *   Node type that the transformer yields (default: `Input`).\n * @callback Transformer\n *   Transformers handle syntax trees and files.\n *\n *   They are functions that are called each time a syntax tree and file are\n *   passed through the run phase.\n *   When an error occurs in them (either because its thrown, returned,\n *   rejected, or passed to `next`), the process stops.\n *\n *   The run phase is handled by [`trough`][trough], see its documentation for\n *   the exact semantics of these functions.\n *\n *   > **Note**: you should likely ignore `next`: dont accept it.\n *   > it supports callback-style async work.\n *   > But promises are likely easier to reason about.\n *\n *   [trough]: https://github.com/wooorm/trough#function-fninput-next\n * @param {Input} tree\n *   Tree to handle.\n * @param {VFile} file\n *   File to handle.\n * @param {TransformCallback<Output>} next\n *   Callback.\n * @returns {(\n *   Promise<Output | undefined | void> |\n *   Promise<never> | // For some reason this is needed separately.\n *   Output |\n *   Error |\n *   undefined |\n *   void\n * )}\n *   If you accept `next`, nothing.\n *   Otherwise:\n *\n *   *   `Error`  fatal error to stop the process\n *   *   `Promise<undefined>` or `undefined`  the next transformer keeps using\n *       same tree\n *   *   `Promise<Node>` or `Node`  new, changed, tree\n */\n\n/**\n * @template {Node | undefined} ParseTree\n *   Output of `parse`.\n * @template {Node | undefined} HeadTree\n *   Input for `run`.\n * @template {Node | undefined} TailTree\n *   Output for `run`.\n * @template {Node | undefined} CompileTree\n *   Input of `stringify`.\n * @template {CompileResults | undefined} CompileResult\n *   Output of `stringify`.\n * @template {Node | string | undefined} Input\n *   Input of plugin.\n * @template Output\n *   Output of plugin (optional).\n * @typedef {(\n *   Input extends string\n *     ? Output extends Node | undefined\n *       ? // Parser.\n *         Processor<\n *           Output extends undefined ? ParseTree : Output,\n *           HeadTree,\n *           TailTree,\n *           CompileTree,\n *           CompileResult\n *         >\n *       : // Unknown.\n *         Processor<ParseTree, HeadTree, TailTree, CompileTree, CompileResult>\n *     : Output extends CompileResults\n *     ? Input extends Node | undefined\n *       ? // Compiler.\n *         Processor<\n *           ParseTree,\n *           HeadTree,\n *           TailTree,\n *           Input extends undefined ? CompileTree : Input,\n *           Output extends undefined ? CompileResult : Output\n *         >\n *       : // Unknown.\n *         Processor<ParseTree, HeadTree, TailTree, CompileTree, CompileResult>\n *     : Input extends Node | undefined\n *     ? Output extends Node | undefined\n *       ? // Transform.\n *         Processor<\n *           ParseTree,\n *           HeadTree extends undefined ? Input : HeadTree,\n *           Output extends undefined ? TailTree : Output,\n *           CompileTree,\n *           CompileResult\n *         >\n *       : // Unknown.\n *         Processor<ParseTree, HeadTree, TailTree, CompileTree, CompileResult>\n *     : // Unknown.\n *       Processor<ParseTree, HeadTree, TailTree, CompileTree, CompileResult>\n * )} UsePlugin\n *   Create a processor based on the input/output of a {@link Plugin plugin}.\n */\n\n/**\n * @template {CompileResults | undefined} Result\n *   Node type that the transformer yields.\n * @typedef {(\n *   Result extends Value | undefined ?\n *     VFile :\n *     VFile & {result: Result}\n *   )} VFileWithOutput\n *   Type to generate a {@linkcode VFile} corresponding to a compiler result.\n *\n *   If a result that is not acceptable on a `VFile` is used, that will\n *   be stored on the `result` field of {@linkcode VFile}.\n */\n\nimport {bail} from 'bail'\nimport extend from 'extend'\nimport {ok as assert} from 'devlop'\nimport isPlainObj from 'is-plain-obj'\nimport {trough} from 'trough'\nimport {VFile} from 'vfile'\nimport {CallableInstance} from './callable-instance.js'\n\n// To do: next major: drop `Compiler`, `Parser`: prefer lowercase.\n\n// To do: we could start yielding `never` in TS when a parser is missing and\n// `parse` is called.\n// Currently, we allow directly setting `processor.parser`, which is untyped.\n\nconst own = {}.hasOwnProperty\n\n/**\n * @template {Node | undefined} [ParseTree=undefined]\n *   Output of `parse` (optional).\n * @template {Node | undefined} [HeadTree=undefined]\n *   Input for `run` (optional).\n * @template {Node | undefined} [TailTree=undefined]\n *   Output for `run` (optional).\n * @template {Node | undefined} [CompileTree=undefined]\n *   Input of `stringify` (optional).\n * @template {CompileResults | undefined} [CompileResult=undefined]\n *   Output of `stringify` (optional).\n * @extends {CallableInstance<[], Processor<ParseTree, HeadTree, TailTree, CompileTree, CompileResult>>}\n */\nexport class Processor extends CallableInstance {\n  /**\n   * Create a processor.\n   */\n  constructor() {\n    // If `Processor()` is called (w/o new), `copy` is called instead.\n    super('copy')\n\n    /**\n     * Compiler to use (deprecated).\n     *\n     * @deprecated\n     *   Use `compiler` instead.\n     * @type {(\n     *   Compiler<\n     *     CompileTree extends undefined ? Node : CompileTree,\n     *     CompileResult extends undefined ? CompileResults : CompileResult\n     *   > |\n     *   undefined\n     * )}\n     */\n    this.Compiler = undefined\n\n    /**\n     * Parser to use (deprecated).\n     *\n     * @deprecated\n     *   Use `parser` instead.\n     * @type {(\n     *   Parser<ParseTree extends undefined ? Node : ParseTree> |\n     *   undefined\n     * )}\n     */\n    this.Parser = undefined\n\n    // Note: the following fields are considered private.\n    // However, they are needed for tests, and TSC generates an untyped\n    // `private freezeIndex` field for, which trips `type-coverage` up.\n    // Instead, we use `@deprecated` to visualize that they shouldnt be used.\n    /**\n     * Internal list of configured plugins.\n     *\n     * @deprecated\n     *   This is a private internal property and should not be used.\n     * @type {Array<PluginTuple<Array<unknown>>>}\n     */\n    this.attachers = []\n\n    /**\n     * Compiler to use.\n     *\n     * @type {(\n     *   Compiler<\n     *     CompileTree extends undefined ? Node : CompileTree,\n     *     CompileResult extends undefined ? CompileResults : CompileResult\n     *   > |\n     *   undefined\n     * )}\n     */\n    this.compiler = undefined\n\n    /**\n     * Internal state to track where we are while freezing.\n     *\n     * @deprecated\n     *   This is a private internal property and should not be used.\n     * @type {number}\n     */\n    this.freezeIndex = -1\n\n    /**\n     * Internal state to track whether were frozen.\n     *\n     * @deprecated\n     *   This is a private internal property and should not be used.\n     * @type {boolean | undefined}\n     */\n    this.frozen = undefined\n\n    /**\n     * Internal state.\n     *\n     * @deprecated\n     *   This is a private internal property and should not be used.\n     * @type {Data}\n     */\n    this.namespace = {}\n\n    /**\n     * Parser to use.\n     *\n     * @type {(\n     *   Parser<ParseTree extends undefined ? Node : ParseTree> |\n     *   undefined\n     * )}\n     */\n    this.parser = undefined\n\n    /**\n     * Internal list of configured transformers.\n     *\n     * @deprecated\n     *   This is a private internal property and should not be used.\n     * @type {Pipeline}\n     */\n    this.transformers = trough()\n  }\n\n  /**\n   * Copy a processor.\n   *\n   * @deprecated\n   *   This is a private internal method and should not be used.\n   * @returns {Processor<ParseTree, HeadTree, TailTree, CompileTree, CompileResult>}\n   *   New *unfrozen* processor ({@linkcode Processor}) that is\n   *   configured to work the same as its ancestor.\n   *   When the descendant processor is configured in the future it does not\n   *   affect the ancestral processor.\n   */\n  copy() {\n    // Cast as the type parameters will be the same after attaching.\n    const destination =\n      /** @type {Processor<ParseTree, HeadTree, TailTree, CompileTree, CompileResult>} */ (\n        new Processor()\n      )\n    let index = -1\n\n    while (++index < this.attachers.length) {\n      const attacher = this.attachers[index]\n      destination.use(...attacher)\n    }\n\n    destination.data(extend(true, {}, this.namespace))\n\n    return destination\n  }\n\n  /**\n   * Configure the processor with info available to all plugins.\n   * Information is stored in an object.\n   *\n   * Typically, options can be given to a specific plugin, but sometimes it\n   * makes sense to have information shared with several plugins.\n   * For example, a list of HTML elements that are self-closing, which is\n   * needed during all phases.\n   *\n   * > **Note**: setting information cannot occur on *frozen* processors.\n   * > Call the processor first to create a new unfrozen processor.\n   *\n   * > **Note**: to register custom data in TypeScript, augment the\n   * > {@linkcode Data} interface.\n   *\n   * @example\n   *   This example show how to get and set info:\n   *\n   *   ```js\n   *   import {unified} from 'unified'\n   *\n   *   const processor = unified().data('alpha', 'bravo')\n   *\n   *   processor.data('alpha') // => 'bravo'\n   *\n   *   processor.data() // => {alpha: 'bravo'}\n   *\n   *   processor.data({charlie: 'delta'})\n   *\n   *   processor.data() // => {charlie: 'delta'}\n   *   ```\n   *\n   * @template {keyof Data} Key\n   *\n   * @overload\n   * @returns {Data}\n   *\n   * @overload\n   * @param {Data} dataset\n   * @returns {Processor<ParseTree, HeadTree, TailTree, CompileTree, CompileResult>}\n   *\n   * @overload\n   * @param {Key} key\n   * @returns {Data[Key]}\n   *\n   * @overload\n   * @param {Key} key\n   * @param {Data[Key]} value\n   * @returns {Processor<ParseTree, HeadTree, TailTree, CompileTree, CompileResult>}\n   *\n   * @param {Data | Key} [key]\n   *   Key to get or set, or entire dataset to set, or nothing to get the\n   *   entire dataset (optional).\n   * @param {Data[Key]} [value]\n   *   Value to set (optional).\n   * @returns {unknown}\n   *   The current processor when setting, the value at `key` when getting, or\n   *   the entire dataset when getting without key.\n   */\n  data(key, value) {\n    if (typeof key === 'string') {\n      // Set `key`.\n      if (arguments.length === 2) {\n        assertUnfrozen('data', this.frozen)\n        this.namespace[key] = value\n        return this\n      }\n\n      // Get `key`.\n      return (own.call(this.namespace, key) && this.namespace[key]) || undefined\n    }\n\n    // Set space.\n    if (key) {\n      assertUnfrozen('data', this.frozen)\n      this.namespace = key\n      return this\n    }\n\n    // Get space.\n    return this.namespace\n  }\n\n  /**\n   * Freeze a processor.\n   *\n   * Frozen processors are meant to be extended and not to be configured\n   * directly.\n   *\n   * When a processor is frozen it cannot be unfrozen.\n   * New processors working the same way can be created by calling the\n   * processor.\n   *\n   * Its possible to freeze processors explicitly by calling `.freeze()`.\n   * Processors freeze automatically when `.parse()`, `.run()`, `.runSync()`,\n   * `.stringify()`, `.process()`, or `.processSync()` are called.\n   *\n   * @returns {Processor<ParseTree, HeadTree, TailTree, CompileTree, CompileResult>}\n   *   The current processor.\n   */\n  freeze() {\n    if (this.frozen) {\n      return this\n    }\n\n    // Cast so that we can type plugins easier.\n    // Plugins are supposed to be usable on different processors, not just on\n    // this exact processor.\n    const self = /** @type {Processor} */ (/** @type {unknown} */ (this))\n\n    while (++this.freezeIndex < this.attachers.length) {\n      const [attacher, ...options] = this.attachers[this.freezeIndex]\n\n      if (options[0] === false) {\n        continue\n      }\n\n      if (options[0] === true) {\n        options[0] = undefined\n      }\n\n      const transformer = attacher.call(self, ...options)\n\n      if (typeof transformer === 'function') {\n        this.transformers.use(transformer)\n      }\n    }\n\n    this.frozen = true\n    this.freezeIndex = Number.POSITIVE_INFINITY\n\n    return this\n  }\n\n  /**\n   * Parse text to a syntax tree.\n   *\n   * > **Note**: `parse` freezes the processor if not already *frozen*.\n   *\n   * > **Note**: `parse` performs the parse phase, not the run phase or other\n   * > phases.\n   *\n   * @param {Compatible | undefined} [file]\n   *   file to parse (optional); typically `string` or `VFile`; any value\n   *   accepted as `x` in `new VFile(x)`.\n   * @returns {ParseTree extends undefined ? Node : ParseTree}\n   *   Syntax tree representing `file`.\n   */\n  parse(file) {\n    this.freeze()\n    const realFile = vfile(file)\n    const parser = this.parser || this.Parser\n    assertParser('parse', parser)\n    return parser(String(realFile), realFile)\n  }\n\n  /**\n   * Process the given file as configured on the processor.\n   *\n   * > **Note**: `process` freezes the processor if not already *frozen*.\n   *\n   * > **Note**: `process` performs the parse, run, and stringify phases.\n   *\n   * @overload\n   * @param {Compatible | undefined} file\n   * @param {ProcessCallback<VFileWithOutput<CompileResult>>} done\n   * @returns {undefined}\n   *\n   * @overload\n   * @param {Compatible | undefined} [file]\n   * @returns {Promise<VFileWithOutput<CompileResult>>}\n   *\n   * @param {Compatible | undefined} [file]\n   *   File (optional); typically `string` or `VFile`]; any value accepted as\n   *   `x` in `new VFile(x)`.\n   * @param {ProcessCallback<VFileWithOutput<CompileResult>> | undefined} [done]\n   *   Callback (optional).\n   * @returns {Promise<VFile> | undefined}\n   *   Nothing if `done` is given.\n   *   Otherwise a promise, rejected with a fatal error or resolved with the\n   *   processed file.\n   *\n   *   The parsed, transformed, and compiled value is available at\n   *   `file.value` (see note).\n   *\n   *   > **Note**: unified typically compiles by serializing: most\n   *   > compilers return `string` (or `Uint8Array`).\n   *   > Some compilers, such as the one configured with\n   *   > [`rehype-react`][rehype-react], return other values (in this case, a\n   *   > React tree).\n   *   > If youre using a compiler that doesnt serialize, expect different\n   *   > result values.\n   *   >\n   *   > To register custom results in TypeScript, add them to\n   *   > {@linkcode CompileResultMap}.\n   *\n   *   [rehype-react]: https://github.com/rehypejs/rehype-react\n   */\n  process(file, done) {\n    const self = this\n\n    this.freeze()\n    assertParser('process', this.parser || this.Parser)\n    assertCompiler('process', this.compiler || this.Compiler)\n\n    return done ? executor(undefined, done) : new Promise(executor)\n\n    // Note: `void`s needed for TS.\n    /**\n     * @param {((file: VFileWithOutput<CompileResult>) => undefined | void) | undefined} resolve\n     * @param {(error: Error | undefined) => undefined | void} reject\n     * @returns {undefined}\n     */\n    function executor(resolve, reject) {\n      const realFile = vfile(file)\n      // Assume `ParseTree` (the result of the parser) matches `HeadTree` (the\n      // input of the first transform).\n      const parseTree =\n        /** @type {HeadTree extends undefined ? Node : HeadTree} */ (\n          /** @type {unknown} */ (self.parse(realFile))\n        )\n\n      self.run(parseTree, realFile, function (error, tree, file) {\n        if (error || !tree || !file) {\n          return realDone(error)\n        }\n\n        // Assume `TailTree` (the output of the last transform) matches\n        // `CompileTree` (the input of the compiler).\n        const compileTree =\n          /** @type {CompileTree extends undefined ? Node : CompileTree} */ (\n            /** @type {unknown} */ (tree)\n          )\n\n        const compileResult = self.stringify(compileTree, file)\n\n        if (looksLikeAValue(compileResult)) {\n          file.value = compileResult\n        } else {\n          file.result = compileResult\n        }\n\n        realDone(error, /** @type {VFileWithOutput<CompileResult>} */ (file))\n      })\n\n      /**\n       * @param {Error | undefined} error\n       * @param {VFileWithOutput<CompileResult> | undefined} [file]\n       * @returns {undefined}\n       */\n      function realDone(error, file) {\n        if (error || !file) {\n          reject(error)\n        } else if (resolve) {\n          resolve(file)\n        } else {\n          assert(done, '`done` is defined if `resolve` is not')\n          done(undefined, file)\n        }\n      }\n    }\n  }\n\n  /**\n   * Process the given file as configured on the processor.\n   *\n   * An error is thrown if asynchronous transforms are configured.\n   *\n   * > **Note**: `processSync` freezes the processor if not already *frozen*.\n   *\n   * > **Note**: `processSync` performs the parse, run, and stringify phases.\n   *\n   * @param {Compatible | undefined} [file]\n   *   File (optional); typically `string` or `VFile`; any value accepted as\n   *   `x` in `new VFile(x)`.\n   * @returns {VFileWithOutput<CompileResult>}\n   *   The processed file.\n   *\n   *   The parsed, transformed, and compiled value is available at\n   *   `file.value` (see note).\n   *\n   *   > **Note**: unified typically compiles by serializing: most\n   *   > compilers return `string` (or `Uint8Array`).\n   *   > Some compilers, such as the one configured with\n   *   > [`rehype-react`][rehype-react], return other values (in this case, a\n   *   > React tree).\n   *   > If youre using a compiler that doesnt serialize, expect different\n   *   > result values.\n   *   >\n   *   > To register custom results in TypeScript, add them to\n   *   > {@linkcode CompileResultMap}.\n   *\n   *   [rehype-react]: https://github.com/rehypejs/rehype-react\n   */\n  processSync(file) {\n    /** @type {boolean} */\n    let complete = false\n    /** @type {VFileWithOutput<CompileResult> | undefined} */\n    let result\n\n    this.freeze()\n    assertParser('processSync', this.parser || this.Parser)\n    assertCompiler('processSync', this.compiler || this.Compiler)\n\n    this.process(file, realDone)\n    assertDone('processSync', 'process', complete)\n    assert(result, 'we either bailed on an error or have a tree')\n\n    return result\n\n    /**\n     * @type {ProcessCallback<VFileWithOutput<CompileResult>>}\n     */\n    function realDone(error, file) {\n      complete = true\n      bail(error)\n      result = file\n    }\n  }\n\n  /**\n   * Run *transformers* on a syntax tree.\n   *\n   * > **Note**: `run` freezes the processor if not already *frozen*.\n   *\n   * > **Note**: `run` performs the run phase, not other phases.\n   *\n   * @overload\n   * @param {HeadTree extends undefined ? Node : HeadTree} tree\n   * @param {RunCallback<TailTree extends undefined ? Node : TailTree>} done\n   * @returns {undefined}\n   *\n   * @overload\n   * @param {HeadTree extends undefined ? Node : HeadTree} tree\n   * @param {Compatible | undefined} file\n   * @param {RunCallback<TailTree extends undefined ? Node : TailTree>} done\n   * @returns {undefined}\n   *\n   * @overload\n   * @param {HeadTree extends undefined ? Node : HeadTree} tree\n   * @param {Compatible | undefined} [file]\n   * @returns {Promise<TailTree extends undefined ? Node : TailTree>}\n   *\n   * @param {HeadTree extends undefined ? Node : HeadTree} tree\n   *   Tree to transform and inspect.\n   * @param {(\n   *   RunCallback<TailTree extends undefined ? Node : TailTree> |\n   *   Compatible\n   * )} [file]\n   *   File associated with `node` (optional); any value accepted as `x` in\n   *   `new VFile(x)`.\n   * @param {RunCallback<TailTree extends undefined ? Node : TailTree>} [done]\n   *   Callback (optional).\n   * @returns {Promise<TailTree extends undefined ? Node : TailTree> | undefined}\n   *   Nothing if `done` is given.\n   *   Otherwise, a promise rejected with a fatal error or resolved with the\n   *   transformed tree.\n   */\n  run(tree, file, done) {\n    assertNode(tree)\n    this.freeze()\n\n    const transformers = this.transformers\n\n    if (!done && typeof file === 'function') {\n      done = file\n      file = undefined\n    }\n\n    return done ? executor(undefined, done) : new Promise(executor)\n\n    // Note: `void`s needed for TS.\n    /**\n     * @param {(\n     *   ((tree: TailTree extends undefined ? Node : TailTree) => undefined | void) |\n     *   undefined\n     * )} resolve\n     * @param {(error: Error) => undefined | void} reject\n     * @returns {undefined}\n     */\n    function executor(resolve, reject) {\n      assert(\n        typeof file !== 'function',\n        '`file` cant be a `done` anymore, we checked'\n      )\n      const realFile = vfile(file)\n      transformers.run(tree, realFile, realDone)\n\n      /**\n       * @param {Error | undefined} error\n       * @param {Node} outputTree\n       * @param {VFile} file\n       * @returns {undefined}\n       */\n      function realDone(error, outputTree, file) {\n        const resultingTree =\n          /** @type {TailTree extends undefined ? Node : TailTree} */ (\n            outputTree || tree\n          )\n\n        if (error) {\n          reject(error)\n        } else if (resolve) {\n          resolve(resultingTree)\n        } else {\n          assert(done, '`done` is defined if `resolve` is not')\n          done(undefined, resultingTree, file)\n        }\n      }\n    }\n  }\n\n  /**\n   * Run *transformers* on a syntax tree.\n   *\n   * An error is thrown if asynchronous transforms are configured.\n   *\n   * > **Note**: `runSync` freezes the processor if not already *frozen*.\n   *\n   * > **Note**: `runSync` performs the run phase, not other phases.\n   *\n   * @param {HeadTree extends undefined ? Node : HeadTree} tree\n   *   Tree to transform and inspect.\n   * @param {Compatible | undefined} [file]\n   *   File associated with `node` (optional); any value accepted as `x` in\n   *   `new VFile(x)`.\n   * @returns {TailTree extends undefined ? Node : TailTree}\n   *   Transformed tree.\n   */\n  runSync(tree, file) {\n    /** @type {boolean} */\n    let complete = false\n    /** @type {(TailTree extends undefined ? Node : TailTree) | undefined} */\n    let result\n\n    this.run(tree, file, realDone)\n\n    assertDone('runSync', 'run', complete)\n    assert(result, 'we either bailed on an error or have a tree')\n    return result\n\n    /**\n     * @type {RunCallback<TailTree extends undefined ? Node : TailTree>}\n     */\n    function realDone(error, tree) {\n      bail(error)\n      result = tree\n      complete = true\n    }\n  }\n\n  /**\n   * Compile a syntax tree.\n   *\n   * > **Note**: `stringify` freezes the processor if not already *frozen*.\n   *\n   * > **Note**: `stringify` performs the stringify phase, not the run phase\n   * > or other phases.\n   *\n   * @param {CompileTree extends undefined ? Node : CompileTree} tree\n   *   Tree to compile.\n   * @param {Compatible | undefined} [file]\n   *   File associated with `node` (optional); any value accepted as `x` in\n   *   `new VFile(x)`.\n   * @returns {CompileResult extends undefined ? Value : CompileResult}\n   *   Textual representation of the tree (see note).\n   *\n   *   > **Note**: unified typically compiles by serializing: most compilers\n   *   > return `string` (or `Uint8Array`).\n   *   > Some compilers, such as the one configured with\n   *   > [`rehype-react`][rehype-react], return other values (in this case, a\n   *   > React tree).\n   *   > If youre using a compiler that doesnt serialize, expect different\n   *   > result values.\n   *   >\n   *   > To register custom results in TypeScript, add them to\n   *   > {@linkcode CompileResultMap}.\n   *\n   *   [rehype-react]: https://github.com/rehypejs/rehype-react\n   */\n  stringify(tree, file) {\n    this.freeze()\n    const realFile = vfile(file)\n    const compiler = this.compiler || this.Compiler\n    assertCompiler('stringify', compiler)\n    assertNode(tree)\n\n    return compiler(tree, realFile)\n  }\n\n  /**\n   * Configure the processor to use a plugin, a list of usable values, or a\n   * preset.\n   *\n   * If the processor is already using a plugin, the previous plugin\n   * configuration is changed based on the options that are passed in.\n   * In other words, the plugin is not added a second time.\n   *\n   * > **Note**: `use` cannot be called on *frozen* processors.\n   * > Call the processor first to create a new unfrozen processor.\n   *\n   * @example\n   *   There are many ways to pass plugins to `.use()`.\n   *   This example gives an overview:\n   *\n   *   ```js\n   *   import {unified} from 'unified'\n   *\n   *   unified()\n   *     // Plugin with options:\n   *     .use(pluginA, {x: true, y: true})\n   *     // Passing the same plugin again merges configuration (to `{x: true, y: false, z: true}`):\n   *     .use(pluginA, {y: false, z: true})\n   *     // Plugins:\n   *     .use([pluginB, pluginC])\n   *     // Two plugins, the second with options:\n   *     .use([pluginD, [pluginE, {}]])\n   *     // Preset with plugins and settings:\n   *     .use({plugins: [pluginF, [pluginG, {}]], settings: {position: false}})\n   *     // Settings only:\n   *     .use({settings: {position: false}})\n   *   ```\n   *\n   * @template {Array<unknown>} [Parameters=[]]\n   * @template {Node | string | undefined} [Input=undefined]\n   * @template [Output=Input]\n   *\n   * @overload\n   * @param {Preset | null | undefined} [preset]\n   * @returns {Processor<ParseTree, HeadTree, TailTree, CompileTree, CompileResult>}\n   *\n   * @overload\n   * @param {PluggableList} list\n   * @returns {Processor<ParseTree, HeadTree, TailTree, CompileTree, CompileResult>}\n   *\n   * @overload\n   * @param {Plugin<Parameters, Input, Output>} plugin\n   * @param {...(Parameters | [boolean])} parameters\n   * @returns {UsePlugin<ParseTree, HeadTree, TailTree, CompileTree, CompileResult, Input, Output>}\n   *\n   * @param {PluggableList | Plugin | Preset | null | undefined} value\n   *   Usable value.\n   * @param {...unknown} parameters\n   *   Parameters, when a plugin is given as a usable value.\n   * @returns {Processor<ParseTree, HeadTree, TailTree, CompileTree, CompileResult>}\n   *   Current processor.\n   */\n  use(value, ...parameters) {\n    const attachers = this.attachers\n    const namespace = this.namespace\n\n    assertUnfrozen('use', this.frozen)\n\n    if (value === null || value === undefined) {\n      // Empty.\n    } else if (typeof value === 'function') {\n      addPlugin(value, parameters)\n    } else if (typeof value === 'object') {\n      if (Array.isArray(value)) {\n        addList(value)\n      } else {\n        addPreset(value)\n      }\n    } else {\n      throw new TypeError('Expected usable value, not `' + value + '`')\n    }\n\n    return this\n\n    /**\n     * @param {Pluggable} value\n     * @returns {undefined}\n     */\n    function add(value) {\n      if (typeof value === 'function') {\n        addPlugin(value, [])\n      } else if (typeof value === 'object') {\n        if (Array.isArray(value)) {\n          const [plugin, ...parameters] =\n            /** @type {PluginTuple<Array<unknown>>} */ (value)\n          addPlugin(plugin, parameters)\n        } else {\n          addPreset(value)\n        }\n      } else {\n        throw new TypeError('Expected usable value, not `' + value + '`')\n      }\n    }\n\n    /**\n     * @param {Preset} result\n     * @returns {undefined}\n     */\n    function addPreset(result) {\n      if (!('plugins' in result) && !('settings' in result)) {\n        throw new Error(\n          'Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither'\n        )\n      }\n\n      addList(result.plugins)\n\n      if (result.settings) {\n        namespace.settings = extend(true, namespace.settings, result.settings)\n      }\n    }\n\n    /**\n     * @param {PluggableList | null | undefined} plugins\n     * @returns {undefined}\n     */\n    function addList(plugins) {\n      let index = -1\n\n      if (plugins === null || plugins === undefined) {\n        // Empty.\n      } else if (Array.isArray(plugins)) {\n        while (++index < plugins.length) {\n          const thing = plugins[index]\n          add(thing)\n        }\n      } else {\n        throw new TypeError('Expected a list of plugins, not `' + plugins + '`')\n      }\n    }\n\n    /**\n     * @param {Plugin} plugin\n     * @param {Array<unknown>} parameters\n     * @returns {undefined}\n     */\n    function addPlugin(plugin, parameters) {\n      let index = -1\n      let entryIndex = -1\n\n      while (++index < attachers.length) {\n        if (attachers[index][0] === plugin) {\n          entryIndex = index\n          break\n        }\n      }\n\n      if (entryIndex === -1) {\n        attachers.push([plugin, ...parameters])\n      }\n      // Only set if there was at least a `primary` value, otherwise wed change\n      // `arguments.length`.\n      else if (parameters.length > 0) {\n        let [primary, ...rest] = parameters\n        const currentPrimary = attachers[entryIndex][1]\n        if (isPlainObj(currentPrimary) && isPlainObj(primary)) {\n          primary = extend(true, currentPrimary, primary)\n        }\n\n        attachers[entryIndex] = [plugin, primary, ...rest]\n      }\n    }\n  }\n}\n\n// Note: this returns a *callable* instance.\n// Thats why its documented as a function.\n/**\n * Create a new processor.\n *\n * @example\n *   This example shows how a new processor can be created (from `remark`) and linked\n *   to **stdin**(4) and **stdout**(4).\n *\n *   ```js\n *   import process from 'node:process'\n *   import concatStream from 'concat-stream'\n *   import {remark} from 'remark'\n *\n *   process.stdin.pipe(\n *     concatStream(function (buf) {\n *       process.stdout.write(String(remark().processSync(buf)))\n *     })\n *   )\n *   ```\n *\n * @returns\n *   New *unfrozen* processor (`processor`).\n *\n *   This processor is configured to work the same as its ancestor.\n *   When the descendant processor is configured in the future it does not\n *   affect the ancestral processor.\n */\nexport const unified = new Processor().freeze()\n\n/**\n * Assert a parser is available.\n *\n * @param {string} name\n * @param {unknown} value\n * @returns {asserts value is Parser}\n */\nfunction assertParser(name, value) {\n  if (typeof value !== 'function') {\n    throw new TypeError('Cannot `' + name + '` without `parser`')\n  }\n}\n\n/**\n * Assert a compiler is available.\n *\n * @param {string} name\n * @param {unknown} value\n * @returns {asserts value is Compiler}\n */\nfunction assertCompiler(name, value) {\n  if (typeof value !== 'function') {\n    throw new TypeError('Cannot `' + name + '` without `compiler`')\n  }\n}\n\n/**\n * Assert the processor is not frozen.\n *\n * @param {string} name\n * @param {unknown} frozen\n * @returns {asserts frozen is false}\n */\nfunction assertUnfrozen(name, frozen) {\n  if (frozen) {\n    throw new Error(\n      'Cannot call `' +\n        name +\n        '` on a frozen processor.\\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.'\n    )\n  }\n}\n\n/**\n * Assert `node` is a unist node.\n *\n * @param {unknown} node\n * @returns {asserts node is Node}\n */\nfunction assertNode(node) {\n  // `isPlainObj` unfortunately uses `any` instead of `unknown`.\n  // type-coverage:ignore-next-line\n  if (!isPlainObj(node) || typeof node.type !== 'string') {\n    throw new TypeError('Expected node, got `' + node + '`')\n    // Fine.\n  }\n}\n\n/**\n * Assert that `complete` is `true`.\n *\n * @param {string} name\n * @param {string} asyncName\n * @param {unknown} complete\n * @returns {asserts complete is true}\n */\nfunction assertDone(name, asyncName, complete) {\n  if (!complete) {\n    throw new Error(\n      '`' + name + '` finished async. Use `' + asyncName + '` instead'\n    )\n  }\n}\n\n/**\n * @param {Compatible | undefined} [value]\n * @returns {VFile}\n */\nfunction vfile(value) {\n  return looksLikeAVFile(value) ? value : new VFile(value)\n}\n\n/**\n * @param {Compatible | undefined} [value]\n * @returns {value is VFile}\n */\nfunction looksLikeAVFile(value) {\n  return Boolean(\n    value &&\n      typeof value === 'object' &&\n      'message' in value &&\n      'messages' in value\n  )\n}\n\n/**\n * @param {unknown} [value]\n * @returns {value is Value}\n */\nfunction looksLikeAValue(value) {\n  return typeof value === 'string' || isUint8Array(value)\n}\n\n/**\n * Assert `value` is an `Uint8Array`.\n *\n * @param {unknown} value\n *   thing.\n * @returns {value is Uint8Array}\n *   Whether `value` is an `Uint8Array`.\n */\nfunction isUint8Array(value) {\n  return Boolean(\n    value &&\n      typeof value === 'object' &&\n      'byteLength' in value &&\n      'byteOffset' in value\n  )\n}\n","export const VOID       = -1;\nexport const PRIMITIVE  = 0;\nexport const ARRAY      = 1;\nexport const OBJECT     = 2;\nexport const DATE       = 3;\nexport const REGEXP     = 4;\nexport const MAP        = 5;\nexport const SET        = 6;\nexport const ERROR      = 7;\nexport const BIGINT     = 8;\n// export const SYMBOL = 9;\n","import {\n  VOID, PRIMITIVE,\n  ARRAY, OBJECT,\n  DATE, REGEXP, MAP, SET,\n  ERROR, BIGINT\n} from './types.js';\n\nconst env = typeof self === 'object' ? self : globalThis;\n\nconst deserializer = ($, _) => {\n  const as = (out, index) => {\n    $.set(index, out);\n    return out;\n  };\n\n  const unpair = index => {\n    if ($.has(index))\n      return $.get(index);\n\n    const [type, value] = _[index];\n    switch (type) {\n      case PRIMITIVE:\n      case VOID:\n        return as(value, index);\n      case ARRAY: {\n        const arr = as([], index);\n        for (const index of value)\n          arr.push(unpair(index));\n        return arr;\n      }\n      case OBJECT: {\n        const object = as({}, index);\n        for (const [key, index] of value)\n          object[unpair(key)] = unpair(index);\n        return object;\n      }\n      case DATE:\n        return as(new Date(value), index);\n      case REGEXP: {\n        const {source, flags} = value;\n        return as(new RegExp(source, flags), index);\n      }\n      case MAP: {\n        const map = as(new Map, index);\n        for (const [key, index] of value)\n          map.set(unpair(key), unpair(index));\n        return map;\n      }\n      case SET: {\n        const set = as(new Set, index);\n        for (const index of value)\n          set.add(unpair(index));\n        return set;\n      }\n      case ERROR: {\n        const {name, message} = value;\n        return as(new env[name](message), index);\n      }\n      case BIGINT:\n        return as(BigInt(value), index);\n      case 'BigInt':\n        return as(Object(BigInt(value)), index);\n    }\n    return as(new env[type](value), index);\n  };\n\n  return unpair;\n};\n\n/**\n * @typedef {Array<string,any>} Record a type representation\n */\n\n/**\n * Returns a deserialized value from a serialized array of Records.\n * @param {Record[]} serialized a previously serialized value.\n * @returns {any}\n */\nexport const deserialize = serialized => deserializer(new Map, serialized)(0);\n","import {\n  VOID, PRIMITIVE,\n  ARRAY, OBJECT,\n  DATE, REGEXP, MAP, SET,\n  ERROR, BIGINT\n} from './types.js';\n\nconst EMPTY = '';\n\nconst {toString} = {};\nconst {keys} = Object;\n\nconst typeOf = value => {\n  const type = typeof value;\n  if (type !== 'object' || !value)\n    return [PRIMITIVE, type];\n\n  const asString = toString.call(value).slice(8, -1);\n  switch (asString) {\n    case 'Array':\n      return [ARRAY, EMPTY];\n    case 'Object':\n      return [OBJECT, EMPTY];\n    case 'Date':\n      return [DATE, EMPTY];\n    case 'RegExp':\n      return [REGEXP, EMPTY];\n    case 'Map':\n      return [MAP, EMPTY];\n    case 'Set':\n      return [SET, EMPTY];\n  }\n\n  if (asString.includes('Array'))\n    return [ARRAY, asString];\n\n  if (asString.includes('Error'))\n    return [ERROR, asString];\n\n  return [OBJECT, asString];\n};\n\nconst shouldSkip = ([TYPE, type]) => (\n  TYPE === PRIMITIVE &&\n  (type === 'function' || type === 'symbol')\n);\n\nconst serializer = (strict, json, $, _) => {\n\n  const as = (out, value) => {\n    const index = _.push(out) - 1;\n    $.set(value, index);\n    return index;\n  };\n\n  const pair = value => {\n    if ($.has(value))\n      return $.get(value);\n\n    let [TYPE, type] = typeOf(value);\n    switch (TYPE) {\n      case PRIMITIVE: {\n        let entry = value;\n        switch (type) {\n          case 'bigint':\n            TYPE = BIGINT;\n            entry = value.toString();\n            break;\n          case 'function':\n          case 'symbol':\n            if (strict)\n              throw new TypeError('unable to serialize ' + type);\n            entry = null;\n            break;\n          case 'undefined':\n            return as([VOID], value);\n        }\n        return as([TYPE, entry], value);\n      }\n      case ARRAY: {\n        if (type)\n          return as([type, [...value]], value);\n  \n        const arr = [];\n        const index = as([TYPE, arr], value);\n        for (const entry of value)\n          arr.push(pair(entry));\n        return index;\n      }\n      case OBJECT: {\n        if (type) {\n          switch (type) {\n            case 'BigInt':\n              return as([type, value.toString()], value);\n            case 'Boolean':\n            case 'Number':\n            case 'String':\n              return as([type, value.valueOf()], value);\n          }\n        }\n\n        if (json && ('toJSON' in value))\n          return pair(value.toJSON());\n\n        const entries = [];\n        const index = as([TYPE, entries], value);\n        for (const key of keys(value)) {\n          if (strict || !shouldSkip(typeOf(value[key])))\n            entries.push([pair(key), pair(value[key])]);\n        }\n        return index;\n      }\n      case DATE:\n        return as([TYPE, value.toISOString()], value);\n      case REGEXP: {\n        const {source, flags} = value;\n        return as([TYPE, {source, flags}], value);\n      }\n      case MAP: {\n        const entries = [];\n        const index = as([TYPE, entries], value);\n        for (const [key, entry] of value) {\n          if (strict || !(shouldSkip(typeOf(key)) || shouldSkip(typeOf(entry))))\n            entries.push([pair(key), pair(entry)]);\n        }\n        return index;\n      }\n      case SET: {\n        const entries = [];\n        const index = as([TYPE, entries], value);\n        for (const entry of value) {\n          if (strict || !shouldSkip(typeOf(entry)))\n            entries.push(pair(entry));\n        }\n        return index;\n      }\n    }\n\n    const {message} = value;\n    return as([TYPE, {name: type, message}], value);\n  };\n\n  return pair;\n};\n\n/**\n * @typedef {Array<string,any>} Record a type representation\n */\n\n/**\n * Returns an array of serialized Records.\n * @param {any} value a serializable value.\n * @param {{json?: boolean, lossy?: boolean}?} options an object with a `lossy` or `json` property that,\n *  if `true`, will not throw errors on incompatible types, and behave more\n *  like JSON stringify would behave. Symbol and Function will be discarded.\n * @returns {Record[]}\n */\n export const serialize = (value, {json, lossy} = {}) => {\n  const _ = [];\n  return serializer(!(json || lossy), !!json, new Map, _)(value), _;\n};\n","import {deserialize} from './deserialize.js';\nimport {serialize} from './serialize.js';\n\n/**\n * @typedef {Array<string,any>} Record a type representation\n */\n\n/**\n * Returns an array of serialized Records.\n * @param {any} any a serializable value.\n * @param {{transfer?: any[], json?: boolean, lossy?: boolean}?} options an object with\n * a transfer option (ignored when polyfilled) and/or non standard fields that\n * fallback to the polyfill if present.\n * @returns {Record[]}\n */\nexport default typeof structuredClone === \"function\" ?\n  /* c8 ignore start */\n  (any, options) => (\n    options && ('json' in options || 'lossy' in options) ?\n      deserialize(serialize(any, options)) : structuredClone(any)\n  ) :\n  (any, options) => deserialize(serialize(any, options));\n  /* c8 ignore stop */\n\nexport {deserialize, serialize};\n","/**\n * @typedef {import('unist').Node} Node\n * @typedef {import('unist').Parent} Parent\n */\n\n/**\n * @template Fn\n * @template Fallback\n * @typedef {Fn extends (value: any) => value is infer Thing ? Thing : Fallback} Predicate\n */\n\n/**\n * @callback Check\n *   Check that an arbitrary value is a node.\n * @param {unknown} this\n *   The given context.\n * @param {unknown} [node]\n *   Anything (typically a node).\n * @param {number | null | undefined} [index]\n *   The nodes position in its parent.\n * @param {Parent | null | undefined} [parent]\n *   The nodes parent.\n * @returns {boolean}\n *   Whether this is a node and passes a test.\n *\n * @typedef {Record<string, unknown> | Node} Props\n *   Object to check for equivalence.\n *\n *   Note: `Node` is included as it is common but is not indexable.\n *\n * @typedef {Array<Props | TestFunction | string> | Props | TestFunction | string | null | undefined} Test\n *   Check for an arbitrary node.\n *\n * @callback TestFunction\n *   Check if a node passes a test.\n * @param {unknown} this\n *   The given context.\n * @param {Node} node\n *   A node.\n * @param {number | undefined} [index]\n *   The nodes position in its parent.\n * @param {Parent | undefined} [parent]\n *   The nodes parent.\n * @returns {boolean | undefined | void}\n *   Whether this node passes the test.\n *\n *   Note: `void` is included until TS sees no return as `undefined`.\n */\n\n/**\n * Check if `node` is a `Node` and whether it passes the given test.\n *\n * @param {unknown} node\n *   Thing to check, typically `Node`.\n * @param {Test} test\n *   A check for a specific node.\n * @param {number | null | undefined} index\n *   The nodes position in its parent.\n * @param {Parent | null | undefined} parent\n *   The nodes parent.\n * @param {unknown} context\n *   Context object (`this`) to pass to `test` functions.\n * @returns {boolean}\n *   Whether `node` is a node and passes a test.\n */\nexport const is =\n  // Note: overloads in JSDoc cant yet use different `@template`s.\n  /**\n   * @type {(\n   *   (<Condition extends string>(node: unknown, test: Condition, index?: number | null | undefined, parent?: Parent | null | undefined, context?: unknown) => node is Node & {type: Condition}) &\n   *   (<Condition extends Props>(node: unknown, test: Condition, index?: number | null | undefined, parent?: Parent | null | undefined, context?: unknown) => node is Node & Condition) &\n   *   (<Condition extends TestFunction>(node: unknown, test: Condition, index?: number | null | undefined, parent?: Parent | null | undefined, context?: unknown) => node is Node & Predicate<Condition, Node>) &\n   *   ((node?: null | undefined) => false) &\n   *   ((node: unknown, test?: null | undefined, index?: number | null | undefined, parent?: Parent | null | undefined, context?: unknown) => node is Node) &\n   *   ((node: unknown, test?: Test, index?: number | null | undefined, parent?: Parent | null | undefined, context?: unknown) => boolean)\n   * )}\n   */\n  (\n    /**\n     * @param {unknown} [node]\n     * @param {Test} [test]\n     * @param {number | null | undefined} [index]\n     * @param {Parent | null | undefined} [parent]\n     * @param {unknown} [context]\n     * @returns {boolean}\n     */\n    // eslint-disable-next-line max-params\n    function (node, test, index, parent, context) {\n      const check = convert(test)\n\n      if (\n        index !== undefined &&\n        index !== null &&\n        (typeof index !== 'number' ||\n          index < 0 ||\n          index === Number.POSITIVE_INFINITY)\n      ) {\n        throw new Error('Expected positive finite index')\n      }\n\n      if (\n        parent !== undefined &&\n        parent !== null &&\n        (!is(parent) || !parent.children)\n      ) {\n        throw new Error('Expected parent node')\n      }\n\n      if (\n        (parent === undefined || parent === null) !==\n        (index === undefined || index === null)\n      ) {\n        throw new Error('Expected both parent and index')\n      }\n\n      return looksLikeANode(node)\n        ? check.call(context, node, index, parent)\n        : false\n    }\n  )\n\n/**\n * Generate an assertion from a test.\n *\n * Useful if youre going to test many nodes, for example when creating a\n * utility where something else passes a compatible test.\n *\n * The created function is a bit faster because it expects valid input only:\n * a `node`, `index`, and `parent`.\n *\n * @param {Test} test\n *   *   when nullish, checks if `node` is a `Node`.\n *   *   when `string`, works like passing `(node) => node.type === test`.\n *   *   when `function` checks if function passed the node is true.\n *   *   when `object`, checks that all keys in test are in node, and that they have (strictly) equal values.\n *   *   when `array`, checks if any one of the subtests pass.\n * @returns {Check}\n *   An assertion.\n */\nexport const convert =\n  // Note: overloads in JSDoc cant yet use different `@template`s.\n  /**\n   * @type {(\n   *   (<Condition extends string>(test: Condition) => (node: unknown, index?: number | null | undefined, parent?: Parent | null | undefined, context?: unknown) => node is Node & {type: Condition}) &\n   *   (<Condition extends Props>(test: Condition) => (node: unknown, index?: number | null | undefined, parent?: Parent | null | undefined, context?: unknown) => node is Node & Condition) &\n   *   (<Condition extends TestFunction>(test: Condition) => (node: unknown, index?: number | null | undefined, parent?: Parent | null | undefined, context?: unknown) => node is Node & Predicate<Condition, Node>) &\n   *   ((test?: null | undefined) => (node?: unknown, index?: number | null | undefined, parent?: Parent | null | undefined, context?: unknown) => node is Node) &\n   *   ((test?: Test) => Check)\n   * )}\n   */\n  (\n    /**\n     * @param {Test} [test]\n     * @returns {Check}\n     */\n    function (test) {\n      if (test === null || test === undefined) {\n        return ok\n      }\n\n      if (typeof test === 'function') {\n        return castFactory(test)\n      }\n\n      if (typeof test === 'object') {\n        return Array.isArray(test) ? anyFactory(test) : propsFactory(test)\n      }\n\n      if (typeof test === 'string') {\n        return typeFactory(test)\n      }\n\n      throw new Error('Expected function, string, or object as test')\n    }\n  )\n\n/**\n * @param {Array<Props | TestFunction | string>} tests\n * @returns {Check}\n */\nfunction anyFactory(tests) {\n  /** @type {Array<Check>} */\n  const checks = []\n  let index = -1\n\n  while (++index < tests.length) {\n    checks[index] = convert(tests[index])\n  }\n\n  return castFactory(any)\n\n  /**\n   * @this {unknown}\n   * @type {TestFunction}\n   */\n  function any(...parameters) {\n    let index = -1\n\n    while (++index < checks.length) {\n      if (checks[index].apply(this, parameters)) return true\n    }\n\n    return false\n  }\n}\n\n/**\n * Turn an object into a test for a node with a certain fields.\n *\n * @param {Props} check\n * @returns {Check}\n */\nfunction propsFactory(check) {\n  const checkAsRecord = /** @type {Record<string, unknown>} */ (check)\n\n  return castFactory(all)\n\n  /**\n   * @param {Node} node\n   * @returns {boolean}\n   */\n  function all(node) {\n    const nodeAsRecord = /** @type {Record<string, unknown>} */ (\n      /** @type {unknown} */ (node)\n    )\n\n    /** @type {string} */\n    let key\n\n    for (key in check) {\n      if (nodeAsRecord[key] !== checkAsRecord[key]) return false\n    }\n\n    return true\n  }\n}\n\n/**\n * Turn a string into a test for a node with a certain type.\n *\n * @param {string} check\n * @returns {Check}\n */\nfunction typeFactory(check) {\n  return castFactory(type)\n\n  /**\n   * @param {Node} node\n   */\n  function type(node) {\n    return node && node.type === check\n  }\n}\n\n/**\n * Turn a custom test into a test for a node that passes that test.\n *\n * @param {TestFunction} testFunction\n * @returns {Check}\n */\nfunction castFactory(testFunction) {\n  return check\n\n  /**\n   * @this {unknown}\n   * @type {Check}\n   */\n  function check(value, index, parent) {\n    return Boolean(\n      looksLikeANode(value) &&\n        testFunction.call(\n          this,\n          value,\n          typeof index === 'number' ? index : undefined,\n          parent || undefined\n        )\n    )\n  }\n}\n\nfunction ok() {\n  return true\n}\n\n/**\n * @param {unknown} value\n * @returns {value is Node}\n */\nfunction looksLikeANode(value) {\n  return value !== null && typeof value === 'object' && 'type' in value\n}\n","/**\n * @param {string} d\n * @returns {string}\n */\nexport function color(d) {\n  return d\n}\n","/**\n * @typedef {import('unist').Node} UnistNode\n * @typedef {import('unist').Parent} UnistParent\n */\n\n/**\n * @typedef {Exclude<import('unist-util-is').Test, undefined> | undefined} Test\n *   Test from `unist-util-is`.\n *\n *   Note: we have remove and add `undefined`, because otherwise when generating\n *   automatic `.d.ts` files, TS tries to flatten paths from a local perspective,\n *   which doesnt work when publishing on npm.\n */\n\n/**\n * @typedef {(\n *   Fn extends (value: any) => value is infer Thing\n *   ? Thing\n *   : Fallback\n * )} Predicate\n *   Get the value of a type guard `Fn`.\n * @template Fn\n *   Value; typically function that is a type guard (such as `(x): x is Y`).\n * @template Fallback\n *   Value to yield if `Fn` is not a type guard.\n */\n\n/**\n * @typedef {(\n *   Check extends null | undefined // No test.\n *   ? Value\n *   : Value extends {type: Check} // String (type) test.\n *   ? Value\n *   : Value extends Check // Partial test.\n *   ? Value\n *   : Check extends Function // Function test.\n *   ? Predicate<Check, Value> extends Value\n *     ? Predicate<Check, Value>\n *     : never\n *   : never // Some other test?\n * )} MatchesOne\n *   Check whether a node matches a primitive check in the type system.\n * @template Value\n *   Value; typically unist `Node`.\n * @template Check\n *   Value; typically `unist-util-is`-compatible test, but not arrays.\n */\n\n/**\n * @typedef {(\n *   Check extends Array<any>\n *   ? MatchesOne<Value, Check[keyof Check]>\n *   : MatchesOne<Value, Check>\n * )} Matches\n *   Check whether a node matches a check in the type system.\n * @template Value\n *   Value; typically unist `Node`.\n * @template Check\n *   Value; typically `unist-util-is`-compatible test.\n */\n\n/**\n * @typedef {0 | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 | 10} Uint\n *   Number; capped reasonably.\n */\n\n/**\n * @typedef {I extends 0 ? 1 : I extends 1 ? 2 : I extends 2 ? 3 : I extends 3 ? 4 : I extends 4 ? 5 : I extends 5 ? 6 : I extends 6 ? 7 : I extends 7 ? 8 : I extends 8 ? 9 : 10} Increment\n *   Increment a number in the type system.\n * @template {Uint} [I=0]\n *   Index.\n */\n\n/**\n * @typedef {(\n *   Node extends UnistParent\n *   ? Node extends {children: Array<infer Children>}\n *     ? Child extends Children ? Node : never\n *     : never\n *   : never\n * )} InternalParent\n *   Collect nodes that can be parents of `Child`.\n * @template {UnistNode} Node\n *   All node types in a tree.\n * @template {UnistNode} Child\n *   Node to search for.\n */\n\n/**\n * @typedef {InternalParent<InclusiveDescendant<Tree>, Child>} Parent\n *   Collect nodes in `Tree` that can be parents of `Child`.\n * @template {UnistNode} Tree\n *   All node types in a tree.\n * @template {UnistNode} Child\n *   Node to search for.\n */\n\n/**\n * @typedef {(\n *   Depth extends Max\n *   ? never\n *   :\n *     | InternalParent<Node, Child>\n *     | InternalAncestor<Node, InternalParent<Node, Child>, Max, Increment<Depth>>\n * )} InternalAncestor\n *   Collect nodes in `Tree` that can be ancestors of `Child`.\n * @template {UnistNode} Node\n *   All node types in a tree.\n * @template {UnistNode} Child\n *   Node to search for.\n * @template {Uint} [Max=10]\n *   Max; searches up to this depth.\n * @template {Uint} [Depth=0]\n *   Current depth.\n */\n\n/**\n * @typedef {InternalAncestor<InclusiveDescendant<Tree>, Child>} Ancestor\n *   Collect nodes in `Tree` that can be ancestors of `Child`.\n * @template {UnistNode} Tree\n *   All node types in a tree.\n * @template {UnistNode} Child\n *   Node to search for.\n */\n\n/**\n * @typedef {(\n *   Tree extends UnistParent\n *     ? Depth extends Max\n *       ? Tree\n *       : Tree | InclusiveDescendant<Tree['children'][number], Max, Increment<Depth>>\n *     : Tree\n * )} InclusiveDescendant\n *   Collect all (inclusive) descendants of `Tree`.\n *\n *   >  **Note**: for performance reasons, this seems to be the fastest way to\n *   > recurse without actually running into an infinite loop, which the\n *   > previous version did.\n *   >\n *   > Practically, a max of `2` is typically enough assuming a `Root` is\n *   > passed, but it doesnt improve performance.\n *   > It gets higher with `List > ListItem > Table > TableRow > TableCell`.\n *   > Using up to `10` doesnt hurt or help either.\n * @template {UnistNode} Tree\n *   Tree type.\n * @template {Uint} [Max=10]\n *   Max; searches up to this depth.\n * @template {Uint} [Depth=0]\n *   Current depth.\n */\n\n/**\n * @typedef {'skip' | boolean} Action\n *   Union of the action types.\n *\n * @typedef {number} Index\n *   Move to the sibling at `index` next (after node itself is completely\n *   traversed).\n *\n *   Useful if mutating the tree, such as removing the node the visitor is\n *   currently on, or any of its previous siblings.\n *   Results less than 0 or greater than or equal to `children.length` stop\n *   traversing the parent.\n *\n * @typedef {[(Action | null | undefined | void)?, (Index | null | undefined)?]} ActionTuple\n *   List with one or two values, the first an action, the second an index.\n *\n * @typedef {Action | ActionTuple | Index | null | undefined | void} VisitorResult\n *   Any value that can be returned from a visitor.\n */\n\n/**\n * @callback Visitor\n *   Handle a node (matching `test`, if given).\n *\n *   Visitors are free to transform `node`.\n *   They can also transform the parent of node (the last of `ancestors`).\n *\n *   Replacing `node` itself, if `SKIP` is not returned, still causes its\n *   descendants to be walked (which is a bug).\n *\n *   When adding or removing previous siblings of `node` (or next siblings, in\n *   case of reverse), the `Visitor` should return a new `Index` to specify the\n *   sibling to traverse after `node` is traversed.\n *   Adding or removing next siblings of `node` (or previous siblings, in case\n *   of reverse) is handled as expected without needing to return a new `Index`.\n *\n *   Removing the children property of an ancestor still results in them being\n *   traversed.\n * @param {Visited} node\n *   Found node.\n * @param {Array<VisitedParents>} ancestors\n *   Ancestors of `node`.\n * @returns {VisitorResult}\n *   What to do next.\n *\n *   An `Index` is treated as a tuple of `[CONTINUE, Index]`.\n *   An `Action` is treated as a tuple of `[Action]`.\n *\n *   Passing a tuple back only makes sense if the `Action` is `SKIP`.\n *   When the `Action` is `EXIT`, that action can be returned.\n *   When the `Action` is `CONTINUE`, `Index` can be returned.\n * @template {UnistNode} [Visited=UnistNode]\n *   Visited node type.\n * @template {UnistParent} [VisitedParents=UnistParent]\n *   Ancestor type.\n */\n\n/**\n * @typedef {Visitor<Matches<InclusiveDescendant<Tree>, Check>, Ancestor<Tree, Matches<InclusiveDescendant<Tree>, Check>>>} BuildVisitor\n *   Build a typed `Visitor` function from a tree and a test.\n *\n *   It will infer which values are passed as `node` and which as `parents`.\n * @template {UnistNode} [Tree=UnistNode]\n *   Tree type.\n * @template {Test} [Check=Test]\n *   Test type.\n */\n\nimport {convert} from 'unist-util-is'\nimport {color} from 'unist-util-visit-parents/do-not-use-color'\n\n/** @type {Readonly<ActionTuple>} */\nconst empty = []\n\n/**\n * Continue traversing as normal.\n */\nexport const CONTINUE = true\n\n/**\n * Stop traversing immediately.\n */\nexport const EXIT = false\n\n/**\n * Do not traverse this nodes children.\n */\nexport const SKIP = 'skip'\n\n/**\n * Visit nodes, with ancestral information.\n *\n * This algorithm performs *depth-first* *tree traversal* in *preorder*\n * (**NLR**) or if `reverse` is given, in *reverse preorder* (**NRL**).\n *\n * You can choose for which nodes `visitor` is called by passing a `test`.\n * For complex tests, you should test yourself in `visitor`, as it will be\n * faster and will have improved type information.\n *\n * Walking the tree is an intensive task.\n * Make use of the return values of the visitor when possible.\n * Instead of walking a tree multiple times, walk it once, use `unist-util-is`\n * to check if a node matches, and then perform different operations.\n *\n * You can change the tree.\n * See `Visitor` for more info.\n *\n * @overload\n * @param {Tree} tree\n * @param {Check} check\n * @param {BuildVisitor<Tree, Check>} visitor\n * @param {boolean | null | undefined} [reverse]\n * @returns {undefined}\n *\n * @overload\n * @param {Tree} tree\n * @param {BuildVisitor<Tree>} visitor\n * @param {boolean | null | undefined} [reverse]\n * @returns {undefined}\n *\n * @param {UnistNode} tree\n *   Tree to traverse.\n * @param {Visitor | Test} test\n *   `unist-util-is`-compatible test\n * @param {Visitor | boolean | null | undefined} [visitor]\n *   Handle each node.\n * @param {boolean | null | undefined} [reverse]\n *   Traverse in reverse preorder (NRL) instead of the default preorder (NLR).\n * @returns {undefined}\n *   Nothing.\n *\n * @template {UnistNode} Tree\n *   Node type.\n * @template {Test} Check\n *   `unist-util-is`-compatible test.\n */\nexport function visitParents(tree, test, visitor, reverse) {\n  /** @type {Test} */\n  let check\n\n  if (typeof test === 'function' && typeof visitor !== 'function') {\n    reverse = visitor\n    // @ts-expect-error no visitor given, so `visitor` is test.\n    visitor = test\n  } else {\n    // @ts-expect-error visitor given, so `test` isnt a visitor.\n    check = test\n  }\n\n  const is = convert(check)\n  const step = reverse ? -1 : 1\n\n  factory(tree, undefined, [])()\n\n  /**\n   * @param {UnistNode} node\n   * @param {number | undefined} index\n   * @param {Array<UnistParent>} parents\n   */\n  function factory(node, index, parents) {\n    const value = /** @type {Record<string, unknown>} */ (\n      node && typeof node === 'object' ? node : {}\n    )\n\n    if (typeof value.type === 'string') {\n      const name =\n        // `hast`\n        typeof value.tagName === 'string'\n          ? value.tagName\n          : // `xast`\n          typeof value.name === 'string'\n          ? value.name\n          : undefined\n\n      Object.defineProperty(visit, 'name', {\n        value:\n          'node (' + color(node.type + (name ? '<' + name + '>' : '')) + ')'\n      })\n    }\n\n    return visit\n\n    function visit() {\n      /** @type {Readonly<ActionTuple>} */\n      let result = empty\n      /** @type {Readonly<ActionTuple>} */\n      let subresult\n      /** @type {number} */\n      let offset\n      /** @type {Array<UnistParent>} */\n      let grandparents\n\n      if (!test || is(node, index, parents[parents.length - 1] || undefined)) {\n        // @ts-expect-error: `visitor` is now a visitor.\n        result = toResult(visitor(node, parents))\n\n        if (result[0] === EXIT) {\n          return result\n        }\n      }\n\n      if ('children' in node && node.children) {\n        const nodeAsParent = /** @type {UnistParent} */ (node)\n\n        if (nodeAsParent.children && result[0] !== SKIP) {\n          offset = (reverse ? nodeAsParent.children.length : -1) + step\n          grandparents = parents.concat(nodeAsParent)\n\n          while (offset > -1 && offset < nodeAsParent.children.length) {\n            const child = nodeAsParent.children[offset]\n\n            subresult = factory(child, offset, grandparents)()\n\n            if (subresult[0] === EXIT) {\n              return subresult\n            }\n\n            offset =\n              typeof subresult[1] === 'number' ? subresult[1] : offset + step\n          }\n        }\n      }\n\n      return result\n    }\n  }\n}\n\n/**\n * Turn a return value into a clean result.\n *\n * @param {VisitorResult} value\n *   Valid return values from visitors.\n * @returns {Readonly<ActionTuple>}\n *   Clean result.\n */\nfunction toResult(value) {\n  if (Array.isArray(value)) {\n    return value\n  }\n\n  if (typeof value === 'number') {\n    return [CONTINUE, value]\n  }\n\n  return value === null || value === undefined ? empty : [value]\n}\n","/**\n * @typedef {import('unist').Node} UnistNode\n * @typedef {import('unist').Parent} UnistParent\n * @typedef {import('unist-util-visit-parents').VisitorResult} VisitorResult\n */\n\n/**\n * @typedef {Exclude<import('unist-util-is').Test, undefined> | undefined} Test\n *   Test from `unist-util-is`.\n *\n *   Note: we have remove and add `undefined`, because otherwise when generating\n *   automatic `.d.ts` files, TS tries to flatten paths from a local perspective,\n *   which doesnt work when publishing on npm.\n */\n\n// To do: use types from `unist-util-visit-parents` when its released.\n\n/**\n * @typedef {(\n *   Fn extends (value: any) => value is infer Thing\n *   ? Thing\n *   : Fallback\n * )} Predicate\n *   Get the value of a type guard `Fn`.\n * @template Fn\n *   Value; typically function that is a type guard (such as `(x): x is Y`).\n * @template Fallback\n *   Value to yield if `Fn` is not a type guard.\n */\n\n/**\n * @typedef {(\n *   Check extends null | undefined // No test.\n *   ? Value\n *   : Value extends {type: Check} // String (type) test.\n *   ? Value\n *   : Value extends Check // Partial test.\n *   ? Value\n *   : Check extends Function // Function test.\n *   ? Predicate<Check, Value> extends Value\n *     ? Predicate<Check, Value>\n *     : never\n *   : never // Some other test?\n * )} MatchesOne\n *   Check whether a node matches a primitive check in the type system.\n * @template Value\n *   Value; typically unist `Node`.\n * @template Check\n *   Value; typically `unist-util-is`-compatible test, but not arrays.\n */\n\n/**\n * @typedef {(\n *   Check extends Array<any>\n *   ? MatchesOne<Value, Check[keyof Check]>\n *   : MatchesOne<Value, Check>\n * )} Matches\n *   Check whether a node matches a check in the type system.\n * @template Value\n *   Value; typically unist `Node`.\n * @template Check\n *   Value; typically `unist-util-is`-compatible test.\n */\n\n/**\n * @typedef {0 | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 | 10} Uint\n *   Number; capped reasonably.\n */\n\n/**\n * @typedef {I extends 0 ? 1 : I extends 1 ? 2 : I extends 2 ? 3 : I extends 3 ? 4 : I extends 4 ? 5 : I extends 5 ? 6 : I extends 6 ? 7 : I extends 7 ? 8 : I extends 8 ? 9 : 10} Increment\n *   Increment a number in the type system.\n * @template {Uint} [I=0]\n *   Index.\n */\n\n/**\n * @typedef {(\n *   Node extends UnistParent\n *   ? Node extends {children: Array<infer Children>}\n *     ? Child extends Children ? Node : never\n *     : never\n *   : never\n * )} InternalParent\n *   Collect nodes that can be parents of `Child`.\n * @template {UnistNode} Node\n *   All node types in a tree.\n * @template {UnistNode} Child\n *   Node to search for.\n */\n\n/**\n * @typedef {InternalParent<InclusiveDescendant<Tree>, Child>} Parent\n *   Collect nodes in `Tree` that can be parents of `Child`.\n * @template {UnistNode} Tree\n *   All node types in a tree.\n * @template {UnistNode} Child\n *   Node to search for.\n */\n\n/**\n * @typedef {(\n *   Depth extends Max\n *   ? never\n *   :\n *     | InternalParent<Node, Child>\n *     | InternalAncestor<Node, InternalParent<Node, Child>, Max, Increment<Depth>>\n * )} InternalAncestor\n *   Collect nodes in `Tree` that can be ancestors of `Child`.\n * @template {UnistNode} Node\n *   All node types in a tree.\n * @template {UnistNode} Child\n *   Node to search for.\n * @template {Uint} [Max=10]\n *   Max; searches up to this depth.\n * @template {Uint} [Depth=0]\n *   Current depth.\n */\n\n/**\n * @typedef {(\n *   Tree extends UnistParent\n *     ? Depth extends Max\n *       ? Tree\n *       : Tree | InclusiveDescendant<Tree['children'][number], Max, Increment<Depth>>\n *     : Tree\n * )} InclusiveDescendant\n *   Collect all (inclusive) descendants of `Tree`.\n *\n *   >  **Note**: for performance reasons, this seems to be the fastest way to\n *   > recurse without actually running into an infinite loop, which the\n *   > previous version did.\n *   >\n *   > Practically, a max of `2` is typically enough assuming a `Root` is\n *   > passed, but it doesnt improve performance.\n *   > It gets higher with `List > ListItem > Table > TableRow > TableCell`.\n *   > Using up to `10` doesnt hurt or help either.\n * @template {UnistNode} Tree\n *   Tree type.\n * @template {Uint} [Max=10]\n *   Max; searches up to this depth.\n * @template {Uint} [Depth=0]\n *   Current depth.\n */\n\n/**\n * @callback Visitor\n *   Handle a node (matching `test`, if given).\n *\n *   Visitors are free to transform `node`.\n *   They can also transform `parent`.\n *\n *   Replacing `node` itself, if `SKIP` is not returned, still causes its\n *   descendants to be walked (which is a bug).\n *\n *   When adding or removing previous siblings of `node` (or next siblings, in\n *   case of reverse), the `Visitor` should return a new `Index` to specify the\n *   sibling to traverse after `node` is traversed.\n *   Adding or removing next siblings of `node` (or previous siblings, in case\n *   of reverse) is handled as expected without needing to return a new `Index`.\n *\n *   Removing the children property of `parent` still results in them being\n *   traversed.\n * @param {Visited} node\n *   Found node.\n * @param {Visited extends UnistNode ? number | undefined : never} index\n *   Index of `node` in `parent`.\n * @param {Ancestor extends UnistParent ? Ancestor | undefined : never} parent\n *   Parent of `node`.\n * @returns {VisitorResult}\n *   What to do next.\n *\n *   An `Index` is treated as a tuple of `[CONTINUE, Index]`.\n *   An `Action` is treated as a tuple of `[Action]`.\n *\n *   Passing a tuple back only makes sense if the `Action` is `SKIP`.\n *   When the `Action` is `EXIT`, that action can be returned.\n *   When the `Action` is `CONTINUE`, `Index` can be returned.\n * @template {UnistNode} [Visited=UnistNode]\n *   Visited node type.\n * @template {UnistParent} [Ancestor=UnistParent]\n *   Ancestor type.\n */\n\n/**\n * @typedef {Visitor<Visited, Parent<Ancestor, Visited>>} BuildVisitorFromMatch\n *   Build a typed `Visitor` function from a node and all possible parents.\n *\n *   It will infer which values are passed as `node` and which as `parent`.\n * @template {UnistNode} Visited\n *   Node type.\n * @template {UnistParent} Ancestor\n *   Parent type.\n */\n\n/**\n * @typedef {(\n *   BuildVisitorFromMatch<\n *     Matches<Descendant, Check>,\n *     Extract<Descendant, UnistParent>\n *   >\n * )} BuildVisitorFromDescendants\n *   Build a typed `Visitor` function from a list of descendants and a test.\n *\n *   It will infer which values are passed as `node` and which as `parent`.\n * @template {UnistNode} Descendant\n *   Node type.\n * @template {Test} Check\n *   Test type.\n */\n\n/**\n * @typedef {(\n *   BuildVisitorFromDescendants<\n *     InclusiveDescendant<Tree>,\n *     Check\n *   >\n * )} BuildVisitor\n *   Build a typed `Visitor` function from a tree and a test.\n *\n *   It will infer which values are passed as `node` and which as `parent`.\n * @template {UnistNode} [Tree=UnistNode]\n *   Node type.\n * @template {Test} [Check=Test]\n *   Test type.\n */\n\nimport {visitParents} from 'unist-util-visit-parents'\n\nexport {CONTINUE, EXIT, SKIP} from 'unist-util-visit-parents'\n\n/**\n * Visit nodes.\n *\n * This algorithm performs *depth-first* *tree traversal* in *preorder*\n * (**NLR**) or if `reverse` is given, in *reverse preorder* (**NRL**).\n *\n * You can choose for which nodes `visitor` is called by passing a `test`.\n * For complex tests, you should test yourself in `visitor`, as it will be\n * faster and will have improved type information.\n *\n * Walking the tree is an intensive task.\n * Make use of the return values of the visitor when possible.\n * Instead of walking a tree multiple times, walk it once, use `unist-util-is`\n * to check if a node matches, and then perform different operations.\n *\n * You can change the tree.\n * See `Visitor` for more info.\n *\n * @overload\n * @param {Tree} tree\n * @param {Check} check\n * @param {BuildVisitor<Tree, Check>} visitor\n * @param {boolean | null | undefined} [reverse]\n * @returns {undefined}\n *\n * @overload\n * @param {Tree} tree\n * @param {BuildVisitor<Tree>} visitor\n * @param {boolean | null | undefined} [reverse]\n * @returns {undefined}\n *\n * @param {UnistNode} tree\n *   Tree to traverse.\n * @param {Visitor | Test} testOrVisitor\n *   `unist-util-is`-compatible test (optional, omit to pass a visitor).\n * @param {Visitor | boolean | null | undefined} [visitorOrReverse]\n *   Handle each node (when test is omitted, pass `reverse`).\n * @param {boolean | null | undefined} [maybeReverse=false]\n *   Traverse in reverse preorder (NRL) instead of the default preorder (NLR).\n * @returns {undefined}\n *   Nothing.\n *\n * @template {UnistNode} Tree\n *   Node type.\n * @template {Test} Check\n *   `unist-util-is`-compatible test.\n */\nexport function visit(tree, testOrVisitor, visitorOrReverse, maybeReverse) {\n  /** @type {boolean | null | undefined} */\n  let reverse\n  /** @type {Test} */\n  let test\n  /** @type {Visitor} */\n  let visitor\n\n  if (\n    typeof testOrVisitor === 'function' &&\n    typeof visitorOrReverse !== 'function'\n  ) {\n    test = undefined\n    visitor = testOrVisitor\n    reverse = visitorOrReverse\n  } else {\n    // @ts-expect-error: assume the overload with test was given.\n    test = testOrVisitor\n    // @ts-expect-error: assume the overload with test was given.\n    visitor = visitorOrReverse\n    reverse = maybeReverse\n  }\n\n  visitParents(tree, test, overload, reverse)\n\n  /**\n   * @param {UnistNode} node\n   * @param {Array<UnistParent>} parents\n   */\n  function overload(node, parents) {\n    const parent = parents[parents.length - 1]\n    const index = parent ? parent.children.indexOf(node) : undefined\n    return visitor(node, index, parent)\n  }\n}\n","/**\n * @typedef {import('./info.js').Info} Info\n * @typedef {Record<string, Info>} Properties\n * @typedef {Record<string, string>} Normal\n */\n\nexport class Schema {\n  /**\n   * @constructor\n   * @param {Properties} property\n   * @param {Normal} normal\n   * @param {string} [space]\n   */\n  constructor(property, normal, space) {\n    this.property = property\n    this.normal = normal\n    if (space) {\n      this.space = space\n    }\n  }\n}\n\n/** @type {Properties} */\nSchema.prototype.property = {}\n/** @type {Normal} */\nSchema.prototype.normal = {}\n/** @type {string|null} */\nSchema.prototype.space = null\n","/**\n * @typedef {import('./schema.js').Properties} Properties\n * @typedef {import('./schema.js').Normal} Normal\n */\n\nimport {Schema} from './schema.js'\n\n/**\n * @param {Schema[]} definitions\n * @param {string} [space]\n * @returns {Schema}\n */\nexport function merge(definitions, space) {\n  /** @type {Properties} */\n  const property = {}\n  /** @type {Normal} */\n  const normal = {}\n  let index = -1\n\n  while (++index < definitions.length) {\n    Object.assign(property, definitions[index].property)\n    Object.assign(normal, definitions[index].normal)\n  }\n\n  return new Schema(property, normal, space)\n}\n","/**\n * @param {string} value\n * @returns {string}\n */\nexport function normalize(value) {\n  return value.toLowerCase()\n}\n","export class Info {\n  /**\n   * @constructor\n   * @param {string} property\n   * @param {string} attribute\n   */\n  constructor(property, attribute) {\n    /** @type {string} */\n    this.property = property\n    /** @type {string} */\n    this.attribute = attribute\n  }\n}\n\n/** @type {string|null} */\nInfo.prototype.space = null\nInfo.prototype.boolean = false\nInfo.prototype.booleanish = false\nInfo.prototype.overloadedBoolean = false\nInfo.prototype.number = false\nInfo.prototype.commaSeparated = false\nInfo.prototype.spaceSeparated = false\nInfo.prototype.commaOrSpaceSeparated = false\nInfo.prototype.mustUseProperty = false\nInfo.prototype.defined = false\n","let powers = 0\n\nexport const boolean = increment()\nexport const booleanish = increment()\nexport const overloadedBoolean = increment()\nexport const number = increment()\nexport const spaceSeparated = increment()\nexport const commaSeparated = increment()\nexport const commaOrSpaceSeparated = increment()\n\nfunction increment() {\n  return 2 ** ++powers\n}\n","import {Info} from './info.js'\nimport * as types from './types.js'\n\n/** @type {Array<keyof types>} */\n// @ts-expect-error: hush.\nconst checks = Object.keys(types)\n\nexport class DefinedInfo extends Info {\n  /**\n   * @constructor\n   * @param {string} property\n   * @param {string} attribute\n   * @param {number|null} [mask]\n   * @param {string} [space]\n   */\n  constructor(property, attribute, mask, space) {\n    let index = -1\n\n    super(property, attribute)\n\n    mark(this, 'space', space)\n\n    if (typeof mask === 'number') {\n      while (++index < checks.length) {\n        const check = checks[index]\n        mark(this, checks[index], (mask & types[check]) === types[check])\n      }\n    }\n  }\n}\n\nDefinedInfo.prototype.defined = true\n\n/**\n * @param {DefinedInfo} values\n * @param {string} key\n * @param {unknown} value\n */\nfunction mark(values, key, value) {\n  if (value) {\n    // @ts-expect-error: assume `value` matches the expected value of `key`.\n    values[key] = value\n  }\n}\n","/**\n * @typedef {import('./schema.js').Properties} Properties\n * @typedef {import('./schema.js').Normal} Normal\n *\n * @typedef {Record<string, string>} Attributes\n *\n * @typedef {Object} Definition\n * @property {Record<string, number|null>} properties\n * @property {(attributes: Attributes, property: string) => string} transform\n * @property {string} [space]\n * @property {Attributes} [attributes]\n * @property {Array<string>} [mustUseProperty]\n */\n\nimport {normalize} from '../normalize.js'\nimport {Schema} from './schema.js'\nimport {DefinedInfo} from './defined-info.js'\n\nconst own = {}.hasOwnProperty\n\n/**\n * @param {Definition} definition\n * @returns {Schema}\n */\nexport function create(definition) {\n  /** @type {Properties} */\n  const property = {}\n  /** @type {Normal} */\n  const normal = {}\n  /** @type {string} */\n  let prop\n\n  for (prop in definition.properties) {\n    if (own.call(definition.properties, prop)) {\n      const value = definition.properties[prop]\n      const info = new DefinedInfo(\n        prop,\n        definition.transform(definition.attributes || {}, prop),\n        value,\n        definition.space\n      )\n\n      if (\n        definition.mustUseProperty &&\n        definition.mustUseProperty.includes(prop)\n      ) {\n        info.mustUseProperty = true\n      }\n\n      property[prop] = info\n\n      normal[normalize(prop)] = prop\n      normal[normalize(info.attribute)] = prop\n    }\n  }\n\n  return new Schema(property, normal, definition.space)\n}\n","import {create} from './util/create.js'\n\nexport const xlink = create({\n  space: 'xlink',\n  transform(_, prop) {\n    return 'xlink:' + prop.slice(5).toLowerCase()\n  },\n  properties: {\n    xLinkActuate: null,\n    xLinkArcRole: null,\n    xLinkHref: null,\n    xLinkRole: null,\n    xLinkShow: null,\n    xLinkTitle: null,\n    xLinkType: null\n  }\n})\n","import {create} from './util/create.js'\n\nexport const xml = create({\n  space: 'xml',\n  transform(_, prop) {\n    return 'xml:' + prop.slice(3).toLowerCase()\n  },\n  properties: {xmlLang: null, xmlBase: null, xmlSpace: null}\n})\n","/**\n * @param {Record<string, string>} attributes\n * @param {string} attribute\n * @returns {string}\n */\nexport function caseSensitiveTransform(attributes, attribute) {\n  return attribute in attributes ? attributes[attribute] : attribute\n}\n","import {caseSensitiveTransform} from './case-sensitive-transform.js'\n\n/**\n * @param {Record<string, string>} attributes\n * @param {string} property\n * @returns {string}\n */\nexport function caseInsensitiveTransform(attributes, property) {\n  return caseSensitiveTransform(attributes, property.toLowerCase())\n}\n","import {create} from './util/create.js'\nimport {caseInsensitiveTransform} from './util/case-insensitive-transform.js'\n\nexport const xmlns = create({\n  space: 'xmlns',\n  attributes: {xmlnsxlink: 'xmlns:xlink'},\n  transform: caseInsensitiveTransform,\n  properties: {xmlns: null, xmlnsXLink: null}\n})\n","import {booleanish, number, spaceSeparated} from './util/types.js'\nimport {create} from './util/create.js'\n\nexport const aria = create({\n  transform(_, prop) {\n    return prop === 'role' ? prop : 'aria-' + prop.slice(4).toLowerCase()\n  },\n  properties: {\n    ariaActiveDescendant: null,\n    ariaAtomic: booleanish,\n    ariaAutoComplete: null,\n    ariaBusy: booleanish,\n    ariaChecked: booleanish,\n    ariaColCount: number,\n    ariaColIndex: number,\n    ariaColSpan: number,\n    ariaControls: spaceSeparated,\n    ariaCurrent: null,\n    ariaDescribedBy: spaceSeparated,\n    ariaDetails: null,\n    ariaDisabled: booleanish,\n    ariaDropEffect: spaceSeparated,\n    ariaErrorMessage: null,\n    ariaExpanded: booleanish,\n    ariaFlowTo: spaceSeparated,\n    ariaGrabbed: booleanish,\n    ariaHasPopup: null,\n    ariaHidden: booleanish,\n    ariaInvalid: null,\n    ariaKeyShortcuts: null,\n    ariaLabel: null,\n    ariaLabelledBy: spaceSeparated,\n    ariaLevel: number,\n    ariaLive: null,\n    ariaModal: booleanish,\n    ariaMultiLine: booleanish,\n    ariaMultiSelectable: booleanish,\n    ariaOrientation: null,\n    ariaOwns: spaceSeparated,\n    ariaPlaceholder: null,\n    ariaPosInSet: number,\n    ariaPressed: booleanish,\n    ariaReadOnly: booleanish,\n    ariaRelevant: null,\n    ariaRequired: booleanish,\n    ariaRoleDescription: spaceSeparated,\n    ariaRowCount: number,\n    ariaRowIndex: number,\n    ariaRowSpan: number,\n    ariaSelected: booleanish,\n    ariaSetSize: number,\n    ariaSort: null,\n    ariaValueMax: number,\n    ariaValueMin: number,\n    ariaValueNow: number,\n    ariaValueText: null,\n    role: null\n  }\n})\n","import {\n  boolean,\n  overloadedBoolean,\n  booleanish,\n  number,\n  spaceSeparated,\n  commaSeparated\n} from './util/types.js'\nimport {create} from './util/create.js'\nimport {caseInsensitiveTransform} from './util/case-insensitive-transform.js'\n\nexport const html = create({\n  space: 'html',\n  attributes: {\n    acceptcharset: 'accept-charset',\n    classname: 'class',\n    htmlfor: 'for',\n    httpequiv: 'http-equiv'\n  },\n  transform: caseInsensitiveTransform,\n  mustUseProperty: ['checked', 'multiple', 'muted', 'selected'],\n  properties: {\n    // Standard Properties.\n    abbr: null,\n    accept: commaSeparated,\n    acceptCharset: spaceSeparated,\n    accessKey: spaceSeparated,\n    action: null,\n    allow: null,\n    allowFullScreen: boolean,\n    allowPaymentRequest: boolean,\n    allowUserMedia: boolean,\n    alt: null,\n    as: null,\n    async: boolean,\n    autoCapitalize: null,\n    autoComplete: spaceSeparated,\n    autoFocus: boolean,\n    autoPlay: boolean,\n    blocking: spaceSeparated,\n    capture: null,\n    charSet: null,\n    checked: boolean,\n    cite: null,\n    className: spaceSeparated,\n    cols: number,\n    colSpan: null,\n    content: null,\n    contentEditable: booleanish,\n    controls: boolean,\n    controlsList: spaceSeparated,\n    coords: number | commaSeparated,\n    crossOrigin: null,\n    data: null,\n    dateTime: null,\n    decoding: null,\n    default: boolean,\n    defer: boolean,\n    dir: null,\n    dirName: null,\n    disabled: boolean,\n    download: overloadedBoolean,\n    draggable: booleanish,\n    encType: null,\n    enterKeyHint: null,\n    fetchPriority: null,\n    form: null,\n    formAction: null,\n    formEncType: null,\n    formMethod: null,\n    formNoValidate: boolean,\n    formTarget: null,\n    headers: spaceSeparated,\n    height: number,\n    hidden: boolean,\n    high: number,\n    href: null,\n    hrefLang: null,\n    htmlFor: spaceSeparated,\n    httpEquiv: spaceSeparated,\n    id: null,\n    imageSizes: null,\n    imageSrcSet: null,\n    inert: boolean,\n    inputMode: null,\n    integrity: null,\n    is: null,\n    isMap: boolean,\n    itemId: null,\n    itemProp: spaceSeparated,\n    itemRef: spaceSeparated,\n    itemScope: boolean,\n    itemType: spaceSeparated,\n    kind: null,\n    label: null,\n    lang: null,\n    language: null,\n    list: null,\n    loading: null,\n    loop: boolean,\n    low: number,\n    manifest: null,\n    max: null,\n    maxLength: number,\n    media: null,\n    method: null,\n    min: null,\n    minLength: number,\n    multiple: boolean,\n    muted: boolean,\n    name: null,\n    nonce: null,\n    noModule: boolean,\n    noValidate: boolean,\n    onAbort: null,\n    onAfterPrint: null,\n    onAuxClick: null,\n    onBeforeMatch: null,\n    onBeforePrint: null,\n    onBeforeToggle: null,\n    onBeforeUnload: null,\n    onBlur: null,\n    onCancel: null,\n    onCanPlay: null,\n    onCanPlayThrough: null,\n    onChange: null,\n    onClick: null,\n    onClose: null,\n    onContextLost: null,\n    onContextMenu: null,\n    onContextRestored: null,\n    onCopy: null,\n    onCueChange: null,\n    onCut: null,\n    onDblClick: null,\n    onDrag: null,\n    onDragEnd: null,\n    onDragEnter: null,\n    onDragExit: null,\n    onDragLeave: null,\n    onDragOver: null,\n    onDragStart: null,\n    onDrop: null,\n    onDurationChange: null,\n    onEmptied: null,\n    onEnded: null,\n    onError: null,\n    onFocus: null,\n    onFormData: null,\n    onHashChange: null,\n    onInput: null,\n    onInvalid: null,\n    onKeyDown: null,\n    onKeyPress: null,\n    onKeyUp: null,\n    onLanguageChange: null,\n    onLoad: null,\n    onLoadedData: null,\n    onLoadedMetadata: null,\n    onLoadEnd: null,\n    onLoadStart: null,\n    onMessage: null,\n    onMessageError: null,\n    onMouseDown: null,\n    onMouseEnter: null,\n    onMouseLeave: null,\n    onMouseMove: null,\n    onMouseOut: null,\n    onMouseOver: null,\n    onMouseUp: null,\n    onOffline: null,\n    onOnline: null,\n    onPageHide: null,\n    onPageShow: null,\n    onPaste: null,\n    onPause: null,\n    onPlay: null,\n    onPlaying: null,\n    onPopState: null,\n    onProgress: null,\n    onRateChange: null,\n    onRejectionHandled: null,\n    onReset: null,\n    onResize: null,\n    onScroll: null,\n    onScrollEnd: null,\n    onSecurityPolicyViolation: null,\n    onSeeked: null,\n    onSeeking: null,\n    onSelect: null,\n    onSlotChange: null,\n    onStalled: null,\n    onStorage: null,\n    onSubmit: null,\n    onSuspend: null,\n    onTimeUpdate: null,\n    onToggle: null,\n    onUnhandledRejection: null,\n    onUnload: null,\n    onVolumeChange: null,\n    onWaiting: null,\n    onWheel: null,\n    open: boolean,\n    optimum: number,\n    pattern: null,\n    ping: spaceSeparated,\n    placeholder: null,\n    playsInline: boolean,\n    popover: null,\n    popoverTarget: null,\n    popoverTargetAction: null,\n    poster: null,\n    preload: null,\n    readOnly: boolean,\n    referrerPolicy: null,\n    rel: spaceSeparated,\n    required: boolean,\n    reversed: boolean,\n    rows: number,\n    rowSpan: number,\n    sandbox: spaceSeparated,\n    scope: null,\n    scoped: boolean,\n    seamless: boolean,\n    selected: boolean,\n    shadowRootClonable: boolean,\n    shadowRootDelegatesFocus: boolean,\n    shadowRootMode: null,\n    shape: null,\n    size: number,\n    sizes: null,\n    slot: null,\n    span: number,\n    spellCheck: booleanish,\n    src: null,\n    srcDoc: null,\n    srcLang: null,\n    srcSet: null,\n    start: number,\n    step: null,\n    style: null,\n    tabIndex: number,\n    target: null,\n    title: null,\n    translate: null,\n    type: null,\n    typeMustMatch: boolean,\n    useMap: null,\n    value: booleanish,\n    width: number,\n    wrap: null,\n    writingSuggestions: null,\n\n    // Legacy.\n    // See: https://html.spec.whatwg.org/#other-elements,-attributes-and-apis\n    align: null, // Several. Use CSS `text-align` instead,\n    aLink: null, // `<body>`. Use CSS `a:active {color}` instead\n    archive: spaceSeparated, // `<object>`. List of URIs to archives\n    axis: null, // `<td>` and `<th>`. Use `scope` on `<th>`\n    background: null, // `<body>`. Use CSS `background-image` instead\n    bgColor: null, // `<body>` and table elements. Use CSS `background-color` instead\n    border: number, // `<table>`. Use CSS `border-width` instead,\n    borderColor: null, // `<table>`. Use CSS `border-color` instead,\n    bottomMargin: number, // `<body>`\n    cellPadding: null, // `<table>`\n    cellSpacing: null, // `<table>`\n    char: null, // Several table elements. When `align=char`, sets the character to align on\n    charOff: null, // Several table elements. When `char`, offsets the alignment\n    classId: null, // `<object>`\n    clear: null, // `<br>`. Use CSS `clear` instead\n    code: null, // `<object>`\n    codeBase: null, // `<object>`\n    codeType: null, // `<object>`\n    color: null, // `<font>` and `<hr>`. Use CSS instead\n    compact: boolean, // Lists. Use CSS to reduce space between items instead\n    declare: boolean, // `<object>`\n    event: null, // `<script>`\n    face: null, // `<font>`. Use CSS instead\n    frame: null, // `<table>`\n    frameBorder: null, // `<iframe>`. Use CSS `border` instead\n    hSpace: number, // `<img>` and `<object>`\n    leftMargin: number, // `<body>`\n    link: null, // `<body>`. Use CSS `a:link {color: *}` instead\n    longDesc: null, // `<frame>`, `<iframe>`, and `<img>`. Use an `<a>`\n    lowSrc: null, // `<img>`. Use a `<picture>`\n    marginHeight: number, // `<body>`\n    marginWidth: number, // `<body>`\n    noResize: boolean, // `<frame>`\n    noHref: boolean, // `<area>`. Use no href instead of an explicit `nohref`\n    noShade: boolean, // `<hr>`. Use background-color and height instead of borders\n    noWrap: boolean, // `<td>` and `<th>`\n    object: null, // `<applet>`\n    profile: null, // `<head>`\n    prompt: null, // `<isindex>`\n    rev: null, // `<link>`\n    rightMargin: number, // `<body>`\n    rules: null, // `<table>`\n    scheme: null, // `<meta>`\n    scrolling: booleanish, // `<frame>`. Use overflow in the child context\n    standby: null, // `<object>`\n    summary: null, // `<table>`\n    text: null, // `<body>`. Use CSS `color` instead\n    topMargin: number, // `<body>`\n    valueType: null, // `<param>`\n    version: null, // `<html>`. Use a doctype.\n    vAlign: null, // Several. Use CSS `vertical-align` instead\n    vLink: null, // `<body>`. Use CSS `a:visited {color}` instead\n    vSpace: number, // `<img>` and `<object>`\n\n    // Non-standard Properties.\n    allowTransparency: null,\n    autoCorrect: null,\n    autoSave: null,\n    disablePictureInPicture: boolean,\n    disableRemotePlayback: boolean,\n    prefix: null,\n    property: null,\n    results: number,\n    security: null,\n    unselectable: null\n  }\n})\n","import {\n  boolean,\n  number,\n  spaceSeparated,\n  commaSeparated,\n  commaOrSpaceSeparated\n} from './util/types.js'\nimport {create} from './util/create.js'\nimport {caseSensitiveTransform} from './util/case-sensitive-transform.js'\n\nexport const svg = create({\n  space: 'svg',\n  attributes: {\n    accentHeight: 'accent-height',\n    alignmentBaseline: 'alignment-baseline',\n    arabicForm: 'arabic-form',\n    baselineShift: 'baseline-shift',\n    capHeight: 'cap-height',\n    className: 'class',\n    clipPath: 'clip-path',\n    clipRule: 'clip-rule',\n    colorInterpolation: 'color-interpolation',\n    colorInterpolationFilters: 'color-interpolation-filters',\n    colorProfile: 'color-profile',\n    colorRendering: 'color-rendering',\n    crossOrigin: 'crossorigin',\n    dataType: 'datatype',\n    dominantBaseline: 'dominant-baseline',\n    enableBackground: 'enable-background',\n    fillOpacity: 'fill-opacity',\n    fillRule: 'fill-rule',\n    floodColor: 'flood-color',\n    floodOpacity: 'flood-opacity',\n    fontFamily: 'font-family',\n    fontSize: 'font-size',\n    fontSizeAdjust: 'font-size-adjust',\n    fontStretch: 'font-stretch',\n    fontStyle: 'font-style',\n    fontVariant: 'font-variant',\n    fontWeight: 'font-weight',\n    glyphName: 'glyph-name',\n    glyphOrientationHorizontal: 'glyph-orientation-horizontal',\n    glyphOrientationVertical: 'glyph-orientation-vertical',\n    hrefLang: 'hreflang',\n    horizAdvX: 'horiz-adv-x',\n    horizOriginX: 'horiz-origin-x',\n    horizOriginY: 'horiz-origin-y',\n    imageRendering: 'image-rendering',\n    letterSpacing: 'letter-spacing',\n    lightingColor: 'lighting-color',\n    markerEnd: 'marker-end',\n    markerMid: 'marker-mid',\n    markerStart: 'marker-start',\n    navDown: 'nav-down',\n    navDownLeft: 'nav-down-left',\n    navDownRight: 'nav-down-right',\n    navLeft: 'nav-left',\n    navNext: 'nav-next',\n    navPrev: 'nav-prev',\n    navRight: 'nav-right',\n    navUp: 'nav-up',\n    navUpLeft: 'nav-up-left',\n    navUpRight: 'nav-up-right',\n    onAbort: 'onabort',\n    onActivate: 'onactivate',\n    onAfterPrint: 'onafterprint',\n    onBeforePrint: 'onbeforeprint',\n    onBegin: 'onbegin',\n    onCancel: 'oncancel',\n    onCanPlay: 'oncanplay',\n    onCanPlayThrough: 'oncanplaythrough',\n    onChange: 'onchange',\n    onClick: 'onclick',\n    onClose: 'onclose',\n    onCopy: 'oncopy',\n    onCueChange: 'oncuechange',\n    onCut: 'oncut',\n    onDblClick: 'ondblclick',\n    onDrag: 'ondrag',\n    onDragEnd: 'ondragend',\n    onDragEnter: 'ondragenter',\n    onDragExit: 'ondragexit',\n    onDragLeave: 'ondragleave',\n    onDragOver: 'ondragover',\n    onDragStart: 'ondragstart',\n    onDrop: 'ondrop',\n    onDurationChange: 'ondurationchange',\n    onEmptied: 'onemptied',\n    onEnd: 'onend',\n    onEnded: 'onended',\n    onError: 'onerror',\n    onFocus: 'onfocus',\n    onFocusIn: 'onfocusin',\n    onFocusOut: 'onfocusout',\n    onHashChange: 'onhashchange',\n    onInput: 'oninput',\n    onInvalid: 'oninvalid',\n    onKeyDown: 'onkeydown',\n    onKeyPress: 'onkeypress',\n    onKeyUp: 'onkeyup',\n    onLoad: 'onload',\n    onLoadedData: 'onloadeddata',\n    onLoadedMetadata: 'onloadedmetadata',\n    onLoadStart: 'onloadstart',\n    onMessage: 'onmessage',\n    onMouseDown: 'onmousedown',\n    onMouseEnter: 'onmouseenter',\n    onMouseLeave: 'onmouseleave',\n    onMouseMove: 'onmousemove',\n    onMouseOut: 'onmouseout',\n    onMouseOver: 'onmouseover',\n    onMouseUp: 'onmouseup',\n    onMouseWheel: 'onmousewheel',\n    onOffline: 'onoffline',\n    onOnline: 'ononline',\n    onPageHide: 'onpagehide',\n    onPageShow: 'onpageshow',\n    onPaste: 'onpaste',\n    onPause: 'onpause',\n    onPlay: 'onplay',\n    onPlaying: 'onplaying',\n    onPopState: 'onpopstate',\n    onProgress: 'onprogress',\n    onRateChange: 'onratechange',\n    onRepeat: 'onrepeat',\n    onReset: 'onreset',\n    onResize: 'onresize',\n    onScroll: 'onscroll',\n    onSeeked: 'onseeked',\n    onSeeking: 'onseeking',\n    onSelect: 'onselect',\n    onShow: 'onshow',\n    onStalled: 'onstalled',\n    onStorage: 'onstorage',\n    onSubmit: 'onsubmit',\n    onSuspend: 'onsuspend',\n    onTimeUpdate: 'ontimeupdate',\n    onToggle: 'ontoggle',\n    onUnload: 'onunload',\n    onVolumeChange: 'onvolumechange',\n    onWaiting: 'onwaiting',\n    onZoom: 'onzoom',\n    overlinePosition: 'overline-position',\n    overlineThickness: 'overline-thickness',\n    paintOrder: 'paint-order',\n    panose1: 'panose-1',\n    pointerEvents: 'pointer-events',\n    referrerPolicy: 'referrerpolicy',\n    renderingIntent: 'rendering-intent',\n    shapeRendering: 'shape-rendering',\n    stopColor: 'stop-color',\n    stopOpacity: 'stop-opacity',\n    strikethroughPosition: 'strikethrough-position',\n    strikethroughThickness: 'strikethrough-thickness',\n    strokeDashArray: 'stroke-dasharray',\n    strokeDashOffset: 'stroke-dashoffset',\n    strokeLineCap: 'stroke-linecap',\n    strokeLineJoin: 'stroke-linejoin',\n    strokeMiterLimit: 'stroke-miterlimit',\n    strokeOpacity: 'stroke-opacity',\n    strokeWidth: 'stroke-width',\n    tabIndex: 'tabindex',\n    textAnchor: 'text-anchor',\n    textDecoration: 'text-decoration',\n    textRendering: 'text-rendering',\n    transformOrigin: 'transform-origin',\n    typeOf: 'typeof',\n    underlinePosition: 'underline-position',\n    underlineThickness: 'underline-thickness',\n    unicodeBidi: 'unicode-bidi',\n    unicodeRange: 'unicode-range',\n    unitsPerEm: 'units-per-em',\n    vAlphabetic: 'v-alphabetic',\n    vHanging: 'v-hanging',\n    vIdeographic: 'v-ideographic',\n    vMathematical: 'v-mathematical',\n    vectorEffect: 'vector-effect',\n    vertAdvY: 'vert-adv-y',\n    vertOriginX: 'vert-origin-x',\n    vertOriginY: 'vert-origin-y',\n    wordSpacing: 'word-spacing',\n    writingMode: 'writing-mode',\n    xHeight: 'x-height',\n    // These were camelcased in Tiny. Now lowercased in SVG 2\n    playbackOrder: 'playbackorder',\n    timelineBegin: 'timelinebegin'\n  },\n  transform: caseSensitiveTransform,\n  properties: {\n    about: commaOrSpaceSeparated,\n    accentHeight: number,\n    accumulate: null,\n    additive: null,\n    alignmentBaseline: null,\n    alphabetic: number,\n    amplitude: number,\n    arabicForm: null,\n    ascent: number,\n    attributeName: null,\n    attributeType: null,\n    azimuth: number,\n    bandwidth: null,\n    baselineShift: null,\n    baseFrequency: null,\n    baseProfile: null,\n    bbox: null,\n    begin: null,\n    bias: number,\n    by: null,\n    calcMode: null,\n    capHeight: number,\n    className: spaceSeparated,\n    clip: null,\n    clipPath: null,\n    clipPathUnits: null,\n    clipRule: null,\n    color: null,\n    colorInterpolation: null,\n    colorInterpolationFilters: null,\n    colorProfile: null,\n    colorRendering: null,\n    content: null,\n    contentScriptType: null,\n    contentStyleType: null,\n    crossOrigin: null,\n    cursor: null,\n    cx: null,\n    cy: null,\n    d: null,\n    dataType: null,\n    defaultAction: null,\n    descent: number,\n    diffuseConstant: number,\n    direction: null,\n    display: null,\n    dur: null,\n    divisor: number,\n    dominantBaseline: null,\n    download: boolean,\n    dx: null,\n    dy: null,\n    edgeMode: null,\n    editable: null,\n    elevation: number,\n    enableBackground: null,\n    end: null,\n    event: null,\n    exponent: number,\n    externalResourcesRequired: null,\n    fill: null,\n    fillOpacity: number,\n    fillRule: null,\n    filter: null,\n    filterRes: null,\n    filterUnits: null,\n    floodColor: null,\n    floodOpacity: null,\n    focusable: null,\n    focusHighlight: null,\n    fontFamily: null,\n    fontSize: null,\n    fontSizeAdjust: null,\n    fontStretch: null,\n    fontStyle: null,\n    fontVariant: null,\n    fontWeight: null,\n    format: null,\n    fr: null,\n    from: null,\n    fx: null,\n    fy: null,\n    g1: commaSeparated,\n    g2: commaSeparated,\n    glyphName: commaSeparated,\n    glyphOrientationHorizontal: null,\n    glyphOrientationVertical: null,\n    glyphRef: null,\n    gradientTransform: null,\n    gradientUnits: null,\n    handler: null,\n    hanging: number,\n    hatchContentUnits: null,\n    hatchUnits: null,\n    height: null,\n    href: null,\n    hrefLang: null,\n    horizAdvX: number,\n    horizOriginX: number,\n    horizOriginY: number,\n    id: null,\n    ideographic: number,\n    imageRendering: null,\n    initialVisibility: null,\n    in: null,\n    in2: null,\n    intercept: number,\n    k: number,\n    k1: number,\n    k2: number,\n    k3: number,\n    k4: number,\n    kernelMatrix: commaOrSpaceSeparated,\n    kernelUnitLength: null,\n    keyPoints: null, // SEMI_COLON_SEPARATED\n    keySplines: null, // SEMI_COLON_SEPARATED\n    keyTimes: null, // SEMI_COLON_SEPARATED\n    kerning: null,\n    lang: null,\n    lengthAdjust: null,\n    letterSpacing: null,\n    lightingColor: null,\n    limitingConeAngle: number,\n    local: null,\n    markerEnd: null,\n    markerMid: null,\n    markerStart: null,\n    markerHeight: null,\n    markerUnits: null,\n    markerWidth: null,\n    mask: null,\n    maskContentUnits: null,\n    maskUnits: null,\n    mathematical: null,\n    max: null,\n    media: null,\n    mediaCharacterEncoding: null,\n    mediaContentEncodings: null,\n    mediaSize: number,\n    mediaTime: null,\n    method: null,\n    min: null,\n    mode: null,\n    name: null,\n    navDown: null,\n    navDownLeft: null,\n    navDownRight: null,\n    navLeft: null,\n    navNext: null,\n    navPrev: null,\n    navRight: null,\n    navUp: null,\n    navUpLeft: null,\n    navUpRight: null,\n    numOctaves: null,\n    observer: null,\n    offset: null,\n    onAbort: null,\n    onActivate: null,\n    onAfterPrint: null,\n    onBeforePrint: null,\n    onBegin: null,\n    onCancel: null,\n    onCanPlay: null,\n    onCanPlayThrough: null,\n    onChange: null,\n    onClick: null,\n    onClose: null,\n    onCopy: null,\n    onCueChange: null,\n    onCut: null,\n    onDblClick: null,\n    onDrag: null,\n    onDragEnd: null,\n    onDragEnter: null,\n    onDragExit: null,\n    onDragLeave: null,\n    onDragOver: null,\n    onDragStart: null,\n    onDrop: null,\n    onDurationChange: null,\n    onEmptied: null,\n    onEnd: null,\n    onEnded: null,\n    onError: null,\n    onFocus: null,\n    onFocusIn: null,\n    onFocusOut: null,\n    onHashChange: null,\n    onInput: null,\n    onInvalid: null,\n    onKeyDown: null,\n    onKeyPress: null,\n    onKeyUp: null,\n    onLoad: null,\n    onLoadedData: null,\n    onLoadedMetadata: null,\n    onLoadStart: null,\n    onMessage: null,\n    onMouseDown: null,\n    onMouseEnter: null,\n    onMouseLeave: null,\n    onMouseMove: null,\n    onMouseOut: null,\n    onMouseOver: null,\n    onMouseUp: null,\n    onMouseWheel: null,\n    onOffline: null,\n    onOnline: null,\n    onPageHide: null,\n    onPageShow: null,\n    onPaste: null,\n    onPause: null,\n    onPlay: null,\n    onPlaying: null,\n    onPopState: null,\n    onProgress: null,\n    onRateChange: null,\n    onRepeat: null,\n    onReset: null,\n    onResize: null,\n    onScroll: null,\n    onSeeked: null,\n    onSeeking: null,\n    onSelect: null,\n    onShow: null,\n    onStalled: null,\n    onStorage: null,\n    onSubmit: null,\n    onSuspend: null,\n    onTimeUpdate: null,\n    onToggle: null,\n    onUnload: null,\n    onVolumeChange: null,\n    onWaiting: null,\n    onZoom: null,\n    opacity: null,\n    operator: null,\n    order: null,\n    orient: null,\n    orientation: null,\n    origin: null,\n    overflow: null,\n    overlay: null,\n    overlinePosition: number,\n    overlineThickness: number,\n    paintOrder: null,\n    panose1: null,\n    path: null,\n    pathLength: number,\n    patternContentUnits: null,\n    patternTransform: null,\n    patternUnits: null,\n    phase: null,\n    ping: spaceSeparated,\n    pitch: null,\n    playbackOrder: null,\n    pointerEvents: null,\n    points: null,\n    pointsAtX: number,\n    pointsAtY: number,\n    pointsAtZ: number,\n    preserveAlpha: null,\n    preserveAspectRatio: null,\n    primitiveUnits: null,\n    propagate: null,\n    property: commaOrSpaceSeparated,\n    r: null,\n    radius: null,\n    referrerPolicy: null,\n    refX: null,\n    refY: null,\n    rel: commaOrSpaceSeparated,\n    rev: commaOrSpaceSeparated,\n    renderingIntent: null,\n    repeatCount: null,\n    repeatDur: null,\n    requiredExtensions: commaOrSpaceSeparated,\n    requiredFeatures: commaOrSpaceSeparated,\n    requiredFonts: commaOrSpaceSeparated,\n    requiredFormats: commaOrSpaceSeparated,\n    resource: null,\n    restart: null,\n    result: null,\n    rotate: null,\n    rx: null,\n    ry: null,\n    scale: null,\n    seed: null,\n    shapeRendering: null,\n    side: null,\n    slope: null,\n    snapshotTime: null,\n    specularConstant: number,\n    specularExponent: number,\n    spreadMethod: null,\n    spacing: null,\n    startOffset: null,\n    stdDeviation: null,\n    stemh: null,\n    stemv: null,\n    stitchTiles: null,\n    stopColor: null,\n    stopOpacity: null,\n    strikethroughPosition: number,\n    strikethroughThickness: number,\n    string: null,\n    stroke: null,\n    strokeDashArray: commaOrSpaceSeparated,\n    strokeDashOffset: null,\n    strokeLineCap: null,\n    strokeLineJoin: null,\n    strokeMiterLimit: number,\n    strokeOpacity: number,\n    strokeWidth: null,\n    style: null,\n    surfaceScale: number,\n    syncBehavior: null,\n    syncBehaviorDefault: null,\n    syncMaster: null,\n    syncTolerance: null,\n    syncToleranceDefault: null,\n    systemLanguage: commaOrSpaceSeparated,\n    tabIndex: number,\n    tableValues: null,\n    target: null,\n    targetX: number,\n    targetY: number,\n    textAnchor: null,\n    textDecoration: null,\n    textRendering: null,\n    textLength: null,\n    timelineBegin: null,\n    title: null,\n    transformBehavior: null,\n    type: null,\n    typeOf: commaOrSpaceSeparated,\n    to: null,\n    transform: null,\n    transformOrigin: null,\n    u1: null,\n    u2: null,\n    underlinePosition: number,\n    underlineThickness: number,\n    unicode: null,\n    unicodeBidi: null,\n    unicodeRange: null,\n    unitsPerEm: number,\n    values: null,\n    vAlphabetic: number,\n    vMathematical: number,\n    vectorEffect: null,\n    vHanging: number,\n    vIdeographic: number,\n    version: null,\n    vertAdvY: number,\n    vertOriginX: number,\n    vertOriginY: number,\n    viewBox: null,\n    viewTarget: null,\n    visibility: null,\n    width: null,\n    widths: null,\n    wordSpacing: null,\n    writingMode: null,\n    x: null,\n    x1: null,\n    x2: null,\n    xChannelSelector: null,\n    xHeight: number,\n    y: null,\n    y1: null,\n    y2: null,\n    yChannelSelector: null,\n    z: null,\n    zoomAndPan: null\n  }\n})\n","/**\n * @typedef {import('./util/schema.js').Schema} Schema\n */\n\nimport {normalize} from './normalize.js'\nimport {DefinedInfo} from './util/defined-info.js'\nimport {Info} from './util/info.js'\n\nconst valid = /^data[-\\w.:]+$/i\nconst dash = /-[a-z]/g\nconst cap = /[A-Z]/g\n\n/**\n * @param {Schema} schema\n * @param {string} value\n * @returns {Info}\n */\nexport function find(schema, value) {\n  const normal = normalize(value)\n  let prop = value\n  let Type = Info\n\n  if (normal in schema.normal) {\n    return schema.property[schema.normal[normal]]\n  }\n\n  if (normal.length > 4 && normal.slice(0, 4) === 'data' && valid.test(value)) {\n    // Attribute or property.\n    if (value.charAt(4) === '-') {\n      // Turn it into a property.\n      const rest = value.slice(5).replace(dash, camelcase)\n      prop = 'data' + rest.charAt(0).toUpperCase() + rest.slice(1)\n    } else {\n      // Turn it into an attribute.\n      const rest = value.slice(4)\n\n      if (!dash.test(rest)) {\n        let dashes = rest.replace(cap, kebab)\n\n        if (dashes.charAt(0) !== '-') {\n          dashes = '-' + dashes\n        }\n\n        value = 'data' + dashes\n      }\n    }\n\n    Type = DefinedInfo\n  }\n\n  return new Type(prop, value)\n}\n\n/**\n * @param {string} $0\n * @returns {string}\n */\nfunction kebab($0) {\n  return '-' + $0.toLowerCase()\n}\n\n/**\n * @param {string} $0\n * @returns {string}\n */\nfunction camelcase($0) {\n  return $0.charAt(1).toUpperCase()\n}\n","/**\n * @typedef {import('./lib/util/info.js').Info} Info\n * @typedef {import('./lib/util/schema.js').Schema} Schema\n */\n\nimport {merge} from './lib/util/merge.js'\nimport {xlink} from './lib/xlink.js'\nimport {xml} from './lib/xml.js'\nimport {xmlns} from './lib/xmlns.js'\nimport {aria} from './lib/aria.js'\nimport {html as htmlBase} from './lib/html.js'\nimport {svg as svgBase} from './lib/svg.js'\n\nexport {find} from './lib/find.js'\nexport {hastToReact} from './lib/hast-to-react.js'\nexport {normalize} from './lib/normalize.js'\nexport const html = merge([xml, xlink, xmlns, aria, htmlBase], 'html')\nexport const svg = merge([xml, xlink, xmlns, aria, svgBase], 'svg')\n","/**\n * @typedef Options\n *   Configuration for `stringify`.\n * @property {boolean} [padLeft=true]\n *   Whether to pad a space before a token.\n * @property {boolean} [padRight=false]\n *   Whether to pad a space after a token.\n */\n\n/**\n * @typedef {Options} StringifyOptions\n *   Please use `StringifyOptions` instead.\n */\n\n/**\n * Parse comma-separated tokens to an array.\n *\n * @param {string} value\n *   Comma-separated tokens.\n * @returns {Array<string>}\n *   List of tokens.\n */\nexport function parse(value) {\n  /** @type {Array<string>} */\n  const tokens = []\n  const input = String(value || '')\n  let index = input.indexOf(',')\n  let start = 0\n  /** @type {boolean} */\n  let end = false\n\n  while (!end) {\n    if (index === -1) {\n      index = input.length\n      end = true\n    }\n\n    const token = input.slice(start, index).trim()\n\n    if (token || !end) {\n      tokens.push(token)\n    }\n\n    start = index + 1\n    index = input.indexOf(',', start)\n  }\n\n  return tokens\n}\n\n/**\n * Serialize an array of strings or numbers to comma-separated tokens.\n *\n * @param {Array<string|number>} values\n *   List of tokens.\n * @param {Options} [options]\n *   Configuration for `stringify` (optional).\n * @returns {string}\n *   Comma-separated tokens.\n */\nexport function stringify(values, options) {\n  const settings = options || {}\n\n  // Ensure the last empty entry is seen.\n  const input = values[values.length - 1] === '' ? [...values, ''] : values\n\n  return input\n    .join(\n      (settings.padRight ? ' ' : '') +\n        ',' +\n        (settings.padLeft === false ? '' : ' ')\n    )\n    .trim()\n}\n","/**\n * @typedef {import('hast').Element} Element\n * @typedef {import('hast').Properties} Properties\n */\n\n/**\n * @template {string} SimpleSelector\n *   Selector type.\n * @template {string} DefaultTagName\n *   Default tag name.\n * @typedef {(\n *   SimpleSelector extends ''\n *     ? DefaultTagName\n *     : SimpleSelector extends `${infer TagName}.${infer Rest}`\n *     ? ExtractTagName<TagName, DefaultTagName>\n *     : SimpleSelector extends `${infer TagName}#${infer Rest}`\n *     ? ExtractTagName<TagName, DefaultTagName>\n *     : SimpleSelector extends string\n *     ? SimpleSelector\n *     : DefaultTagName\n * )} ExtractTagName\n *   Extract tag name from a simple selector.\n */\n\nconst search = /[#.]/g\n\n/**\n * Create a hast element from a simple CSS selector.\n *\n * @template {string} Selector\n *   Type of selector.\n * @template {string} [DefaultTagName='div']\n *   Type of default tag name (default: `'div'`).\n * @param {Selector | null | undefined} [selector]\n *   Simple CSS selector (optional).\n *\n *   Can contain a tag name (`foo`), classes (`.bar`), and an ID (`#baz`).\n *   Multiple classes are allowed.\n *   Uses the last ID if multiple IDs are found.\n * @param {DefaultTagName | null | undefined} [defaultTagName='div']\n *   Tag name to use if `selector` does not specify one (default: `'div'`).\n * @returns {Element & {tagName: ExtractTagName<Selector, DefaultTagName>}}\n *   Built element.\n */\nexport function parseSelector(selector, defaultTagName) {\n  const value = selector || ''\n  /** @type {Properties} */\n  const props = {}\n  let start = 0\n  /** @type {string | undefined} */\n  let previous\n  /** @type {string | undefined} */\n  let tagName\n\n  while (start < value.length) {\n    search.lastIndex = start\n    const match = search.exec(value)\n    const subvalue = value.slice(start, match ? match.index : value.length)\n\n    if (subvalue) {\n      if (!previous) {\n        tagName = subvalue\n      } else if (previous === '#') {\n        props.id = subvalue\n      } else if (Array.isArray(props.className)) {\n        props.className.push(subvalue)\n      } else {\n        props.className = [subvalue]\n      }\n\n      start += subvalue.length\n    }\n\n    if (match) {\n      previous = match[0]\n      start++\n    }\n  }\n\n  return {\n    type: 'element',\n    // @ts-expect-error: tag name is parsed.\n    tagName: tagName || defaultTagName || 'div',\n    properties: props,\n    children: []\n  }\n}\n","/**\n * Parse space-separated tokens to an array of strings.\n *\n * @param {string} value\n *   Space-separated tokens.\n * @returns {Array<string>}\n *   List of tokens.\n */\nexport function parse(value) {\n  const input = String(value || '').trim()\n  return input ? input.split(/[ \\t\\n\\r\\f]+/g) : []\n}\n\n/**\n * Serialize an array of strings as space separated-tokens.\n *\n * @param {Array<string|number>} values\n *   List of tokens.\n * @returns {string}\n *   Space-separated tokens.\n */\nexport function stringify(values) {\n  return values.join(' ').trim()\n}\n","/**\n * @typedef {import('hast').Element} Element\n * @typedef {import('hast').Nodes} Nodes\n * @typedef {import('hast').Root} Root\n * @typedef {import('hast').RootContent} RootContent\n *\n * @typedef {import('property-information').Info} Info\n * @typedef {import('property-information').Schema} Schema\n */\n\n/**\n * @typedef {Element | Root} Result\n *   Result from a `h` (or `s`) call.\n *\n * @typedef {number | string} StyleValue\n *   Value for a CSS style field.\n * @typedef {Record<string, StyleValue>} Style\n *   Supported value of a `style` prop.\n * @typedef {boolean | number | string | null | undefined} PrimitiveValue\n *   Primitive property value.\n * @typedef {Array<number | string>} ArrayValue\n *   List of property values for space- or comma separated values (such as `className`).\n * @typedef {ArrayValue | PrimitiveValue} PropertyValue\n *   Primitive value or list value.\n * @typedef {{[property: string]: PropertyValue | Style}} Properties\n *   Acceptable value for element properties.\n *\n * @typedef {number | string | null | undefined} PrimitiveChild\n *   Primitive children, either ignored (nullish), or turned into text nodes.\n * @typedef {Array<ArrayChildNested | Nodes | PrimitiveChild>} ArrayChild\n *   List of children.\n * @typedef {Array<Nodes | PrimitiveChild>} ArrayChildNested\n *   List of children (deep).\n * @typedef {ArrayChild | Nodes | PrimitiveChild} Child\n *   Acceptable child value.\n */\n\nimport {parse as commas} from 'comma-separated-tokens'\nimport {parseSelector} from 'hast-util-parse-selector'\nimport {find, normalize} from 'property-information'\nimport {parse as spaces} from 'space-separated-tokens'\n\nconst own = {}.hasOwnProperty\n\n/**\n * @param {Schema} schema\n *   Schema to use.\n * @param {string} defaultTagName\n *   Default tag name.\n * @param {Array<string> | undefined} [caseSensitive]\n *   Case-sensitive tag names (default: `undefined`).\n * @returns\n *   `h`.\n */\nexport function createH(schema, defaultTagName, caseSensitive) {\n  const adjust = caseSensitive && createAdjustMap(caseSensitive)\n\n  /**\n   * Hyperscript compatible DSL for creating virtual hast trees.\n   *\n   * @overload\n   * @param {null | undefined} [selector]\n   * @param {...Child} children\n   * @returns {Root}\n   *\n   * @overload\n   * @param {string} selector\n   * @param {Properties} properties\n   * @param {...Child} children\n   * @returns {Element}\n   *\n   * @overload\n   * @param {string} selector\n   * @param {...Child} children\n   * @returns {Element}\n   *\n   * @param {string | null | undefined} [selector]\n   *   Selector.\n   * @param {Child | Properties | null | undefined} [properties]\n   *   Properties (or first child) (default: `undefined`).\n   * @param {...Child} children\n   *   Children.\n   * @returns {Result}\n   *   Result.\n   */\n  function h(selector, properties, ...children) {\n    let index = -1\n    /** @type {Result} */\n    let node\n\n    if (selector === undefined || selector === null) {\n      node = {type: 'root', children: []}\n      // Properties are not supported for roots.\n      const child = /** @type {Child} */ (properties)\n      children.unshift(child)\n    } else {\n      node = parseSelector(selector, defaultTagName)\n      // Normalize the name.\n      node.tagName = node.tagName.toLowerCase()\n      if (adjust && own.call(adjust, node.tagName)) {\n        node.tagName = adjust[node.tagName]\n      }\n\n      // Handle props.\n      if (isChild(properties)) {\n        children.unshift(properties)\n      } else {\n        /** @type {string} */\n        let key\n\n        for (key in properties) {\n          if (own.call(properties, key)) {\n            addProperty(schema, node.properties, key, properties[key])\n          }\n        }\n      }\n    }\n\n    // Handle children.\n    while (++index < children.length) {\n      addChild(node.children, children[index])\n    }\n\n    if (node.type === 'element' && node.tagName === 'template') {\n      node.content = {type: 'root', children: node.children}\n      node.children = []\n    }\n\n    return node\n  }\n\n  return h\n}\n\n/**\n * Check if something is properties or a child.\n *\n * @param {Child | Properties} value\n *   Value to check.\n * @returns {value is Child}\n *   Whether `value` is definitely a child.\n */\nfunction isChild(value) {\n  // Never properties if not an object.\n  if (value === null || typeof value !== 'object' || Array.isArray(value)) {\n    return true\n  }\n\n  // Never node without `type`; thats the main discriminator.\n  if (typeof value.type !== 'string') return false\n\n  // Slower check: never property value if object or array with\n  // non-number/strings.\n  const record = /** @type {Record<string, unknown>} */ (value)\n  const keys = Object.keys(value)\n\n  for (const key of keys) {\n    const value = record[key]\n\n    if (value && typeof value === 'object') {\n      if (!Array.isArray(value)) return true\n\n      const list = /** @type {Array<unknown>} */ (value)\n\n      for (const item of list) {\n        if (typeof item !== 'number' && typeof item !== 'string') {\n          return true\n        }\n      }\n    }\n  }\n\n  // Also see empty `children` as a node.\n  if ('children' in value && Array.isArray(value.children)) {\n    return true\n  }\n\n  // Default to properties, someone can always pass an empty object,\n  // put `data: {}` in a node,\n  // or wrap it in an array.\n  return false\n}\n\n/**\n * @param {Schema} schema\n *   Schema.\n * @param {Properties} properties\n *   Properties object.\n * @param {string} key\n *   Property name.\n * @param {PropertyValue | Style} value\n *   Property value.\n * @returns {undefined}\n *   Nothing.\n */\nfunction addProperty(schema, properties, key, value) {\n  const info = find(schema, key)\n  let index = -1\n  /** @type {PropertyValue} */\n  let result\n\n  // Ignore nullish and NaN values.\n  if (value === undefined || value === null) return\n\n  if (typeof value === 'number') {\n    // Ignore NaN.\n    if (Number.isNaN(value)) return\n\n    result = value\n  }\n  // Booleans.\n  else if (typeof value === 'boolean') {\n    result = value\n  }\n  // Handle list values.\n  else if (typeof value === 'string') {\n    if (info.spaceSeparated) {\n      result = spaces(value)\n    } else if (info.commaSeparated) {\n      result = commas(value)\n    } else if (info.commaOrSpaceSeparated) {\n      result = spaces(commas(value).join(' '))\n    } else {\n      result = parsePrimitive(info, info.property, value)\n    }\n  } else if (Array.isArray(value)) {\n    result = value.concat()\n  } else {\n    result = info.property === 'style' ? style(value) : String(value)\n  }\n\n  if (Array.isArray(result)) {\n    /** @type {Array<number | string>} */\n    const finalResult = []\n\n    while (++index < result.length) {\n      // Assume no booleans in array.\n      const value = /** @type {number | string} */ (\n        parsePrimitive(info, info.property, result[index])\n      )\n      finalResult[index] = value\n    }\n\n    result = finalResult\n  }\n\n  // Class names (which can be added both on the `selector` and here).\n  if (info.property === 'className' && Array.isArray(properties.className)) {\n    // Assume no booleans in `className`.\n    const value = /** @type {number | string} */ (result)\n    result = properties.className.concat(value)\n  }\n\n  properties[info.property] = result\n}\n\n/**\n * @param {Array<RootContent>} nodes\n *   Children.\n * @param {Child} value\n *   Child.\n * @returns {undefined}\n *   Nothing.\n */\nfunction addChild(nodes, value) {\n  let index = -1\n\n  if (value === undefined || value === null) {\n    // Empty.\n  } else if (typeof value === 'string' || typeof value === 'number') {\n    nodes.push({type: 'text', value: String(value)})\n  } else if (Array.isArray(value)) {\n    while (++index < value.length) {\n      addChild(nodes, value[index])\n    }\n  } else if (typeof value === 'object' && 'type' in value) {\n    if (value.type === 'root') {\n      addChild(nodes, value.children)\n    } else {\n      nodes.push(value)\n    }\n  } else {\n    throw new Error('Expected node, nodes, or string, got `' + value + '`')\n  }\n}\n\n/**\n * Parse a single primitives.\n *\n * @param {Info} info\n *   Property information.\n * @param {string} name\n *   Property name.\n * @param {PrimitiveValue} value\n *   Property value.\n * @returns {PrimitiveValue}\n *   Property value.\n */\nfunction parsePrimitive(info, name, value) {\n  if (typeof value === 'string') {\n    if (info.number && value && !Number.isNaN(Number(value))) {\n      return Number(value)\n    }\n\n    if (\n      (info.boolean || info.overloadedBoolean) &&\n      (value === '' || normalize(value) === normalize(name))\n    ) {\n      return true\n    }\n  }\n\n  return value\n}\n\n/**\n * Serialize a `style` object as a string.\n *\n * @param {Style} value\n *   Style object.\n * @returns {string}\n *   CSS string.\n */\nfunction style(value) {\n  /** @type {Array<string>} */\n  const result = []\n  /** @type {string} */\n  let key\n\n  for (key in value) {\n    if (own.call(value, key)) {\n      result.push([key, value[key]].join(': '))\n    }\n  }\n\n  return result.join('; ')\n}\n\n/**\n * Create a map to adjust casing.\n *\n * @param {Array<string>} values\n *   List of properly cased keys.\n * @returns {Record<string, string>}\n *   Map of lowercase keys to uppercase keys.\n */\nfunction createAdjustMap(values) {\n  /** @type {Record<string, string>} */\n  const result = {}\n  let index = -1\n\n  while (++index < values.length) {\n    result[values[index].toLowerCase()] = values[index]\n  }\n\n  return result\n}\n","export const svgCaseSensitiveTagNames = [\n  'altGlyph',\n  'altGlyphDef',\n  'altGlyphItem',\n  'animateColor',\n  'animateMotion',\n  'animateTransform',\n  'clipPath',\n  'feBlend',\n  'feColorMatrix',\n  'feComponentTransfer',\n  'feComposite',\n  'feConvolveMatrix',\n  'feDiffuseLighting',\n  'feDisplacementMap',\n  'feDistantLight',\n  'feDropShadow',\n  'feFlood',\n  'feFuncA',\n  'feFuncB',\n  'feFuncG',\n  'feFuncR',\n  'feGaussianBlur',\n  'feImage',\n  'feMerge',\n  'feMergeNode',\n  'feMorphology',\n  'feOffset',\n  'fePointLight',\n  'feSpecularLighting',\n  'feSpotLight',\n  'feTile',\n  'feTurbulence',\n  'foreignObject',\n  'glyphRef',\n  'linearGradient',\n  'radialGradient',\n  'solidColor',\n  'textArea',\n  'textPath'\n]\n","/**\n * @typedef {import('./create-h.js').Child} Child\n *   Acceptable child value.\n * @typedef {import('./create-h.js').Properties} Properties\n *   Acceptable value for element properties.\n * @typedef {import('./create-h.js').Result} Result\n *   Result from a `h` (or `s`) call.\n */\n\n// Register the JSX namespace on `h`.\n/**\n * @typedef {import('./jsx-classic.js').Element} h.JSX.Element\n * @typedef {import('./jsx-classic.js').ElementChildrenAttribute} h.JSX.ElementChildrenAttribute\n * @typedef {import('./jsx-classic.js').IntrinsicAttributes} h.JSX.IntrinsicAttributes\n * @typedef {import('./jsx-classic.js').IntrinsicElements} h.JSX.IntrinsicElements\n */\n\n// Register the JSX namespace on `s`.\n/**\n * @typedef {import('./jsx-classic.js').Element} s.JSX.Element\n * @typedef {import('./jsx-classic.js').ElementChildrenAttribute} s.JSX.ElementChildrenAttribute\n * @typedef {import('./jsx-classic.js').IntrinsicAttributes} s.JSX.IntrinsicAttributes\n * @typedef {import('./jsx-classic.js').IntrinsicElements} s.JSX.IntrinsicElements\n */\n\nimport {html, svg} from 'property-information'\nimport {createH} from './create-h.js'\nimport {svgCaseSensitiveTagNames} from './svg-case-sensitive-tag-names.js'\n\n// Note: this explicit type is needed, otherwise TS creates broken types.\n/** @type {ReturnType<createH>} */\nexport const h = createH(html, 'div')\n\n// Note: this explicit type is needed, otherwise TS creates broken types.\n/** @type {ReturnType<createH>} */\nexport const s = createH(svg, 'g', svgCaseSensitiveTagNames)\n","/**\n * @import {VFile, Value} from 'vfile'\n * @import {Location} from 'vfile-location'\n */\n\n/**\n * Create an index of the given document to translate between line/column and\n * offset based positional info.\n *\n * Also implemented in Rust in [`wooorm/markdown-rs`][markdown-rs].\n *\n * [markdown-rs]: https://github.com/wooorm/markdown-rs/blob/main/src/util/location.rs\n *\n * @param {VFile | Value} file\n *   File to index.\n * @returns {Location}\n *   Accessors for index.\n */\nexport function location(file) {\n  const value = String(file)\n  /**\n   * List, where each index is a line number (0-based), and each value is the\n   * byte index *after* where the line ends.\n   *\n   * @type {Array<number>}\n   */\n  const indices = []\n\n  return {toOffset, toPoint}\n\n  /** @type {Location['toPoint']} */\n  function toPoint(offset) {\n    if (typeof offset === 'number' && offset > -1 && offset <= value.length) {\n      let index = 0\n\n      while (true) {\n        let end = indices[index]\n\n        if (end === undefined) {\n          const eol = next(value, indices[index - 1])\n          end = eol === -1 ? value.length + 1 : eol + 1\n          indices[index] = end\n        }\n\n        if (end > offset) {\n          return {\n            line: index + 1,\n            column: offset - (index > 0 ? indices[index - 1] : 0) + 1,\n            offset\n          }\n        }\n\n        index++\n      }\n    }\n  }\n\n  /** @type {Location['toOffset']} */\n  function toOffset(point) {\n    if (\n      point &&\n      typeof point.line === 'number' &&\n      typeof point.column === 'number' &&\n      !Number.isNaN(point.line) &&\n      !Number.isNaN(point.column)\n    ) {\n      while (indices.length < point.line) {\n        const from = indices[indices.length - 1]\n        const eol = next(value, from)\n        const end = eol === -1 ? value.length + 1 : eol + 1\n        if (from === end) break\n        indices.push(end)\n      }\n\n      const offset =\n        (point.line > 1 ? indices[point.line - 2] : 0) + point.column - 1\n      // The given `column` could not exist on this line.\n      if (offset < indices[point.line - 1]) return offset\n    }\n  }\n}\n\n/**\n * @param {string} value\n * @param {number} from\n */\nfunction next(value, from) {\n  const cr = value.indexOf('\\r', from)\n  const lf = value.indexOf('\\n', from)\n  if (lf === -1) return cr\n  if (cr === -1 || cr + 1 === lf) return lf\n  return cr < lf ? cr : lf\n}\n","/**\n * Map of web namespaces.\n *\n * @type {Record<string, string>}\n */\nexport const webNamespaces = {\n  html: 'http://www.w3.org/1999/xhtml',\n  mathml: 'http://www.w3.org/1998/Math/MathML',\n  svg: 'http://www.w3.org/2000/svg',\n  xlink: 'http://www.w3.org/1999/xlink',\n  xml: 'http://www.w3.org/XML/1998/namespace',\n  xmlns: 'http://www.w3.org/2000/xmlns/'\n}\n","/**\n * @import {ElementData, Element, Nodes, RootContent, Root} from 'hast'\n * @import {DefaultTreeAdapterMap, Token} from 'parse5'\n * @import {Schema} from 'property-information'\n * @import {Point, Position} from 'unist'\n * @import {VFile} from 'vfile'\n * @import {Options} from 'hast-util-from-parse5'\n */\n\n/**\n * @typedef State\n *   Info passed around about the current state.\n * @property {VFile | undefined} file\n *   Corresponding file.\n * @property {boolean} location\n *   Whether location info was found.\n * @property {Schema} schema\n *   Current schema.\n * @property {boolean | undefined} verbose\n *   Add extra positional info.\n */\n\nimport {ok as assert} from 'devlop'\nimport {h, s} from 'hastscript'\nimport {find, html, svg} from 'property-information'\nimport {location} from 'vfile-location'\nimport {webNamespaces} from 'web-namespaces'\n\nconst own = {}.hasOwnProperty\n/** @type {unknown} */\n// type-coverage:ignore-next-line\nconst proto = Object.prototype\n\n/**\n * Transform a `parse5` AST to hast.\n *\n * @param {DefaultTreeAdapterMap['node']} tree\n *   `parse5` tree to transform.\n * @param {Options | null | undefined} [options]\n *   Configuration (optional).\n * @returns {Nodes}\n *   hast tree.\n */\nexport function fromParse5(tree, options) {\n  const settings = options || {}\n\n  return one(\n    {\n      file: settings.file || undefined,\n      location: false,\n      schema: settings.space === 'svg' ? svg : html,\n      verbose: settings.verbose || false\n    },\n    tree\n  )\n}\n\n/**\n * Transform a node.\n *\n * @param {State} state\n *   Info passed around about the current state.\n * @param {DefaultTreeAdapterMap['node']} node\n *   p5 node.\n * @returns {Nodes}\n *   hast node.\n */\nfunction one(state, node) {\n  /** @type {Nodes} */\n  let result\n\n  switch (node.nodeName) {\n    case '#comment': {\n      const reference = /** @type {DefaultTreeAdapterMap['commentNode']} */ (\n        node\n      )\n      result = {type: 'comment', value: reference.data}\n      patch(state, reference, result)\n      return result\n    }\n\n    case '#document':\n    case '#document-fragment': {\n      const reference =\n        /** @type {DefaultTreeAdapterMap['document'] | DefaultTreeAdapterMap['documentFragment']} */ (\n          node\n        )\n      const quirksMode =\n        'mode' in reference\n          ? reference.mode === 'quirks' || reference.mode === 'limited-quirks'\n          : false\n\n      result = {\n        type: 'root',\n        children: all(state, node.childNodes),\n        data: {quirksMode}\n      }\n\n      if (state.file && state.location) {\n        const document = String(state.file)\n        const loc = location(document)\n        const start = loc.toPoint(0)\n        const end = loc.toPoint(document.length)\n        // Always defined as we give valid input.\n        assert(start, 'expected `start`')\n        assert(end, 'expected `end`')\n        result.position = {start, end}\n      }\n\n      return result\n    }\n\n    case '#documentType': {\n      const reference = /** @type {DefaultTreeAdapterMap['documentType']} */ (\n        node\n      )\n      result = {type: 'doctype'}\n      patch(state, reference, result)\n      return result\n    }\n\n    case '#text': {\n      const reference = /** @type {DefaultTreeAdapterMap['textNode']} */ (node)\n      result = {type: 'text', value: reference.value}\n      patch(state, reference, result)\n      return result\n    }\n\n    // Element.\n    default: {\n      const reference = /** @type {DefaultTreeAdapterMap['element']} */ (node)\n      result = element(state, reference)\n      return result\n    }\n  }\n}\n\n/**\n * Transform children.\n *\n * @param {State} state\n *   Info passed around about the current state.\n * @param {Array<DefaultTreeAdapterMap['node']>} nodes\n *   Nodes.\n * @returns {Array<RootContent>}\n *   hast nodes.\n */\nfunction all(state, nodes) {\n  let index = -1\n  /** @type {Array<RootContent>} */\n  const results = []\n\n  while (++index < nodes.length) {\n    // Assume no roots in `nodes`.\n    const result = /** @type {RootContent} */ (one(state, nodes[index]))\n    results.push(result)\n  }\n\n  return results\n}\n\n/**\n * Transform an element.\n *\n * @param {State} state\n *   Info passed around about the current state.\n * @param {DefaultTreeAdapterMap['element']} node\n *   `parse5` node to transform.\n * @returns {Element}\n *   hast node.\n */\nfunction element(state, node) {\n  const schema = state.schema\n\n  state.schema = node.namespaceURI === webNamespaces.svg ? svg : html\n\n  // Props.\n  let index = -1\n  /** @type {Record<string, string>} */\n  const properties = {}\n\n  while (++index < node.attrs.length) {\n    const attribute = node.attrs[index]\n    const name =\n      (attribute.prefix ? attribute.prefix + ':' : '') + attribute.name\n    if (!own.call(proto, name)) {\n      properties[name] = attribute.value\n    }\n  }\n\n  // Build.\n  const x = state.schema.space === 'svg' ? s : h\n  const result = x(node.tagName, properties, all(state, node.childNodes))\n  patch(state, node, result)\n\n  // Switch content.\n  if (result.tagName === 'template') {\n    const reference = /** @type {DefaultTreeAdapterMap['template']} */ (node)\n    const pos = reference.sourceCodeLocation\n    const startTag = pos && pos.startTag && position(pos.startTag)\n    const endTag = pos && pos.endTag && position(pos.endTag)\n\n    // Root in, root out.\n    const content = /** @type {Root} */ (one(state, reference.content))\n\n    if (startTag && endTag && state.file) {\n      content.position = {start: startTag.end, end: endTag.start}\n    }\n\n    result.content = content\n  }\n\n  state.schema = schema\n\n  return result\n}\n\n/**\n * Patch positional info from `from` onto `to`.\n *\n * @param {State} state\n *   Info passed around about the current state.\n * @param {DefaultTreeAdapterMap['node']} from\n *   p5 node.\n * @param {Nodes} to\n *   hast node.\n * @returns {undefined}\n *   Nothing.\n */\nfunction patch(state, from, to) {\n  if ('sourceCodeLocation' in from && from.sourceCodeLocation && state.file) {\n    const position = createLocation(state, to, from.sourceCodeLocation)\n\n    if (position) {\n      state.location = true\n      to.position = position\n    }\n  }\n}\n\n/**\n * Create clean positional information.\n *\n * @param {State} state\n *   Info passed around about the current state.\n * @param {Nodes} node\n *   hast node.\n * @param {Token.ElementLocation} location\n *   p5 location info.\n * @returns {Position | undefined}\n *   Position, or nothing.\n */\nfunction createLocation(state, node, location) {\n  const result = position(location)\n\n  if (node.type === 'element') {\n    const tail = node.children[node.children.length - 1]\n\n    // Bug for unclosed with children.\n    // See: <https://github.com/inikulin/parse5/issues/109>.\n    if (\n      result &&\n      !location.endTag &&\n      tail &&\n      tail.position &&\n      tail.position.end\n    ) {\n      result.end = Object.assign({}, tail.position.end)\n    }\n\n    if (state.verbose) {\n      /** @type {Record<string, Position | undefined>} */\n      const properties = {}\n      /** @type {string} */\n      let key\n\n      if (location.attrs) {\n        for (key in location.attrs) {\n          if (own.call(location.attrs, key)) {\n            properties[find(state.schema, key).property] = position(\n              location.attrs[key]\n            )\n          }\n        }\n      }\n\n      assert(location.startTag, 'a start tag should exist')\n      const opening = position(location.startTag)\n      const closing = location.endTag ? position(location.endTag) : undefined\n      /** @type {ElementData['position']} */\n      const data = {opening}\n      if (closing) data.closing = closing\n      data.properties = properties\n\n      node.data = {position: data}\n    }\n  }\n\n  return result\n}\n\n/**\n * Turn a p5 location into a position.\n *\n * @param {Token.Location} loc\n *   Location.\n * @returns {Position | undefined}\n *   Position or nothing.\n */\nfunction position(loc) {\n  const start = point({\n    line: loc.startLine,\n    column: loc.startCol,\n    offset: loc.startOffset\n  })\n  const end = point({\n    line: loc.endLine,\n    column: loc.endCol,\n    offset: loc.endOffset\n  })\n\n  // @ts-expect-error: we do use `undefined` for points if one or the other\n  // exists.\n  return start || end ? {start, end} : undefined\n}\n\n/**\n * Filter out invalid points.\n *\n * @param {Point} point\n *   Point with potentially `undefined` values.\n * @returns {Point | undefined}\n *   Point or nothing.\n */\nfunction point(point) {\n  return point.line && point.column ? point : undefined\n}\n","const UNDEFINED_CODE_POINTS = new Set([\n    65534, 65535, 131070, 131071, 196606, 196607, 262142, 262143, 327678, 327679, 393214,\n    393215, 458750, 458751, 524286, 524287, 589822, 589823, 655358, 655359, 720894,\n    720895, 786430, 786431, 851966, 851967, 917502, 917503, 983038, 983039, 1048574,\n    1048575, 1114110, 1114111,\n]);\nexport const REPLACEMENT_CHARACTER = '\\uFFFD';\nexport var CODE_POINTS;\n(function (CODE_POINTS) {\n    CODE_POINTS[CODE_POINTS[\"EOF\"] = -1] = \"EOF\";\n    CODE_POINTS[CODE_POINTS[\"NULL\"] = 0] = \"NULL\";\n    CODE_POINTS[CODE_POINTS[\"TABULATION\"] = 9] = \"TABULATION\";\n    CODE_POINTS[CODE_POINTS[\"CARRIAGE_RETURN\"] = 13] = \"CARRIAGE_RETURN\";\n    CODE_POINTS[CODE_POINTS[\"LINE_FEED\"] = 10] = \"LINE_FEED\";\n    CODE_POINTS[CODE_POINTS[\"FORM_FEED\"] = 12] = \"FORM_FEED\";\n    CODE_POINTS[CODE_POINTS[\"SPACE\"] = 32] = \"SPACE\";\n    CODE_POINTS[CODE_POINTS[\"EXCLAMATION_MARK\"] = 33] = \"EXCLAMATION_MARK\";\n    CODE_POINTS[CODE_POINTS[\"QUOTATION_MARK\"] = 34] = \"QUOTATION_MARK\";\n    CODE_POINTS[CODE_POINTS[\"AMPERSAND\"] = 38] = \"AMPERSAND\";\n    CODE_POINTS[CODE_POINTS[\"APOSTROPHE\"] = 39] = \"APOSTROPHE\";\n    CODE_POINTS[CODE_POINTS[\"HYPHEN_MINUS\"] = 45] = \"HYPHEN_MINUS\";\n    CODE_POINTS[CODE_POINTS[\"SOLIDUS\"] = 47] = \"SOLIDUS\";\n    CODE_POINTS[CODE_POINTS[\"DIGIT_0\"] = 48] = \"DIGIT_0\";\n    CODE_POINTS[CODE_POINTS[\"DIGIT_9\"] = 57] = \"DIGIT_9\";\n    CODE_POINTS[CODE_POINTS[\"SEMICOLON\"] = 59] = \"SEMICOLON\";\n    CODE_POINTS[CODE_POINTS[\"LESS_THAN_SIGN\"] = 60] = \"LESS_THAN_SIGN\";\n    CODE_POINTS[CODE_POINTS[\"EQUALS_SIGN\"] = 61] = \"EQUALS_SIGN\";\n    CODE_POINTS[CODE_POINTS[\"GREATER_THAN_SIGN\"] = 62] = \"GREATER_THAN_SIGN\";\n    CODE_POINTS[CODE_POINTS[\"QUESTION_MARK\"] = 63] = \"QUESTION_MARK\";\n    CODE_POINTS[CODE_POINTS[\"LATIN_CAPITAL_A\"] = 65] = \"LATIN_CAPITAL_A\";\n    CODE_POINTS[CODE_POINTS[\"LATIN_CAPITAL_Z\"] = 90] = \"LATIN_CAPITAL_Z\";\n    CODE_POINTS[CODE_POINTS[\"RIGHT_SQUARE_BRACKET\"] = 93] = \"RIGHT_SQUARE_BRACKET\";\n    CODE_POINTS[CODE_POINTS[\"GRAVE_ACCENT\"] = 96] = \"GRAVE_ACCENT\";\n    CODE_POINTS[CODE_POINTS[\"LATIN_SMALL_A\"] = 97] = \"LATIN_SMALL_A\";\n    CODE_POINTS[CODE_POINTS[\"LATIN_SMALL_Z\"] = 122] = \"LATIN_SMALL_Z\";\n})(CODE_POINTS || (CODE_POINTS = {}));\nexport const SEQUENCES = {\n    DASH_DASH: '--',\n    CDATA_START: '[CDATA[',\n    DOCTYPE: 'doctype',\n    SCRIPT: 'script',\n    PUBLIC: 'public',\n    SYSTEM: 'system',\n};\n//Surrogates\nexport function isSurrogate(cp) {\n    return cp >= 55296 && cp <= 57343;\n}\nexport function isSurrogatePair(cp) {\n    return cp >= 56320 && cp <= 57343;\n}\nexport function getSurrogatePairCodePoint(cp1, cp2) {\n    return (cp1 - 55296) * 1024 + 9216 + cp2;\n}\n//NOTE: excluding NULL and ASCII whitespace\nexport function isControlCodePoint(cp) {\n    return ((cp !== 0x20 && cp !== 0x0a && cp !== 0x0d && cp !== 0x09 && cp !== 0x0c && cp >= 0x01 && cp <= 0x1f) ||\n        (cp >= 0x7f && cp <= 0x9f));\n}\nexport function isUndefinedCodePoint(cp) {\n    return (cp >= 64976 && cp <= 65007) || UNDEFINED_CODE_POINTS.has(cp);\n}\n","export var ERR;\n(function (ERR) {\n    ERR[\"controlCharacterInInputStream\"] = \"control-character-in-input-stream\";\n    ERR[\"noncharacterInInputStream\"] = \"noncharacter-in-input-stream\";\n    ERR[\"surrogateInInputStream\"] = \"surrogate-in-input-stream\";\n    ERR[\"nonVoidHtmlElementStartTagWithTrailingSolidus\"] = \"non-void-html-element-start-tag-with-trailing-solidus\";\n    ERR[\"endTagWithAttributes\"] = \"end-tag-with-attributes\";\n    ERR[\"endTagWithTrailingSolidus\"] = \"end-tag-with-trailing-solidus\";\n    ERR[\"unexpectedSolidusInTag\"] = \"unexpected-solidus-in-tag\";\n    ERR[\"unexpectedNullCharacter\"] = \"unexpected-null-character\";\n    ERR[\"unexpectedQuestionMarkInsteadOfTagName\"] = \"unexpected-question-mark-instead-of-tag-name\";\n    ERR[\"invalidFirstCharacterOfTagName\"] = \"invalid-first-character-of-tag-name\";\n    ERR[\"unexpectedEqualsSignBeforeAttributeName\"] = \"unexpected-equals-sign-before-attribute-name\";\n    ERR[\"missingEndTagName\"] = \"missing-end-tag-name\";\n    ERR[\"unexpectedCharacterInAttributeName\"] = \"unexpected-character-in-attribute-name\";\n    ERR[\"unknownNamedCharacterReference\"] = \"unknown-named-character-reference\";\n    ERR[\"missingSemicolonAfterCharacterReference\"] = \"missing-semicolon-after-character-reference\";\n    ERR[\"unexpectedCharacterAfterDoctypeSystemIdentifier\"] = \"unexpected-character-after-doctype-system-identifier\";\n    ERR[\"unexpectedCharacterInUnquotedAttributeValue\"] = \"unexpected-character-in-unquoted-attribute-value\";\n    ERR[\"eofBeforeTagName\"] = \"eof-before-tag-name\";\n    ERR[\"eofInTag\"] = \"eof-in-tag\";\n    ERR[\"missingAttributeValue\"] = \"missing-attribute-value\";\n    ERR[\"missingWhitespaceBetweenAttributes\"] = \"missing-whitespace-between-attributes\";\n    ERR[\"missingWhitespaceAfterDoctypePublicKeyword\"] = \"missing-whitespace-after-doctype-public-keyword\";\n    ERR[\"missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers\"] = \"missing-whitespace-between-doctype-public-and-system-identifiers\";\n    ERR[\"missingWhitespaceAfterDoctypeSystemKeyword\"] = \"missing-whitespace-after-doctype-system-keyword\";\n    ERR[\"missingQuoteBeforeDoctypePublicIdentifier\"] = \"missing-quote-before-doctype-public-identifier\";\n    ERR[\"missingQuoteBeforeDoctypeSystemIdentifier\"] = \"missing-quote-before-doctype-system-identifier\";\n    ERR[\"missingDoctypePublicIdentifier\"] = \"missing-doctype-public-identifier\";\n    ERR[\"missingDoctypeSystemIdentifier\"] = \"missing-doctype-system-identifier\";\n    ERR[\"abruptDoctypePublicIdentifier\"] = \"abrupt-doctype-public-identifier\";\n    ERR[\"abruptDoctypeSystemIdentifier\"] = \"abrupt-doctype-system-identifier\";\n    ERR[\"cdataInHtmlContent\"] = \"cdata-in-html-content\";\n    ERR[\"incorrectlyOpenedComment\"] = \"incorrectly-opened-comment\";\n    ERR[\"eofInScriptHtmlCommentLikeText\"] = \"eof-in-script-html-comment-like-text\";\n    ERR[\"eofInDoctype\"] = \"eof-in-doctype\";\n    ERR[\"nestedComment\"] = \"nested-comment\";\n    ERR[\"abruptClosingOfEmptyComment\"] = \"abrupt-closing-of-empty-comment\";\n    ERR[\"eofInComment\"] = \"eof-in-comment\";\n    ERR[\"incorrectlyClosedComment\"] = \"incorrectly-closed-comment\";\n    ERR[\"eofInCdata\"] = \"eof-in-cdata\";\n    ERR[\"absenceOfDigitsInNumericCharacterReference\"] = \"absence-of-digits-in-numeric-character-reference\";\n    ERR[\"nullCharacterReference\"] = \"null-character-reference\";\n    ERR[\"surrogateCharacterReference\"] = \"surrogate-character-reference\";\n    ERR[\"characterReferenceOutsideUnicodeRange\"] = \"character-reference-outside-unicode-range\";\n    ERR[\"controlCharacterReference\"] = \"control-character-reference\";\n    ERR[\"noncharacterCharacterReference\"] = \"noncharacter-character-reference\";\n    ERR[\"missingWhitespaceBeforeDoctypeName\"] = \"missing-whitespace-before-doctype-name\";\n    ERR[\"missingDoctypeName\"] = \"missing-doctype-name\";\n    ERR[\"invalidCharacterSequenceAfterDoctypeName\"] = \"invalid-character-sequence-after-doctype-name\";\n    ERR[\"duplicateAttribute\"] = \"duplicate-attribute\";\n    ERR[\"nonConformingDoctype\"] = \"non-conforming-doctype\";\n    ERR[\"missingDoctype\"] = \"missing-doctype\";\n    ERR[\"misplacedDoctype\"] = \"misplaced-doctype\";\n    ERR[\"endTagWithoutMatchingOpenElement\"] = \"end-tag-without-matching-open-element\";\n    ERR[\"closingOfElementWithOpenChildElements\"] = \"closing-of-element-with-open-child-elements\";\n    ERR[\"disallowedContentInNoscriptInHead\"] = \"disallowed-content-in-noscript-in-head\";\n    ERR[\"openElementsLeftAfterEof\"] = \"open-elements-left-after-eof\";\n    ERR[\"abandonedHeadElementChild\"] = \"abandoned-head-element-child\";\n    ERR[\"misplacedStartTagForHeadElement\"] = \"misplaced-start-tag-for-head-element\";\n    ERR[\"nestedNoscriptInHead\"] = \"nested-noscript-in-head\";\n    ERR[\"eofInElementThatCanContainOnlyText\"] = \"eof-in-element-that-can-contain-only-text\";\n})(ERR || (ERR = {}));\n","import { CODE_POINTS as $, getSurrogatePairCodePoint, isControlCodePoint, isSurrogate, isSurrogatePair, isUndefinedCodePoint, } from '../common/unicode.js';\nimport { ERR } from '../common/error-codes.js';\n//Const\nconst DEFAULT_BUFFER_WATERLINE = 1 << 16;\n//Preprocessor\n//NOTE: HTML input preprocessing\n//(see: http://www.whatwg.org/specs/web-apps/current-work/multipage/parsing.html#preprocessing-the-input-stream)\nexport class Preprocessor {\n    constructor(handler) {\n        this.handler = handler;\n        this.html = '';\n        this.pos = -1;\n        // NOTE: Initial `lastGapPos` is -2, to ensure `col` on initialisation is 0\n        this.lastGapPos = -2;\n        this.gapStack = [];\n        this.skipNextNewLine = false;\n        this.lastChunkWritten = false;\n        this.endOfChunkHit = false;\n        this.bufferWaterline = DEFAULT_BUFFER_WATERLINE;\n        this.isEol = false;\n        this.lineStartPos = 0;\n        this.droppedBufferSize = 0;\n        this.line = 1;\n        //NOTE: avoid reporting errors twice on advance/retreat\n        this.lastErrOffset = -1;\n    }\n    /** The column on the current line. If we just saw a gap (eg. a surrogate pair), return the index before. */\n    get col() {\n        return this.pos - this.lineStartPos + Number(this.lastGapPos !== this.pos);\n    }\n    get offset() {\n        return this.droppedBufferSize + this.pos;\n    }\n    getError(code, cpOffset) {\n        const { line, col, offset } = this;\n        const startCol = col + cpOffset;\n        const startOffset = offset + cpOffset;\n        return {\n            code,\n            startLine: line,\n            endLine: line,\n            startCol,\n            endCol: startCol,\n            startOffset,\n            endOffset: startOffset,\n        };\n    }\n    _err(code) {\n        if (this.handler.onParseError && this.lastErrOffset !== this.offset) {\n            this.lastErrOffset = this.offset;\n            this.handler.onParseError(this.getError(code, 0));\n        }\n    }\n    _addGap() {\n        this.gapStack.push(this.lastGapPos);\n        this.lastGapPos = this.pos;\n    }\n    _processSurrogate(cp) {\n        //NOTE: try to peek a surrogate pair\n        if (this.pos !== this.html.length - 1) {\n            const nextCp = this.html.charCodeAt(this.pos + 1);\n            if (isSurrogatePair(nextCp)) {\n                //NOTE: we have a surrogate pair. Peek pair character and recalculate code point.\n                this.pos++;\n                //NOTE: add a gap that should be avoided during retreat\n                this._addGap();\n                return getSurrogatePairCodePoint(cp, nextCp);\n            }\n        }\n        //NOTE: we are at the end of a chunk, therefore we can't infer the surrogate pair yet.\n        else if (!this.lastChunkWritten) {\n            this.endOfChunkHit = true;\n            return $.EOF;\n        }\n        //NOTE: isolated surrogate\n        this._err(ERR.surrogateInInputStream);\n        return cp;\n    }\n    willDropParsedChunk() {\n        return this.pos > this.bufferWaterline;\n    }\n    dropParsedChunk() {\n        if (this.willDropParsedChunk()) {\n            this.html = this.html.substring(this.pos);\n            this.lineStartPos -= this.pos;\n            this.droppedBufferSize += this.pos;\n            this.pos = 0;\n            this.lastGapPos = -2;\n            this.gapStack.length = 0;\n        }\n    }\n    write(chunk, isLastChunk) {\n        if (this.html.length > 0) {\n            this.html += chunk;\n        }\n        else {\n            this.html = chunk;\n        }\n        this.endOfChunkHit = false;\n        this.lastChunkWritten = isLastChunk;\n    }\n    insertHtmlAtCurrentPos(chunk) {\n        this.html = this.html.substring(0, this.pos + 1) + chunk + this.html.substring(this.pos + 1);\n        this.endOfChunkHit = false;\n    }\n    startsWith(pattern, caseSensitive) {\n        // Check if our buffer has enough characters\n        if (this.pos + pattern.length > this.html.length) {\n            this.endOfChunkHit = !this.lastChunkWritten;\n            return false;\n        }\n        if (caseSensitive) {\n            return this.html.startsWith(pattern, this.pos);\n        }\n        for (let i = 0; i < pattern.length; i++) {\n            const cp = this.html.charCodeAt(this.pos + i) | 0x20;\n            if (cp !== pattern.charCodeAt(i)) {\n                return false;\n            }\n        }\n        return true;\n    }\n    peek(offset) {\n        const pos = this.pos + offset;\n        if (pos >= this.html.length) {\n            this.endOfChunkHit = !this.lastChunkWritten;\n            return $.EOF;\n        }\n        const code = this.html.charCodeAt(pos);\n        return code === $.CARRIAGE_RETURN ? $.LINE_FEED : code;\n    }\n    advance() {\n        this.pos++;\n        //NOTE: LF should be in the last column of the line\n        if (this.isEol) {\n            this.isEol = false;\n            this.line++;\n            this.lineStartPos = this.pos;\n        }\n        if (this.pos >= this.html.length) {\n            this.endOfChunkHit = !this.lastChunkWritten;\n            return $.EOF;\n        }\n        let cp = this.html.charCodeAt(this.pos);\n        //NOTE: all U+000D CARRIAGE RETURN (CR) characters must be converted to U+000A LINE FEED (LF) characters\n        if (cp === $.CARRIAGE_RETURN) {\n            this.isEol = true;\n            this.skipNextNewLine = true;\n            return $.LINE_FEED;\n        }\n        //NOTE: any U+000A LINE FEED (LF) characters that immediately follow a U+000D CARRIAGE RETURN (CR) character\n        //must be ignored.\n        if (cp === $.LINE_FEED) {\n            this.isEol = true;\n            if (this.skipNextNewLine) {\n                // `line` will be bumped again in the recursive call.\n                this.line--;\n                this.skipNextNewLine = false;\n                this._addGap();\n                return this.advance();\n            }\n        }\n        this.skipNextNewLine = false;\n        if (isSurrogate(cp)) {\n            cp = this._processSurrogate(cp);\n        }\n        //OPTIMIZATION: first check if code point is in the common allowed\n        //range (ASCII alphanumeric, whitespaces, big chunk of BMP)\n        //before going into detailed performance cost validation.\n        const isCommonValidRange = this.handler.onParseError === null ||\n            (cp > 0x1f && cp < 0x7f) ||\n            cp === $.LINE_FEED ||\n            cp === $.CARRIAGE_RETURN ||\n            (cp > 0x9f && cp < 64976);\n        if (!isCommonValidRange) {\n            this._checkForProblematicCharacters(cp);\n        }\n        return cp;\n    }\n    _checkForProblematicCharacters(cp) {\n        if (isControlCodePoint(cp)) {\n            this._err(ERR.controlCharacterInInputStream);\n        }\n        else if (isUndefinedCodePoint(cp)) {\n            this._err(ERR.noncharacterInInputStream);\n        }\n    }\n    retreat(count) {\n        this.pos -= count;\n        while (this.pos < this.lastGapPos) {\n            this.lastGapPos = this.gapStack.pop();\n            this.pos--;\n        }\n        this.isEol = false;\n    }\n}\n","export var TokenType;\n(function (TokenType) {\n    TokenType[TokenType[\"CHARACTER\"] = 0] = \"CHARACTER\";\n    TokenType[TokenType[\"NULL_CHARACTER\"] = 1] = \"NULL_CHARACTER\";\n    TokenType[TokenType[\"WHITESPACE_CHARACTER\"] = 2] = \"WHITESPACE_CHARACTER\";\n    TokenType[TokenType[\"START_TAG\"] = 3] = \"START_TAG\";\n    TokenType[TokenType[\"END_TAG\"] = 4] = \"END_TAG\";\n    TokenType[TokenType[\"COMMENT\"] = 5] = \"COMMENT\";\n    TokenType[TokenType[\"DOCTYPE\"] = 6] = \"DOCTYPE\";\n    TokenType[TokenType[\"EOF\"] = 7] = \"EOF\";\n    TokenType[TokenType[\"HIBERNATION\"] = 8] = \"HIBERNATION\";\n})(TokenType || (TokenType = {}));\nexport function getTokenAttr(token, attrName) {\n    for (let i = token.attrs.length - 1; i >= 0; i--) {\n        if (token.attrs[i].name === attrName) {\n            return token.attrs[i].value;\n        }\n    }\n    return null;\n}\n","/** All valid namespaces in HTML. */\nexport var NS;\n(function (NS) {\n    NS[\"HTML\"] = \"http://www.w3.org/1999/xhtml\";\n    NS[\"MATHML\"] = \"http://www.w3.org/1998/Math/MathML\";\n    NS[\"SVG\"] = \"http://www.w3.org/2000/svg\";\n    NS[\"XLINK\"] = \"http://www.w3.org/1999/xlink\";\n    NS[\"XML\"] = \"http://www.w3.org/XML/1998/namespace\";\n    NS[\"XMLNS\"] = \"http://www.w3.org/2000/xmlns/\";\n})(NS || (NS = {}));\nexport var ATTRS;\n(function (ATTRS) {\n    ATTRS[\"TYPE\"] = \"type\";\n    ATTRS[\"ACTION\"] = \"action\";\n    ATTRS[\"ENCODING\"] = \"encoding\";\n    ATTRS[\"PROMPT\"] = \"prompt\";\n    ATTRS[\"NAME\"] = \"name\";\n    ATTRS[\"COLOR\"] = \"color\";\n    ATTRS[\"FACE\"] = \"face\";\n    ATTRS[\"SIZE\"] = \"size\";\n})(ATTRS || (ATTRS = {}));\n/**\n * The mode of the document.\n *\n * @see {@link https://dom.spec.whatwg.org/#concept-document-limited-quirks}\n */\nexport var DOCUMENT_MODE;\n(function (DOCUMENT_MODE) {\n    DOCUMENT_MODE[\"NO_QUIRKS\"] = \"no-quirks\";\n    DOCUMENT_MODE[\"QUIRKS\"] = \"quirks\";\n    DOCUMENT_MODE[\"LIMITED_QUIRKS\"] = \"limited-quirks\";\n})(DOCUMENT_MODE || (DOCUMENT_MODE = {}));\nexport var TAG_NAMES;\n(function (TAG_NAMES) {\n    TAG_NAMES[\"A\"] = \"a\";\n    TAG_NAMES[\"ADDRESS\"] = \"address\";\n    TAG_NAMES[\"ANNOTATION_XML\"] = \"annotation-xml\";\n    TAG_NAMES[\"APPLET\"] = \"applet\";\n    TAG_NAMES[\"AREA\"] = \"area\";\n    TAG_NAMES[\"ARTICLE\"] = \"article\";\n    TAG_NAMES[\"ASIDE\"] = \"aside\";\n    TAG_NAMES[\"B\"] = \"b\";\n    TAG_NAMES[\"BASE\"] = \"base\";\n    TAG_NAMES[\"BASEFONT\"] = \"basefont\";\n    TAG_NAMES[\"BGSOUND\"] = \"bgsound\";\n    TAG_NAMES[\"BIG\"] = \"big\";\n    TAG_NAMES[\"BLOCKQUOTE\"] = \"blockquote\";\n    TAG_NAMES[\"BODY\"] = \"body\";\n    TAG_NAMES[\"BR\"] = \"br\";\n    TAG_NAMES[\"BUTTON\"] = \"button\";\n    TAG_NAMES[\"CAPTION\"] = \"caption\";\n    TAG_NAMES[\"CENTER\"] = \"center\";\n    TAG_NAMES[\"CODE\"] = \"code\";\n    TAG_NAMES[\"COL\"] = \"col\";\n    TAG_NAMES[\"COLGROUP\"] = \"colgroup\";\n    TAG_NAMES[\"DD\"] = \"dd\";\n    TAG_NAMES[\"DESC\"] = \"desc\";\n    TAG_NAMES[\"DETAILS\"] = \"details\";\n    TAG_NAMES[\"DIALOG\"] = \"dialog\";\n    TAG_NAMES[\"DIR\"] = \"dir\";\n    TAG_NAMES[\"DIV\"] = \"div\";\n    TAG_NAMES[\"DL\"] = \"dl\";\n    TAG_NAMES[\"DT\"] = \"dt\";\n    TAG_NAMES[\"EM\"] = \"em\";\n    TAG_NAMES[\"EMBED\"] = \"embed\";\n    TAG_NAMES[\"FIELDSET\"] = \"fieldset\";\n    TAG_NAMES[\"FIGCAPTION\"] = \"figcaption\";\n    TAG_NAMES[\"FIGURE\"] = \"figure\";\n    TAG_NAMES[\"FONT\"] = \"font\";\n    TAG_NAMES[\"FOOTER\"] = \"footer\";\n    TAG_NAMES[\"FOREIGN_OBJECT\"] = \"foreignObject\";\n    TAG_NAMES[\"FORM\"] = \"form\";\n    TAG_NAMES[\"FRAME\"] = \"frame\";\n    TAG_NAMES[\"FRAMESET\"] = \"frameset\";\n    TAG_NAMES[\"H1\"] = \"h1\";\n    TAG_NAMES[\"H2\"] = \"h2\";\n    TAG_NAMES[\"H3\"] = \"h3\";\n    TAG_NAMES[\"H4\"] = \"h4\";\n    TAG_NAMES[\"H5\"] = \"h5\";\n    TAG_NAMES[\"H6\"] = \"h6\";\n    TAG_NAMES[\"HEAD\"] = \"head\";\n    TAG_NAMES[\"HEADER\"] = \"header\";\n    TAG_NAMES[\"HGROUP\"] = \"hgroup\";\n    TAG_NAMES[\"HR\"] = \"hr\";\n    TAG_NAMES[\"HTML\"] = \"html\";\n    TAG_NAMES[\"I\"] = \"i\";\n    TAG_NAMES[\"IMG\"] = \"img\";\n    TAG_NAMES[\"IMAGE\"] = \"image\";\n    TAG_NAMES[\"INPUT\"] = \"input\";\n    TAG_NAMES[\"IFRAME\"] = \"iframe\";\n    TAG_NAMES[\"KEYGEN\"] = \"keygen\";\n    TAG_NAMES[\"LABEL\"] = \"label\";\n    TAG_NAMES[\"LI\"] = \"li\";\n    TAG_NAMES[\"LINK\"] = \"link\";\n    TAG_NAMES[\"LISTING\"] = \"listing\";\n    TAG_NAMES[\"MAIN\"] = \"main\";\n    TAG_NAMES[\"MALIGNMARK\"] = \"malignmark\";\n    TAG_NAMES[\"MARQUEE\"] = \"marquee\";\n    TAG_NAMES[\"MATH\"] = \"math\";\n    TAG_NAMES[\"MENU\"] = \"menu\";\n    TAG_NAMES[\"META\"] = \"meta\";\n    TAG_NAMES[\"MGLYPH\"] = \"mglyph\";\n    TAG_NAMES[\"MI\"] = \"mi\";\n    TAG_NAMES[\"MO\"] = \"mo\";\n    TAG_NAMES[\"MN\"] = \"mn\";\n    TAG_NAMES[\"MS\"] = \"ms\";\n    TAG_NAMES[\"MTEXT\"] = \"mtext\";\n    TAG_NAMES[\"NAV\"] = \"nav\";\n    TAG_NAMES[\"NOBR\"] = \"nobr\";\n    TAG_NAMES[\"NOFRAMES\"] = \"noframes\";\n    TAG_NAMES[\"NOEMBED\"] = \"noembed\";\n    TAG_NAMES[\"NOSCRIPT\"] = \"noscript\";\n    TAG_NAMES[\"OBJECT\"] = \"object\";\n    TAG_NAMES[\"OL\"] = \"ol\";\n    TAG_NAMES[\"OPTGROUP\"] = \"optgroup\";\n    TAG_NAMES[\"OPTION\"] = \"option\";\n    TAG_NAMES[\"P\"] = \"p\";\n    TAG_NAMES[\"PARAM\"] = \"param\";\n    TAG_NAMES[\"PLAINTEXT\"] = \"plaintext\";\n    TAG_NAMES[\"PRE\"] = \"pre\";\n    TAG_NAMES[\"RB\"] = \"rb\";\n    TAG_NAMES[\"RP\"] = \"rp\";\n    TAG_NAMES[\"RT\"] = \"rt\";\n    TAG_NAMES[\"RTC\"] = \"rtc\";\n    TAG_NAMES[\"RUBY\"] = \"ruby\";\n    TAG_NAMES[\"S\"] = \"s\";\n    TAG_NAMES[\"SCRIPT\"] = \"script\";\n    TAG_NAMES[\"SEARCH\"] = \"search\";\n    TAG_NAMES[\"SECTION\"] = \"section\";\n    TAG_NAMES[\"SELECT\"] = \"select\";\n    TAG_NAMES[\"SOURCE\"] = \"source\";\n    TAG_NAMES[\"SMALL\"] = \"small\";\n    TAG_NAMES[\"SPAN\"] = \"span\";\n    TAG_NAMES[\"STRIKE\"] = \"strike\";\n    TAG_NAMES[\"STRONG\"] = \"strong\";\n    TAG_NAMES[\"STYLE\"] = \"style\";\n    TAG_NAMES[\"SUB\"] = \"sub\";\n    TAG_NAMES[\"SUMMARY\"] = \"summary\";\n    TAG_NAMES[\"SUP\"] = \"sup\";\n    TAG_NAMES[\"TABLE\"] = \"table\";\n    TAG_NAMES[\"TBODY\"] = \"tbody\";\n    TAG_NAMES[\"TEMPLATE\"] = \"template\";\n    TAG_NAMES[\"TEXTAREA\"] = \"textarea\";\n    TAG_NAMES[\"TFOOT\"] = \"tfoot\";\n    TAG_NAMES[\"TD\"] = \"td\";\n    TAG_NAMES[\"TH\"] = \"th\";\n    TAG_NAMES[\"THEAD\"] = \"thead\";\n    TAG_NAMES[\"TITLE\"] = \"title\";\n    TAG_NAMES[\"TR\"] = \"tr\";\n    TAG_NAMES[\"TRACK\"] = \"track\";\n    TAG_NAMES[\"TT\"] = \"tt\";\n    TAG_NAMES[\"U\"] = \"u\";\n    TAG_NAMES[\"UL\"] = \"ul\";\n    TAG_NAMES[\"SVG\"] = \"svg\";\n    TAG_NAMES[\"VAR\"] = \"var\";\n    TAG_NAMES[\"WBR\"] = \"wbr\";\n    TAG_NAMES[\"XMP\"] = \"xmp\";\n})(TAG_NAMES || (TAG_NAMES = {}));\n/**\n * Tag IDs are numeric IDs for known tag names.\n *\n * We use tag IDs to improve the performance of tag name comparisons.\n */\nexport var TAG_ID;\n(function (TAG_ID) {\n    TAG_ID[TAG_ID[\"UNKNOWN\"] = 0] = \"UNKNOWN\";\n    TAG_ID[TAG_ID[\"A\"] = 1] = \"A\";\n    TAG_ID[TAG_ID[\"ADDRESS\"] = 2] = \"ADDRESS\";\n    TAG_ID[TAG_ID[\"ANNOTATION_XML\"] = 3] = \"ANNOTATION_XML\";\n    TAG_ID[TAG_ID[\"APPLET\"] = 4] = \"APPLET\";\n    TAG_ID[TAG_ID[\"AREA\"] = 5] = \"AREA\";\n    TAG_ID[TAG_ID[\"ARTICLE\"] = 6] = \"ARTICLE\";\n    TAG_ID[TAG_ID[\"ASIDE\"] = 7] = \"ASIDE\";\n    TAG_ID[TAG_ID[\"B\"] = 8] = \"B\";\n    TAG_ID[TAG_ID[\"BASE\"] = 9] = \"BASE\";\n    TAG_ID[TAG_ID[\"BASEFONT\"] = 10] = \"BASEFONT\";\n    TAG_ID[TAG_ID[\"BGSOUND\"] = 11] = \"BGSOUND\";\n    TAG_ID[TAG_ID[\"BIG\"] = 12] = \"BIG\";\n    TAG_ID[TAG_ID[\"BLOCKQUOTE\"] = 13] = \"BLOCKQUOTE\";\n    TAG_ID[TAG_ID[\"BODY\"] = 14] = \"BODY\";\n    TAG_ID[TAG_ID[\"BR\"] = 15] = \"BR\";\n    TAG_ID[TAG_ID[\"BUTTON\"] = 16] = \"BUTTON\";\n    TAG_ID[TAG_ID[\"CAPTION\"] = 17] = \"CAPTION\";\n    TAG_ID[TAG_ID[\"CENTER\"] = 18] = \"CENTER\";\n    TAG_ID[TAG_ID[\"CODE\"] = 19] = \"CODE\";\n    TAG_ID[TAG_ID[\"COL\"] = 20] = \"COL\";\n    TAG_ID[TAG_ID[\"COLGROUP\"] = 21] = \"COLGROUP\";\n    TAG_ID[TAG_ID[\"DD\"] = 22] = \"DD\";\n    TAG_ID[TAG_ID[\"DESC\"] = 23] = \"DESC\";\n    TAG_ID[TAG_ID[\"DETAILS\"] = 24] = \"DETAILS\";\n    TAG_ID[TAG_ID[\"DIALOG\"] = 25] = \"DIALOG\";\n    TAG_ID[TAG_ID[\"DIR\"] = 26] = \"DIR\";\n    TAG_ID[TAG_ID[\"DIV\"] = 27] = \"DIV\";\n    TAG_ID[TAG_ID[\"DL\"] = 28] = \"DL\";\n    TAG_ID[TAG_ID[\"DT\"] = 29] = \"DT\";\n    TAG_ID[TAG_ID[\"EM\"] = 30] = \"EM\";\n    TAG_ID[TAG_ID[\"EMBED\"] = 31] = \"EMBED\";\n    TAG_ID[TAG_ID[\"FIELDSET\"] = 32] = \"FIELDSET\";\n    TAG_ID[TAG_ID[\"FIGCAPTION\"] = 33] = \"FIGCAPTION\";\n    TAG_ID[TAG_ID[\"FIGURE\"] = 34] = \"FIGURE\";\n    TAG_ID[TAG_ID[\"FONT\"] = 35] = \"FONT\";\n    TAG_ID[TAG_ID[\"FOOTER\"] = 36] = \"FOOTER\";\n    TAG_ID[TAG_ID[\"FOREIGN_OBJECT\"] = 37] = \"FOREIGN_OBJECT\";\n    TAG_ID[TAG_ID[\"FORM\"] = 38] = \"FORM\";\n    TAG_ID[TAG_ID[\"FRAME\"] = 39] = \"FRAME\";\n    TAG_ID[TAG_ID[\"FRAMESET\"] = 40] = \"FRAMESET\";\n    TAG_ID[TAG_ID[\"H1\"] = 41] = \"H1\";\n    TAG_ID[TAG_ID[\"H2\"] = 42] = \"H2\";\n    TAG_ID[TAG_ID[\"H3\"] = 43] = \"H3\";\n    TAG_ID[TAG_ID[\"H4\"] = 44] = \"H4\";\n    TAG_ID[TAG_ID[\"H5\"] = 45] = \"H5\";\n    TAG_ID[TAG_ID[\"H6\"] = 46] = \"H6\";\n    TAG_ID[TAG_ID[\"HEAD\"] = 47] = \"HEAD\";\n    TAG_ID[TAG_ID[\"HEADER\"] = 48] = \"HEADER\";\n    TAG_ID[TAG_ID[\"HGROUP\"] = 49] = \"HGROUP\";\n    TAG_ID[TAG_ID[\"HR\"] = 50] = \"HR\";\n    TAG_ID[TAG_ID[\"HTML\"] = 51] = \"HTML\";\n    TAG_ID[TAG_ID[\"I\"] = 52] = \"I\";\n    TAG_ID[TAG_ID[\"IMG\"] = 53] = \"IMG\";\n    TAG_ID[TAG_ID[\"IMAGE\"] = 54] = \"IMAGE\";\n    TAG_ID[TAG_ID[\"INPUT\"] = 55] = \"INPUT\";\n    TAG_ID[TAG_ID[\"IFRAME\"] = 56] = \"IFRAME\";\n    TAG_ID[TAG_ID[\"KEYGEN\"] = 57] = \"KEYGEN\";\n    TAG_ID[TAG_ID[\"LABEL\"] = 58] = \"LABEL\";\n    TAG_ID[TAG_ID[\"LI\"] = 59] = \"LI\";\n    TAG_ID[TAG_ID[\"LINK\"] = 60] = \"LINK\";\n    TAG_ID[TAG_ID[\"LISTING\"] = 61] = \"LISTING\";\n    TAG_ID[TAG_ID[\"MAIN\"] = 62] = \"MAIN\";\n    TAG_ID[TAG_ID[\"MALIGNMARK\"] = 63] = \"MALIGNMARK\";\n    TAG_ID[TAG_ID[\"MARQUEE\"] = 64] = \"MARQUEE\";\n    TAG_ID[TAG_ID[\"MATH\"] = 65] = \"MATH\";\n    TAG_ID[TAG_ID[\"MENU\"] = 66] = \"MENU\";\n    TAG_ID[TAG_ID[\"META\"] = 67] = \"META\";\n    TAG_ID[TAG_ID[\"MGLYPH\"] = 68] = \"MGLYPH\";\n    TAG_ID[TAG_ID[\"MI\"] = 69] = \"MI\";\n    TAG_ID[TAG_ID[\"MO\"] = 70] = \"MO\";\n    TAG_ID[TAG_ID[\"MN\"] = 71] = \"MN\";\n    TAG_ID[TAG_ID[\"MS\"] = 72] = \"MS\";\n    TAG_ID[TAG_ID[\"MTEXT\"] = 73] = \"MTEXT\";\n    TAG_ID[TAG_ID[\"NAV\"] = 74] = \"NAV\";\n    TAG_ID[TAG_ID[\"NOBR\"] = 75] = \"NOBR\";\n    TAG_ID[TAG_ID[\"NOFRAMES\"] = 76] = \"NOFRAMES\";\n    TAG_ID[TAG_ID[\"NOEMBED\"] = 77] = \"NOEMBED\";\n    TAG_ID[TAG_ID[\"NOSCRIPT\"] = 78] = \"NOSCRIPT\";\n    TAG_ID[TAG_ID[\"OBJECT\"] = 79] = \"OBJECT\";\n    TAG_ID[TAG_ID[\"OL\"] = 80] = \"OL\";\n    TAG_ID[TAG_ID[\"OPTGROUP\"] = 81] = \"OPTGROUP\";\n    TAG_ID[TAG_ID[\"OPTION\"] = 82] = \"OPTION\";\n    TAG_ID[TAG_ID[\"P\"] = 83] = \"P\";\n    TAG_ID[TAG_ID[\"PARAM\"] = 84] = \"PARAM\";\n    TAG_ID[TAG_ID[\"PLAINTEXT\"] = 85] = \"PLAINTEXT\";\n    TAG_ID[TAG_ID[\"PRE\"] = 86] = \"PRE\";\n    TAG_ID[TAG_ID[\"RB\"] = 87] = \"RB\";\n    TAG_ID[TAG_ID[\"RP\"] = 88] = \"RP\";\n    TAG_ID[TAG_ID[\"RT\"] = 89] = \"RT\";\n    TAG_ID[TAG_ID[\"RTC\"] = 90] = \"RTC\";\n    TAG_ID[TAG_ID[\"RUBY\"] = 91] = \"RUBY\";\n    TAG_ID[TAG_ID[\"S\"] = 92] = \"S\";\n    TAG_ID[TAG_ID[\"SCRIPT\"] = 93] = \"SCRIPT\";\n    TAG_ID[TAG_ID[\"SEARCH\"] = 94] = \"SEARCH\";\n    TAG_ID[TAG_ID[\"SECTION\"] = 95] = \"SECTION\";\n    TAG_ID[TAG_ID[\"SELECT\"] = 96] = \"SELECT\";\n    TAG_ID[TAG_ID[\"SOURCE\"] = 97] = \"SOURCE\";\n    TAG_ID[TAG_ID[\"SMALL\"] = 98] = \"SMALL\";\n    TAG_ID[TAG_ID[\"SPAN\"] = 99] = \"SPAN\";\n    TAG_ID[TAG_ID[\"STRIKE\"] = 100] = \"STRIKE\";\n    TAG_ID[TAG_ID[\"STRONG\"] = 101] = \"STRONG\";\n    TAG_ID[TAG_ID[\"STYLE\"] = 102] = \"STYLE\";\n    TAG_ID[TAG_ID[\"SUB\"] = 103] = \"SUB\";\n    TAG_ID[TAG_ID[\"SUMMARY\"] = 104] = \"SUMMARY\";\n    TAG_ID[TAG_ID[\"SUP\"] = 105] = \"SUP\";\n    TAG_ID[TAG_ID[\"TABLE\"] = 106] = \"TABLE\";\n    TAG_ID[TAG_ID[\"TBODY\"] = 107] = \"TBODY\";\n    TAG_ID[TAG_ID[\"TEMPLATE\"] = 108] = \"TEMPLATE\";\n    TAG_ID[TAG_ID[\"TEXTAREA\"] = 109] = \"TEXTAREA\";\n    TAG_ID[TAG_ID[\"TFOOT\"] = 110] = \"TFOOT\";\n    TAG_ID[TAG_ID[\"TD\"] = 111] = \"TD\";\n    TAG_ID[TAG_ID[\"TH\"] = 112] = \"TH\";\n    TAG_ID[TAG_ID[\"THEAD\"] = 113] = \"THEAD\";\n    TAG_ID[TAG_ID[\"TITLE\"] = 114] = \"TITLE\";\n    TAG_ID[TAG_ID[\"TR\"] = 115] = \"TR\";\n    TAG_ID[TAG_ID[\"TRACK\"] = 116] = \"TRACK\";\n    TAG_ID[TAG_ID[\"TT\"] = 117] = \"TT\";\n    TAG_ID[TAG_ID[\"U\"] = 118] = \"U\";\n    TAG_ID[TAG_ID[\"UL\"] = 119] = \"UL\";\n    TAG_ID[TAG_ID[\"SVG\"] = 120] = \"SVG\";\n    TAG_ID[TAG_ID[\"VAR\"] = 121] = \"VAR\";\n    TAG_ID[TAG_ID[\"WBR\"] = 122] = \"WBR\";\n    TAG_ID[TAG_ID[\"XMP\"] = 123] = \"XMP\";\n})(TAG_ID || (TAG_ID = {}));\nconst TAG_NAME_TO_ID = new Map([\n    [TAG_NAMES.A, TAG_ID.A],\n    [TAG_NAMES.ADDRESS, TAG_ID.ADDRESS],\n    [TAG_NAMES.ANNOTATION_XML, TAG_ID.ANNOTATION_XML],\n    [TAG_NAMES.APPLET, TAG_ID.APPLET],\n    [TAG_NAMES.AREA, TAG_ID.AREA],\n    [TAG_NAMES.ARTICLE, TAG_ID.ARTICLE],\n    [TAG_NAMES.ASIDE, TAG_ID.ASIDE],\n    [TAG_NAMES.B, TAG_ID.B],\n    [TAG_NAMES.BASE, TAG_ID.BASE],\n    [TAG_NAMES.BASEFONT, TAG_ID.BASEFONT],\n    [TAG_NAMES.BGSOUND, TAG_ID.BGSOUND],\n    [TAG_NAMES.BIG, TAG_ID.BIG],\n    [TAG_NAMES.BLOCKQUOTE, TAG_ID.BLOCKQUOTE],\n    [TAG_NAMES.BODY, TAG_ID.BODY],\n    [TAG_NAMES.BR, TAG_ID.BR],\n    [TAG_NAMES.BUTTON, TAG_ID.BUTTON],\n    [TAG_NAMES.CAPTION, TAG_ID.CAPTION],\n    [TAG_NAMES.CENTER, TAG_ID.CENTER],\n    [TAG_NAMES.CODE, TAG_ID.CODE],\n    [TAG_NAMES.COL, TAG_ID.COL],\n    [TAG_NAMES.COLGROUP, TAG_ID.COLGROUP],\n    [TAG_NAMES.DD, TAG_ID.DD],\n    [TAG_NAMES.DESC, TAG_ID.DESC],\n    [TAG_NAMES.DETAILS, TAG_ID.DETAILS],\n    [TAG_NAMES.DIALOG, TAG_ID.DIALOG],\n    [TAG_NAMES.DIR, TAG_ID.DIR],\n    [TAG_NAMES.DIV, TAG_ID.DIV],\n    [TAG_NAMES.DL, TAG_ID.DL],\n    [TAG_NAMES.DT, TAG_ID.DT],\n    [TAG_NAMES.EM, TAG_ID.EM],\n    [TAG_NAMES.EMBED, TAG_ID.EMBED],\n    [TAG_NAMES.FIELDSET, TAG_ID.FIELDSET],\n    [TAG_NAMES.FIGCAPTION, TAG_ID.FIGCAPTION],\n    [TAG_NAMES.FIGURE, TAG_ID.FIGURE],\n    [TAG_NAMES.FONT, TAG_ID.FONT],\n    [TAG_NAMES.FOOTER, TAG_ID.FOOTER],\n    [TAG_NAMES.FOREIGN_OBJECT, TAG_ID.FOREIGN_OBJECT],\n    [TAG_NAMES.FORM, TAG_ID.FORM],\n    [TAG_NAMES.FRAME, TAG_ID.FRAME],\n    [TAG_NAMES.FRAMESET, TAG_ID.FRAMESET],\n    [TAG_NAMES.H1, TAG_ID.H1],\n    [TAG_NAMES.H2, TAG_ID.H2],\n    [TAG_NAMES.H3, TAG_ID.H3],\n    [TAG_NAMES.H4, TAG_ID.H4],\n    [TAG_NAMES.H5, TAG_ID.H5],\n    [TAG_NAMES.H6, TAG_ID.H6],\n    [TAG_NAMES.HEAD, TAG_ID.HEAD],\n    [TAG_NAMES.HEADER, TAG_ID.HEADER],\n    [TAG_NAMES.HGROUP, TAG_ID.HGROUP],\n    [TAG_NAMES.HR, TAG_ID.HR],\n    [TAG_NAMES.HTML, TAG_ID.HTML],\n    [TAG_NAMES.I, TAG_ID.I],\n    [TAG_NAMES.IMG, TAG_ID.IMG],\n    [TAG_NAMES.IMAGE, TAG_ID.IMAGE],\n    [TAG_NAMES.INPUT, TAG_ID.INPUT],\n    [TAG_NAMES.IFRAME, TAG_ID.IFRAME],\n    [TAG_NAMES.KEYGEN, TAG_ID.KEYGEN],\n    [TAG_NAMES.LABEL, TAG_ID.LABEL],\n    [TAG_NAMES.LI, TAG_ID.LI],\n    [TAG_NAMES.LINK, TAG_ID.LINK],\n    [TAG_NAMES.LISTING, TAG_ID.LISTING],\n    [TAG_NAMES.MAIN, TAG_ID.MAIN],\n    [TAG_NAMES.MALIGNMARK, TAG_ID.MALIGNMARK],\n    [TAG_NAMES.MARQUEE, TAG_ID.MARQUEE],\n    [TAG_NAMES.MATH, TAG_ID.MATH],\n    [TAG_NAMES.MENU, TAG_ID.MENU],\n    [TAG_NAMES.META, TAG_ID.META],\n    [TAG_NAMES.MGLYPH, TAG_ID.MGLYPH],\n    [TAG_NAMES.MI, TAG_ID.MI],\n    [TAG_NAMES.MO, TAG_ID.MO],\n    [TAG_NAMES.MN, TAG_ID.MN],\n    [TAG_NAMES.MS, TAG_ID.MS],\n    [TAG_NAMES.MTEXT, TAG_ID.MTEXT],\n    [TAG_NAMES.NAV, TAG_ID.NAV],\n    [TAG_NAMES.NOBR, TAG_ID.NOBR],\n    [TAG_NAMES.NOFRAMES, TAG_ID.NOFRAMES],\n    [TAG_NAMES.NOEMBED, TAG_ID.NOEMBED],\n    [TAG_NAMES.NOSCRIPT, TAG_ID.NOSCRIPT],\n    [TAG_NAMES.OBJECT, TAG_ID.OBJECT],\n    [TAG_NAMES.OL, TAG_ID.OL],\n    [TAG_NAMES.OPTGROUP, TAG_ID.OPTGROUP],\n    [TAG_NAMES.OPTION, TAG_ID.OPTION],\n    [TAG_NAMES.P, TAG_ID.P],\n    [TAG_NAMES.PARAM, TAG_ID.PARAM],\n    [TAG_NAMES.PLAINTEXT, TAG_ID.PLAINTEXT],\n    [TAG_NAMES.PRE, TAG_ID.PRE],\n    [TAG_NAMES.RB, TAG_ID.RB],\n    [TAG_NAMES.RP, TAG_ID.RP],\n    [TAG_NAMES.RT, TAG_ID.RT],\n    [TAG_NAMES.RTC, TAG_ID.RTC],\n    [TAG_NAMES.RUBY, TAG_ID.RUBY],\n    [TAG_NAMES.S, TAG_ID.S],\n    [TAG_NAMES.SCRIPT, TAG_ID.SCRIPT],\n    [TAG_NAMES.SEARCH, TAG_ID.SEARCH],\n    [TAG_NAMES.SECTION, TAG_ID.SECTION],\n    [TAG_NAMES.SELECT, TAG_ID.SELECT],\n    [TAG_NAMES.SOURCE, TAG_ID.SOURCE],\n    [TAG_NAMES.SMALL, TAG_ID.SMALL],\n    [TAG_NAMES.SPAN, TAG_ID.SPAN],\n    [TAG_NAMES.STRIKE, TAG_ID.STRIKE],\n    [TAG_NAMES.STRONG, TAG_ID.STRONG],\n    [TAG_NAMES.STYLE, TAG_ID.STYLE],\n    [TAG_NAMES.SUB, TAG_ID.SUB],\n    [TAG_NAMES.SUMMARY, TAG_ID.SUMMARY],\n    [TAG_NAMES.SUP, TAG_ID.SUP],\n    [TAG_NAMES.TABLE, TAG_ID.TABLE],\n    [TAG_NAMES.TBODY, TAG_ID.TBODY],\n    [TAG_NAMES.TEMPLATE, TAG_ID.TEMPLATE],\n    [TAG_NAMES.TEXTAREA, TAG_ID.TEXTAREA],\n    [TAG_NAMES.TFOOT, TAG_ID.TFOOT],\n    [TAG_NAMES.TD, TAG_ID.TD],\n    [TAG_NAMES.TH, TAG_ID.TH],\n    [TAG_NAMES.THEAD, TAG_ID.THEAD],\n    [TAG_NAMES.TITLE, TAG_ID.TITLE],\n    [TAG_NAMES.TR, TAG_ID.TR],\n    [TAG_NAMES.TRACK, TAG_ID.TRACK],\n    [TAG_NAMES.TT, TAG_ID.TT],\n    [TAG_NAMES.U, TAG_ID.U],\n    [TAG_NAMES.UL, TAG_ID.UL],\n    [TAG_NAMES.SVG, TAG_ID.SVG],\n    [TAG_NAMES.VAR, TAG_ID.VAR],\n    [TAG_NAMES.WBR, TAG_ID.WBR],\n    [TAG_NAMES.XMP, TAG_ID.XMP],\n]);\nexport function getTagID(tagName) {\n    var _a;\n    return (_a = TAG_NAME_TO_ID.get(tagName)) !== null && _a !== void 0 ? _a : TAG_ID.UNKNOWN;\n}\nconst $ = TAG_ID;\nexport const SPECIAL_ELEMENTS = {\n    [NS.HTML]: new Set([\n        $.ADDRESS,\n        $.APPLET,\n        $.AREA,\n        $.ARTICLE,\n        $.ASIDE,\n        $.BASE,\n        $.BASEFONT,\n        $.BGSOUND,\n        $.BLOCKQUOTE,\n        $.BODY,\n        $.BR,\n        $.BUTTON,\n        $.CAPTION,\n        $.CENTER,\n        $.COL,\n        $.COLGROUP,\n        $.DD,\n        $.DETAILS,\n        $.DIR,\n        $.DIV,\n        $.DL,\n        $.DT,\n        $.EMBED,\n        $.FIELDSET,\n        $.FIGCAPTION,\n        $.FIGURE,\n        $.FOOTER,\n        $.FORM,\n        $.FRAME,\n        $.FRAMESET,\n        $.H1,\n        $.H2,\n        $.H3,\n        $.H4,\n        $.H5,\n        $.H6,\n        $.HEAD,\n        $.HEADER,\n        $.HGROUP,\n        $.HR,\n        $.HTML,\n        $.IFRAME,\n        $.IMG,\n        $.INPUT,\n        $.LI,\n        $.LINK,\n        $.LISTING,\n        $.MAIN,\n        $.MARQUEE,\n        $.MENU,\n        $.META,\n        $.NAV,\n        $.NOEMBED,\n        $.NOFRAMES,\n        $.NOSCRIPT,\n        $.OBJECT,\n        $.OL,\n        $.P,\n        $.PARAM,\n        $.PLAINTEXT,\n        $.PRE,\n        $.SCRIPT,\n        $.SECTION,\n        $.SELECT,\n        $.SOURCE,\n        $.STYLE,\n        $.SUMMARY,\n        $.TABLE,\n        $.TBODY,\n        $.TD,\n        $.TEMPLATE,\n        $.TEXTAREA,\n        $.TFOOT,\n        $.TH,\n        $.THEAD,\n        $.TITLE,\n        $.TR,\n        $.TRACK,\n        $.UL,\n        $.WBR,\n        $.XMP,\n    ]),\n    [NS.MATHML]: new Set([$.MI, $.MO, $.MN, $.MS, $.MTEXT, $.ANNOTATION_XML]),\n    [NS.SVG]: new Set([$.TITLE, $.FOREIGN_OBJECT, $.DESC]),\n    [NS.XLINK]: new Set(),\n    [NS.XML]: new Set(),\n    [NS.XMLNS]: new Set(),\n};\nexport const NUMBERED_HEADERS = new Set([$.H1, $.H2, $.H3, $.H4, $.H5, $.H6]);\nconst UNESCAPED_TEXT = new Set([\n    TAG_NAMES.STYLE,\n    TAG_NAMES.SCRIPT,\n    TAG_NAMES.XMP,\n    TAG_NAMES.IFRAME,\n    TAG_NAMES.NOEMBED,\n    TAG_NAMES.NOFRAMES,\n    TAG_NAMES.PLAINTEXT,\n]);\nexport function hasUnescapedText(tn, scriptingEnabled) {\n    return UNESCAPED_TEXT.has(tn) || (scriptingEnabled && tn === TAG_NAMES.NOSCRIPT);\n}\n","import { Preprocessor } from './preprocessor.js';\nimport { CODE_POINTS as $, SEQUENCES as $$, REPLACEMENT_CHARACTER, isSurrogate, isUndefinedCodePoint, isControlCodePoint, } from '../common/unicode.js';\nimport { TokenType, getTokenAttr, } from '../common/token.js';\nimport { htmlDecodeTree, EntityDecoder, DecodingMode } from 'entities/lib/decode.js';\nimport { ERR } from '../common/error-codes.js';\nimport { TAG_ID, getTagID } from '../common/html.js';\n//States\nvar State;\n(function (State) {\n    State[State[\"DATA\"] = 0] = \"DATA\";\n    State[State[\"RCDATA\"] = 1] = \"RCDATA\";\n    State[State[\"RAWTEXT\"] = 2] = \"RAWTEXT\";\n    State[State[\"SCRIPT_DATA\"] = 3] = \"SCRIPT_DATA\";\n    State[State[\"PLAINTEXT\"] = 4] = \"PLAINTEXT\";\n    State[State[\"TAG_OPEN\"] = 5] = \"TAG_OPEN\";\n    State[State[\"END_TAG_OPEN\"] = 6] = \"END_TAG_OPEN\";\n    State[State[\"TAG_NAME\"] = 7] = \"TAG_NAME\";\n    State[State[\"RCDATA_LESS_THAN_SIGN\"] = 8] = \"RCDATA_LESS_THAN_SIGN\";\n    State[State[\"RCDATA_END_TAG_OPEN\"] = 9] = \"RCDATA_END_TAG_OPEN\";\n    State[State[\"RCDATA_END_TAG_NAME\"] = 10] = \"RCDATA_END_TAG_NAME\";\n    State[State[\"RAWTEXT_LESS_THAN_SIGN\"] = 11] = \"RAWTEXT_LESS_THAN_SIGN\";\n    State[State[\"RAWTEXT_END_TAG_OPEN\"] = 12] = \"RAWTEXT_END_TAG_OPEN\";\n    State[State[\"RAWTEXT_END_TAG_NAME\"] = 13] = \"RAWTEXT_END_TAG_NAME\";\n    State[State[\"SCRIPT_DATA_LESS_THAN_SIGN\"] = 14] = \"SCRIPT_DATA_LESS_THAN_SIGN\";\n    State[State[\"SCRIPT_DATA_END_TAG_OPEN\"] = 15] = \"SCRIPT_DATA_END_TAG_OPEN\";\n    State[State[\"SCRIPT_DATA_END_TAG_NAME\"] = 16] = \"SCRIPT_DATA_END_TAG_NAME\";\n    State[State[\"SCRIPT_DATA_ESCAPE_START\"] = 17] = \"SCRIPT_DATA_ESCAPE_START\";\n    State[State[\"SCRIPT_DATA_ESCAPE_START_DASH\"] = 18] = \"SCRIPT_DATA_ESCAPE_START_DASH\";\n    State[State[\"SCRIPT_DATA_ESCAPED\"] = 19] = \"SCRIPT_DATA_ESCAPED\";\n    State[State[\"SCRIPT_DATA_ESCAPED_DASH\"] = 20] = \"SCRIPT_DATA_ESCAPED_DASH\";\n    State[State[\"SCRIPT_DATA_ESCAPED_DASH_DASH\"] = 21] = \"SCRIPT_DATA_ESCAPED_DASH_DASH\";\n    State[State[\"SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN\"] = 22] = \"SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN\";\n    State[State[\"SCRIPT_DATA_ESCAPED_END_TAG_OPEN\"] = 23] = \"SCRIPT_DATA_ESCAPED_END_TAG_OPEN\";\n    State[State[\"SCRIPT_DATA_ESCAPED_END_TAG_NAME\"] = 24] = \"SCRIPT_DATA_ESCAPED_END_TAG_NAME\";\n    State[State[\"SCRIPT_DATA_DOUBLE_ESCAPE_START\"] = 25] = \"SCRIPT_DATA_DOUBLE_ESCAPE_START\";\n    State[State[\"SCRIPT_DATA_DOUBLE_ESCAPED\"] = 26] = \"SCRIPT_DATA_DOUBLE_ESCAPED\";\n    State[State[\"SCRIPT_DATA_DOUBLE_ESCAPED_DASH\"] = 27] = \"SCRIPT_DATA_DOUBLE_ESCAPED_DASH\";\n    State[State[\"SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH\"] = 28] = \"SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH\";\n    State[State[\"SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN\"] = 29] = \"SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN\";\n    State[State[\"SCRIPT_DATA_DOUBLE_ESCAPE_END\"] = 30] = \"SCRIPT_DATA_DOUBLE_ESCAPE_END\";\n    State[State[\"BEFORE_ATTRIBUTE_NAME\"] = 31] = \"BEFORE_ATTRIBUTE_NAME\";\n    State[State[\"ATTRIBUTE_NAME\"] = 32] = \"ATTRIBUTE_NAME\";\n    State[State[\"AFTER_ATTRIBUTE_NAME\"] = 33] = \"AFTER_ATTRIBUTE_NAME\";\n    State[State[\"BEFORE_ATTRIBUTE_VALUE\"] = 34] = \"BEFORE_ATTRIBUTE_VALUE\";\n    State[State[\"ATTRIBUTE_VALUE_DOUBLE_QUOTED\"] = 35] = \"ATTRIBUTE_VALUE_DOUBLE_QUOTED\";\n    State[State[\"ATTRIBUTE_VALUE_SINGLE_QUOTED\"] = 36] = \"ATTRIBUTE_VALUE_SINGLE_QUOTED\";\n    State[State[\"ATTRIBUTE_VALUE_UNQUOTED\"] = 37] = \"ATTRIBUTE_VALUE_UNQUOTED\";\n    State[State[\"AFTER_ATTRIBUTE_VALUE_QUOTED\"] = 38] = \"AFTER_ATTRIBUTE_VALUE_QUOTED\";\n    State[State[\"SELF_CLOSING_START_TAG\"] = 39] = \"SELF_CLOSING_START_TAG\";\n    State[State[\"BOGUS_COMMENT\"] = 40] = \"BOGUS_COMMENT\";\n    State[State[\"MARKUP_DECLARATION_OPEN\"] = 41] = \"MARKUP_DECLARATION_OPEN\";\n    State[State[\"COMMENT_START\"] = 42] = \"COMMENT_START\";\n    State[State[\"COMMENT_START_DASH\"] = 43] = \"COMMENT_START_DASH\";\n    State[State[\"COMMENT\"] = 44] = \"COMMENT\";\n    State[State[\"COMMENT_LESS_THAN_SIGN\"] = 45] = \"COMMENT_LESS_THAN_SIGN\";\n    State[State[\"COMMENT_LESS_THAN_SIGN_BANG\"] = 46] = \"COMMENT_LESS_THAN_SIGN_BANG\";\n    State[State[\"COMMENT_LESS_THAN_SIGN_BANG_DASH\"] = 47] = \"COMMENT_LESS_THAN_SIGN_BANG_DASH\";\n    State[State[\"COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH\"] = 48] = \"COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH\";\n    State[State[\"COMMENT_END_DASH\"] = 49] = \"COMMENT_END_DASH\";\n    State[State[\"COMMENT_END\"] = 50] = \"COMMENT_END\";\n    State[State[\"COMMENT_END_BANG\"] = 51] = \"COMMENT_END_BANG\";\n    State[State[\"DOCTYPE\"] = 52] = \"DOCTYPE\";\n    State[State[\"BEFORE_DOCTYPE_NAME\"] = 53] = \"BEFORE_DOCTYPE_NAME\";\n    State[State[\"DOCTYPE_NAME\"] = 54] = \"DOCTYPE_NAME\";\n    State[State[\"AFTER_DOCTYPE_NAME\"] = 55] = \"AFTER_DOCTYPE_NAME\";\n    State[State[\"AFTER_DOCTYPE_PUBLIC_KEYWORD\"] = 56] = \"AFTER_DOCTYPE_PUBLIC_KEYWORD\";\n    State[State[\"BEFORE_DOCTYPE_PUBLIC_IDENTIFIER\"] = 57] = \"BEFORE_DOCTYPE_PUBLIC_IDENTIFIER\";\n    State[State[\"DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED\"] = 58] = \"DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED\";\n    State[State[\"DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED\"] = 59] = \"DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED\";\n    State[State[\"AFTER_DOCTYPE_PUBLIC_IDENTIFIER\"] = 60] = \"AFTER_DOCTYPE_PUBLIC_IDENTIFIER\";\n    State[State[\"BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS\"] = 61] = \"BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS\";\n    State[State[\"AFTER_DOCTYPE_SYSTEM_KEYWORD\"] = 62] = \"AFTER_DOCTYPE_SYSTEM_KEYWORD\";\n    State[State[\"BEFORE_DOCTYPE_SYSTEM_IDENTIFIER\"] = 63] = \"BEFORE_DOCTYPE_SYSTEM_IDENTIFIER\";\n    State[State[\"DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED\"] = 64] = \"DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED\";\n    State[State[\"DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED\"] = 65] = \"DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED\";\n    State[State[\"AFTER_DOCTYPE_SYSTEM_IDENTIFIER\"] = 66] = \"AFTER_DOCTYPE_SYSTEM_IDENTIFIER\";\n    State[State[\"BOGUS_DOCTYPE\"] = 67] = \"BOGUS_DOCTYPE\";\n    State[State[\"CDATA_SECTION\"] = 68] = \"CDATA_SECTION\";\n    State[State[\"CDATA_SECTION_BRACKET\"] = 69] = \"CDATA_SECTION_BRACKET\";\n    State[State[\"CDATA_SECTION_END\"] = 70] = \"CDATA_SECTION_END\";\n    State[State[\"CHARACTER_REFERENCE\"] = 71] = \"CHARACTER_REFERENCE\";\n    State[State[\"AMBIGUOUS_AMPERSAND\"] = 72] = \"AMBIGUOUS_AMPERSAND\";\n})(State || (State = {}));\n//Tokenizer initial states for different modes\nexport const TokenizerMode = {\n    DATA: State.DATA,\n    RCDATA: State.RCDATA,\n    RAWTEXT: State.RAWTEXT,\n    SCRIPT_DATA: State.SCRIPT_DATA,\n    PLAINTEXT: State.PLAINTEXT,\n    CDATA_SECTION: State.CDATA_SECTION,\n};\n//Utils\n//OPTIMIZATION: these utility functions should not be moved out of this module. V8 Crankshaft will not inline\n//this functions if they will be situated in another module due to context switch.\n//Always perform inlining check before modifying this functions ('node --trace-inlining').\nfunction isAsciiDigit(cp) {\n    return cp >= $.DIGIT_0 && cp <= $.DIGIT_9;\n}\nfunction isAsciiUpper(cp) {\n    return cp >= $.LATIN_CAPITAL_A && cp <= $.LATIN_CAPITAL_Z;\n}\nfunction isAsciiLower(cp) {\n    return cp >= $.LATIN_SMALL_A && cp <= $.LATIN_SMALL_Z;\n}\nfunction isAsciiLetter(cp) {\n    return isAsciiLower(cp) || isAsciiUpper(cp);\n}\nfunction isAsciiAlphaNumeric(cp) {\n    return isAsciiLetter(cp) || isAsciiDigit(cp);\n}\nfunction toAsciiLower(cp) {\n    return cp + 32;\n}\nfunction isWhitespace(cp) {\n    return cp === $.SPACE || cp === $.LINE_FEED || cp === $.TABULATION || cp === $.FORM_FEED;\n}\nfunction isScriptDataDoubleEscapeSequenceEnd(cp) {\n    return isWhitespace(cp) || cp === $.SOLIDUS || cp === $.GREATER_THAN_SIGN;\n}\nfunction getErrorForNumericCharacterReference(code) {\n    if (code === $.NULL) {\n        return ERR.nullCharacterReference;\n    }\n    else if (code > 1114111) {\n        return ERR.characterReferenceOutsideUnicodeRange;\n    }\n    else if (isSurrogate(code)) {\n        return ERR.surrogateCharacterReference;\n    }\n    else if (isUndefinedCodePoint(code)) {\n        return ERR.noncharacterCharacterReference;\n    }\n    else if (isControlCodePoint(code) || code === $.CARRIAGE_RETURN) {\n        return ERR.controlCharacterReference;\n    }\n    return null;\n}\n//Tokenizer\nexport class Tokenizer {\n    constructor(options, handler) {\n        this.options = options;\n        this.handler = handler;\n        this.paused = false;\n        /** Ensures that the parsing loop isn't run multiple times at once. */\n        this.inLoop = false;\n        /**\n         * Indicates that the current adjusted node exists, is not an element in the HTML namespace,\n         * and that it is not an integration point for either MathML or HTML.\n         *\n         * @see {@link https://html.spec.whatwg.org/multipage/parsing.html#tree-construction}\n         */\n        this.inForeignNode = false;\n        this.lastStartTagName = '';\n        this.active = false;\n        this.state = State.DATA;\n        this.returnState = State.DATA;\n        this.entityStartPos = 0;\n        this.consumedAfterSnapshot = -1;\n        this.currentCharacterToken = null;\n        this.currentToken = null;\n        this.currentAttr = { name: '', value: '' };\n        this.preprocessor = new Preprocessor(handler);\n        this.currentLocation = this.getCurrentLocation(-1);\n        this.entityDecoder = new EntityDecoder(htmlDecodeTree, (cp, consumed) => {\n            // Note: Set `pos` _before_ flushing, as flushing might drop\n            // the current chunk and invalidate `entityStartPos`.\n            this.preprocessor.pos = this.entityStartPos + consumed - 1;\n            this._flushCodePointConsumedAsCharacterReference(cp);\n        }, handler.onParseError\n            ? {\n                missingSemicolonAfterCharacterReference: () => {\n                    this._err(ERR.missingSemicolonAfterCharacterReference, 1);\n                },\n                absenceOfDigitsInNumericCharacterReference: (consumed) => {\n                    this._err(ERR.absenceOfDigitsInNumericCharacterReference, this.entityStartPos - this.preprocessor.pos + consumed);\n                },\n                validateNumericCharacterReference: (code) => {\n                    const error = getErrorForNumericCharacterReference(code);\n                    if (error)\n                        this._err(error, 1);\n                },\n            }\n            : undefined);\n    }\n    //Errors\n    _err(code, cpOffset = 0) {\n        var _a, _b;\n        (_b = (_a = this.handler).onParseError) === null || _b === void 0 ? void 0 : _b.call(_a, this.preprocessor.getError(code, cpOffset));\n    }\n    // NOTE: `offset` may never run across line boundaries.\n    getCurrentLocation(offset) {\n        if (!this.options.sourceCodeLocationInfo) {\n            return null;\n        }\n        return {\n            startLine: this.preprocessor.line,\n            startCol: this.preprocessor.col - offset,\n            startOffset: this.preprocessor.offset - offset,\n            endLine: -1,\n            endCol: -1,\n            endOffset: -1,\n        };\n    }\n    _runParsingLoop() {\n        if (this.inLoop)\n            return;\n        this.inLoop = true;\n        while (this.active && !this.paused) {\n            this.consumedAfterSnapshot = 0;\n            const cp = this._consume();\n            if (!this._ensureHibernation()) {\n                this._callState(cp);\n            }\n        }\n        this.inLoop = false;\n    }\n    //API\n    pause() {\n        this.paused = true;\n    }\n    resume(writeCallback) {\n        if (!this.paused) {\n            throw new Error('Parser was already resumed');\n        }\n        this.paused = false;\n        // Necessary for synchronous resume.\n        if (this.inLoop)\n            return;\n        this._runParsingLoop();\n        if (!this.paused) {\n            writeCallback === null || writeCallback === void 0 ? void 0 : writeCallback();\n        }\n    }\n    write(chunk, isLastChunk, writeCallback) {\n        this.active = true;\n        this.preprocessor.write(chunk, isLastChunk);\n        this._runParsingLoop();\n        if (!this.paused) {\n            writeCallback === null || writeCallback === void 0 ? void 0 : writeCallback();\n        }\n    }\n    insertHtmlAtCurrentPos(chunk) {\n        this.active = true;\n        this.preprocessor.insertHtmlAtCurrentPos(chunk);\n        this._runParsingLoop();\n    }\n    //Hibernation\n    _ensureHibernation() {\n        if (this.preprocessor.endOfChunkHit) {\n            this.preprocessor.retreat(this.consumedAfterSnapshot);\n            this.consumedAfterSnapshot = 0;\n            this.active = false;\n            return true;\n        }\n        return false;\n    }\n    //Consumption\n    _consume() {\n        this.consumedAfterSnapshot++;\n        return this.preprocessor.advance();\n    }\n    _advanceBy(count) {\n        this.consumedAfterSnapshot += count;\n        for (let i = 0; i < count; i++) {\n            this.preprocessor.advance();\n        }\n    }\n    _consumeSequenceIfMatch(pattern, caseSensitive) {\n        if (this.preprocessor.startsWith(pattern, caseSensitive)) {\n            // We will already have consumed one character before calling this method.\n            this._advanceBy(pattern.length - 1);\n            return true;\n        }\n        return false;\n    }\n    //Token creation\n    _createStartTagToken() {\n        this.currentToken = {\n            type: TokenType.START_TAG,\n            tagName: '',\n            tagID: TAG_ID.UNKNOWN,\n            selfClosing: false,\n            ackSelfClosing: false,\n            attrs: [],\n            location: this.getCurrentLocation(1),\n        };\n    }\n    _createEndTagToken() {\n        this.currentToken = {\n            type: TokenType.END_TAG,\n            tagName: '',\n            tagID: TAG_ID.UNKNOWN,\n            selfClosing: false,\n            ackSelfClosing: false,\n            attrs: [],\n            location: this.getCurrentLocation(2),\n        };\n    }\n    _createCommentToken(offset) {\n        this.currentToken = {\n            type: TokenType.COMMENT,\n            data: '',\n            location: this.getCurrentLocation(offset),\n        };\n    }\n    _createDoctypeToken(initialName) {\n        this.currentToken = {\n            type: TokenType.DOCTYPE,\n            name: initialName,\n            forceQuirks: false,\n            publicId: null,\n            systemId: null,\n            location: this.currentLocation,\n        };\n    }\n    _createCharacterToken(type, chars) {\n        this.currentCharacterToken = {\n            type,\n            chars,\n            location: this.currentLocation,\n        };\n    }\n    //Tag attributes\n    _createAttr(attrNameFirstCh) {\n        this.currentAttr = {\n            name: attrNameFirstCh,\n            value: '',\n        };\n        this.currentLocation = this.getCurrentLocation(0);\n    }\n    _leaveAttrName() {\n        var _a;\n        var _b;\n        const token = this.currentToken;\n        if (getTokenAttr(token, this.currentAttr.name) === null) {\n            token.attrs.push(this.currentAttr);\n            if (token.location && this.currentLocation) {\n                const attrLocations = ((_a = (_b = token.location).attrs) !== null && _a !== void 0 ? _a : (_b.attrs = Object.create(null)));\n                attrLocations[this.currentAttr.name] = this.currentLocation;\n                // Set end location\n                this._leaveAttrValue();\n            }\n        }\n        else {\n            this._err(ERR.duplicateAttribute);\n        }\n    }\n    _leaveAttrValue() {\n        if (this.currentLocation) {\n            this.currentLocation.endLine = this.preprocessor.line;\n            this.currentLocation.endCol = this.preprocessor.col;\n            this.currentLocation.endOffset = this.preprocessor.offset;\n        }\n    }\n    //Token emission\n    prepareToken(ct) {\n        this._emitCurrentCharacterToken(ct.location);\n        this.currentToken = null;\n        if (ct.location) {\n            ct.location.endLine = this.preprocessor.line;\n            ct.location.endCol = this.preprocessor.col + 1;\n            ct.location.endOffset = this.preprocessor.offset + 1;\n        }\n        this.currentLocation = this.getCurrentLocation(-1);\n    }\n    emitCurrentTagToken() {\n        const ct = this.currentToken;\n        this.prepareToken(ct);\n        ct.tagID = getTagID(ct.tagName);\n        if (ct.type === TokenType.START_TAG) {\n            this.lastStartTagName = ct.tagName;\n            this.handler.onStartTag(ct);\n        }\n        else {\n            if (ct.attrs.length > 0) {\n                this._err(ERR.endTagWithAttributes);\n            }\n            if (ct.selfClosing) {\n                this._err(ERR.endTagWithTrailingSolidus);\n            }\n            this.handler.onEndTag(ct);\n        }\n        this.preprocessor.dropParsedChunk();\n    }\n    emitCurrentComment(ct) {\n        this.prepareToken(ct);\n        this.handler.onComment(ct);\n        this.preprocessor.dropParsedChunk();\n    }\n    emitCurrentDoctype(ct) {\n        this.prepareToken(ct);\n        this.handler.onDoctype(ct);\n        this.preprocessor.dropParsedChunk();\n    }\n    _emitCurrentCharacterToken(nextLocation) {\n        if (this.currentCharacterToken) {\n            //NOTE: if we have a pending character token, make it's end location equal to the\n            //current token's start location.\n            if (nextLocation && this.currentCharacterToken.location) {\n                this.currentCharacterToken.location.endLine = nextLocation.startLine;\n                this.currentCharacterToken.location.endCol = nextLocation.startCol;\n                this.currentCharacterToken.location.endOffset = nextLocation.startOffset;\n            }\n            switch (this.currentCharacterToken.type) {\n                case TokenType.CHARACTER: {\n                    this.handler.onCharacter(this.currentCharacterToken);\n                    break;\n                }\n                case TokenType.NULL_CHARACTER: {\n                    this.handler.onNullCharacter(this.currentCharacterToken);\n                    break;\n                }\n                case TokenType.WHITESPACE_CHARACTER: {\n                    this.handler.onWhitespaceCharacter(this.currentCharacterToken);\n                    break;\n                }\n            }\n            this.currentCharacterToken = null;\n        }\n    }\n    _emitEOFToken() {\n        const location = this.getCurrentLocation(0);\n        if (location) {\n            location.endLine = location.startLine;\n            location.endCol = location.startCol;\n            location.endOffset = location.startOffset;\n        }\n        this._emitCurrentCharacterToken(location);\n        this.handler.onEof({ type: TokenType.EOF, location });\n        this.active = false;\n    }\n    //Characters emission\n    //OPTIMIZATION: The specification uses only one type of character token (one token per character).\n    //This causes a huge memory overhead and a lot of unnecessary parser loops. parse5 uses 3 groups of characters.\n    //If we have a sequence of characters that belong to the same group, the parser can process it\n    //as a single solid character token.\n    //So, there are 3 types of character tokens in parse5:\n    //1)TokenType.NULL_CHARACTER - \\u0000-character sequences (e.g. '\\u0000\\u0000\\u0000')\n    //2)TokenType.WHITESPACE_CHARACTER - any whitespace/new-line character sequences (e.g. '\\n  \\r\\t   \\f')\n    //3)TokenType.CHARACTER - any character sequence which don't belong to groups 1 and 2 (e.g. 'abcdef1234@@#$%^')\n    _appendCharToCurrentCharacterToken(type, ch) {\n        if (this.currentCharacterToken) {\n            if (this.currentCharacterToken.type === type) {\n                this.currentCharacterToken.chars += ch;\n                return;\n            }\n            else {\n                this.currentLocation = this.getCurrentLocation(0);\n                this._emitCurrentCharacterToken(this.currentLocation);\n                this.preprocessor.dropParsedChunk();\n            }\n        }\n        this._createCharacterToken(type, ch);\n    }\n    _emitCodePoint(cp) {\n        const type = isWhitespace(cp)\n            ? TokenType.WHITESPACE_CHARACTER\n            : cp === $.NULL\n                ? TokenType.NULL_CHARACTER\n                : TokenType.CHARACTER;\n        this._appendCharToCurrentCharacterToken(type, String.fromCodePoint(cp));\n    }\n    //NOTE: used when we emit characters explicitly.\n    //This is always for non-whitespace and non-null characters, which allows us to avoid additional checks.\n    _emitChars(ch) {\n        this._appendCharToCurrentCharacterToken(TokenType.CHARACTER, ch);\n    }\n    // Character reference helpers\n    _startCharacterReference() {\n        this.returnState = this.state;\n        this.state = State.CHARACTER_REFERENCE;\n        this.entityStartPos = this.preprocessor.pos;\n        this.entityDecoder.startEntity(this._isCharacterReferenceInAttribute() ? DecodingMode.Attribute : DecodingMode.Legacy);\n    }\n    _isCharacterReferenceInAttribute() {\n        return (this.returnState === State.ATTRIBUTE_VALUE_DOUBLE_QUOTED ||\n            this.returnState === State.ATTRIBUTE_VALUE_SINGLE_QUOTED ||\n            this.returnState === State.ATTRIBUTE_VALUE_UNQUOTED);\n    }\n    _flushCodePointConsumedAsCharacterReference(cp) {\n        if (this._isCharacterReferenceInAttribute()) {\n            this.currentAttr.value += String.fromCodePoint(cp);\n        }\n        else {\n            this._emitCodePoint(cp);\n        }\n    }\n    // Calling states this way turns out to be much faster than any other approach.\n    _callState(cp) {\n        switch (this.state) {\n            case State.DATA: {\n                this._stateData(cp);\n                break;\n            }\n            case State.RCDATA: {\n                this._stateRcdata(cp);\n                break;\n            }\n            case State.RAWTEXT: {\n                this._stateRawtext(cp);\n                break;\n            }\n            case State.SCRIPT_DATA: {\n                this._stateScriptData(cp);\n                break;\n            }\n            case State.PLAINTEXT: {\n                this._statePlaintext(cp);\n                break;\n            }\n            case State.TAG_OPEN: {\n                this._stateTagOpen(cp);\n                break;\n            }\n            case State.END_TAG_OPEN: {\n                this._stateEndTagOpen(cp);\n                break;\n            }\n            case State.TAG_NAME: {\n                this._stateTagName(cp);\n                break;\n            }\n            case State.RCDATA_LESS_THAN_SIGN: {\n                this._stateRcdataLessThanSign(cp);\n                break;\n            }\n            case State.RCDATA_END_TAG_OPEN: {\n                this._stateRcdataEndTagOpen(cp);\n                break;\n            }\n            case State.RCDATA_END_TAG_NAME: {\n                this._stateRcdataEndTagName(cp);\n                break;\n            }\n            case State.RAWTEXT_LESS_THAN_SIGN: {\n                this._stateRawtextLessThanSign(cp);\n                break;\n            }\n            case State.RAWTEXT_END_TAG_OPEN: {\n                this._stateRawtextEndTagOpen(cp);\n                break;\n            }\n            case State.RAWTEXT_END_TAG_NAME: {\n                this._stateRawtextEndTagName(cp);\n                break;\n            }\n            case State.SCRIPT_DATA_LESS_THAN_SIGN: {\n                this._stateScriptDataLessThanSign(cp);\n                break;\n            }\n            case State.SCRIPT_DATA_END_TAG_OPEN: {\n                this._stateScriptDataEndTagOpen(cp);\n                break;\n            }\n            case State.SCRIPT_DATA_END_TAG_NAME: {\n                this._stateScriptDataEndTagName(cp);\n                break;\n            }\n            case State.SCRIPT_DATA_ESCAPE_START: {\n                this._stateScriptDataEscapeStart(cp);\n                break;\n            }\n            case State.SCRIPT_DATA_ESCAPE_START_DASH: {\n                this._stateScriptDataEscapeStartDash(cp);\n                break;\n            }\n            case State.SCRIPT_DATA_ESCAPED: {\n                this._stateScriptDataEscaped(cp);\n                break;\n            }\n            case State.SCRIPT_DATA_ESCAPED_DASH: {\n                this._stateScriptDataEscapedDash(cp);\n                break;\n            }\n            case State.SCRIPT_DATA_ESCAPED_DASH_DASH: {\n                this._stateScriptDataEscapedDashDash(cp);\n                break;\n            }\n            case State.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN: {\n                this._stateScriptDataEscapedLessThanSign(cp);\n                break;\n            }\n            case State.SCRIPT_DATA_ESCAPED_END_TAG_OPEN: {\n                this._stateScriptDataEscapedEndTagOpen(cp);\n                break;\n            }\n            case State.SCRIPT_DATA_ESCAPED_END_TAG_NAME: {\n                this._stateScriptDataEscapedEndTagName(cp);\n                break;\n            }\n            case State.SCRIPT_DATA_DOUBLE_ESCAPE_START: {\n                this._stateScriptDataDoubleEscapeStart(cp);\n                break;\n            }\n            case State.SCRIPT_DATA_DOUBLE_ESCAPED: {\n                this._stateScriptDataDoubleEscaped(cp);\n                break;\n            }\n            case State.SCRIPT_DATA_DOUBLE_ESCAPED_DASH: {\n                this._stateScriptDataDoubleEscapedDash(cp);\n                break;\n            }\n            case State.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH: {\n                this._stateScriptDataDoubleEscapedDashDash(cp);\n                break;\n            }\n            case State.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN: {\n                this._stateScriptDataDoubleEscapedLessThanSign(cp);\n                break;\n            }\n            case State.SCRIPT_DATA_DOUBLE_ESCAPE_END: {\n                this._stateScriptDataDoubleEscapeEnd(cp);\n                break;\n            }\n            case State.BEFORE_ATTRIBUTE_NAME: {\n                this._stateBeforeAttributeName(cp);\n                break;\n            }\n            case State.ATTRIBUTE_NAME: {\n                this._stateAttributeName(cp);\n                break;\n            }\n            case State.AFTER_ATTRIBUTE_NAME: {\n                this._stateAfterAttributeName(cp);\n                break;\n            }\n            case State.BEFORE_ATTRIBUTE_VALUE: {\n                this._stateBeforeAttributeValue(cp);\n                break;\n            }\n            case State.ATTRIBUTE_VALUE_DOUBLE_QUOTED: {\n                this._stateAttributeValueDoubleQuoted(cp);\n                break;\n            }\n            case State.ATTRIBUTE_VALUE_SINGLE_QUOTED: {\n                this._stateAttributeValueSingleQuoted(cp);\n                break;\n            }\n            case State.ATTRIBUTE_VALUE_UNQUOTED: {\n                this._stateAttributeValueUnquoted(cp);\n                break;\n            }\n            case State.AFTER_ATTRIBUTE_VALUE_QUOTED: {\n                this._stateAfterAttributeValueQuoted(cp);\n                break;\n            }\n            case State.SELF_CLOSING_START_TAG: {\n                this._stateSelfClosingStartTag(cp);\n                break;\n            }\n            case State.BOGUS_COMMENT: {\n                this._stateBogusComment(cp);\n                break;\n            }\n            case State.MARKUP_DECLARATION_OPEN: {\n                this._stateMarkupDeclarationOpen(cp);\n                break;\n            }\n            case State.COMMENT_START: {\n                this._stateCommentStart(cp);\n                break;\n            }\n            case State.COMMENT_START_DASH: {\n                this._stateCommentStartDash(cp);\n                break;\n            }\n            case State.COMMENT: {\n                this._stateComment(cp);\n                break;\n            }\n            case State.COMMENT_LESS_THAN_SIGN: {\n                this._stateCommentLessThanSign(cp);\n                break;\n            }\n            case State.COMMENT_LESS_THAN_SIGN_BANG: {\n                this._stateCommentLessThanSignBang(cp);\n                break;\n            }\n            case State.COMMENT_LESS_THAN_SIGN_BANG_DASH: {\n                this._stateCommentLessThanSignBangDash(cp);\n                break;\n            }\n            case State.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH: {\n                this._stateCommentLessThanSignBangDashDash(cp);\n                break;\n            }\n            case State.COMMENT_END_DASH: {\n                this._stateCommentEndDash(cp);\n                break;\n            }\n            case State.COMMENT_END: {\n                this._stateCommentEnd(cp);\n                break;\n            }\n            case State.COMMENT_END_BANG: {\n                this._stateCommentEndBang(cp);\n                break;\n            }\n            case State.DOCTYPE: {\n                this._stateDoctype(cp);\n                break;\n            }\n            case State.BEFORE_DOCTYPE_NAME: {\n                this._stateBeforeDoctypeName(cp);\n                break;\n            }\n            case State.DOCTYPE_NAME: {\n                this._stateDoctypeName(cp);\n                break;\n            }\n            case State.AFTER_DOCTYPE_NAME: {\n                this._stateAfterDoctypeName(cp);\n                break;\n            }\n            case State.AFTER_DOCTYPE_PUBLIC_KEYWORD: {\n                this._stateAfterDoctypePublicKeyword(cp);\n                break;\n            }\n            case State.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER: {\n                this._stateBeforeDoctypePublicIdentifier(cp);\n                break;\n            }\n            case State.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED: {\n                this._stateDoctypePublicIdentifierDoubleQuoted(cp);\n                break;\n            }\n            case State.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED: {\n                this._stateDoctypePublicIdentifierSingleQuoted(cp);\n                break;\n            }\n            case State.AFTER_DOCTYPE_PUBLIC_IDENTIFIER: {\n                this._stateAfterDoctypePublicIdentifier(cp);\n                break;\n            }\n            case State.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS: {\n                this._stateBetweenDoctypePublicAndSystemIdentifiers(cp);\n                break;\n            }\n            case State.AFTER_DOCTYPE_SYSTEM_KEYWORD: {\n                this._stateAfterDoctypeSystemKeyword(cp);\n                break;\n            }\n            case State.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER: {\n                this._stateBeforeDoctypeSystemIdentifier(cp);\n                break;\n            }\n            case State.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED: {\n                this._stateDoctypeSystemIdentifierDoubleQuoted(cp);\n                break;\n            }\n            case State.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED: {\n                this._stateDoctypeSystemIdentifierSingleQuoted(cp);\n                break;\n            }\n            case State.AFTER_DOCTYPE_SYSTEM_IDENTIFIER: {\n                this._stateAfterDoctypeSystemIdentifier(cp);\n                break;\n            }\n            case State.BOGUS_DOCTYPE: {\n                this._stateBogusDoctype(cp);\n                break;\n            }\n            case State.CDATA_SECTION: {\n                this._stateCdataSection(cp);\n                break;\n            }\n            case State.CDATA_SECTION_BRACKET: {\n                this._stateCdataSectionBracket(cp);\n                break;\n            }\n            case State.CDATA_SECTION_END: {\n                this._stateCdataSectionEnd(cp);\n                break;\n            }\n            case State.CHARACTER_REFERENCE: {\n                this._stateCharacterReference();\n                break;\n            }\n            case State.AMBIGUOUS_AMPERSAND: {\n                this._stateAmbiguousAmpersand(cp);\n                break;\n            }\n            default: {\n                throw new Error('Unknown state');\n            }\n        }\n    }\n    // State machine\n    // Data state\n    //------------------------------------------------------------------\n    _stateData(cp) {\n        switch (cp) {\n            case $.LESS_THAN_SIGN: {\n                this.state = State.TAG_OPEN;\n                break;\n            }\n            case $.AMPERSAND: {\n                this._startCharacterReference();\n                break;\n            }\n            case $.NULL: {\n                this._err(ERR.unexpectedNullCharacter);\n                this._emitCodePoint(cp);\n                break;\n            }\n            case $.EOF: {\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                this._emitCodePoint(cp);\n            }\n        }\n    }\n    //  RCDATA state\n    //------------------------------------------------------------------\n    _stateRcdata(cp) {\n        switch (cp) {\n            case $.AMPERSAND: {\n                this._startCharacterReference();\n                break;\n            }\n            case $.LESS_THAN_SIGN: {\n                this.state = State.RCDATA_LESS_THAN_SIGN;\n                break;\n            }\n            case $.NULL: {\n                this._err(ERR.unexpectedNullCharacter);\n                this._emitChars(REPLACEMENT_CHARACTER);\n                break;\n            }\n            case $.EOF: {\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                this._emitCodePoint(cp);\n            }\n        }\n    }\n    // RAWTEXT state\n    //------------------------------------------------------------------\n    _stateRawtext(cp) {\n        switch (cp) {\n            case $.LESS_THAN_SIGN: {\n                this.state = State.RAWTEXT_LESS_THAN_SIGN;\n                break;\n            }\n            case $.NULL: {\n                this._err(ERR.unexpectedNullCharacter);\n                this._emitChars(REPLACEMENT_CHARACTER);\n                break;\n            }\n            case $.EOF: {\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                this._emitCodePoint(cp);\n            }\n        }\n    }\n    // Script data state\n    //------------------------------------------------------------------\n    _stateScriptData(cp) {\n        switch (cp) {\n            case $.LESS_THAN_SIGN: {\n                this.state = State.SCRIPT_DATA_LESS_THAN_SIGN;\n                break;\n            }\n            case $.NULL: {\n                this._err(ERR.unexpectedNullCharacter);\n                this._emitChars(REPLACEMENT_CHARACTER);\n                break;\n            }\n            case $.EOF: {\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                this._emitCodePoint(cp);\n            }\n        }\n    }\n    // PLAINTEXT state\n    //------------------------------------------------------------------\n    _statePlaintext(cp) {\n        switch (cp) {\n            case $.NULL: {\n                this._err(ERR.unexpectedNullCharacter);\n                this._emitChars(REPLACEMENT_CHARACTER);\n                break;\n            }\n            case $.EOF: {\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                this._emitCodePoint(cp);\n            }\n        }\n    }\n    // Tag open state\n    //------------------------------------------------------------------\n    _stateTagOpen(cp) {\n        if (isAsciiLetter(cp)) {\n            this._createStartTagToken();\n            this.state = State.TAG_NAME;\n            this._stateTagName(cp);\n        }\n        else\n            switch (cp) {\n                case $.EXCLAMATION_MARK: {\n                    this.state = State.MARKUP_DECLARATION_OPEN;\n                    break;\n                }\n                case $.SOLIDUS: {\n                    this.state = State.END_TAG_OPEN;\n                    break;\n                }\n                case $.QUESTION_MARK: {\n                    this._err(ERR.unexpectedQuestionMarkInsteadOfTagName);\n                    this._createCommentToken(1);\n                    this.state = State.BOGUS_COMMENT;\n                    this._stateBogusComment(cp);\n                    break;\n                }\n                case $.EOF: {\n                    this._err(ERR.eofBeforeTagName);\n                    this._emitChars('<');\n                    this._emitEOFToken();\n                    break;\n                }\n                default: {\n                    this._err(ERR.invalidFirstCharacterOfTagName);\n                    this._emitChars('<');\n                    this.state = State.DATA;\n                    this._stateData(cp);\n                }\n            }\n    }\n    // End tag open state\n    //------------------------------------------------------------------\n    _stateEndTagOpen(cp) {\n        if (isAsciiLetter(cp)) {\n            this._createEndTagToken();\n            this.state = State.TAG_NAME;\n            this._stateTagName(cp);\n        }\n        else\n            switch (cp) {\n                case $.GREATER_THAN_SIGN: {\n                    this._err(ERR.missingEndTagName);\n                    this.state = State.DATA;\n                    break;\n                }\n                case $.EOF: {\n                    this._err(ERR.eofBeforeTagName);\n                    this._emitChars('</');\n                    this._emitEOFToken();\n                    break;\n                }\n                default: {\n                    this._err(ERR.invalidFirstCharacterOfTagName);\n                    this._createCommentToken(2);\n                    this.state = State.BOGUS_COMMENT;\n                    this._stateBogusComment(cp);\n                }\n            }\n    }\n    // Tag name state\n    //------------------------------------------------------------------\n    _stateTagName(cp) {\n        const token = this.currentToken;\n        switch (cp) {\n            case $.SPACE:\n            case $.LINE_FEED:\n            case $.TABULATION:\n            case $.FORM_FEED: {\n                this.state = State.BEFORE_ATTRIBUTE_NAME;\n                break;\n            }\n            case $.SOLIDUS: {\n                this.state = State.SELF_CLOSING_START_TAG;\n                break;\n            }\n            case $.GREATER_THAN_SIGN: {\n                this.state = State.DATA;\n                this.emitCurrentTagToken();\n                break;\n            }\n            case $.NULL: {\n                this._err(ERR.unexpectedNullCharacter);\n                token.tagName += REPLACEMENT_CHARACTER;\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInTag);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                token.tagName += String.fromCodePoint(isAsciiUpper(cp) ? toAsciiLower(cp) : cp);\n            }\n        }\n    }\n    // RCDATA less-than sign state\n    //------------------------------------------------------------------\n    _stateRcdataLessThanSign(cp) {\n        if (cp === $.SOLIDUS) {\n            this.state = State.RCDATA_END_TAG_OPEN;\n        }\n        else {\n            this._emitChars('<');\n            this.state = State.RCDATA;\n            this._stateRcdata(cp);\n        }\n    }\n    // RCDATA end tag open state\n    //------------------------------------------------------------------\n    _stateRcdataEndTagOpen(cp) {\n        if (isAsciiLetter(cp)) {\n            this.state = State.RCDATA_END_TAG_NAME;\n            this._stateRcdataEndTagName(cp);\n        }\n        else {\n            this._emitChars('</');\n            this.state = State.RCDATA;\n            this._stateRcdata(cp);\n        }\n    }\n    handleSpecialEndTag(_cp) {\n        if (!this.preprocessor.startsWith(this.lastStartTagName, false)) {\n            return !this._ensureHibernation();\n        }\n        this._createEndTagToken();\n        const token = this.currentToken;\n        token.tagName = this.lastStartTagName;\n        const cp = this.preprocessor.peek(this.lastStartTagName.length);\n        switch (cp) {\n            case $.SPACE:\n            case $.LINE_FEED:\n            case $.TABULATION:\n            case $.FORM_FEED: {\n                this._advanceBy(this.lastStartTagName.length);\n                this.state = State.BEFORE_ATTRIBUTE_NAME;\n                return false;\n            }\n            case $.SOLIDUS: {\n                this._advanceBy(this.lastStartTagName.length);\n                this.state = State.SELF_CLOSING_START_TAG;\n                return false;\n            }\n            case $.GREATER_THAN_SIGN: {\n                this._advanceBy(this.lastStartTagName.length);\n                this.emitCurrentTagToken();\n                this.state = State.DATA;\n                return false;\n            }\n            default: {\n                return !this._ensureHibernation();\n            }\n        }\n    }\n    // RCDATA end tag name state\n    //------------------------------------------------------------------\n    _stateRcdataEndTagName(cp) {\n        if (this.handleSpecialEndTag(cp)) {\n            this._emitChars('</');\n            this.state = State.RCDATA;\n            this._stateRcdata(cp);\n        }\n    }\n    // RAWTEXT less-than sign state\n    //------------------------------------------------------------------\n    _stateRawtextLessThanSign(cp) {\n        if (cp === $.SOLIDUS) {\n            this.state = State.RAWTEXT_END_TAG_OPEN;\n        }\n        else {\n            this._emitChars('<');\n            this.state = State.RAWTEXT;\n            this._stateRawtext(cp);\n        }\n    }\n    // RAWTEXT end tag open state\n    //------------------------------------------------------------------\n    _stateRawtextEndTagOpen(cp) {\n        if (isAsciiLetter(cp)) {\n            this.state = State.RAWTEXT_END_TAG_NAME;\n            this._stateRawtextEndTagName(cp);\n        }\n        else {\n            this._emitChars('</');\n            this.state = State.RAWTEXT;\n            this._stateRawtext(cp);\n        }\n    }\n    // RAWTEXT end tag name state\n    //------------------------------------------------------------------\n    _stateRawtextEndTagName(cp) {\n        if (this.handleSpecialEndTag(cp)) {\n            this._emitChars('</');\n            this.state = State.RAWTEXT;\n            this._stateRawtext(cp);\n        }\n    }\n    // Script data less-than sign state\n    //------------------------------------------------------------------\n    _stateScriptDataLessThanSign(cp) {\n        switch (cp) {\n            case $.SOLIDUS: {\n                this.state = State.SCRIPT_DATA_END_TAG_OPEN;\n                break;\n            }\n            case $.EXCLAMATION_MARK: {\n                this.state = State.SCRIPT_DATA_ESCAPE_START;\n                this._emitChars('<!');\n                break;\n            }\n            default: {\n                this._emitChars('<');\n                this.state = State.SCRIPT_DATA;\n                this._stateScriptData(cp);\n            }\n        }\n    }\n    // Script data end tag open state\n    //------------------------------------------------------------------\n    _stateScriptDataEndTagOpen(cp) {\n        if (isAsciiLetter(cp)) {\n            this.state = State.SCRIPT_DATA_END_TAG_NAME;\n            this._stateScriptDataEndTagName(cp);\n        }\n        else {\n            this._emitChars('</');\n            this.state = State.SCRIPT_DATA;\n            this._stateScriptData(cp);\n        }\n    }\n    // Script data end tag name state\n    //------------------------------------------------------------------\n    _stateScriptDataEndTagName(cp) {\n        if (this.handleSpecialEndTag(cp)) {\n            this._emitChars('</');\n            this.state = State.SCRIPT_DATA;\n            this._stateScriptData(cp);\n        }\n    }\n    // Script data escape start state\n    //------------------------------------------------------------------\n    _stateScriptDataEscapeStart(cp) {\n        if (cp === $.HYPHEN_MINUS) {\n            this.state = State.SCRIPT_DATA_ESCAPE_START_DASH;\n            this._emitChars('-');\n        }\n        else {\n            this.state = State.SCRIPT_DATA;\n            this._stateScriptData(cp);\n        }\n    }\n    // Script data escape start dash state\n    //------------------------------------------------------------------\n    _stateScriptDataEscapeStartDash(cp) {\n        if (cp === $.HYPHEN_MINUS) {\n            this.state = State.SCRIPT_DATA_ESCAPED_DASH_DASH;\n            this._emitChars('-');\n        }\n        else {\n            this.state = State.SCRIPT_DATA;\n            this._stateScriptData(cp);\n        }\n    }\n    // Script data escaped state\n    //------------------------------------------------------------------\n    _stateScriptDataEscaped(cp) {\n        switch (cp) {\n            case $.HYPHEN_MINUS: {\n                this.state = State.SCRIPT_DATA_ESCAPED_DASH;\n                this._emitChars('-');\n                break;\n            }\n            case $.LESS_THAN_SIGN: {\n                this.state = State.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;\n                break;\n            }\n            case $.NULL: {\n                this._err(ERR.unexpectedNullCharacter);\n                this._emitChars(REPLACEMENT_CHARACTER);\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInScriptHtmlCommentLikeText);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                this._emitCodePoint(cp);\n            }\n        }\n    }\n    // Script data escaped dash state\n    //------------------------------------------------------------------\n    _stateScriptDataEscapedDash(cp) {\n        switch (cp) {\n            case $.HYPHEN_MINUS: {\n                this.state = State.SCRIPT_DATA_ESCAPED_DASH_DASH;\n                this._emitChars('-');\n                break;\n            }\n            case $.LESS_THAN_SIGN: {\n                this.state = State.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;\n                break;\n            }\n            case $.NULL: {\n                this._err(ERR.unexpectedNullCharacter);\n                this.state = State.SCRIPT_DATA_ESCAPED;\n                this._emitChars(REPLACEMENT_CHARACTER);\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInScriptHtmlCommentLikeText);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                this.state = State.SCRIPT_DATA_ESCAPED;\n                this._emitCodePoint(cp);\n            }\n        }\n    }\n    // Script data escaped dash dash state\n    //------------------------------------------------------------------\n    _stateScriptDataEscapedDashDash(cp) {\n        switch (cp) {\n            case $.HYPHEN_MINUS: {\n                this._emitChars('-');\n                break;\n            }\n            case $.LESS_THAN_SIGN: {\n                this.state = State.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;\n                break;\n            }\n            case $.GREATER_THAN_SIGN: {\n                this.state = State.SCRIPT_DATA;\n                this._emitChars('>');\n                break;\n            }\n            case $.NULL: {\n                this._err(ERR.unexpectedNullCharacter);\n                this.state = State.SCRIPT_DATA_ESCAPED;\n                this._emitChars(REPLACEMENT_CHARACTER);\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInScriptHtmlCommentLikeText);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                this.state = State.SCRIPT_DATA_ESCAPED;\n                this._emitCodePoint(cp);\n            }\n        }\n    }\n    // Script data escaped less-than sign state\n    //------------------------------------------------------------------\n    _stateScriptDataEscapedLessThanSign(cp) {\n        if (cp === $.SOLIDUS) {\n            this.state = State.SCRIPT_DATA_ESCAPED_END_TAG_OPEN;\n        }\n        else if (isAsciiLetter(cp)) {\n            this._emitChars('<');\n            this.state = State.SCRIPT_DATA_DOUBLE_ESCAPE_START;\n            this._stateScriptDataDoubleEscapeStart(cp);\n        }\n        else {\n            this._emitChars('<');\n            this.state = State.SCRIPT_DATA_ESCAPED;\n            this._stateScriptDataEscaped(cp);\n        }\n    }\n    // Script data escaped end tag open state\n    //------------------------------------------------------------------\n    _stateScriptDataEscapedEndTagOpen(cp) {\n        if (isAsciiLetter(cp)) {\n            this.state = State.SCRIPT_DATA_ESCAPED_END_TAG_NAME;\n            this._stateScriptDataEscapedEndTagName(cp);\n        }\n        else {\n            this._emitChars('</');\n            this.state = State.SCRIPT_DATA_ESCAPED;\n            this._stateScriptDataEscaped(cp);\n        }\n    }\n    // Script data escaped end tag name state\n    //------------------------------------------------------------------\n    _stateScriptDataEscapedEndTagName(cp) {\n        if (this.handleSpecialEndTag(cp)) {\n            this._emitChars('</');\n            this.state = State.SCRIPT_DATA_ESCAPED;\n            this._stateScriptDataEscaped(cp);\n        }\n    }\n    // Script data double escape start state\n    //------------------------------------------------------------------\n    _stateScriptDataDoubleEscapeStart(cp) {\n        if (this.preprocessor.startsWith($$.SCRIPT, false) &&\n            isScriptDataDoubleEscapeSequenceEnd(this.preprocessor.peek($$.SCRIPT.length))) {\n            this._emitCodePoint(cp);\n            for (let i = 0; i < $$.SCRIPT.length; i++) {\n                this._emitCodePoint(this._consume());\n            }\n            this.state = State.SCRIPT_DATA_DOUBLE_ESCAPED;\n        }\n        else if (!this._ensureHibernation()) {\n            this.state = State.SCRIPT_DATA_ESCAPED;\n            this._stateScriptDataEscaped(cp);\n        }\n    }\n    // Script data double escaped state\n    //------------------------------------------------------------------\n    _stateScriptDataDoubleEscaped(cp) {\n        switch (cp) {\n            case $.HYPHEN_MINUS: {\n                this.state = State.SCRIPT_DATA_DOUBLE_ESCAPED_DASH;\n                this._emitChars('-');\n                break;\n            }\n            case $.LESS_THAN_SIGN: {\n                this.state = State.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN;\n                this._emitChars('<');\n                break;\n            }\n            case $.NULL: {\n                this._err(ERR.unexpectedNullCharacter);\n                this._emitChars(REPLACEMENT_CHARACTER);\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInScriptHtmlCommentLikeText);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                this._emitCodePoint(cp);\n            }\n        }\n    }\n    // Script data double escaped dash state\n    //------------------------------------------------------------------\n    _stateScriptDataDoubleEscapedDash(cp) {\n        switch (cp) {\n            case $.HYPHEN_MINUS: {\n                this.state = State.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH;\n                this._emitChars('-');\n                break;\n            }\n            case $.LESS_THAN_SIGN: {\n                this.state = State.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN;\n                this._emitChars('<');\n                break;\n            }\n            case $.NULL: {\n                this._err(ERR.unexpectedNullCharacter);\n                this.state = State.SCRIPT_DATA_DOUBLE_ESCAPED;\n                this._emitChars(REPLACEMENT_CHARACTER);\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInScriptHtmlCommentLikeText);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                this.state = State.SCRIPT_DATA_DOUBLE_ESCAPED;\n                this._emitCodePoint(cp);\n            }\n        }\n    }\n    // Script data double escaped dash dash state\n    //------------------------------------------------------------------\n    _stateScriptDataDoubleEscapedDashDash(cp) {\n        switch (cp) {\n            case $.HYPHEN_MINUS: {\n                this._emitChars('-');\n                break;\n            }\n            case $.LESS_THAN_SIGN: {\n                this.state = State.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN;\n                this._emitChars('<');\n                break;\n            }\n            case $.GREATER_THAN_SIGN: {\n                this.state = State.SCRIPT_DATA;\n                this._emitChars('>');\n                break;\n            }\n            case $.NULL: {\n                this._err(ERR.unexpectedNullCharacter);\n                this.state = State.SCRIPT_DATA_DOUBLE_ESCAPED;\n                this._emitChars(REPLACEMENT_CHARACTER);\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInScriptHtmlCommentLikeText);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                this.state = State.SCRIPT_DATA_DOUBLE_ESCAPED;\n                this._emitCodePoint(cp);\n            }\n        }\n    }\n    // Script data double escaped less-than sign state\n    //------------------------------------------------------------------\n    _stateScriptDataDoubleEscapedLessThanSign(cp) {\n        if (cp === $.SOLIDUS) {\n            this.state = State.SCRIPT_DATA_DOUBLE_ESCAPE_END;\n            this._emitChars('/');\n        }\n        else {\n            this.state = State.SCRIPT_DATA_DOUBLE_ESCAPED;\n            this._stateScriptDataDoubleEscaped(cp);\n        }\n    }\n    // Script data double escape end state\n    //------------------------------------------------------------------\n    _stateScriptDataDoubleEscapeEnd(cp) {\n        if (this.preprocessor.startsWith($$.SCRIPT, false) &&\n            isScriptDataDoubleEscapeSequenceEnd(this.preprocessor.peek($$.SCRIPT.length))) {\n            this._emitCodePoint(cp);\n            for (let i = 0; i < $$.SCRIPT.length; i++) {\n                this._emitCodePoint(this._consume());\n            }\n            this.state = State.SCRIPT_DATA_ESCAPED;\n        }\n        else if (!this._ensureHibernation()) {\n            this.state = State.SCRIPT_DATA_DOUBLE_ESCAPED;\n            this._stateScriptDataDoubleEscaped(cp);\n        }\n    }\n    // Before attribute name state\n    //------------------------------------------------------------------\n    _stateBeforeAttributeName(cp) {\n        switch (cp) {\n            case $.SPACE:\n            case $.LINE_FEED:\n            case $.TABULATION:\n            case $.FORM_FEED: {\n                // Ignore whitespace\n                break;\n            }\n            case $.SOLIDUS:\n            case $.GREATER_THAN_SIGN:\n            case $.EOF: {\n                this.state = State.AFTER_ATTRIBUTE_NAME;\n                this._stateAfterAttributeName(cp);\n                break;\n            }\n            case $.EQUALS_SIGN: {\n                this._err(ERR.unexpectedEqualsSignBeforeAttributeName);\n                this._createAttr('=');\n                this.state = State.ATTRIBUTE_NAME;\n                break;\n            }\n            default: {\n                this._createAttr('');\n                this.state = State.ATTRIBUTE_NAME;\n                this._stateAttributeName(cp);\n            }\n        }\n    }\n    // Attribute name state\n    //------------------------------------------------------------------\n    _stateAttributeName(cp) {\n        switch (cp) {\n            case $.SPACE:\n            case $.LINE_FEED:\n            case $.TABULATION:\n            case $.FORM_FEED:\n            case $.SOLIDUS:\n            case $.GREATER_THAN_SIGN:\n            case $.EOF: {\n                this._leaveAttrName();\n                this.state = State.AFTER_ATTRIBUTE_NAME;\n                this._stateAfterAttributeName(cp);\n                break;\n            }\n            case $.EQUALS_SIGN: {\n                this._leaveAttrName();\n                this.state = State.BEFORE_ATTRIBUTE_VALUE;\n                break;\n            }\n            case $.QUOTATION_MARK:\n            case $.APOSTROPHE:\n            case $.LESS_THAN_SIGN: {\n                this._err(ERR.unexpectedCharacterInAttributeName);\n                this.currentAttr.name += String.fromCodePoint(cp);\n                break;\n            }\n            case $.NULL: {\n                this._err(ERR.unexpectedNullCharacter);\n                this.currentAttr.name += REPLACEMENT_CHARACTER;\n                break;\n            }\n            default: {\n                this.currentAttr.name += String.fromCodePoint(isAsciiUpper(cp) ? toAsciiLower(cp) : cp);\n            }\n        }\n    }\n    // After attribute name state\n    //------------------------------------------------------------------\n    _stateAfterAttributeName(cp) {\n        switch (cp) {\n            case $.SPACE:\n            case $.LINE_FEED:\n            case $.TABULATION:\n            case $.FORM_FEED: {\n                // Ignore whitespace\n                break;\n            }\n            case $.SOLIDUS: {\n                this.state = State.SELF_CLOSING_START_TAG;\n                break;\n            }\n            case $.EQUALS_SIGN: {\n                this.state = State.BEFORE_ATTRIBUTE_VALUE;\n                break;\n            }\n            case $.GREATER_THAN_SIGN: {\n                this.state = State.DATA;\n                this.emitCurrentTagToken();\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInTag);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                this._createAttr('');\n                this.state = State.ATTRIBUTE_NAME;\n                this._stateAttributeName(cp);\n            }\n        }\n    }\n    // Before attribute value state\n    //------------------------------------------------------------------\n    _stateBeforeAttributeValue(cp) {\n        switch (cp) {\n            case $.SPACE:\n            case $.LINE_FEED:\n            case $.TABULATION:\n            case $.FORM_FEED: {\n                // Ignore whitespace\n                break;\n            }\n            case $.QUOTATION_MARK: {\n                this.state = State.ATTRIBUTE_VALUE_DOUBLE_QUOTED;\n                break;\n            }\n            case $.APOSTROPHE: {\n                this.state = State.ATTRIBUTE_VALUE_SINGLE_QUOTED;\n                break;\n            }\n            case $.GREATER_THAN_SIGN: {\n                this._err(ERR.missingAttributeValue);\n                this.state = State.DATA;\n                this.emitCurrentTagToken();\n                break;\n            }\n            default: {\n                this.state = State.ATTRIBUTE_VALUE_UNQUOTED;\n                this._stateAttributeValueUnquoted(cp);\n            }\n        }\n    }\n    // Attribute value (double-quoted) state\n    //------------------------------------------------------------------\n    _stateAttributeValueDoubleQuoted(cp) {\n        switch (cp) {\n            case $.QUOTATION_MARK: {\n                this.state = State.AFTER_ATTRIBUTE_VALUE_QUOTED;\n                break;\n            }\n            case $.AMPERSAND: {\n                this._startCharacterReference();\n                break;\n            }\n            case $.NULL: {\n                this._err(ERR.unexpectedNullCharacter);\n                this.currentAttr.value += REPLACEMENT_CHARACTER;\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInTag);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                this.currentAttr.value += String.fromCodePoint(cp);\n            }\n        }\n    }\n    // Attribute value (single-quoted) state\n    //------------------------------------------------------------------\n    _stateAttributeValueSingleQuoted(cp) {\n        switch (cp) {\n            case $.APOSTROPHE: {\n                this.state = State.AFTER_ATTRIBUTE_VALUE_QUOTED;\n                break;\n            }\n            case $.AMPERSAND: {\n                this._startCharacterReference();\n                break;\n            }\n            case $.NULL: {\n                this._err(ERR.unexpectedNullCharacter);\n                this.currentAttr.value += REPLACEMENT_CHARACTER;\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInTag);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                this.currentAttr.value += String.fromCodePoint(cp);\n            }\n        }\n    }\n    // Attribute value (unquoted) state\n    //------------------------------------------------------------------\n    _stateAttributeValueUnquoted(cp) {\n        switch (cp) {\n            case $.SPACE:\n            case $.LINE_FEED:\n            case $.TABULATION:\n            case $.FORM_FEED: {\n                this._leaveAttrValue();\n                this.state = State.BEFORE_ATTRIBUTE_NAME;\n                break;\n            }\n            case $.AMPERSAND: {\n                this._startCharacterReference();\n                break;\n            }\n            case $.GREATER_THAN_SIGN: {\n                this._leaveAttrValue();\n                this.state = State.DATA;\n                this.emitCurrentTagToken();\n                break;\n            }\n            case $.NULL: {\n                this._err(ERR.unexpectedNullCharacter);\n                this.currentAttr.value += REPLACEMENT_CHARACTER;\n                break;\n            }\n            case $.QUOTATION_MARK:\n            case $.APOSTROPHE:\n            case $.LESS_THAN_SIGN:\n            case $.EQUALS_SIGN:\n            case $.GRAVE_ACCENT: {\n                this._err(ERR.unexpectedCharacterInUnquotedAttributeValue);\n                this.currentAttr.value += String.fromCodePoint(cp);\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInTag);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                this.currentAttr.value += String.fromCodePoint(cp);\n            }\n        }\n    }\n    // After attribute value (quoted) state\n    //------------------------------------------------------------------\n    _stateAfterAttributeValueQuoted(cp) {\n        switch (cp) {\n            case $.SPACE:\n            case $.LINE_FEED:\n            case $.TABULATION:\n            case $.FORM_FEED: {\n                this._leaveAttrValue();\n                this.state = State.BEFORE_ATTRIBUTE_NAME;\n                break;\n            }\n            case $.SOLIDUS: {\n                this._leaveAttrValue();\n                this.state = State.SELF_CLOSING_START_TAG;\n                break;\n            }\n            case $.GREATER_THAN_SIGN: {\n                this._leaveAttrValue();\n                this.state = State.DATA;\n                this.emitCurrentTagToken();\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInTag);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                this._err(ERR.missingWhitespaceBetweenAttributes);\n                this.state = State.BEFORE_ATTRIBUTE_NAME;\n                this._stateBeforeAttributeName(cp);\n            }\n        }\n    }\n    // Self-closing start tag state\n    //------------------------------------------------------------------\n    _stateSelfClosingStartTag(cp) {\n        switch (cp) {\n            case $.GREATER_THAN_SIGN: {\n                const token = this.currentToken;\n                token.selfClosing = true;\n                this.state = State.DATA;\n                this.emitCurrentTagToken();\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInTag);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                this._err(ERR.unexpectedSolidusInTag);\n                this.state = State.BEFORE_ATTRIBUTE_NAME;\n                this._stateBeforeAttributeName(cp);\n            }\n        }\n    }\n    // Bogus comment state\n    //------------------------------------------------------------------\n    _stateBogusComment(cp) {\n        const token = this.currentToken;\n        switch (cp) {\n            case $.GREATER_THAN_SIGN: {\n                this.state = State.DATA;\n                this.emitCurrentComment(token);\n                break;\n            }\n            case $.EOF: {\n                this.emitCurrentComment(token);\n                this._emitEOFToken();\n                break;\n            }\n            case $.NULL: {\n                this._err(ERR.unexpectedNullCharacter);\n                token.data += REPLACEMENT_CHARACTER;\n                break;\n            }\n            default: {\n                token.data += String.fromCodePoint(cp);\n            }\n        }\n    }\n    // Markup declaration open state\n    //------------------------------------------------------------------\n    _stateMarkupDeclarationOpen(cp) {\n        if (this._consumeSequenceIfMatch($$.DASH_DASH, true)) {\n            this._createCommentToken($$.DASH_DASH.length + 1);\n            this.state = State.COMMENT_START;\n        }\n        else if (this._consumeSequenceIfMatch($$.DOCTYPE, false)) {\n            // NOTE: Doctypes tokens are created without fixed offsets. We keep track of the moment a doctype *might* start here.\n            this.currentLocation = this.getCurrentLocation($$.DOCTYPE.length + 1);\n            this.state = State.DOCTYPE;\n        }\n        else if (this._consumeSequenceIfMatch($$.CDATA_START, true)) {\n            if (this.inForeignNode) {\n                this.state = State.CDATA_SECTION;\n            }\n            else {\n                this._err(ERR.cdataInHtmlContent);\n                this._createCommentToken($$.CDATA_START.length + 1);\n                this.currentToken.data = '[CDATA[';\n                this.state = State.BOGUS_COMMENT;\n            }\n        }\n        //NOTE: Sequence lookups can be abrupted by hibernation. In that case, lookup\n        //results are no longer valid and we will need to start over.\n        else if (!this._ensureHibernation()) {\n            this._err(ERR.incorrectlyOpenedComment);\n            this._createCommentToken(2);\n            this.state = State.BOGUS_COMMENT;\n            this._stateBogusComment(cp);\n        }\n    }\n    // Comment start state\n    //------------------------------------------------------------------\n    _stateCommentStart(cp) {\n        switch (cp) {\n            case $.HYPHEN_MINUS: {\n                this.state = State.COMMENT_START_DASH;\n                break;\n            }\n            case $.GREATER_THAN_SIGN: {\n                this._err(ERR.abruptClosingOfEmptyComment);\n                this.state = State.DATA;\n                const token = this.currentToken;\n                this.emitCurrentComment(token);\n                break;\n            }\n            default: {\n                this.state = State.COMMENT;\n                this._stateComment(cp);\n            }\n        }\n    }\n    // Comment start dash state\n    //------------------------------------------------------------------\n    _stateCommentStartDash(cp) {\n        const token = this.currentToken;\n        switch (cp) {\n            case $.HYPHEN_MINUS: {\n                this.state = State.COMMENT_END;\n                break;\n            }\n            case $.GREATER_THAN_SIGN: {\n                this._err(ERR.abruptClosingOfEmptyComment);\n                this.state = State.DATA;\n                this.emitCurrentComment(token);\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInComment);\n                this.emitCurrentComment(token);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                token.data += '-';\n                this.state = State.COMMENT;\n                this._stateComment(cp);\n            }\n        }\n    }\n    // Comment state\n    //------------------------------------------------------------------\n    _stateComment(cp) {\n        const token = this.currentToken;\n        switch (cp) {\n            case $.HYPHEN_MINUS: {\n                this.state = State.COMMENT_END_DASH;\n                break;\n            }\n            case $.LESS_THAN_SIGN: {\n                token.data += '<';\n                this.state = State.COMMENT_LESS_THAN_SIGN;\n                break;\n            }\n            case $.NULL: {\n                this._err(ERR.unexpectedNullCharacter);\n                token.data += REPLACEMENT_CHARACTER;\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInComment);\n                this.emitCurrentComment(token);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                token.data += String.fromCodePoint(cp);\n            }\n        }\n    }\n    // Comment less-than sign state\n    //------------------------------------------------------------------\n    _stateCommentLessThanSign(cp) {\n        const token = this.currentToken;\n        switch (cp) {\n            case $.EXCLAMATION_MARK: {\n                token.data += '!';\n                this.state = State.COMMENT_LESS_THAN_SIGN_BANG;\n                break;\n            }\n            case $.LESS_THAN_SIGN: {\n                token.data += '<';\n                break;\n            }\n            default: {\n                this.state = State.COMMENT;\n                this._stateComment(cp);\n            }\n        }\n    }\n    // Comment less-than sign bang state\n    //------------------------------------------------------------------\n    _stateCommentLessThanSignBang(cp) {\n        if (cp === $.HYPHEN_MINUS) {\n            this.state = State.COMMENT_LESS_THAN_SIGN_BANG_DASH;\n        }\n        else {\n            this.state = State.COMMENT;\n            this._stateComment(cp);\n        }\n    }\n    // Comment less-than sign bang dash state\n    //------------------------------------------------------------------\n    _stateCommentLessThanSignBangDash(cp) {\n        if (cp === $.HYPHEN_MINUS) {\n            this.state = State.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH;\n        }\n        else {\n            this.state = State.COMMENT_END_DASH;\n            this._stateCommentEndDash(cp);\n        }\n    }\n    // Comment less-than sign bang dash dash state\n    //------------------------------------------------------------------\n    _stateCommentLessThanSignBangDashDash(cp) {\n        if (cp !== $.GREATER_THAN_SIGN && cp !== $.EOF) {\n            this._err(ERR.nestedComment);\n        }\n        this.state = State.COMMENT_END;\n        this._stateCommentEnd(cp);\n    }\n    // Comment end dash state\n    //------------------------------------------------------------------\n    _stateCommentEndDash(cp) {\n        const token = this.currentToken;\n        switch (cp) {\n            case $.HYPHEN_MINUS: {\n                this.state = State.COMMENT_END;\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInComment);\n                this.emitCurrentComment(token);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                token.data += '-';\n                this.state = State.COMMENT;\n                this._stateComment(cp);\n            }\n        }\n    }\n    // Comment end state\n    //------------------------------------------------------------------\n    _stateCommentEnd(cp) {\n        const token = this.currentToken;\n        switch (cp) {\n            case $.GREATER_THAN_SIGN: {\n                this.state = State.DATA;\n                this.emitCurrentComment(token);\n                break;\n            }\n            case $.EXCLAMATION_MARK: {\n                this.state = State.COMMENT_END_BANG;\n                break;\n            }\n            case $.HYPHEN_MINUS: {\n                token.data += '-';\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInComment);\n                this.emitCurrentComment(token);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                token.data += '--';\n                this.state = State.COMMENT;\n                this._stateComment(cp);\n            }\n        }\n    }\n    // Comment end bang state\n    //------------------------------------------------------------------\n    _stateCommentEndBang(cp) {\n        const token = this.currentToken;\n        switch (cp) {\n            case $.HYPHEN_MINUS: {\n                token.data += '--!';\n                this.state = State.COMMENT_END_DASH;\n                break;\n            }\n            case $.GREATER_THAN_SIGN: {\n                this._err(ERR.incorrectlyClosedComment);\n                this.state = State.DATA;\n                this.emitCurrentComment(token);\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInComment);\n                this.emitCurrentComment(token);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                token.data += '--!';\n                this.state = State.COMMENT;\n                this._stateComment(cp);\n            }\n        }\n    }\n    // DOCTYPE state\n    //------------------------------------------------------------------\n    _stateDoctype(cp) {\n        switch (cp) {\n            case $.SPACE:\n            case $.LINE_FEED:\n            case $.TABULATION:\n            case $.FORM_FEED: {\n                this.state = State.BEFORE_DOCTYPE_NAME;\n                break;\n            }\n            case $.GREATER_THAN_SIGN: {\n                this.state = State.BEFORE_DOCTYPE_NAME;\n                this._stateBeforeDoctypeName(cp);\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInDoctype);\n                this._createDoctypeToken(null);\n                const token = this.currentToken;\n                token.forceQuirks = true;\n                this.emitCurrentDoctype(token);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                this._err(ERR.missingWhitespaceBeforeDoctypeName);\n                this.state = State.BEFORE_DOCTYPE_NAME;\n                this._stateBeforeDoctypeName(cp);\n            }\n        }\n    }\n    // Before DOCTYPE name state\n    //------------------------------------------------------------------\n    _stateBeforeDoctypeName(cp) {\n        if (isAsciiUpper(cp)) {\n            this._createDoctypeToken(String.fromCharCode(toAsciiLower(cp)));\n            this.state = State.DOCTYPE_NAME;\n        }\n        else\n            switch (cp) {\n                case $.SPACE:\n                case $.LINE_FEED:\n                case $.TABULATION:\n                case $.FORM_FEED: {\n                    // Ignore whitespace\n                    break;\n                }\n                case $.NULL: {\n                    this._err(ERR.unexpectedNullCharacter);\n                    this._createDoctypeToken(REPLACEMENT_CHARACTER);\n                    this.state = State.DOCTYPE_NAME;\n                    break;\n                }\n                case $.GREATER_THAN_SIGN: {\n                    this._err(ERR.missingDoctypeName);\n                    this._createDoctypeToken(null);\n                    const token = this.currentToken;\n                    token.forceQuirks = true;\n                    this.emitCurrentDoctype(token);\n                    this.state = State.DATA;\n                    break;\n                }\n                case $.EOF: {\n                    this._err(ERR.eofInDoctype);\n                    this._createDoctypeToken(null);\n                    const token = this.currentToken;\n                    token.forceQuirks = true;\n                    this.emitCurrentDoctype(token);\n                    this._emitEOFToken();\n                    break;\n                }\n                default: {\n                    this._createDoctypeToken(String.fromCodePoint(cp));\n                    this.state = State.DOCTYPE_NAME;\n                }\n            }\n    }\n    // DOCTYPE name state\n    //------------------------------------------------------------------\n    _stateDoctypeName(cp) {\n        const token = this.currentToken;\n        switch (cp) {\n            case $.SPACE:\n            case $.LINE_FEED:\n            case $.TABULATION:\n            case $.FORM_FEED: {\n                this.state = State.AFTER_DOCTYPE_NAME;\n                break;\n            }\n            case $.GREATER_THAN_SIGN: {\n                this.state = State.DATA;\n                this.emitCurrentDoctype(token);\n                break;\n            }\n            case $.NULL: {\n                this._err(ERR.unexpectedNullCharacter);\n                token.name += REPLACEMENT_CHARACTER;\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInDoctype);\n                token.forceQuirks = true;\n                this.emitCurrentDoctype(token);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                token.name += String.fromCodePoint(isAsciiUpper(cp) ? toAsciiLower(cp) : cp);\n            }\n        }\n    }\n    // After DOCTYPE name state\n    //------------------------------------------------------------------\n    _stateAfterDoctypeName(cp) {\n        const token = this.currentToken;\n        switch (cp) {\n            case $.SPACE:\n            case $.LINE_FEED:\n            case $.TABULATION:\n            case $.FORM_FEED: {\n                // Ignore whitespace\n                break;\n            }\n            case $.GREATER_THAN_SIGN: {\n                this.state = State.DATA;\n                this.emitCurrentDoctype(token);\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInDoctype);\n                token.forceQuirks = true;\n                this.emitCurrentDoctype(token);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                if (this._consumeSequenceIfMatch($$.PUBLIC, false)) {\n                    this.state = State.AFTER_DOCTYPE_PUBLIC_KEYWORD;\n                }\n                else if (this._consumeSequenceIfMatch($$.SYSTEM, false)) {\n                    this.state = State.AFTER_DOCTYPE_SYSTEM_KEYWORD;\n                }\n                //NOTE: sequence lookup can be abrupted by hibernation. In that case lookup\n                //results are no longer valid and we will need to start over.\n                else if (!this._ensureHibernation()) {\n                    this._err(ERR.invalidCharacterSequenceAfterDoctypeName);\n                    token.forceQuirks = true;\n                    this.state = State.BOGUS_DOCTYPE;\n                    this._stateBogusDoctype(cp);\n                }\n            }\n        }\n    }\n    // After DOCTYPE public keyword state\n    //------------------------------------------------------------------\n    _stateAfterDoctypePublicKeyword(cp) {\n        const token = this.currentToken;\n        switch (cp) {\n            case $.SPACE:\n            case $.LINE_FEED:\n            case $.TABULATION:\n            case $.FORM_FEED: {\n                this.state = State.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;\n                break;\n            }\n            case $.QUOTATION_MARK: {\n                this._err(ERR.missingWhitespaceAfterDoctypePublicKeyword);\n                token.publicId = '';\n                this.state = State.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;\n                break;\n            }\n            case $.APOSTROPHE: {\n                this._err(ERR.missingWhitespaceAfterDoctypePublicKeyword);\n                token.publicId = '';\n                this.state = State.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;\n                break;\n            }\n            case $.GREATER_THAN_SIGN: {\n                this._err(ERR.missingDoctypePublicIdentifier);\n                token.forceQuirks = true;\n                this.state = State.DATA;\n                this.emitCurrentDoctype(token);\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInDoctype);\n                token.forceQuirks = true;\n                this.emitCurrentDoctype(token);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                this._err(ERR.missingQuoteBeforeDoctypePublicIdentifier);\n                token.forceQuirks = true;\n                this.state = State.BOGUS_DOCTYPE;\n                this._stateBogusDoctype(cp);\n            }\n        }\n    }\n    // Before DOCTYPE public identifier state\n    //------------------------------------------------------------------\n    _stateBeforeDoctypePublicIdentifier(cp) {\n        const token = this.currentToken;\n        switch (cp) {\n            case $.SPACE:\n            case $.LINE_FEED:\n            case $.TABULATION:\n            case $.FORM_FEED: {\n                // Ignore whitespace\n                break;\n            }\n            case $.QUOTATION_MARK: {\n                token.publicId = '';\n                this.state = State.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;\n                break;\n            }\n            case $.APOSTROPHE: {\n                token.publicId = '';\n                this.state = State.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;\n                break;\n            }\n            case $.GREATER_THAN_SIGN: {\n                this._err(ERR.missingDoctypePublicIdentifier);\n                token.forceQuirks = true;\n                this.state = State.DATA;\n                this.emitCurrentDoctype(token);\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInDoctype);\n                token.forceQuirks = true;\n                this.emitCurrentDoctype(token);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                this._err(ERR.missingQuoteBeforeDoctypePublicIdentifier);\n                token.forceQuirks = true;\n                this.state = State.BOGUS_DOCTYPE;\n                this._stateBogusDoctype(cp);\n            }\n        }\n    }\n    // DOCTYPE public identifier (double-quoted) state\n    //------------------------------------------------------------------\n    _stateDoctypePublicIdentifierDoubleQuoted(cp) {\n        const token = this.currentToken;\n        switch (cp) {\n            case $.QUOTATION_MARK: {\n                this.state = State.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;\n                break;\n            }\n            case $.NULL: {\n                this._err(ERR.unexpectedNullCharacter);\n                token.publicId += REPLACEMENT_CHARACTER;\n                break;\n            }\n            case $.GREATER_THAN_SIGN: {\n                this._err(ERR.abruptDoctypePublicIdentifier);\n                token.forceQuirks = true;\n                this.emitCurrentDoctype(token);\n                this.state = State.DATA;\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInDoctype);\n                token.forceQuirks = true;\n                this.emitCurrentDoctype(token);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                token.publicId += String.fromCodePoint(cp);\n            }\n        }\n    }\n    // DOCTYPE public identifier (single-quoted) state\n    //------------------------------------------------------------------\n    _stateDoctypePublicIdentifierSingleQuoted(cp) {\n        const token = this.currentToken;\n        switch (cp) {\n            case $.APOSTROPHE: {\n                this.state = State.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;\n                break;\n            }\n            case $.NULL: {\n                this._err(ERR.unexpectedNullCharacter);\n                token.publicId += REPLACEMENT_CHARACTER;\n                break;\n            }\n            case $.GREATER_THAN_SIGN: {\n                this._err(ERR.abruptDoctypePublicIdentifier);\n                token.forceQuirks = true;\n                this.emitCurrentDoctype(token);\n                this.state = State.DATA;\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInDoctype);\n                token.forceQuirks = true;\n                this.emitCurrentDoctype(token);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                token.publicId += String.fromCodePoint(cp);\n            }\n        }\n    }\n    // After DOCTYPE public identifier state\n    //------------------------------------------------------------------\n    _stateAfterDoctypePublicIdentifier(cp) {\n        const token = this.currentToken;\n        switch (cp) {\n            case $.SPACE:\n            case $.LINE_FEED:\n            case $.TABULATION:\n            case $.FORM_FEED: {\n                this.state = State.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;\n                break;\n            }\n            case $.GREATER_THAN_SIGN: {\n                this.state = State.DATA;\n                this.emitCurrentDoctype(token);\n                break;\n            }\n            case $.QUOTATION_MARK: {\n                this._err(ERR.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers);\n                token.systemId = '';\n                this.state = State.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;\n                break;\n            }\n            case $.APOSTROPHE: {\n                this._err(ERR.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers);\n                token.systemId = '';\n                this.state = State.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInDoctype);\n                token.forceQuirks = true;\n                this.emitCurrentDoctype(token);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                this._err(ERR.missingQuoteBeforeDoctypeSystemIdentifier);\n                token.forceQuirks = true;\n                this.state = State.BOGUS_DOCTYPE;\n                this._stateBogusDoctype(cp);\n            }\n        }\n    }\n    // Between DOCTYPE public and system identifiers state\n    //------------------------------------------------------------------\n    _stateBetweenDoctypePublicAndSystemIdentifiers(cp) {\n        const token = this.currentToken;\n        switch (cp) {\n            case $.SPACE:\n            case $.LINE_FEED:\n            case $.TABULATION:\n            case $.FORM_FEED: {\n                // Ignore whitespace\n                break;\n            }\n            case $.GREATER_THAN_SIGN: {\n                this.emitCurrentDoctype(token);\n                this.state = State.DATA;\n                break;\n            }\n            case $.QUOTATION_MARK: {\n                token.systemId = '';\n                this.state = State.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;\n                break;\n            }\n            case $.APOSTROPHE: {\n                token.systemId = '';\n                this.state = State.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInDoctype);\n                token.forceQuirks = true;\n                this.emitCurrentDoctype(token);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                this._err(ERR.missingQuoteBeforeDoctypeSystemIdentifier);\n                token.forceQuirks = true;\n                this.state = State.BOGUS_DOCTYPE;\n                this._stateBogusDoctype(cp);\n            }\n        }\n    }\n    // After DOCTYPE system keyword state\n    //------------------------------------------------------------------\n    _stateAfterDoctypeSystemKeyword(cp) {\n        const token = this.currentToken;\n        switch (cp) {\n            case $.SPACE:\n            case $.LINE_FEED:\n            case $.TABULATION:\n            case $.FORM_FEED: {\n                this.state = State.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;\n                break;\n            }\n            case $.QUOTATION_MARK: {\n                this._err(ERR.missingWhitespaceAfterDoctypeSystemKeyword);\n                token.systemId = '';\n                this.state = State.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;\n                break;\n            }\n            case $.APOSTROPHE: {\n                this._err(ERR.missingWhitespaceAfterDoctypeSystemKeyword);\n                token.systemId = '';\n                this.state = State.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;\n                break;\n            }\n            case $.GREATER_THAN_SIGN: {\n                this._err(ERR.missingDoctypeSystemIdentifier);\n                token.forceQuirks = true;\n                this.state = State.DATA;\n                this.emitCurrentDoctype(token);\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInDoctype);\n                token.forceQuirks = true;\n                this.emitCurrentDoctype(token);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                this._err(ERR.missingQuoteBeforeDoctypeSystemIdentifier);\n                token.forceQuirks = true;\n                this.state = State.BOGUS_DOCTYPE;\n                this._stateBogusDoctype(cp);\n            }\n        }\n    }\n    // Before DOCTYPE system identifier state\n    //------------------------------------------------------------------\n    _stateBeforeDoctypeSystemIdentifier(cp) {\n        const token = this.currentToken;\n        switch (cp) {\n            case $.SPACE:\n            case $.LINE_FEED:\n            case $.TABULATION:\n            case $.FORM_FEED: {\n                // Ignore whitespace\n                break;\n            }\n            case $.QUOTATION_MARK: {\n                token.systemId = '';\n                this.state = State.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;\n                break;\n            }\n            case $.APOSTROPHE: {\n                token.systemId = '';\n                this.state = State.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;\n                break;\n            }\n            case $.GREATER_THAN_SIGN: {\n                this._err(ERR.missingDoctypeSystemIdentifier);\n                token.forceQuirks = true;\n                this.state = State.DATA;\n                this.emitCurrentDoctype(token);\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInDoctype);\n                token.forceQuirks = true;\n                this.emitCurrentDoctype(token);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                this._err(ERR.missingQuoteBeforeDoctypeSystemIdentifier);\n                token.forceQuirks = true;\n                this.state = State.BOGUS_DOCTYPE;\n                this._stateBogusDoctype(cp);\n            }\n        }\n    }\n    // DOCTYPE system identifier (double-quoted) state\n    //------------------------------------------------------------------\n    _stateDoctypeSystemIdentifierDoubleQuoted(cp) {\n        const token = this.currentToken;\n        switch (cp) {\n            case $.QUOTATION_MARK: {\n                this.state = State.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;\n                break;\n            }\n            case $.NULL: {\n                this._err(ERR.unexpectedNullCharacter);\n                token.systemId += REPLACEMENT_CHARACTER;\n                break;\n            }\n            case $.GREATER_THAN_SIGN: {\n                this._err(ERR.abruptDoctypeSystemIdentifier);\n                token.forceQuirks = true;\n                this.emitCurrentDoctype(token);\n                this.state = State.DATA;\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInDoctype);\n                token.forceQuirks = true;\n                this.emitCurrentDoctype(token);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                token.systemId += String.fromCodePoint(cp);\n            }\n        }\n    }\n    // DOCTYPE system identifier (single-quoted) state\n    //------------------------------------------------------------------\n    _stateDoctypeSystemIdentifierSingleQuoted(cp) {\n        const token = this.currentToken;\n        switch (cp) {\n            case $.APOSTROPHE: {\n                this.state = State.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;\n                break;\n            }\n            case $.NULL: {\n                this._err(ERR.unexpectedNullCharacter);\n                token.systemId += REPLACEMENT_CHARACTER;\n                break;\n            }\n            case $.GREATER_THAN_SIGN: {\n                this._err(ERR.abruptDoctypeSystemIdentifier);\n                token.forceQuirks = true;\n                this.emitCurrentDoctype(token);\n                this.state = State.DATA;\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInDoctype);\n                token.forceQuirks = true;\n                this.emitCurrentDoctype(token);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                token.systemId += String.fromCodePoint(cp);\n            }\n        }\n    }\n    // After DOCTYPE system identifier state\n    //------------------------------------------------------------------\n    _stateAfterDoctypeSystemIdentifier(cp) {\n        const token = this.currentToken;\n        switch (cp) {\n            case $.SPACE:\n            case $.LINE_FEED:\n            case $.TABULATION:\n            case $.FORM_FEED: {\n                // Ignore whitespace\n                break;\n            }\n            case $.GREATER_THAN_SIGN: {\n                this.emitCurrentDoctype(token);\n                this.state = State.DATA;\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInDoctype);\n                token.forceQuirks = true;\n                this.emitCurrentDoctype(token);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                this._err(ERR.unexpectedCharacterAfterDoctypeSystemIdentifier);\n                this.state = State.BOGUS_DOCTYPE;\n                this._stateBogusDoctype(cp);\n            }\n        }\n    }\n    // Bogus DOCTYPE state\n    //------------------------------------------------------------------\n    _stateBogusDoctype(cp) {\n        const token = this.currentToken;\n        switch (cp) {\n            case $.GREATER_THAN_SIGN: {\n                this.emitCurrentDoctype(token);\n                this.state = State.DATA;\n                break;\n            }\n            case $.NULL: {\n                this._err(ERR.unexpectedNullCharacter);\n                break;\n            }\n            case $.EOF: {\n                this.emitCurrentDoctype(token);\n                this._emitEOFToken();\n                break;\n            }\n            default:\n            // Do nothing\n        }\n    }\n    // CDATA section state\n    //------------------------------------------------------------------\n    _stateCdataSection(cp) {\n        switch (cp) {\n            case $.RIGHT_SQUARE_BRACKET: {\n                this.state = State.CDATA_SECTION_BRACKET;\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInCdata);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                this._emitCodePoint(cp);\n            }\n        }\n    }\n    // CDATA section bracket state\n    //------------------------------------------------------------------\n    _stateCdataSectionBracket(cp) {\n        if (cp === $.RIGHT_SQUARE_BRACKET) {\n            this.state = State.CDATA_SECTION_END;\n        }\n        else {\n            this._emitChars(']');\n            this.state = State.CDATA_SECTION;\n            this._stateCdataSection(cp);\n        }\n    }\n    // CDATA section end state\n    //------------------------------------------------------------------\n    _stateCdataSectionEnd(cp) {\n        switch (cp) {\n            case $.GREATER_THAN_SIGN: {\n                this.state = State.DATA;\n                break;\n            }\n            case $.RIGHT_SQUARE_BRACKET: {\n                this._emitChars(']');\n                break;\n            }\n            default: {\n                this._emitChars(']]');\n                this.state = State.CDATA_SECTION;\n                this._stateCdataSection(cp);\n            }\n        }\n    }\n    // Character reference state\n    //------------------------------------------------------------------\n    _stateCharacterReference() {\n        let length = this.entityDecoder.write(this.preprocessor.html, this.preprocessor.pos);\n        if (length < 0) {\n            if (this.preprocessor.lastChunkWritten) {\n                length = this.entityDecoder.end();\n            }\n            else {\n                // Wait for the rest of the entity.\n                this.active = false;\n                // Mark the entire buffer as read.\n                this.preprocessor.pos = this.preprocessor.html.length - 1;\n                this.consumedAfterSnapshot = 0;\n                this.preprocessor.endOfChunkHit = true;\n                return;\n            }\n        }\n        if (length === 0) {\n            // This was not a valid entity. Go back to the beginning, and\n            // figure out what to do.\n            this.preprocessor.pos = this.entityStartPos;\n            this._flushCodePointConsumedAsCharacterReference($.AMPERSAND);\n            this.state =\n                !this._isCharacterReferenceInAttribute() && isAsciiAlphaNumeric(this.preprocessor.peek(1))\n                    ? State.AMBIGUOUS_AMPERSAND\n                    : this.returnState;\n        }\n        else {\n            // We successfully parsed an entity. Switch to the return state.\n            this.state = this.returnState;\n        }\n    }\n    // Ambiguos ampersand state\n    //------------------------------------------------------------------\n    _stateAmbiguousAmpersand(cp) {\n        if (isAsciiAlphaNumeric(cp)) {\n            this._flushCodePointConsumedAsCharacterReference(cp);\n        }\n        else {\n            if (cp === $.SEMICOLON) {\n                this._err(ERR.unknownNamedCharacterReference);\n            }\n            this.state = this.returnState;\n            this._callState(cp);\n        }\n    }\n}\n","import { TAG_ID as $, NS, NUMBERED_HEADERS } from '../common/html.js';\n//Element utils\nconst IMPLICIT_END_TAG_REQUIRED = new Set([$.DD, $.DT, $.LI, $.OPTGROUP, $.OPTION, $.P, $.RB, $.RP, $.RT, $.RTC]);\nconst IMPLICIT_END_TAG_REQUIRED_THOROUGHLY = new Set([\n    ...IMPLICIT_END_TAG_REQUIRED,\n    $.CAPTION,\n    $.COLGROUP,\n    $.TBODY,\n    $.TD,\n    $.TFOOT,\n    $.TH,\n    $.THEAD,\n    $.TR,\n]);\nconst SCOPING_ELEMENTS_HTML = new Set([\n    $.APPLET,\n    $.CAPTION,\n    $.HTML,\n    $.MARQUEE,\n    $.OBJECT,\n    $.TABLE,\n    $.TD,\n    $.TEMPLATE,\n    $.TH,\n]);\nconst SCOPING_ELEMENTS_HTML_LIST = new Set([...SCOPING_ELEMENTS_HTML, $.OL, $.UL]);\nconst SCOPING_ELEMENTS_HTML_BUTTON = new Set([...SCOPING_ELEMENTS_HTML, $.BUTTON]);\nconst SCOPING_ELEMENTS_MATHML = new Set([$.ANNOTATION_XML, $.MI, $.MN, $.MO, $.MS, $.MTEXT]);\nconst SCOPING_ELEMENTS_SVG = new Set([$.DESC, $.FOREIGN_OBJECT, $.TITLE]);\nconst TABLE_ROW_CONTEXT = new Set([$.TR, $.TEMPLATE, $.HTML]);\nconst TABLE_BODY_CONTEXT = new Set([$.TBODY, $.TFOOT, $.THEAD, $.TEMPLATE, $.HTML]);\nconst TABLE_CONTEXT = new Set([$.TABLE, $.TEMPLATE, $.HTML]);\nconst TABLE_CELLS = new Set([$.TD, $.TH]);\n//Stack of open elements\nexport class OpenElementStack {\n    get currentTmplContentOrNode() {\n        return this._isInTemplate() ? this.treeAdapter.getTemplateContent(this.current) : this.current;\n    }\n    constructor(document, treeAdapter, handler) {\n        this.treeAdapter = treeAdapter;\n        this.handler = handler;\n        this.items = [];\n        this.tagIDs = [];\n        this.stackTop = -1;\n        this.tmplCount = 0;\n        this.currentTagId = $.UNKNOWN;\n        this.current = document;\n    }\n    //Index of element\n    _indexOf(element) {\n        return this.items.lastIndexOf(element, this.stackTop);\n    }\n    //Update current element\n    _isInTemplate() {\n        return this.currentTagId === $.TEMPLATE && this.treeAdapter.getNamespaceURI(this.current) === NS.HTML;\n    }\n    _updateCurrentElement() {\n        this.current = this.items[this.stackTop];\n        this.currentTagId = this.tagIDs[this.stackTop];\n    }\n    //Mutations\n    push(element, tagID) {\n        this.stackTop++;\n        this.items[this.stackTop] = element;\n        this.current = element;\n        this.tagIDs[this.stackTop] = tagID;\n        this.currentTagId = tagID;\n        if (this._isInTemplate()) {\n            this.tmplCount++;\n        }\n        this.handler.onItemPush(element, tagID, true);\n    }\n    pop() {\n        const popped = this.current;\n        if (this.tmplCount > 0 && this._isInTemplate()) {\n            this.tmplCount--;\n        }\n        this.stackTop--;\n        this._updateCurrentElement();\n        this.handler.onItemPop(popped, true);\n    }\n    replace(oldElement, newElement) {\n        const idx = this._indexOf(oldElement);\n        this.items[idx] = newElement;\n        if (idx === this.stackTop) {\n            this.current = newElement;\n        }\n    }\n    insertAfter(referenceElement, newElement, newElementID) {\n        const insertionIdx = this._indexOf(referenceElement) + 1;\n        this.items.splice(insertionIdx, 0, newElement);\n        this.tagIDs.splice(insertionIdx, 0, newElementID);\n        this.stackTop++;\n        if (insertionIdx === this.stackTop) {\n            this._updateCurrentElement();\n        }\n        this.handler.onItemPush(this.current, this.currentTagId, insertionIdx === this.stackTop);\n    }\n    popUntilTagNamePopped(tagName) {\n        let targetIdx = this.stackTop + 1;\n        do {\n            targetIdx = this.tagIDs.lastIndexOf(tagName, targetIdx - 1);\n        } while (targetIdx > 0 && this.treeAdapter.getNamespaceURI(this.items[targetIdx]) !== NS.HTML);\n        this.shortenToLength(targetIdx < 0 ? 0 : targetIdx);\n    }\n    shortenToLength(idx) {\n        while (this.stackTop >= idx) {\n            const popped = this.current;\n            if (this.tmplCount > 0 && this._isInTemplate()) {\n                this.tmplCount -= 1;\n            }\n            this.stackTop--;\n            this._updateCurrentElement();\n            this.handler.onItemPop(popped, this.stackTop < idx);\n        }\n    }\n    popUntilElementPopped(element) {\n        const idx = this._indexOf(element);\n        this.shortenToLength(idx < 0 ? 0 : idx);\n    }\n    popUntilPopped(tagNames, targetNS) {\n        const idx = this._indexOfTagNames(tagNames, targetNS);\n        this.shortenToLength(idx < 0 ? 0 : idx);\n    }\n    popUntilNumberedHeaderPopped() {\n        this.popUntilPopped(NUMBERED_HEADERS, NS.HTML);\n    }\n    popUntilTableCellPopped() {\n        this.popUntilPopped(TABLE_CELLS, NS.HTML);\n    }\n    popAllUpToHtmlElement() {\n        //NOTE: here we assume that the root <html> element is always first in the open element stack, so\n        //we perform this fast stack clean up.\n        this.tmplCount = 0;\n        this.shortenToLength(1);\n    }\n    _indexOfTagNames(tagNames, namespace) {\n        for (let i = this.stackTop; i >= 0; i--) {\n            if (tagNames.has(this.tagIDs[i]) && this.treeAdapter.getNamespaceURI(this.items[i]) === namespace) {\n                return i;\n            }\n        }\n        return -1;\n    }\n    clearBackTo(tagNames, targetNS) {\n        const idx = this._indexOfTagNames(tagNames, targetNS);\n        this.shortenToLength(idx + 1);\n    }\n    clearBackToTableContext() {\n        this.clearBackTo(TABLE_CONTEXT, NS.HTML);\n    }\n    clearBackToTableBodyContext() {\n        this.clearBackTo(TABLE_BODY_CONTEXT, NS.HTML);\n    }\n    clearBackToTableRowContext() {\n        this.clearBackTo(TABLE_ROW_CONTEXT, NS.HTML);\n    }\n    remove(element) {\n        const idx = this._indexOf(element);\n        if (idx >= 0) {\n            if (idx === this.stackTop) {\n                this.pop();\n            }\n            else {\n                this.items.splice(idx, 1);\n                this.tagIDs.splice(idx, 1);\n                this.stackTop--;\n                this._updateCurrentElement();\n                this.handler.onItemPop(element, false);\n            }\n        }\n    }\n    //Search\n    tryPeekProperlyNestedBodyElement() {\n        //Properly nested <body> element (should be second element in stack).\n        return this.stackTop >= 1 && this.tagIDs[1] === $.BODY ? this.items[1] : null;\n    }\n    contains(element) {\n        return this._indexOf(element) > -1;\n    }\n    getCommonAncestor(element) {\n        const elementIdx = this._indexOf(element) - 1;\n        return elementIdx >= 0 ? this.items[elementIdx] : null;\n    }\n    isRootHtmlElementCurrent() {\n        return this.stackTop === 0 && this.tagIDs[0] === $.HTML;\n    }\n    //Element in scope\n    hasInDynamicScope(tagName, htmlScope) {\n        for (let i = this.stackTop; i >= 0; i--) {\n            const tn = this.tagIDs[i];\n            switch (this.treeAdapter.getNamespaceURI(this.items[i])) {\n                case NS.HTML: {\n                    if (tn === tagName)\n                        return true;\n                    if (htmlScope.has(tn))\n                        return false;\n                    break;\n                }\n                case NS.SVG: {\n                    if (SCOPING_ELEMENTS_SVG.has(tn))\n                        return false;\n                    break;\n                }\n                case NS.MATHML: {\n                    if (SCOPING_ELEMENTS_MATHML.has(tn))\n                        return false;\n                    break;\n                }\n            }\n        }\n        return true;\n    }\n    hasInScope(tagName) {\n        return this.hasInDynamicScope(tagName, SCOPING_ELEMENTS_HTML);\n    }\n    hasInListItemScope(tagName) {\n        return this.hasInDynamicScope(tagName, SCOPING_ELEMENTS_HTML_LIST);\n    }\n    hasInButtonScope(tagName) {\n        return this.hasInDynamicScope(tagName, SCOPING_ELEMENTS_HTML_BUTTON);\n    }\n    hasNumberedHeaderInScope() {\n        for (let i = this.stackTop; i >= 0; i--) {\n            const tn = this.tagIDs[i];\n            switch (this.treeAdapter.getNamespaceURI(this.items[i])) {\n                case NS.HTML: {\n                    if (NUMBERED_HEADERS.has(tn))\n                        return true;\n                    if (SCOPING_ELEMENTS_HTML.has(tn))\n                        return false;\n                    break;\n                }\n                case NS.SVG: {\n                    if (SCOPING_ELEMENTS_SVG.has(tn))\n                        return false;\n                    break;\n                }\n                case NS.MATHML: {\n                    if (SCOPING_ELEMENTS_MATHML.has(tn))\n                        return false;\n                    break;\n                }\n            }\n        }\n        return true;\n    }\n    hasInTableScope(tagName) {\n        for (let i = this.stackTop; i >= 0; i--) {\n            if (this.treeAdapter.getNamespaceURI(this.items[i]) !== NS.HTML) {\n                continue;\n            }\n            switch (this.tagIDs[i]) {\n                case tagName: {\n                    return true;\n                }\n                case $.TABLE:\n                case $.HTML: {\n                    return false;\n                }\n            }\n        }\n        return true;\n    }\n    hasTableBodyContextInTableScope() {\n        for (let i = this.stackTop; i >= 0; i--) {\n            if (this.treeAdapter.getNamespaceURI(this.items[i]) !== NS.HTML) {\n                continue;\n            }\n            switch (this.tagIDs[i]) {\n                case $.TBODY:\n                case $.THEAD:\n                case $.TFOOT: {\n                    return true;\n                }\n                case $.TABLE:\n                case $.HTML: {\n                    return false;\n                }\n            }\n        }\n        return true;\n    }\n    hasInSelectScope(tagName) {\n        for (let i = this.stackTop; i >= 0; i--) {\n            if (this.treeAdapter.getNamespaceURI(this.items[i]) !== NS.HTML) {\n                continue;\n            }\n            switch (this.tagIDs[i]) {\n                case tagName: {\n                    return true;\n                }\n                case $.OPTION:\n                case $.OPTGROUP: {\n                    break;\n                }\n                default: {\n                    return false;\n                }\n            }\n        }\n        return true;\n    }\n    //Implied end tags\n    generateImpliedEndTags() {\n        while (IMPLICIT_END_TAG_REQUIRED.has(this.currentTagId)) {\n            this.pop();\n        }\n    }\n    generateImpliedEndTagsThoroughly() {\n        while (IMPLICIT_END_TAG_REQUIRED_THOROUGHLY.has(this.currentTagId)) {\n            this.pop();\n        }\n    }\n    generateImpliedEndTagsWithExclusion(exclusionId) {\n        while (this.currentTagId !== exclusionId && IMPLICIT_END_TAG_REQUIRED_THOROUGHLY.has(this.currentTagId)) {\n            this.pop();\n        }\n    }\n}\n","//Const\nconst NOAH_ARK_CAPACITY = 3;\nexport var EntryType;\n(function (EntryType) {\n    EntryType[EntryType[\"Marker\"] = 0] = \"Marker\";\n    EntryType[EntryType[\"Element\"] = 1] = \"Element\";\n})(EntryType || (EntryType = {}));\nconst MARKER = { type: EntryType.Marker };\n//List of formatting elements\nexport class FormattingElementList {\n    constructor(treeAdapter) {\n        this.treeAdapter = treeAdapter;\n        this.entries = [];\n        this.bookmark = null;\n    }\n    //Noah Ark's condition\n    //OPTIMIZATION: at first we try to find possible candidates for exclusion using\n    //lightweight heuristics without thorough attributes check.\n    _getNoahArkConditionCandidates(newElement, neAttrs) {\n        const candidates = [];\n        const neAttrsLength = neAttrs.length;\n        const neTagName = this.treeAdapter.getTagName(newElement);\n        const neNamespaceURI = this.treeAdapter.getNamespaceURI(newElement);\n        for (let i = 0; i < this.entries.length; i++) {\n            const entry = this.entries[i];\n            if (entry.type === EntryType.Marker) {\n                break;\n            }\n            const { element } = entry;\n            if (this.treeAdapter.getTagName(element) === neTagName &&\n                this.treeAdapter.getNamespaceURI(element) === neNamespaceURI) {\n                const elementAttrs = this.treeAdapter.getAttrList(element);\n                if (elementAttrs.length === neAttrsLength) {\n                    candidates.push({ idx: i, attrs: elementAttrs });\n                }\n            }\n        }\n        return candidates;\n    }\n    _ensureNoahArkCondition(newElement) {\n        if (this.entries.length < NOAH_ARK_CAPACITY)\n            return;\n        const neAttrs = this.treeAdapter.getAttrList(newElement);\n        const candidates = this._getNoahArkConditionCandidates(newElement, neAttrs);\n        if (candidates.length < NOAH_ARK_CAPACITY)\n            return;\n        //NOTE: build attrs map for the new element, so we can perform fast lookups\n        const neAttrsMap = new Map(neAttrs.map((neAttr) => [neAttr.name, neAttr.value]));\n        let validCandidates = 0;\n        //NOTE: remove bottommost candidates, until Noah's Ark condition will not be met\n        for (let i = 0; i < candidates.length; i++) {\n            const candidate = candidates[i];\n            // We know that `candidate.attrs.length === neAttrs.length`\n            if (candidate.attrs.every((cAttr) => neAttrsMap.get(cAttr.name) === cAttr.value)) {\n                validCandidates += 1;\n                if (validCandidates >= NOAH_ARK_CAPACITY) {\n                    this.entries.splice(candidate.idx, 1);\n                }\n            }\n        }\n    }\n    //Mutations\n    insertMarker() {\n        this.entries.unshift(MARKER);\n    }\n    pushElement(element, token) {\n        this._ensureNoahArkCondition(element);\n        this.entries.unshift({\n            type: EntryType.Element,\n            element,\n            token,\n        });\n    }\n    insertElementAfterBookmark(element, token) {\n        const bookmarkIdx = this.entries.indexOf(this.bookmark);\n        this.entries.splice(bookmarkIdx, 0, {\n            type: EntryType.Element,\n            element,\n            token,\n        });\n    }\n    removeEntry(entry) {\n        const entryIndex = this.entries.indexOf(entry);\n        if (entryIndex >= 0) {\n            this.entries.splice(entryIndex, 1);\n        }\n    }\n    /**\n     * Clears the list of formatting elements up to the last marker.\n     *\n     * @see https://html.spec.whatwg.org/multipage/parsing.html#clear-the-list-of-active-formatting-elements-up-to-the-last-marker\n     */\n    clearToLastMarker() {\n        const markerIdx = this.entries.indexOf(MARKER);\n        if (markerIdx >= 0) {\n            this.entries.splice(0, markerIdx + 1);\n        }\n        else {\n            this.entries.length = 0;\n        }\n    }\n    //Search\n    getElementEntryInScopeWithTagName(tagName) {\n        const entry = this.entries.find((entry) => entry.type === EntryType.Marker || this.treeAdapter.getTagName(entry.element) === tagName);\n        return entry && entry.type === EntryType.Element ? entry : null;\n    }\n    getElementEntry(element) {\n        return this.entries.find((entry) => entry.type === EntryType.Element && entry.element === element);\n    }\n}\n","import { DOCUMENT_MODE } from '../common/html.js';\nexport const defaultTreeAdapter = {\n    //Node construction\n    createDocument() {\n        return {\n            nodeName: '#document',\n            mode: DOCUMENT_MODE.NO_QUIRKS,\n            childNodes: [],\n        };\n    },\n    createDocumentFragment() {\n        return {\n            nodeName: '#document-fragment',\n            childNodes: [],\n        };\n    },\n    createElement(tagName, namespaceURI, attrs) {\n        return {\n            nodeName: tagName,\n            tagName,\n            attrs,\n            namespaceURI,\n            childNodes: [],\n            parentNode: null,\n        };\n    },\n    createCommentNode(data) {\n        return {\n            nodeName: '#comment',\n            data,\n            parentNode: null,\n        };\n    },\n    createTextNode(value) {\n        return {\n            nodeName: '#text',\n            value,\n            parentNode: null,\n        };\n    },\n    //Tree mutation\n    appendChild(parentNode, newNode) {\n        parentNode.childNodes.push(newNode);\n        newNode.parentNode = parentNode;\n    },\n    insertBefore(parentNode, newNode, referenceNode) {\n        const insertionIdx = parentNode.childNodes.indexOf(referenceNode);\n        parentNode.childNodes.splice(insertionIdx, 0, newNode);\n        newNode.parentNode = parentNode;\n    },\n    setTemplateContent(templateElement, contentElement) {\n        templateElement.content = contentElement;\n    },\n    getTemplateContent(templateElement) {\n        return templateElement.content;\n    },\n    setDocumentType(document, name, publicId, systemId) {\n        const doctypeNode = document.childNodes.find((node) => node.nodeName === '#documentType');\n        if (doctypeNode) {\n            doctypeNode.name = name;\n            doctypeNode.publicId = publicId;\n            doctypeNode.systemId = systemId;\n        }\n        else {\n            const node = {\n                nodeName: '#documentType',\n                name,\n                publicId,\n                systemId,\n                parentNode: null,\n            };\n            defaultTreeAdapter.appendChild(document, node);\n        }\n    },\n    setDocumentMode(document, mode) {\n        document.mode = mode;\n    },\n    getDocumentMode(document) {\n        return document.mode;\n    },\n    detachNode(node) {\n        if (node.parentNode) {\n            const idx = node.parentNode.childNodes.indexOf(node);\n            node.parentNode.childNodes.splice(idx, 1);\n            node.parentNode = null;\n        }\n    },\n    insertText(parentNode, text) {\n        if (parentNode.childNodes.length > 0) {\n            const prevNode = parentNode.childNodes[parentNode.childNodes.length - 1];\n            if (defaultTreeAdapter.isTextNode(prevNode)) {\n                prevNode.value += text;\n                return;\n            }\n        }\n        defaultTreeAdapter.appendChild(parentNode, defaultTreeAdapter.createTextNode(text));\n    },\n    insertTextBefore(parentNode, text, referenceNode) {\n        const prevNode = parentNode.childNodes[parentNode.childNodes.indexOf(referenceNode) - 1];\n        if (prevNode && defaultTreeAdapter.isTextNode(prevNode)) {\n            prevNode.value += text;\n        }\n        else {\n            defaultTreeAdapter.insertBefore(parentNode, defaultTreeAdapter.createTextNode(text), referenceNode);\n        }\n    },\n    adoptAttributes(recipient, attrs) {\n        const recipientAttrsMap = new Set(recipient.attrs.map((attr) => attr.name));\n        for (let j = 0; j < attrs.length; j++) {\n            if (!recipientAttrsMap.has(attrs[j].name)) {\n                recipient.attrs.push(attrs[j]);\n            }\n        }\n    },\n    //Tree traversing\n    getFirstChild(node) {\n        return node.childNodes[0];\n    },\n    getChildNodes(node) {\n        return node.childNodes;\n    },\n    getParentNode(node) {\n        return node.parentNode;\n    },\n    getAttrList(element) {\n        return element.attrs;\n    },\n    //Node data\n    getTagName(element) {\n        return element.tagName;\n    },\n    getNamespaceURI(element) {\n        return element.namespaceURI;\n    },\n    getTextNodeContent(textNode) {\n        return textNode.value;\n    },\n    getCommentNodeContent(commentNode) {\n        return commentNode.data;\n    },\n    getDocumentTypeNodeName(doctypeNode) {\n        return doctypeNode.name;\n    },\n    getDocumentTypeNodePublicId(doctypeNode) {\n        return doctypeNode.publicId;\n    },\n    getDocumentTypeNodeSystemId(doctypeNode) {\n        return doctypeNode.systemId;\n    },\n    //Node types\n    isTextNode(node) {\n        return node.nodeName === '#text';\n    },\n    isCommentNode(node) {\n        return node.nodeName === '#comment';\n    },\n    isDocumentTypeNode(node) {\n        return node.nodeName === '#documentType';\n    },\n    isElementNode(node) {\n        return Object.prototype.hasOwnProperty.call(node, 'tagName');\n    },\n    // Source code location\n    setNodeSourceCodeLocation(node, location) {\n        node.sourceCodeLocation = location;\n    },\n    getNodeSourceCodeLocation(node) {\n        return node.sourceCodeLocation;\n    },\n    updateNodeSourceCodeLocation(node, endLocation) {\n        node.sourceCodeLocation = { ...node.sourceCodeLocation, ...endLocation };\n    },\n};\n","import { DOCUMENT_MODE } from './html.js';\n//Const\nconst VALID_DOCTYPE_NAME = 'html';\nconst VALID_SYSTEM_ID = 'about:legacy-compat';\nconst QUIRKS_MODE_SYSTEM_ID = 'http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd';\nconst QUIRKS_MODE_PUBLIC_ID_PREFIXES = [\n    '+//silmaril//dtd html pro v0r11 19970101//',\n    '-//as//dtd html 3.0 aswedit + extensions//',\n    '-//advasoft ltd//dtd html 3.0 aswedit + extensions//',\n    '-//ietf//dtd html 2.0 level 1//',\n    '-//ietf//dtd html 2.0 level 2//',\n    '-//ietf//dtd html 2.0 strict level 1//',\n    '-//ietf//dtd html 2.0 strict level 2//',\n    '-//ietf//dtd html 2.0 strict//',\n    '-//ietf//dtd html 2.0//',\n    '-//ietf//dtd html 2.1e//',\n    '-//ietf//dtd html 3.0//',\n    '-//ietf//dtd html 3.2 final//',\n    '-//ietf//dtd html 3.2//',\n    '-//ietf//dtd html 3//',\n    '-//ietf//dtd html level 0//',\n    '-//ietf//dtd html level 1//',\n    '-//ietf//dtd html level 2//',\n    '-//ietf//dtd html level 3//',\n    '-//ietf//dtd html strict level 0//',\n    '-//ietf//dtd html strict level 1//',\n    '-//ietf//dtd html strict level 2//',\n    '-//ietf//dtd html strict level 3//',\n    '-//ietf//dtd html strict//',\n    '-//ietf//dtd html//',\n    '-//metrius//dtd metrius presentational//',\n    '-//microsoft//dtd internet explorer 2.0 html strict//',\n    '-//microsoft//dtd internet explorer 2.0 html//',\n    '-//microsoft//dtd internet explorer 2.0 tables//',\n    '-//microsoft//dtd internet explorer 3.0 html strict//',\n    '-//microsoft//dtd internet explorer 3.0 html//',\n    '-//microsoft//dtd internet explorer 3.0 tables//',\n    '-//netscape comm. corp.//dtd html//',\n    '-//netscape comm. corp.//dtd strict html//',\n    \"-//o'reilly and associates//dtd html 2.0//\",\n    \"-//o'reilly and associates//dtd html extended 1.0//\",\n    \"-//o'reilly and associates//dtd html extended relaxed 1.0//\",\n    '-//sq//dtd html 2.0 hotmetal + extensions//',\n    '-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//',\n    '-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//',\n    '-//spyglass//dtd html 2.0 extended//',\n    '-//sun microsystems corp.//dtd hotjava html//',\n    '-//sun microsystems corp.//dtd hotjava strict html//',\n    '-//w3c//dtd html 3 1995-03-24//',\n    '-//w3c//dtd html 3.2 draft//',\n    '-//w3c//dtd html 3.2 final//',\n    '-//w3c//dtd html 3.2//',\n    '-//w3c//dtd html 3.2s draft//',\n    '-//w3c//dtd html 4.0 frameset//',\n    '-//w3c//dtd html 4.0 transitional//',\n    '-//w3c//dtd html experimental 19960712//',\n    '-//w3c//dtd html experimental 970421//',\n    '-//w3c//dtd w3 html//',\n    '-//w3o//dtd w3 html 3.0//',\n    '-//webtechs//dtd mozilla html 2.0//',\n    '-//webtechs//dtd mozilla html//',\n];\nconst QUIRKS_MODE_NO_SYSTEM_ID_PUBLIC_ID_PREFIXES = [\n    ...QUIRKS_MODE_PUBLIC_ID_PREFIXES,\n    '-//w3c//dtd html 4.01 frameset//',\n    '-//w3c//dtd html 4.01 transitional//',\n];\nconst QUIRKS_MODE_PUBLIC_IDS = new Set([\n    '-//w3o//dtd w3 html strict 3.0//en//',\n    '-/w3c/dtd html 4.0 transitional/en',\n    'html',\n]);\nconst LIMITED_QUIRKS_PUBLIC_ID_PREFIXES = ['-//w3c//dtd xhtml 1.0 frameset//', '-//w3c//dtd xhtml 1.0 transitional//'];\nconst LIMITED_QUIRKS_WITH_SYSTEM_ID_PUBLIC_ID_PREFIXES = [\n    ...LIMITED_QUIRKS_PUBLIC_ID_PREFIXES,\n    '-//w3c//dtd html 4.01 frameset//',\n    '-//w3c//dtd html 4.01 transitional//',\n];\n//Utils\nfunction hasPrefix(publicId, prefixes) {\n    return prefixes.some((prefix) => publicId.startsWith(prefix));\n}\n//API\nexport function isConforming(token) {\n    return (token.name === VALID_DOCTYPE_NAME &&\n        token.publicId === null &&\n        (token.systemId === null || token.systemId === VALID_SYSTEM_ID));\n}\nexport function getDocumentMode(token) {\n    if (token.name !== VALID_DOCTYPE_NAME) {\n        return DOCUMENT_MODE.QUIRKS;\n    }\n    const { systemId } = token;\n    if (systemId && systemId.toLowerCase() === QUIRKS_MODE_SYSTEM_ID) {\n        return DOCUMENT_MODE.QUIRKS;\n    }\n    let { publicId } = token;\n    if (publicId !== null) {\n        publicId = publicId.toLowerCase();\n        if (QUIRKS_MODE_PUBLIC_IDS.has(publicId)) {\n            return DOCUMENT_MODE.QUIRKS;\n        }\n        let prefixes = systemId === null ? QUIRKS_MODE_NO_SYSTEM_ID_PUBLIC_ID_PREFIXES : QUIRKS_MODE_PUBLIC_ID_PREFIXES;\n        if (hasPrefix(publicId, prefixes)) {\n            return DOCUMENT_MODE.QUIRKS;\n        }\n        prefixes =\n            systemId === null ? LIMITED_QUIRKS_PUBLIC_ID_PREFIXES : LIMITED_QUIRKS_WITH_SYSTEM_ID_PUBLIC_ID_PREFIXES;\n        if (hasPrefix(publicId, prefixes)) {\n            return DOCUMENT_MODE.LIMITED_QUIRKS;\n        }\n    }\n    return DOCUMENT_MODE.NO_QUIRKS;\n}\n","import { TAG_ID as $, NS, ATTRS, getTagID } from './html.js';\n//MIME types\nconst MIME_TYPES = {\n    TEXT_HTML: 'text/html',\n    APPLICATION_XML: 'application/xhtml+xml',\n};\n//Attributes\nconst DEFINITION_URL_ATTR = 'definitionurl';\nconst ADJUSTED_DEFINITION_URL_ATTR = 'definitionURL';\nconst SVG_ATTRS_ADJUSTMENT_MAP = new Map([\n    'attributeName',\n    'attributeType',\n    'baseFrequency',\n    'baseProfile',\n    'calcMode',\n    'clipPathUnits',\n    'diffuseConstant',\n    'edgeMode',\n    'filterUnits',\n    'glyphRef',\n    'gradientTransform',\n    'gradientUnits',\n    'kernelMatrix',\n    'kernelUnitLength',\n    'keyPoints',\n    'keySplines',\n    'keyTimes',\n    'lengthAdjust',\n    'limitingConeAngle',\n    'markerHeight',\n    'markerUnits',\n    'markerWidth',\n    'maskContentUnits',\n    'maskUnits',\n    'numOctaves',\n    'pathLength',\n    'patternContentUnits',\n    'patternTransform',\n    'patternUnits',\n    'pointsAtX',\n    'pointsAtY',\n    'pointsAtZ',\n    'preserveAlpha',\n    'preserveAspectRatio',\n    'primitiveUnits',\n    'refX',\n    'refY',\n    'repeatCount',\n    'repeatDur',\n    'requiredExtensions',\n    'requiredFeatures',\n    'specularConstant',\n    'specularExponent',\n    'spreadMethod',\n    'startOffset',\n    'stdDeviation',\n    'stitchTiles',\n    'surfaceScale',\n    'systemLanguage',\n    'tableValues',\n    'targetX',\n    'targetY',\n    'textLength',\n    'viewBox',\n    'viewTarget',\n    'xChannelSelector',\n    'yChannelSelector',\n    'zoomAndPan',\n].map((attr) => [attr.toLowerCase(), attr]));\nconst XML_ATTRS_ADJUSTMENT_MAP = new Map([\n    ['xlink:actuate', { prefix: 'xlink', name: 'actuate', namespace: NS.XLINK }],\n    ['xlink:arcrole', { prefix: 'xlink', name: 'arcrole', namespace: NS.XLINK }],\n    ['xlink:href', { prefix: 'xlink', name: 'href', namespace: NS.XLINK }],\n    ['xlink:role', { prefix: 'xlink', name: 'role', namespace: NS.XLINK }],\n    ['xlink:show', { prefix: 'xlink', name: 'show', namespace: NS.XLINK }],\n    ['xlink:title', { prefix: 'xlink', name: 'title', namespace: NS.XLINK }],\n    ['xlink:type', { prefix: 'xlink', name: 'type', namespace: NS.XLINK }],\n    ['xml:lang', { prefix: 'xml', name: 'lang', namespace: NS.XML }],\n    ['xml:space', { prefix: 'xml', name: 'space', namespace: NS.XML }],\n    ['xmlns', { prefix: '', name: 'xmlns', namespace: NS.XMLNS }],\n    ['xmlns:xlink', { prefix: 'xmlns', name: 'xlink', namespace: NS.XMLNS }],\n]);\n//SVG tag names adjustment map\nexport const SVG_TAG_NAMES_ADJUSTMENT_MAP = new Map([\n    'altGlyph',\n    'altGlyphDef',\n    'altGlyphItem',\n    'animateColor',\n    'animateMotion',\n    'animateTransform',\n    'clipPath',\n    'feBlend',\n    'feColorMatrix',\n    'feComponentTransfer',\n    'feComposite',\n    'feConvolveMatrix',\n    'feDiffuseLighting',\n    'feDisplacementMap',\n    'feDistantLight',\n    'feFlood',\n    'feFuncA',\n    'feFuncB',\n    'feFuncG',\n    'feFuncR',\n    'feGaussianBlur',\n    'feImage',\n    'feMerge',\n    'feMergeNode',\n    'feMorphology',\n    'feOffset',\n    'fePointLight',\n    'feSpecularLighting',\n    'feSpotLight',\n    'feTile',\n    'feTurbulence',\n    'foreignObject',\n    'glyphRef',\n    'linearGradient',\n    'radialGradient',\n    'textPath',\n].map((tn) => [tn.toLowerCase(), tn]));\n//Tags that causes exit from foreign content\nconst EXITS_FOREIGN_CONTENT = new Set([\n    $.B,\n    $.BIG,\n    $.BLOCKQUOTE,\n    $.BODY,\n    $.BR,\n    $.CENTER,\n    $.CODE,\n    $.DD,\n    $.DIV,\n    $.DL,\n    $.DT,\n    $.EM,\n    $.EMBED,\n    $.H1,\n    $.H2,\n    $.H3,\n    $.H4,\n    $.H5,\n    $.H6,\n    $.HEAD,\n    $.HR,\n    $.I,\n    $.IMG,\n    $.LI,\n    $.LISTING,\n    $.MENU,\n    $.META,\n    $.NOBR,\n    $.OL,\n    $.P,\n    $.PRE,\n    $.RUBY,\n    $.S,\n    $.SMALL,\n    $.SPAN,\n    $.STRONG,\n    $.STRIKE,\n    $.SUB,\n    $.SUP,\n    $.TABLE,\n    $.TT,\n    $.U,\n    $.UL,\n    $.VAR,\n]);\n//Check exit from foreign content\nexport function causesExit(startTagToken) {\n    const tn = startTagToken.tagID;\n    const isFontWithAttrs = tn === $.FONT &&\n        startTagToken.attrs.some(({ name }) => name === ATTRS.COLOR || name === ATTRS.SIZE || name === ATTRS.FACE);\n    return isFontWithAttrs || EXITS_FOREIGN_CONTENT.has(tn);\n}\n//Token adjustments\nexport function adjustTokenMathMLAttrs(token) {\n    for (let i = 0; i < token.attrs.length; i++) {\n        if (token.attrs[i].name === DEFINITION_URL_ATTR) {\n            token.attrs[i].name = ADJUSTED_DEFINITION_URL_ATTR;\n            break;\n        }\n    }\n}\nexport function adjustTokenSVGAttrs(token) {\n    for (let i = 0; i < token.attrs.length; i++) {\n        const adjustedAttrName = SVG_ATTRS_ADJUSTMENT_MAP.get(token.attrs[i].name);\n        if (adjustedAttrName != null) {\n            token.attrs[i].name = adjustedAttrName;\n        }\n    }\n}\nexport function adjustTokenXMLAttrs(token) {\n    for (let i = 0; i < token.attrs.length; i++) {\n        const adjustedAttrEntry = XML_ATTRS_ADJUSTMENT_MAP.get(token.attrs[i].name);\n        if (adjustedAttrEntry) {\n            token.attrs[i].prefix = adjustedAttrEntry.prefix;\n            token.attrs[i].name = adjustedAttrEntry.name;\n            token.attrs[i].namespace = adjustedAttrEntry.namespace;\n        }\n    }\n}\nexport function adjustTokenSVGTagName(token) {\n    const adjustedTagName = SVG_TAG_NAMES_ADJUSTMENT_MAP.get(token.tagName);\n    if (adjustedTagName != null) {\n        token.tagName = adjustedTagName;\n        token.tagID = getTagID(token.tagName);\n    }\n}\n//Integration points\nfunction isMathMLTextIntegrationPoint(tn, ns) {\n    return ns === NS.MATHML && (tn === $.MI || tn === $.MO || tn === $.MN || tn === $.MS || tn === $.MTEXT);\n}\nfunction isHtmlIntegrationPoint(tn, ns, attrs) {\n    if (ns === NS.MATHML && tn === $.ANNOTATION_XML) {\n        for (let i = 0; i < attrs.length; i++) {\n            if (attrs[i].name === ATTRS.ENCODING) {\n                const value = attrs[i].value.toLowerCase();\n                return value === MIME_TYPES.TEXT_HTML || value === MIME_TYPES.APPLICATION_XML;\n            }\n        }\n    }\n    return ns === NS.SVG && (tn === $.FOREIGN_OBJECT || tn === $.DESC || tn === $.TITLE);\n}\nexport function isIntegrationPoint(tn, ns, attrs, foreignNS) {\n    return (((!foreignNS || foreignNS === NS.HTML) && isHtmlIntegrationPoint(tn, ns, attrs)) ||\n        ((!foreignNS || foreignNS === NS.MATHML) && isMathMLTextIntegrationPoint(tn, ns)));\n}\n","import { Tokenizer, TokenizerMode } from '../tokenizer/index.js';\nimport { OpenElementStack } from './open-element-stack.js';\nimport { FormattingElementList, EntryType } from './formatting-element-list.js';\nimport { defaultTreeAdapter } from '../tree-adapters/default.js';\nimport * as doctype from '../common/doctype.js';\nimport * as foreignContent from '../common/foreign-content.js';\nimport { ERR } from '../common/error-codes.js';\nimport * as unicode from '../common/unicode.js';\nimport { TAG_ID as $, TAG_NAMES as TN, NS, ATTRS, SPECIAL_ELEMENTS, DOCUMENT_MODE, NUMBERED_HEADERS, getTagID, } from '../common/html.js';\nimport { TokenType, getTokenAttr, } from '../common/token.js';\n//Misc constants\nconst HIDDEN_INPUT_TYPE = 'hidden';\n//Adoption agency loops iteration count\nconst AA_OUTER_LOOP_ITER = 8;\nconst AA_INNER_LOOP_ITER = 3;\n//Insertion modes\nvar InsertionMode;\n(function (InsertionMode) {\n    InsertionMode[InsertionMode[\"INITIAL\"] = 0] = \"INITIAL\";\n    InsertionMode[InsertionMode[\"BEFORE_HTML\"] = 1] = \"BEFORE_HTML\";\n    InsertionMode[InsertionMode[\"BEFORE_HEAD\"] = 2] = \"BEFORE_HEAD\";\n    InsertionMode[InsertionMode[\"IN_HEAD\"] = 3] = \"IN_HEAD\";\n    InsertionMode[InsertionMode[\"IN_HEAD_NO_SCRIPT\"] = 4] = \"IN_HEAD_NO_SCRIPT\";\n    InsertionMode[InsertionMode[\"AFTER_HEAD\"] = 5] = \"AFTER_HEAD\";\n    InsertionMode[InsertionMode[\"IN_BODY\"] = 6] = \"IN_BODY\";\n    InsertionMode[InsertionMode[\"TEXT\"] = 7] = \"TEXT\";\n    InsertionMode[InsertionMode[\"IN_TABLE\"] = 8] = \"IN_TABLE\";\n    InsertionMode[InsertionMode[\"IN_TABLE_TEXT\"] = 9] = \"IN_TABLE_TEXT\";\n    InsertionMode[InsertionMode[\"IN_CAPTION\"] = 10] = \"IN_CAPTION\";\n    InsertionMode[InsertionMode[\"IN_COLUMN_GROUP\"] = 11] = \"IN_COLUMN_GROUP\";\n    InsertionMode[InsertionMode[\"IN_TABLE_BODY\"] = 12] = \"IN_TABLE_BODY\";\n    InsertionMode[InsertionMode[\"IN_ROW\"] = 13] = \"IN_ROW\";\n    InsertionMode[InsertionMode[\"IN_CELL\"] = 14] = \"IN_CELL\";\n    InsertionMode[InsertionMode[\"IN_SELECT\"] = 15] = \"IN_SELECT\";\n    InsertionMode[InsertionMode[\"IN_SELECT_IN_TABLE\"] = 16] = \"IN_SELECT_IN_TABLE\";\n    InsertionMode[InsertionMode[\"IN_TEMPLATE\"] = 17] = \"IN_TEMPLATE\";\n    InsertionMode[InsertionMode[\"AFTER_BODY\"] = 18] = \"AFTER_BODY\";\n    InsertionMode[InsertionMode[\"IN_FRAMESET\"] = 19] = \"IN_FRAMESET\";\n    InsertionMode[InsertionMode[\"AFTER_FRAMESET\"] = 20] = \"AFTER_FRAMESET\";\n    InsertionMode[InsertionMode[\"AFTER_AFTER_BODY\"] = 21] = \"AFTER_AFTER_BODY\";\n    InsertionMode[InsertionMode[\"AFTER_AFTER_FRAMESET\"] = 22] = \"AFTER_AFTER_FRAMESET\";\n})(InsertionMode || (InsertionMode = {}));\nconst BASE_LOC = {\n    startLine: -1,\n    startCol: -1,\n    startOffset: -1,\n    endLine: -1,\n    endCol: -1,\n    endOffset: -1,\n};\nconst TABLE_STRUCTURE_TAGS = new Set([$.TABLE, $.TBODY, $.TFOOT, $.THEAD, $.TR]);\nconst defaultParserOptions = {\n    scriptingEnabled: true,\n    sourceCodeLocationInfo: false,\n    treeAdapter: defaultTreeAdapter,\n    onParseError: null,\n};\n//Parser\nexport class Parser {\n    constructor(options, document, \n    /** @internal */\n    fragmentContext = null, \n    /** @internal */\n    scriptHandler = null) {\n        this.fragmentContext = fragmentContext;\n        this.scriptHandler = scriptHandler;\n        this.currentToken = null;\n        this.stopped = false;\n        /** @internal */\n        this.insertionMode = InsertionMode.INITIAL;\n        /** @internal */\n        this.originalInsertionMode = InsertionMode.INITIAL;\n        /** @internal */\n        this.headElement = null;\n        /** @internal */\n        this.formElement = null;\n        /** Indicates that the current node is not an element in the HTML namespace */\n        this.currentNotInHTML = false;\n        /**\n         * The template insertion mode stack is maintained from the left.\n         * Ie. the topmost element will always have index 0.\n         *\n         * @internal\n         */\n        this.tmplInsertionModeStack = [];\n        /** @internal */\n        this.pendingCharacterTokens = [];\n        /** @internal */\n        this.hasNonWhitespacePendingCharacterToken = false;\n        /** @internal */\n        this.framesetOk = true;\n        /** @internal */\n        this.skipNextNewLine = false;\n        /** @internal */\n        this.fosterParentingEnabled = false;\n        this.options = {\n            ...defaultParserOptions,\n            ...options,\n        };\n        this.treeAdapter = this.options.treeAdapter;\n        this.onParseError = this.options.onParseError;\n        // Always enable location info if we report parse errors.\n        if (this.onParseError) {\n            this.options.sourceCodeLocationInfo = true;\n        }\n        this.document = document !== null && document !== void 0 ? document : this.treeAdapter.createDocument();\n        this.tokenizer = new Tokenizer(this.options, this);\n        this.activeFormattingElements = new FormattingElementList(this.treeAdapter);\n        this.fragmentContextID = fragmentContext ? getTagID(this.treeAdapter.getTagName(fragmentContext)) : $.UNKNOWN;\n        this._setContextModes(fragmentContext !== null && fragmentContext !== void 0 ? fragmentContext : this.document, this.fragmentContextID);\n        this.openElements = new OpenElementStack(this.document, this.treeAdapter, this);\n    }\n    // API\n    static parse(html, options) {\n        const parser = new this(options);\n        parser.tokenizer.write(html, true);\n        return parser.document;\n    }\n    static getFragmentParser(fragmentContext, options) {\n        const opts = {\n            ...defaultParserOptions,\n            ...options,\n        };\n        //NOTE: use a <template> element as the fragment context if no context element was provided,\n        //so we will parse in a \"forgiving\" manner\n        fragmentContext !== null && fragmentContext !== void 0 ? fragmentContext : (fragmentContext = opts.treeAdapter.createElement(TN.TEMPLATE, NS.HTML, []));\n        //NOTE: create a fake element which will be used as the `document` for fragment parsing.\n        //This is important for jsdom, where a new `document` cannot be created. This led to\n        //fragment parsing messing with the main `document`.\n        const documentMock = opts.treeAdapter.createElement('documentmock', NS.HTML, []);\n        const parser = new this(opts, documentMock, fragmentContext);\n        if (parser.fragmentContextID === $.TEMPLATE) {\n            parser.tmplInsertionModeStack.unshift(InsertionMode.IN_TEMPLATE);\n        }\n        parser._initTokenizerForFragmentParsing();\n        parser._insertFakeRootElement();\n        parser._resetInsertionMode();\n        parser._findFormInFragmentContext();\n        return parser;\n    }\n    getFragment() {\n        const rootElement = this.treeAdapter.getFirstChild(this.document);\n        const fragment = this.treeAdapter.createDocumentFragment();\n        this._adoptNodes(rootElement, fragment);\n        return fragment;\n    }\n    //Errors\n    /** @internal */\n    _err(token, code, beforeToken) {\n        var _a;\n        if (!this.onParseError)\n            return;\n        const loc = (_a = token.location) !== null && _a !== void 0 ? _a : BASE_LOC;\n        const err = {\n            code,\n            startLine: loc.startLine,\n            startCol: loc.startCol,\n            startOffset: loc.startOffset,\n            endLine: beforeToken ? loc.startLine : loc.endLine,\n            endCol: beforeToken ? loc.startCol : loc.endCol,\n            endOffset: beforeToken ? loc.startOffset : loc.endOffset,\n        };\n        this.onParseError(err);\n    }\n    //Stack events\n    /** @internal */\n    onItemPush(node, tid, isTop) {\n        var _a, _b;\n        (_b = (_a = this.treeAdapter).onItemPush) === null || _b === void 0 ? void 0 : _b.call(_a, node);\n        if (isTop && this.openElements.stackTop > 0)\n            this._setContextModes(node, tid);\n    }\n    /** @internal */\n    onItemPop(node, isTop) {\n        var _a, _b;\n        if (this.options.sourceCodeLocationInfo) {\n            this._setEndLocation(node, this.currentToken);\n        }\n        (_b = (_a = this.treeAdapter).onItemPop) === null || _b === void 0 ? void 0 : _b.call(_a, node, this.openElements.current);\n        if (isTop) {\n            let current;\n            let currentTagId;\n            if (this.openElements.stackTop === 0 && this.fragmentContext) {\n                current = this.fragmentContext;\n                currentTagId = this.fragmentContextID;\n            }\n            else {\n                ({ current, currentTagId } = this.openElements);\n            }\n            this._setContextModes(current, currentTagId);\n        }\n    }\n    _setContextModes(current, tid) {\n        const isHTML = current === this.document || this.treeAdapter.getNamespaceURI(current) === NS.HTML;\n        this.currentNotInHTML = !isHTML;\n        this.tokenizer.inForeignNode = !isHTML && !this._isIntegrationPoint(tid, current);\n    }\n    /** @protected */\n    _switchToTextParsing(currentToken, nextTokenizerState) {\n        this._insertElement(currentToken, NS.HTML);\n        this.tokenizer.state = nextTokenizerState;\n        this.originalInsertionMode = this.insertionMode;\n        this.insertionMode = InsertionMode.TEXT;\n    }\n    switchToPlaintextParsing() {\n        this.insertionMode = InsertionMode.TEXT;\n        this.originalInsertionMode = InsertionMode.IN_BODY;\n        this.tokenizer.state = TokenizerMode.PLAINTEXT;\n    }\n    //Fragment parsing\n    /** @protected */\n    _getAdjustedCurrentElement() {\n        return this.openElements.stackTop === 0 && this.fragmentContext\n            ? this.fragmentContext\n            : this.openElements.current;\n    }\n    /** @protected */\n    _findFormInFragmentContext() {\n        let node = this.fragmentContext;\n        while (node) {\n            if (this.treeAdapter.getTagName(node) === TN.FORM) {\n                this.formElement = node;\n                break;\n            }\n            node = this.treeAdapter.getParentNode(node);\n        }\n    }\n    _initTokenizerForFragmentParsing() {\n        if (!this.fragmentContext || this.treeAdapter.getNamespaceURI(this.fragmentContext) !== NS.HTML) {\n            return;\n        }\n        switch (this.fragmentContextID) {\n            case $.TITLE:\n            case $.TEXTAREA: {\n                this.tokenizer.state = TokenizerMode.RCDATA;\n                break;\n            }\n            case $.STYLE:\n            case $.XMP:\n            case $.IFRAME:\n            case $.NOEMBED:\n            case $.NOFRAMES:\n            case $.NOSCRIPT: {\n                this.tokenizer.state = TokenizerMode.RAWTEXT;\n                break;\n            }\n            case $.SCRIPT: {\n                this.tokenizer.state = TokenizerMode.SCRIPT_DATA;\n                break;\n            }\n            case $.PLAINTEXT: {\n                this.tokenizer.state = TokenizerMode.PLAINTEXT;\n                break;\n            }\n            default:\n            // Do nothing\n        }\n    }\n    //Tree mutation\n    /** @protected */\n    _setDocumentType(token) {\n        const name = token.name || '';\n        const publicId = token.publicId || '';\n        const systemId = token.systemId || '';\n        this.treeAdapter.setDocumentType(this.document, name, publicId, systemId);\n        if (token.location) {\n            const documentChildren = this.treeAdapter.getChildNodes(this.document);\n            const docTypeNode = documentChildren.find((node) => this.treeAdapter.isDocumentTypeNode(node));\n            if (docTypeNode) {\n                this.treeAdapter.setNodeSourceCodeLocation(docTypeNode, token.location);\n            }\n        }\n    }\n    /** @protected */\n    _attachElementToTree(element, location) {\n        if (this.options.sourceCodeLocationInfo) {\n            const loc = location && {\n                ...location,\n                startTag: location,\n            };\n            this.treeAdapter.setNodeSourceCodeLocation(element, loc);\n        }\n        if (this._shouldFosterParentOnInsertion()) {\n            this._fosterParentElement(element);\n        }\n        else {\n            const parent = this.openElements.currentTmplContentOrNode;\n            this.treeAdapter.appendChild(parent, element);\n        }\n    }\n    /**\n     * For self-closing tags. Add an element to the tree, but skip adding it\n     * to the stack.\n     */\n    /** @protected */\n    _appendElement(token, namespaceURI) {\n        const element = this.treeAdapter.createElement(token.tagName, namespaceURI, token.attrs);\n        this._attachElementToTree(element, token.location);\n    }\n    /** @protected */\n    _insertElement(token, namespaceURI) {\n        const element = this.treeAdapter.createElement(token.tagName, namespaceURI, token.attrs);\n        this._attachElementToTree(element, token.location);\n        this.openElements.push(element, token.tagID);\n    }\n    /** @protected */\n    _insertFakeElement(tagName, tagID) {\n        const element = this.treeAdapter.createElement(tagName, NS.HTML, []);\n        this._attachElementToTree(element, null);\n        this.openElements.push(element, tagID);\n    }\n    /** @protected */\n    _insertTemplate(token) {\n        const tmpl = this.treeAdapter.createElement(token.tagName, NS.HTML, token.attrs);\n        const content = this.treeAdapter.createDocumentFragment();\n        this.treeAdapter.setTemplateContent(tmpl, content);\n        this._attachElementToTree(tmpl, token.location);\n        this.openElements.push(tmpl, token.tagID);\n        if (this.options.sourceCodeLocationInfo)\n            this.treeAdapter.setNodeSourceCodeLocation(content, null);\n    }\n    /** @protected */\n    _insertFakeRootElement() {\n        const element = this.treeAdapter.createElement(TN.HTML, NS.HTML, []);\n        if (this.options.sourceCodeLocationInfo)\n            this.treeAdapter.setNodeSourceCodeLocation(element, null);\n        this.treeAdapter.appendChild(this.openElements.current, element);\n        this.openElements.push(element, $.HTML);\n    }\n    /** @protected */\n    _appendCommentNode(token, parent) {\n        const commentNode = this.treeAdapter.createCommentNode(token.data);\n        this.treeAdapter.appendChild(parent, commentNode);\n        if (this.options.sourceCodeLocationInfo) {\n            this.treeAdapter.setNodeSourceCodeLocation(commentNode, token.location);\n        }\n    }\n    /** @protected */\n    _insertCharacters(token) {\n        let parent;\n        let beforeElement;\n        if (this._shouldFosterParentOnInsertion()) {\n            ({ parent, beforeElement } = this._findFosterParentingLocation());\n            if (beforeElement) {\n                this.treeAdapter.insertTextBefore(parent, token.chars, beforeElement);\n            }\n            else {\n                this.treeAdapter.insertText(parent, token.chars);\n            }\n        }\n        else {\n            parent = this.openElements.currentTmplContentOrNode;\n            this.treeAdapter.insertText(parent, token.chars);\n        }\n        if (!token.location)\n            return;\n        const siblings = this.treeAdapter.getChildNodes(parent);\n        const textNodeIdx = beforeElement ? siblings.lastIndexOf(beforeElement) : siblings.length;\n        const textNode = siblings[textNodeIdx - 1];\n        //NOTE: if we have a location assigned by another token, then just update the end position\n        const tnLoc = this.treeAdapter.getNodeSourceCodeLocation(textNode);\n        if (tnLoc) {\n            const { endLine, endCol, endOffset } = token.location;\n            this.treeAdapter.updateNodeSourceCodeLocation(textNode, { endLine, endCol, endOffset });\n        }\n        else if (this.options.sourceCodeLocationInfo) {\n            this.treeAdapter.setNodeSourceCodeLocation(textNode, token.location);\n        }\n    }\n    /** @protected */\n    _adoptNodes(donor, recipient) {\n        for (let child = this.treeAdapter.getFirstChild(donor); child; child = this.treeAdapter.getFirstChild(donor)) {\n            this.treeAdapter.detachNode(child);\n            this.treeAdapter.appendChild(recipient, child);\n        }\n    }\n    /** @protected */\n    _setEndLocation(element, closingToken) {\n        if (this.treeAdapter.getNodeSourceCodeLocation(element) && closingToken.location) {\n            const ctLoc = closingToken.location;\n            const tn = this.treeAdapter.getTagName(element);\n            const endLoc = \n            // NOTE: For cases like <p> <p> </p> - First 'p' closes without a closing\n            // tag and for cases like <td> <p> </td> - 'p' closes without a closing tag.\n            closingToken.type === TokenType.END_TAG && tn === closingToken.tagName\n                ? {\n                    endTag: { ...ctLoc },\n                    endLine: ctLoc.endLine,\n                    endCol: ctLoc.endCol,\n                    endOffset: ctLoc.endOffset,\n                }\n                : {\n                    endLine: ctLoc.startLine,\n                    endCol: ctLoc.startCol,\n                    endOffset: ctLoc.startOffset,\n                };\n            this.treeAdapter.updateNodeSourceCodeLocation(element, endLoc);\n        }\n    }\n    //Token processing\n    shouldProcessStartTagTokenInForeignContent(token) {\n        // Check that neither current === document, or ns === NS.HTML\n        if (!this.currentNotInHTML)\n            return false;\n        let current;\n        let currentTagId;\n        if (this.openElements.stackTop === 0 && this.fragmentContext) {\n            current = this.fragmentContext;\n            currentTagId = this.fragmentContextID;\n        }\n        else {\n            ({ current, currentTagId } = this.openElements);\n        }\n        if (token.tagID === $.SVG &&\n            this.treeAdapter.getTagName(current) === TN.ANNOTATION_XML &&\n            this.treeAdapter.getNamespaceURI(current) === NS.MATHML) {\n            return false;\n        }\n        return (\n        // Check that `current` is not an integration point for HTML or MathML elements.\n        this.tokenizer.inForeignNode ||\n            // If it _is_ an integration point, then we might have to check that it is not an HTML\n            // integration point.\n            ((token.tagID === $.MGLYPH || token.tagID === $.MALIGNMARK) &&\n                !this._isIntegrationPoint(currentTagId, current, NS.HTML)));\n    }\n    /** @protected */\n    _processToken(token) {\n        switch (token.type) {\n            case TokenType.CHARACTER: {\n                this.onCharacter(token);\n                break;\n            }\n            case TokenType.NULL_CHARACTER: {\n                this.onNullCharacter(token);\n                break;\n            }\n            case TokenType.COMMENT: {\n                this.onComment(token);\n                break;\n            }\n            case TokenType.DOCTYPE: {\n                this.onDoctype(token);\n                break;\n            }\n            case TokenType.START_TAG: {\n                this._processStartTag(token);\n                break;\n            }\n            case TokenType.END_TAG: {\n                this.onEndTag(token);\n                break;\n            }\n            case TokenType.EOF: {\n                this.onEof(token);\n                break;\n            }\n            case TokenType.WHITESPACE_CHARACTER: {\n                this.onWhitespaceCharacter(token);\n                break;\n            }\n        }\n    }\n    //Integration points\n    /** @protected */\n    _isIntegrationPoint(tid, element, foreignNS) {\n        const ns = this.treeAdapter.getNamespaceURI(element);\n        const attrs = this.treeAdapter.getAttrList(element);\n        return foreignContent.isIntegrationPoint(tid, ns, attrs, foreignNS);\n    }\n    //Active formatting elements reconstruction\n    /** @protected */\n    _reconstructActiveFormattingElements() {\n        const listLength = this.activeFormattingElements.entries.length;\n        if (listLength) {\n            const endIndex = this.activeFormattingElements.entries.findIndex((entry) => entry.type === EntryType.Marker || this.openElements.contains(entry.element));\n            const unopenIdx = endIndex < 0 ? listLength - 1 : endIndex - 1;\n            for (let i = unopenIdx; i >= 0; i--) {\n                const entry = this.activeFormattingElements.entries[i];\n                this._insertElement(entry.token, this.treeAdapter.getNamespaceURI(entry.element));\n                entry.element = this.openElements.current;\n            }\n        }\n    }\n    //Close elements\n    /** @protected */\n    _closeTableCell() {\n        this.openElements.generateImpliedEndTags();\n        this.openElements.popUntilTableCellPopped();\n        this.activeFormattingElements.clearToLastMarker();\n        this.insertionMode = InsertionMode.IN_ROW;\n    }\n    /** @protected */\n    _closePElement() {\n        this.openElements.generateImpliedEndTagsWithExclusion($.P);\n        this.openElements.popUntilTagNamePopped($.P);\n    }\n    //Insertion modes\n    /** @protected */\n    _resetInsertionMode() {\n        for (let i = this.openElements.stackTop; i >= 0; i--) {\n            //Insertion mode reset map\n            switch (i === 0 && this.fragmentContext ? this.fragmentContextID : this.openElements.tagIDs[i]) {\n                case $.TR: {\n                    this.insertionMode = InsertionMode.IN_ROW;\n                    return;\n                }\n                case $.TBODY:\n                case $.THEAD:\n                case $.TFOOT: {\n                    this.insertionMode = InsertionMode.IN_TABLE_BODY;\n                    return;\n                }\n                case $.CAPTION: {\n                    this.insertionMode = InsertionMode.IN_CAPTION;\n                    return;\n                }\n                case $.COLGROUP: {\n                    this.insertionMode = InsertionMode.IN_COLUMN_GROUP;\n                    return;\n                }\n                case $.TABLE: {\n                    this.insertionMode = InsertionMode.IN_TABLE;\n                    return;\n                }\n                case $.BODY: {\n                    this.insertionMode = InsertionMode.IN_BODY;\n                    return;\n                }\n                case $.FRAMESET: {\n                    this.insertionMode = InsertionMode.IN_FRAMESET;\n                    return;\n                }\n                case $.SELECT: {\n                    this._resetInsertionModeForSelect(i);\n                    return;\n                }\n                case $.TEMPLATE: {\n                    this.insertionMode = this.tmplInsertionModeStack[0];\n                    return;\n                }\n                case $.HTML: {\n                    this.insertionMode = this.headElement ? InsertionMode.AFTER_HEAD : InsertionMode.BEFORE_HEAD;\n                    return;\n                }\n                case $.TD:\n                case $.TH: {\n                    if (i > 0) {\n                        this.insertionMode = InsertionMode.IN_CELL;\n                        return;\n                    }\n                    break;\n                }\n                case $.HEAD: {\n                    if (i > 0) {\n                        this.insertionMode = InsertionMode.IN_HEAD;\n                        return;\n                    }\n                    break;\n                }\n            }\n        }\n        this.insertionMode = InsertionMode.IN_BODY;\n    }\n    /** @protected */\n    _resetInsertionModeForSelect(selectIdx) {\n        if (selectIdx > 0) {\n            for (let i = selectIdx - 1; i > 0; i--) {\n                const tn = this.openElements.tagIDs[i];\n                if (tn === $.TEMPLATE) {\n                    break;\n                }\n                else if (tn === $.TABLE) {\n                    this.insertionMode = InsertionMode.IN_SELECT_IN_TABLE;\n                    return;\n                }\n            }\n        }\n        this.insertionMode = InsertionMode.IN_SELECT;\n    }\n    //Foster parenting\n    /** @protected */\n    _isElementCausesFosterParenting(tn) {\n        return TABLE_STRUCTURE_TAGS.has(tn);\n    }\n    /** @protected */\n    _shouldFosterParentOnInsertion() {\n        return this.fosterParentingEnabled && this._isElementCausesFosterParenting(this.openElements.currentTagId);\n    }\n    /** @protected */\n    _findFosterParentingLocation() {\n        for (let i = this.openElements.stackTop; i >= 0; i--) {\n            const openElement = this.openElements.items[i];\n            switch (this.openElements.tagIDs[i]) {\n                case $.TEMPLATE: {\n                    if (this.treeAdapter.getNamespaceURI(openElement) === NS.HTML) {\n                        return { parent: this.treeAdapter.getTemplateContent(openElement), beforeElement: null };\n                    }\n                    break;\n                }\n                case $.TABLE: {\n                    const parent = this.treeAdapter.getParentNode(openElement);\n                    if (parent) {\n                        return { parent, beforeElement: openElement };\n                    }\n                    return { parent: this.openElements.items[i - 1], beforeElement: null };\n                }\n                default:\n                // Do nothing\n            }\n        }\n        return { parent: this.openElements.items[0], beforeElement: null };\n    }\n    /** @protected */\n    _fosterParentElement(element) {\n        const location = this._findFosterParentingLocation();\n        if (location.beforeElement) {\n            this.treeAdapter.insertBefore(location.parent, element, location.beforeElement);\n        }\n        else {\n            this.treeAdapter.appendChild(location.parent, element);\n        }\n    }\n    //Special elements\n    /** @protected */\n    _isSpecialElement(element, id) {\n        const ns = this.treeAdapter.getNamespaceURI(element);\n        return SPECIAL_ELEMENTS[ns].has(id);\n    }\n    /** @internal */\n    onCharacter(token) {\n        this.skipNextNewLine = false;\n        if (this.tokenizer.inForeignNode) {\n            characterInForeignContent(this, token);\n            return;\n        }\n        switch (this.insertionMode) {\n            case InsertionMode.INITIAL: {\n                tokenInInitialMode(this, token);\n                break;\n            }\n            case InsertionMode.BEFORE_HTML: {\n                tokenBeforeHtml(this, token);\n                break;\n            }\n            case InsertionMode.BEFORE_HEAD: {\n                tokenBeforeHead(this, token);\n                break;\n            }\n            case InsertionMode.IN_HEAD: {\n                tokenInHead(this, token);\n                break;\n            }\n            case InsertionMode.IN_HEAD_NO_SCRIPT: {\n                tokenInHeadNoScript(this, token);\n                break;\n            }\n            case InsertionMode.AFTER_HEAD: {\n                tokenAfterHead(this, token);\n                break;\n            }\n            case InsertionMode.IN_BODY:\n            case InsertionMode.IN_CAPTION:\n            case InsertionMode.IN_CELL:\n            case InsertionMode.IN_TEMPLATE: {\n                characterInBody(this, token);\n                break;\n            }\n            case InsertionMode.TEXT:\n            case InsertionMode.IN_SELECT:\n            case InsertionMode.IN_SELECT_IN_TABLE: {\n                this._insertCharacters(token);\n                break;\n            }\n            case InsertionMode.IN_TABLE:\n            case InsertionMode.IN_TABLE_BODY:\n            case InsertionMode.IN_ROW: {\n                characterInTable(this, token);\n                break;\n            }\n            case InsertionMode.IN_TABLE_TEXT: {\n                characterInTableText(this, token);\n                break;\n            }\n            case InsertionMode.IN_COLUMN_GROUP: {\n                tokenInColumnGroup(this, token);\n                break;\n            }\n            case InsertionMode.AFTER_BODY: {\n                tokenAfterBody(this, token);\n                break;\n            }\n            case InsertionMode.AFTER_AFTER_BODY: {\n                tokenAfterAfterBody(this, token);\n                break;\n            }\n            default:\n            // Do nothing\n        }\n    }\n    /** @internal */\n    onNullCharacter(token) {\n        this.skipNextNewLine = false;\n        if (this.tokenizer.inForeignNode) {\n            nullCharacterInForeignContent(this, token);\n            return;\n        }\n        switch (this.insertionMode) {\n            case InsertionMode.INITIAL: {\n                tokenInInitialMode(this, token);\n                break;\n            }\n            case InsertionMode.BEFORE_HTML: {\n                tokenBeforeHtml(this, token);\n                break;\n            }\n            case InsertionMode.BEFORE_HEAD: {\n                tokenBeforeHead(this, token);\n                break;\n            }\n            case InsertionMode.IN_HEAD: {\n                tokenInHead(this, token);\n                break;\n            }\n            case InsertionMode.IN_HEAD_NO_SCRIPT: {\n                tokenInHeadNoScript(this, token);\n                break;\n            }\n            case InsertionMode.AFTER_HEAD: {\n                tokenAfterHead(this, token);\n                break;\n            }\n            case InsertionMode.TEXT: {\n                this._insertCharacters(token);\n                break;\n            }\n            case InsertionMode.IN_TABLE:\n            case InsertionMode.IN_TABLE_BODY:\n            case InsertionMode.IN_ROW: {\n                characterInTable(this, token);\n                break;\n            }\n            case InsertionMode.IN_COLUMN_GROUP: {\n                tokenInColumnGroup(this, token);\n                break;\n            }\n            case InsertionMode.AFTER_BODY: {\n                tokenAfterBody(this, token);\n                break;\n            }\n            case InsertionMode.AFTER_AFTER_BODY: {\n                tokenAfterAfterBody(this, token);\n                break;\n            }\n            default:\n            // Do nothing\n        }\n    }\n    /** @internal */\n    onComment(token) {\n        this.skipNextNewLine = false;\n        if (this.currentNotInHTML) {\n            appendComment(this, token);\n            return;\n        }\n        switch (this.insertionMode) {\n            case InsertionMode.INITIAL:\n            case InsertionMode.BEFORE_HTML:\n            case InsertionMode.BEFORE_HEAD:\n            case InsertionMode.IN_HEAD:\n            case InsertionMode.IN_HEAD_NO_SCRIPT:\n            case InsertionMode.AFTER_HEAD:\n            case InsertionMode.IN_BODY:\n            case InsertionMode.IN_TABLE:\n            case InsertionMode.IN_CAPTION:\n            case InsertionMode.IN_COLUMN_GROUP:\n            case InsertionMode.IN_TABLE_BODY:\n            case InsertionMode.IN_ROW:\n            case InsertionMode.IN_CELL:\n            case InsertionMode.IN_SELECT:\n            case InsertionMode.IN_SELECT_IN_TABLE:\n            case InsertionMode.IN_TEMPLATE:\n            case InsertionMode.IN_FRAMESET:\n            case InsertionMode.AFTER_FRAMESET: {\n                appendComment(this, token);\n                break;\n            }\n            case InsertionMode.IN_TABLE_TEXT: {\n                tokenInTableText(this, token);\n                break;\n            }\n            case InsertionMode.AFTER_BODY: {\n                appendCommentToRootHtmlElement(this, token);\n                break;\n            }\n            case InsertionMode.AFTER_AFTER_BODY:\n            case InsertionMode.AFTER_AFTER_FRAMESET: {\n                appendCommentToDocument(this, token);\n                break;\n            }\n            default:\n            // Do nothing\n        }\n    }\n    /** @internal */\n    onDoctype(token) {\n        this.skipNextNewLine = false;\n        switch (this.insertionMode) {\n            case InsertionMode.INITIAL: {\n                doctypeInInitialMode(this, token);\n                break;\n            }\n            case InsertionMode.BEFORE_HEAD:\n            case InsertionMode.IN_HEAD:\n            case InsertionMode.IN_HEAD_NO_SCRIPT:\n            case InsertionMode.AFTER_HEAD: {\n                this._err(token, ERR.misplacedDoctype);\n                break;\n            }\n            case InsertionMode.IN_TABLE_TEXT: {\n                tokenInTableText(this, token);\n                break;\n            }\n            default:\n            // Do nothing\n        }\n    }\n    /** @internal */\n    onStartTag(token) {\n        this.skipNextNewLine = false;\n        this.currentToken = token;\n        this._processStartTag(token);\n        if (token.selfClosing && !token.ackSelfClosing) {\n            this._err(token, ERR.nonVoidHtmlElementStartTagWithTrailingSolidus);\n        }\n    }\n    /**\n     * Processes a given start tag.\n     *\n     * `onStartTag` checks if a self-closing tag was recognized. When a token\n     * is moved inbetween multiple insertion modes, this check for self-closing\n     * could lead to false positives. To avoid this, `_processStartTag` is used\n     * for nested calls.\n     *\n     * @param token The token to process.\n     * @protected\n     */\n    _processStartTag(token) {\n        if (this.shouldProcessStartTagTokenInForeignContent(token)) {\n            startTagInForeignContent(this, token);\n        }\n        else {\n            this._startTagOutsideForeignContent(token);\n        }\n    }\n    /** @protected */\n    _startTagOutsideForeignContent(token) {\n        switch (this.insertionMode) {\n            case InsertionMode.INITIAL: {\n                tokenInInitialMode(this, token);\n                break;\n            }\n            case InsertionMode.BEFORE_HTML: {\n                startTagBeforeHtml(this, token);\n                break;\n            }\n            case InsertionMode.BEFORE_HEAD: {\n                startTagBeforeHead(this, token);\n                break;\n            }\n            case InsertionMode.IN_HEAD: {\n                startTagInHead(this, token);\n                break;\n            }\n            case InsertionMode.IN_HEAD_NO_SCRIPT: {\n                startTagInHeadNoScript(this, token);\n                break;\n            }\n            case InsertionMode.AFTER_HEAD: {\n                startTagAfterHead(this, token);\n                break;\n            }\n            case InsertionMode.IN_BODY: {\n                startTagInBody(this, token);\n                break;\n            }\n            case InsertionMode.IN_TABLE: {\n                startTagInTable(this, token);\n                break;\n            }\n            case InsertionMode.IN_TABLE_TEXT: {\n                tokenInTableText(this, token);\n                break;\n            }\n            case InsertionMode.IN_CAPTION: {\n                startTagInCaption(this, token);\n                break;\n            }\n            case InsertionMode.IN_COLUMN_GROUP: {\n                startTagInColumnGroup(this, token);\n                break;\n            }\n            case InsertionMode.IN_TABLE_BODY: {\n                startTagInTableBody(this, token);\n                break;\n            }\n            case InsertionMode.IN_ROW: {\n                startTagInRow(this, token);\n                break;\n            }\n            case InsertionMode.IN_CELL: {\n                startTagInCell(this, token);\n                break;\n            }\n            case InsertionMode.IN_SELECT: {\n                startTagInSelect(this, token);\n                break;\n            }\n            case InsertionMode.IN_SELECT_IN_TABLE: {\n                startTagInSelectInTable(this, token);\n                break;\n            }\n            case InsertionMode.IN_TEMPLATE: {\n                startTagInTemplate(this, token);\n                break;\n            }\n            case InsertionMode.AFTER_BODY: {\n                startTagAfterBody(this, token);\n                break;\n            }\n            case InsertionMode.IN_FRAMESET: {\n                startTagInFrameset(this, token);\n                break;\n            }\n            case InsertionMode.AFTER_FRAMESET: {\n                startTagAfterFrameset(this, token);\n                break;\n            }\n            case InsertionMode.AFTER_AFTER_BODY: {\n                startTagAfterAfterBody(this, token);\n                break;\n            }\n            case InsertionMode.AFTER_AFTER_FRAMESET: {\n                startTagAfterAfterFrameset(this, token);\n                break;\n            }\n            default:\n            // Do nothing\n        }\n    }\n    /** @internal */\n    onEndTag(token) {\n        this.skipNextNewLine = false;\n        this.currentToken = token;\n        if (this.currentNotInHTML) {\n            endTagInForeignContent(this, token);\n        }\n        else {\n            this._endTagOutsideForeignContent(token);\n        }\n    }\n    /** @protected */\n    _endTagOutsideForeignContent(token) {\n        switch (this.insertionMode) {\n            case InsertionMode.INITIAL: {\n                tokenInInitialMode(this, token);\n                break;\n            }\n            case InsertionMode.BEFORE_HTML: {\n                endTagBeforeHtml(this, token);\n                break;\n            }\n            case InsertionMode.BEFORE_HEAD: {\n                endTagBeforeHead(this, token);\n                break;\n            }\n            case InsertionMode.IN_HEAD: {\n                endTagInHead(this, token);\n                break;\n            }\n            case InsertionMode.IN_HEAD_NO_SCRIPT: {\n                endTagInHeadNoScript(this, token);\n                break;\n            }\n            case InsertionMode.AFTER_HEAD: {\n                endTagAfterHead(this, token);\n                break;\n            }\n            case InsertionMode.IN_BODY: {\n                endTagInBody(this, token);\n                break;\n            }\n            case InsertionMode.TEXT: {\n                endTagInText(this, token);\n                break;\n            }\n            case InsertionMode.IN_TABLE: {\n                endTagInTable(this, token);\n                break;\n            }\n            case InsertionMode.IN_TABLE_TEXT: {\n                tokenInTableText(this, token);\n                break;\n            }\n            case InsertionMode.IN_CAPTION: {\n                endTagInCaption(this, token);\n                break;\n            }\n            case InsertionMode.IN_COLUMN_GROUP: {\n                endTagInColumnGroup(this, token);\n                break;\n            }\n            case InsertionMode.IN_TABLE_BODY: {\n                endTagInTableBody(this, token);\n                break;\n            }\n            case InsertionMode.IN_ROW: {\n                endTagInRow(this, token);\n                break;\n            }\n            case InsertionMode.IN_CELL: {\n                endTagInCell(this, token);\n                break;\n            }\n            case InsertionMode.IN_SELECT: {\n                endTagInSelect(this, token);\n                break;\n            }\n            case InsertionMode.IN_SELECT_IN_TABLE: {\n                endTagInSelectInTable(this, token);\n                break;\n            }\n            case InsertionMode.IN_TEMPLATE: {\n                endTagInTemplate(this, token);\n                break;\n            }\n            case InsertionMode.AFTER_BODY: {\n                endTagAfterBody(this, token);\n                break;\n            }\n            case InsertionMode.IN_FRAMESET: {\n                endTagInFrameset(this, token);\n                break;\n            }\n            case InsertionMode.AFTER_FRAMESET: {\n                endTagAfterFrameset(this, token);\n                break;\n            }\n            case InsertionMode.AFTER_AFTER_BODY: {\n                tokenAfterAfterBody(this, token);\n                break;\n            }\n            default:\n            // Do nothing\n        }\n    }\n    /** @internal */\n    onEof(token) {\n        switch (this.insertionMode) {\n            case InsertionMode.INITIAL: {\n                tokenInInitialMode(this, token);\n                break;\n            }\n            case InsertionMode.BEFORE_HTML: {\n                tokenBeforeHtml(this, token);\n                break;\n            }\n            case InsertionMode.BEFORE_HEAD: {\n                tokenBeforeHead(this, token);\n                break;\n            }\n            case InsertionMode.IN_HEAD: {\n                tokenInHead(this, token);\n                break;\n            }\n            case InsertionMode.IN_HEAD_NO_SCRIPT: {\n                tokenInHeadNoScript(this, token);\n                break;\n            }\n            case InsertionMode.AFTER_HEAD: {\n                tokenAfterHead(this, token);\n                break;\n            }\n            case InsertionMode.IN_BODY:\n            case InsertionMode.IN_TABLE:\n            case InsertionMode.IN_CAPTION:\n            case InsertionMode.IN_COLUMN_GROUP:\n            case InsertionMode.IN_TABLE_BODY:\n            case InsertionMode.IN_ROW:\n            case InsertionMode.IN_CELL:\n            case InsertionMode.IN_SELECT:\n            case InsertionMode.IN_SELECT_IN_TABLE: {\n                eofInBody(this, token);\n                break;\n            }\n            case InsertionMode.TEXT: {\n                eofInText(this, token);\n                break;\n            }\n            case InsertionMode.IN_TABLE_TEXT: {\n                tokenInTableText(this, token);\n                break;\n            }\n            case InsertionMode.IN_TEMPLATE: {\n                eofInTemplate(this, token);\n                break;\n            }\n            case InsertionMode.AFTER_BODY:\n            case InsertionMode.IN_FRAMESET:\n            case InsertionMode.AFTER_FRAMESET:\n            case InsertionMode.AFTER_AFTER_BODY:\n            case InsertionMode.AFTER_AFTER_FRAMESET: {\n                stopParsing(this, token);\n                break;\n            }\n            default:\n            // Do nothing\n        }\n    }\n    /** @internal */\n    onWhitespaceCharacter(token) {\n        if (this.skipNextNewLine) {\n            this.skipNextNewLine = false;\n            if (token.chars.charCodeAt(0) === unicode.CODE_POINTS.LINE_FEED) {\n                if (token.chars.length === 1) {\n                    return;\n                }\n                token.chars = token.chars.substr(1);\n            }\n        }\n        if (this.tokenizer.inForeignNode) {\n            this._insertCharacters(token);\n            return;\n        }\n        switch (this.insertionMode) {\n            case InsertionMode.IN_HEAD:\n            case InsertionMode.IN_HEAD_NO_SCRIPT:\n            case InsertionMode.AFTER_HEAD:\n            case InsertionMode.TEXT:\n            case InsertionMode.IN_COLUMN_GROUP:\n            case InsertionMode.IN_SELECT:\n            case InsertionMode.IN_SELECT_IN_TABLE:\n            case InsertionMode.IN_FRAMESET:\n            case InsertionMode.AFTER_FRAMESET: {\n                this._insertCharacters(token);\n                break;\n            }\n            case InsertionMode.IN_BODY:\n            case InsertionMode.IN_CAPTION:\n            case InsertionMode.IN_CELL:\n            case InsertionMode.IN_TEMPLATE:\n            case InsertionMode.AFTER_BODY:\n            case InsertionMode.AFTER_AFTER_BODY:\n            case InsertionMode.AFTER_AFTER_FRAMESET: {\n                whitespaceCharacterInBody(this, token);\n                break;\n            }\n            case InsertionMode.IN_TABLE:\n            case InsertionMode.IN_TABLE_BODY:\n            case InsertionMode.IN_ROW: {\n                characterInTable(this, token);\n                break;\n            }\n            case InsertionMode.IN_TABLE_TEXT: {\n                whitespaceCharacterInTableText(this, token);\n                break;\n            }\n            default:\n            // Do nothing\n        }\n    }\n}\n//Adoption agency algorithm\n//(see: http://www.whatwg.org/specs/web-apps/current-work/multipage/tree-construction.html#adoptionAgency)\n//------------------------------------------------------------------\n//Steps 5-8 of the algorithm\nfunction aaObtainFormattingElementEntry(p, token) {\n    let formattingElementEntry = p.activeFormattingElements.getElementEntryInScopeWithTagName(token.tagName);\n    if (formattingElementEntry) {\n        if (!p.openElements.contains(formattingElementEntry.element)) {\n            p.activeFormattingElements.removeEntry(formattingElementEntry);\n            formattingElementEntry = null;\n        }\n        else if (!p.openElements.hasInScope(token.tagID)) {\n            formattingElementEntry = null;\n        }\n    }\n    else {\n        genericEndTagInBody(p, token);\n    }\n    return formattingElementEntry;\n}\n//Steps 9 and 10 of the algorithm\nfunction aaObtainFurthestBlock(p, formattingElementEntry) {\n    let furthestBlock = null;\n    let idx = p.openElements.stackTop;\n    for (; idx >= 0; idx--) {\n        const element = p.openElements.items[idx];\n        if (element === formattingElementEntry.element) {\n            break;\n        }\n        if (p._isSpecialElement(element, p.openElements.tagIDs[idx])) {\n            furthestBlock = element;\n        }\n    }\n    if (!furthestBlock) {\n        p.openElements.shortenToLength(idx < 0 ? 0 : idx);\n        p.activeFormattingElements.removeEntry(formattingElementEntry);\n    }\n    return furthestBlock;\n}\n//Step 13 of the algorithm\nfunction aaInnerLoop(p, furthestBlock, formattingElement) {\n    let lastElement = furthestBlock;\n    let nextElement = p.openElements.getCommonAncestor(furthestBlock);\n    for (let i = 0, element = nextElement; element !== formattingElement; i++, element = nextElement) {\n        //NOTE: store the next element for the next loop iteration (it may be deleted from the stack by step 9.5)\n        nextElement = p.openElements.getCommonAncestor(element);\n        const elementEntry = p.activeFormattingElements.getElementEntry(element);\n        const counterOverflow = elementEntry && i >= AA_INNER_LOOP_ITER;\n        const shouldRemoveFromOpenElements = !elementEntry || counterOverflow;\n        if (shouldRemoveFromOpenElements) {\n            if (counterOverflow) {\n                p.activeFormattingElements.removeEntry(elementEntry);\n            }\n            p.openElements.remove(element);\n        }\n        else {\n            element = aaRecreateElementFromEntry(p, elementEntry);\n            if (lastElement === furthestBlock) {\n                p.activeFormattingElements.bookmark = elementEntry;\n            }\n            p.treeAdapter.detachNode(lastElement);\n            p.treeAdapter.appendChild(element, lastElement);\n            lastElement = element;\n        }\n    }\n    return lastElement;\n}\n//Step 13.7 of the algorithm\nfunction aaRecreateElementFromEntry(p, elementEntry) {\n    const ns = p.treeAdapter.getNamespaceURI(elementEntry.element);\n    const newElement = p.treeAdapter.createElement(elementEntry.token.tagName, ns, elementEntry.token.attrs);\n    p.openElements.replace(elementEntry.element, newElement);\n    elementEntry.element = newElement;\n    return newElement;\n}\n//Step 14 of the algorithm\nfunction aaInsertLastNodeInCommonAncestor(p, commonAncestor, lastElement) {\n    const tn = p.treeAdapter.getTagName(commonAncestor);\n    const tid = getTagID(tn);\n    if (p._isElementCausesFosterParenting(tid)) {\n        p._fosterParentElement(lastElement);\n    }\n    else {\n        const ns = p.treeAdapter.getNamespaceURI(commonAncestor);\n        if (tid === $.TEMPLATE && ns === NS.HTML) {\n            commonAncestor = p.treeAdapter.getTemplateContent(commonAncestor);\n        }\n        p.treeAdapter.appendChild(commonAncestor, lastElement);\n    }\n}\n//Steps 15-19 of the algorithm\nfunction aaReplaceFormattingElement(p, furthestBlock, formattingElementEntry) {\n    const ns = p.treeAdapter.getNamespaceURI(formattingElementEntry.element);\n    const { token } = formattingElementEntry;\n    const newElement = p.treeAdapter.createElement(token.tagName, ns, token.attrs);\n    p._adoptNodes(furthestBlock, newElement);\n    p.treeAdapter.appendChild(furthestBlock, newElement);\n    p.activeFormattingElements.insertElementAfterBookmark(newElement, token);\n    p.activeFormattingElements.removeEntry(formattingElementEntry);\n    p.openElements.remove(formattingElementEntry.element);\n    p.openElements.insertAfter(furthestBlock, newElement, token.tagID);\n}\n//Algorithm entry point\nfunction callAdoptionAgency(p, token) {\n    for (let i = 0; i < AA_OUTER_LOOP_ITER; i++) {\n        const formattingElementEntry = aaObtainFormattingElementEntry(p, token);\n        if (!formattingElementEntry) {\n            break;\n        }\n        const furthestBlock = aaObtainFurthestBlock(p, formattingElementEntry);\n        if (!furthestBlock) {\n            break;\n        }\n        p.activeFormattingElements.bookmark = formattingElementEntry;\n        const lastElement = aaInnerLoop(p, furthestBlock, formattingElementEntry.element);\n        const commonAncestor = p.openElements.getCommonAncestor(formattingElementEntry.element);\n        p.treeAdapter.detachNode(lastElement);\n        if (commonAncestor)\n            aaInsertLastNodeInCommonAncestor(p, commonAncestor, lastElement);\n        aaReplaceFormattingElement(p, furthestBlock, formattingElementEntry);\n    }\n}\n//Generic token handlers\n//------------------------------------------------------------------\nfunction appendComment(p, token) {\n    p._appendCommentNode(token, p.openElements.currentTmplContentOrNode);\n}\nfunction appendCommentToRootHtmlElement(p, token) {\n    p._appendCommentNode(token, p.openElements.items[0]);\n}\nfunction appendCommentToDocument(p, token) {\n    p._appendCommentNode(token, p.document);\n}\nfunction stopParsing(p, token) {\n    p.stopped = true;\n    // NOTE: Set end locations for elements that remain on the open element stack.\n    if (token.location) {\n        // NOTE: If we are not in a fragment, `html` and `body` will stay on the stack.\n        // This is a problem, as we might overwrite their end position here.\n        const target = p.fragmentContext ? 0 : 2;\n        for (let i = p.openElements.stackTop; i >= target; i--) {\n            p._setEndLocation(p.openElements.items[i], token);\n        }\n        // Handle `html` and `body`\n        if (!p.fragmentContext && p.openElements.stackTop >= 0) {\n            const htmlElement = p.openElements.items[0];\n            const htmlLocation = p.treeAdapter.getNodeSourceCodeLocation(htmlElement);\n            if (htmlLocation && !htmlLocation.endTag) {\n                p._setEndLocation(htmlElement, token);\n                if (p.openElements.stackTop >= 1) {\n                    const bodyElement = p.openElements.items[1];\n                    const bodyLocation = p.treeAdapter.getNodeSourceCodeLocation(bodyElement);\n                    if (bodyLocation && !bodyLocation.endTag) {\n                        p._setEndLocation(bodyElement, token);\n                    }\n                }\n            }\n        }\n    }\n}\n// The \"initial\" insertion mode\n//------------------------------------------------------------------\nfunction doctypeInInitialMode(p, token) {\n    p._setDocumentType(token);\n    const mode = token.forceQuirks ? DOCUMENT_MODE.QUIRKS : doctype.getDocumentMode(token);\n    if (!doctype.isConforming(token)) {\n        p._err(token, ERR.nonConformingDoctype);\n    }\n    p.treeAdapter.setDocumentMode(p.document, mode);\n    p.insertionMode = InsertionMode.BEFORE_HTML;\n}\nfunction tokenInInitialMode(p, token) {\n    p._err(token, ERR.missingDoctype, true);\n    p.treeAdapter.setDocumentMode(p.document, DOCUMENT_MODE.QUIRKS);\n    p.insertionMode = InsertionMode.BEFORE_HTML;\n    p._processToken(token);\n}\n// The \"before html\" insertion mode\n//------------------------------------------------------------------\nfunction startTagBeforeHtml(p, token) {\n    if (token.tagID === $.HTML) {\n        p._insertElement(token, NS.HTML);\n        p.insertionMode = InsertionMode.BEFORE_HEAD;\n    }\n    else {\n        tokenBeforeHtml(p, token);\n    }\n}\nfunction endTagBeforeHtml(p, token) {\n    const tn = token.tagID;\n    if (tn === $.HTML || tn === $.HEAD || tn === $.BODY || tn === $.BR) {\n        tokenBeforeHtml(p, token);\n    }\n}\nfunction tokenBeforeHtml(p, token) {\n    p._insertFakeRootElement();\n    p.insertionMode = InsertionMode.BEFORE_HEAD;\n    p._processToken(token);\n}\n// The \"before head\" insertion mode\n//------------------------------------------------------------------\nfunction startTagBeforeHead(p, token) {\n    switch (token.tagID) {\n        case $.HTML: {\n            startTagInBody(p, token);\n            break;\n        }\n        case $.HEAD: {\n            p._insertElement(token, NS.HTML);\n            p.headElement = p.openElements.current;\n            p.insertionMode = InsertionMode.IN_HEAD;\n            break;\n        }\n        default: {\n            tokenBeforeHead(p, token);\n        }\n    }\n}\nfunction endTagBeforeHead(p, token) {\n    const tn = token.tagID;\n    if (tn === $.HEAD || tn === $.BODY || tn === $.HTML || tn === $.BR) {\n        tokenBeforeHead(p, token);\n    }\n    else {\n        p._err(token, ERR.endTagWithoutMatchingOpenElement);\n    }\n}\nfunction tokenBeforeHead(p, token) {\n    p._insertFakeElement(TN.HEAD, $.HEAD);\n    p.headElement = p.openElements.current;\n    p.insertionMode = InsertionMode.IN_HEAD;\n    p._processToken(token);\n}\n// The \"in head\" insertion mode\n//------------------------------------------------------------------\nfunction startTagInHead(p, token) {\n    switch (token.tagID) {\n        case $.HTML: {\n            startTagInBody(p, token);\n            break;\n        }\n        case $.BASE:\n        case $.BASEFONT:\n        case $.BGSOUND:\n        case $.LINK:\n        case $.META: {\n            p._appendElement(token, NS.HTML);\n            token.ackSelfClosing = true;\n            break;\n        }\n        case $.TITLE: {\n            p._switchToTextParsing(token, TokenizerMode.RCDATA);\n            break;\n        }\n        case $.NOSCRIPT: {\n            if (p.options.scriptingEnabled) {\n                p._switchToTextParsing(token, TokenizerMode.RAWTEXT);\n            }\n            else {\n                p._insertElement(token, NS.HTML);\n                p.insertionMode = InsertionMode.IN_HEAD_NO_SCRIPT;\n            }\n            break;\n        }\n        case $.NOFRAMES:\n        case $.STYLE: {\n            p._switchToTextParsing(token, TokenizerMode.RAWTEXT);\n            break;\n        }\n        case $.SCRIPT: {\n            p._switchToTextParsing(token, TokenizerMode.SCRIPT_DATA);\n            break;\n        }\n        case $.TEMPLATE: {\n            p._insertTemplate(token);\n            p.activeFormattingElements.insertMarker();\n            p.framesetOk = false;\n            p.insertionMode = InsertionMode.IN_TEMPLATE;\n            p.tmplInsertionModeStack.unshift(InsertionMode.IN_TEMPLATE);\n            break;\n        }\n        case $.HEAD: {\n            p._err(token, ERR.misplacedStartTagForHeadElement);\n            break;\n        }\n        default: {\n            tokenInHead(p, token);\n        }\n    }\n}\nfunction endTagInHead(p, token) {\n    switch (token.tagID) {\n        case $.HEAD: {\n            p.openElements.pop();\n            p.insertionMode = InsertionMode.AFTER_HEAD;\n            break;\n        }\n        case $.BODY:\n        case $.BR:\n        case $.HTML: {\n            tokenInHead(p, token);\n            break;\n        }\n        case $.TEMPLATE: {\n            templateEndTagInHead(p, token);\n            break;\n        }\n        default: {\n            p._err(token, ERR.endTagWithoutMatchingOpenElement);\n        }\n    }\n}\nfunction templateEndTagInHead(p, token) {\n    if (p.openElements.tmplCount > 0) {\n        p.openElements.generateImpliedEndTagsThoroughly();\n        if (p.openElements.currentTagId !== $.TEMPLATE) {\n            p._err(token, ERR.closingOfElementWithOpenChildElements);\n        }\n        p.openElements.popUntilTagNamePopped($.TEMPLATE);\n        p.activeFormattingElements.clearToLastMarker();\n        p.tmplInsertionModeStack.shift();\n        p._resetInsertionMode();\n    }\n    else {\n        p._err(token, ERR.endTagWithoutMatchingOpenElement);\n    }\n}\nfunction tokenInHead(p, token) {\n    p.openElements.pop();\n    p.insertionMode = InsertionMode.AFTER_HEAD;\n    p._processToken(token);\n}\n// The \"in head no script\" insertion mode\n//------------------------------------------------------------------\nfunction startTagInHeadNoScript(p, token) {\n    switch (token.tagID) {\n        case $.HTML: {\n            startTagInBody(p, token);\n            break;\n        }\n        case $.BASEFONT:\n        case $.BGSOUND:\n        case $.HEAD:\n        case $.LINK:\n        case $.META:\n        case $.NOFRAMES:\n        case $.STYLE: {\n            startTagInHead(p, token);\n            break;\n        }\n        case $.NOSCRIPT: {\n            p._err(token, ERR.nestedNoscriptInHead);\n            break;\n        }\n        default: {\n            tokenInHeadNoScript(p, token);\n        }\n    }\n}\nfunction endTagInHeadNoScript(p, token) {\n    switch (token.tagID) {\n        case $.NOSCRIPT: {\n            p.openElements.pop();\n            p.insertionMode = InsertionMode.IN_HEAD;\n            break;\n        }\n        case $.BR: {\n            tokenInHeadNoScript(p, token);\n            break;\n        }\n        default: {\n            p._err(token, ERR.endTagWithoutMatchingOpenElement);\n        }\n    }\n}\nfunction tokenInHeadNoScript(p, token) {\n    const errCode = token.type === TokenType.EOF ? ERR.openElementsLeftAfterEof : ERR.disallowedContentInNoscriptInHead;\n    p._err(token, errCode);\n    p.openElements.pop();\n    p.insertionMode = InsertionMode.IN_HEAD;\n    p._processToken(token);\n}\n// The \"after head\" insertion mode\n//------------------------------------------------------------------\nfunction startTagAfterHead(p, token) {\n    switch (token.tagID) {\n        case $.HTML: {\n            startTagInBody(p, token);\n            break;\n        }\n        case $.BODY: {\n            p._insertElement(token, NS.HTML);\n            p.framesetOk = false;\n            p.insertionMode = InsertionMode.IN_BODY;\n            break;\n        }\n        case $.FRAMESET: {\n            p._insertElement(token, NS.HTML);\n            p.insertionMode = InsertionMode.IN_FRAMESET;\n            break;\n        }\n        case $.BASE:\n        case $.BASEFONT:\n        case $.BGSOUND:\n        case $.LINK:\n        case $.META:\n        case $.NOFRAMES:\n        case $.SCRIPT:\n        case $.STYLE:\n        case $.TEMPLATE:\n        case $.TITLE: {\n            p._err(token, ERR.abandonedHeadElementChild);\n            p.openElements.push(p.headElement, $.HEAD);\n            startTagInHead(p, token);\n            p.openElements.remove(p.headElement);\n            break;\n        }\n        case $.HEAD: {\n            p._err(token, ERR.misplacedStartTagForHeadElement);\n            break;\n        }\n        default: {\n            tokenAfterHead(p, token);\n        }\n    }\n}\nfunction endTagAfterHead(p, token) {\n    switch (token.tagID) {\n        case $.BODY:\n        case $.HTML:\n        case $.BR: {\n            tokenAfterHead(p, token);\n            break;\n        }\n        case $.TEMPLATE: {\n            templateEndTagInHead(p, token);\n            break;\n        }\n        default: {\n            p._err(token, ERR.endTagWithoutMatchingOpenElement);\n        }\n    }\n}\nfunction tokenAfterHead(p, token) {\n    p._insertFakeElement(TN.BODY, $.BODY);\n    p.insertionMode = InsertionMode.IN_BODY;\n    modeInBody(p, token);\n}\n// The \"in body\" insertion mode\n//------------------------------------------------------------------\nfunction modeInBody(p, token) {\n    switch (token.type) {\n        case TokenType.CHARACTER: {\n            characterInBody(p, token);\n            break;\n        }\n        case TokenType.WHITESPACE_CHARACTER: {\n            whitespaceCharacterInBody(p, token);\n            break;\n        }\n        case TokenType.COMMENT: {\n            appendComment(p, token);\n            break;\n        }\n        case TokenType.START_TAG: {\n            startTagInBody(p, token);\n            break;\n        }\n        case TokenType.END_TAG: {\n            endTagInBody(p, token);\n            break;\n        }\n        case TokenType.EOF: {\n            eofInBody(p, token);\n            break;\n        }\n        default:\n        // Do nothing\n    }\n}\nfunction whitespaceCharacterInBody(p, token) {\n    p._reconstructActiveFormattingElements();\n    p._insertCharacters(token);\n}\nfunction characterInBody(p, token) {\n    p._reconstructActiveFormattingElements();\n    p._insertCharacters(token);\n    p.framesetOk = false;\n}\nfunction htmlStartTagInBody(p, token) {\n    if (p.openElements.tmplCount === 0) {\n        p.treeAdapter.adoptAttributes(p.openElements.items[0], token.attrs);\n    }\n}\nfunction bodyStartTagInBody(p, token) {\n    const bodyElement = p.openElements.tryPeekProperlyNestedBodyElement();\n    if (bodyElement && p.openElements.tmplCount === 0) {\n        p.framesetOk = false;\n        p.treeAdapter.adoptAttributes(bodyElement, token.attrs);\n    }\n}\nfunction framesetStartTagInBody(p, token) {\n    const bodyElement = p.openElements.tryPeekProperlyNestedBodyElement();\n    if (p.framesetOk && bodyElement) {\n        p.treeAdapter.detachNode(bodyElement);\n        p.openElements.popAllUpToHtmlElement();\n        p._insertElement(token, NS.HTML);\n        p.insertionMode = InsertionMode.IN_FRAMESET;\n    }\n}\nfunction addressStartTagInBody(p, token) {\n    if (p.openElements.hasInButtonScope($.P)) {\n        p._closePElement();\n    }\n    p._insertElement(token, NS.HTML);\n}\nfunction numberedHeaderStartTagInBody(p, token) {\n    if (p.openElements.hasInButtonScope($.P)) {\n        p._closePElement();\n    }\n    if (NUMBERED_HEADERS.has(p.openElements.currentTagId)) {\n        p.openElements.pop();\n    }\n    p._insertElement(token, NS.HTML);\n}\nfunction preStartTagInBody(p, token) {\n    if (p.openElements.hasInButtonScope($.P)) {\n        p._closePElement();\n    }\n    p._insertElement(token, NS.HTML);\n    //NOTE: If the next token is a U+000A LINE FEED (LF) character token, then ignore that token and move\n    //on to the next one. (Newlines at the start of pre blocks are ignored as an authoring convenience.)\n    p.skipNextNewLine = true;\n    p.framesetOk = false;\n}\nfunction formStartTagInBody(p, token) {\n    const inTemplate = p.openElements.tmplCount > 0;\n    if (!p.formElement || inTemplate) {\n        if (p.openElements.hasInButtonScope($.P)) {\n            p._closePElement();\n        }\n        p._insertElement(token, NS.HTML);\n        if (!inTemplate) {\n            p.formElement = p.openElements.current;\n        }\n    }\n}\nfunction listItemStartTagInBody(p, token) {\n    p.framesetOk = false;\n    const tn = token.tagID;\n    for (let i = p.openElements.stackTop; i >= 0; i--) {\n        const elementId = p.openElements.tagIDs[i];\n        if ((tn === $.LI && elementId === $.LI) ||\n            ((tn === $.DD || tn === $.DT) && (elementId === $.DD || elementId === $.DT))) {\n            p.openElements.generateImpliedEndTagsWithExclusion(elementId);\n            p.openElements.popUntilTagNamePopped(elementId);\n            break;\n        }\n        if (elementId !== $.ADDRESS &&\n            elementId !== $.DIV &&\n            elementId !== $.P &&\n            p._isSpecialElement(p.openElements.items[i], elementId)) {\n            break;\n        }\n    }\n    if (p.openElements.hasInButtonScope($.P)) {\n        p._closePElement();\n    }\n    p._insertElement(token, NS.HTML);\n}\nfunction plaintextStartTagInBody(p, token) {\n    if (p.openElements.hasInButtonScope($.P)) {\n        p._closePElement();\n    }\n    p._insertElement(token, NS.HTML);\n    p.tokenizer.state = TokenizerMode.PLAINTEXT;\n}\nfunction buttonStartTagInBody(p, token) {\n    if (p.openElements.hasInScope($.BUTTON)) {\n        p.openElements.generateImpliedEndTags();\n        p.openElements.popUntilTagNamePopped($.BUTTON);\n    }\n    p._reconstructActiveFormattingElements();\n    p._insertElement(token, NS.HTML);\n    p.framesetOk = false;\n}\nfunction aStartTagInBody(p, token) {\n    const activeElementEntry = p.activeFormattingElements.getElementEntryInScopeWithTagName(TN.A);\n    if (activeElementEntry) {\n        callAdoptionAgency(p, token);\n        p.openElements.remove(activeElementEntry.element);\n        p.activeFormattingElements.removeEntry(activeElementEntry);\n    }\n    p._reconstructActiveFormattingElements();\n    p._insertElement(token, NS.HTML);\n    p.activeFormattingElements.pushElement(p.openElements.current, token);\n}\nfunction bStartTagInBody(p, token) {\n    p._reconstructActiveFormattingElements();\n    p._insertElement(token, NS.HTML);\n    p.activeFormattingElements.pushElement(p.openElements.current, token);\n}\nfunction nobrStartTagInBody(p, token) {\n    p._reconstructActiveFormattingElements();\n    if (p.openElements.hasInScope($.NOBR)) {\n        callAdoptionAgency(p, token);\n        p._reconstructActiveFormattingElements();\n    }\n    p._insertElement(token, NS.HTML);\n    p.activeFormattingElements.pushElement(p.openElements.current, token);\n}\nfunction appletStartTagInBody(p, token) {\n    p._reconstructActiveFormattingElements();\n    p._insertElement(token, NS.HTML);\n    p.activeFormattingElements.insertMarker();\n    p.framesetOk = false;\n}\nfunction tableStartTagInBody(p, token) {\n    if (p.treeAdapter.getDocumentMode(p.document) !== DOCUMENT_MODE.QUIRKS && p.openElements.hasInButtonScope($.P)) {\n        p._closePElement();\n    }\n    p._insertElement(token, NS.HTML);\n    p.framesetOk = false;\n    p.insertionMode = InsertionMode.IN_TABLE;\n}\nfunction areaStartTagInBody(p, token) {\n    p._reconstructActiveFormattingElements();\n    p._appendElement(token, NS.HTML);\n    p.framesetOk = false;\n    token.ackSelfClosing = true;\n}\nfunction isHiddenInput(token) {\n    const inputType = getTokenAttr(token, ATTRS.TYPE);\n    return inputType != null && inputType.toLowerCase() === HIDDEN_INPUT_TYPE;\n}\nfunction inputStartTagInBody(p, token) {\n    p._reconstructActiveFormattingElements();\n    p._appendElement(token, NS.HTML);\n    if (!isHiddenInput(token)) {\n        p.framesetOk = false;\n    }\n    token.ackSelfClosing = true;\n}\nfunction paramStartTagInBody(p, token) {\n    p._appendElement(token, NS.HTML);\n    token.ackSelfClosing = true;\n}\nfunction hrStartTagInBody(p, token) {\n    if (p.openElements.hasInButtonScope($.P)) {\n        p._closePElement();\n    }\n    p._appendElement(token, NS.HTML);\n    p.framesetOk = false;\n    token.ackSelfClosing = true;\n}\nfunction imageStartTagInBody(p, token) {\n    token.tagName = TN.IMG;\n    token.tagID = $.IMG;\n    areaStartTagInBody(p, token);\n}\nfunction textareaStartTagInBody(p, token) {\n    p._insertElement(token, NS.HTML);\n    //NOTE: If the next token is a U+000A LINE FEED (LF) character token, then ignore that token and move\n    //on to the next one. (Newlines at the start of textarea elements are ignored as an authoring convenience.)\n    p.skipNextNewLine = true;\n    p.tokenizer.state = TokenizerMode.RCDATA;\n    p.originalInsertionMode = p.insertionMode;\n    p.framesetOk = false;\n    p.insertionMode = InsertionMode.TEXT;\n}\nfunction xmpStartTagInBody(p, token) {\n    if (p.openElements.hasInButtonScope($.P)) {\n        p._closePElement();\n    }\n    p._reconstructActiveFormattingElements();\n    p.framesetOk = false;\n    p._switchToTextParsing(token, TokenizerMode.RAWTEXT);\n}\nfunction iframeStartTagInBody(p, token) {\n    p.framesetOk = false;\n    p._switchToTextParsing(token, TokenizerMode.RAWTEXT);\n}\n//NOTE: here we assume that we always act as a user agent with enabled plugins/frames, so we parse\n//<noembed>/<noframes> as rawtext.\nfunction rawTextStartTagInBody(p, token) {\n    p._switchToTextParsing(token, TokenizerMode.RAWTEXT);\n}\nfunction selectStartTagInBody(p, token) {\n    p._reconstructActiveFormattingElements();\n    p._insertElement(token, NS.HTML);\n    p.framesetOk = false;\n    p.insertionMode =\n        p.insertionMode === InsertionMode.IN_TABLE ||\n            p.insertionMode === InsertionMode.IN_CAPTION ||\n            p.insertionMode === InsertionMode.IN_TABLE_BODY ||\n            p.insertionMode === InsertionMode.IN_ROW ||\n            p.insertionMode === InsertionMode.IN_CELL\n            ? InsertionMode.IN_SELECT_IN_TABLE\n            : InsertionMode.IN_SELECT;\n}\nfunction optgroupStartTagInBody(p, token) {\n    if (p.openElements.currentTagId === $.OPTION) {\n        p.openElements.pop();\n    }\n    p._reconstructActiveFormattingElements();\n    p._insertElement(token, NS.HTML);\n}\nfunction rbStartTagInBody(p, token) {\n    if (p.openElements.hasInScope($.RUBY)) {\n        p.openElements.generateImpliedEndTags();\n    }\n    p._insertElement(token, NS.HTML);\n}\nfunction rtStartTagInBody(p, token) {\n    if (p.openElements.hasInScope($.RUBY)) {\n        p.openElements.generateImpliedEndTagsWithExclusion($.RTC);\n    }\n    p._insertElement(token, NS.HTML);\n}\nfunction mathStartTagInBody(p, token) {\n    p._reconstructActiveFormattingElements();\n    foreignContent.adjustTokenMathMLAttrs(token);\n    foreignContent.adjustTokenXMLAttrs(token);\n    if (token.selfClosing) {\n        p._appendElement(token, NS.MATHML);\n    }\n    else {\n        p._insertElement(token, NS.MATHML);\n    }\n    token.ackSelfClosing = true;\n}\nfunction svgStartTagInBody(p, token) {\n    p._reconstructActiveFormattingElements();\n    foreignContent.adjustTokenSVGAttrs(token);\n    foreignContent.adjustTokenXMLAttrs(token);\n    if (token.selfClosing) {\n        p._appendElement(token, NS.SVG);\n    }\n    else {\n        p._insertElement(token, NS.SVG);\n    }\n    token.ackSelfClosing = true;\n}\nfunction genericStartTagInBody(p, token) {\n    p._reconstructActiveFormattingElements();\n    p._insertElement(token, NS.HTML);\n}\nfunction startTagInBody(p, token) {\n    switch (token.tagID) {\n        case $.I:\n        case $.S:\n        case $.B:\n        case $.U:\n        case $.EM:\n        case $.TT:\n        case $.BIG:\n        case $.CODE:\n        case $.FONT:\n        case $.SMALL:\n        case $.STRIKE:\n        case $.STRONG: {\n            bStartTagInBody(p, token);\n            break;\n        }\n        case $.A: {\n            aStartTagInBody(p, token);\n            break;\n        }\n        case $.H1:\n        case $.H2:\n        case $.H3:\n        case $.H4:\n        case $.H5:\n        case $.H6: {\n            numberedHeaderStartTagInBody(p, token);\n            break;\n        }\n        case $.P:\n        case $.DL:\n        case $.OL:\n        case $.UL:\n        case $.DIV:\n        case $.DIR:\n        case $.NAV:\n        case $.MAIN:\n        case $.MENU:\n        case $.ASIDE:\n        case $.CENTER:\n        case $.FIGURE:\n        case $.FOOTER:\n        case $.HEADER:\n        case $.HGROUP:\n        case $.DIALOG:\n        case $.DETAILS:\n        case $.ADDRESS:\n        case $.ARTICLE:\n        case $.SEARCH:\n        case $.SECTION:\n        case $.SUMMARY:\n        case $.FIELDSET:\n        case $.BLOCKQUOTE:\n        case $.FIGCAPTION: {\n            addressStartTagInBody(p, token);\n            break;\n        }\n        case $.LI:\n        case $.DD:\n        case $.DT: {\n            listItemStartTagInBody(p, token);\n            break;\n        }\n        case $.BR:\n        case $.IMG:\n        case $.WBR:\n        case $.AREA:\n        case $.EMBED:\n        case $.KEYGEN: {\n            areaStartTagInBody(p, token);\n            break;\n        }\n        case $.HR: {\n            hrStartTagInBody(p, token);\n            break;\n        }\n        case $.RB:\n        case $.RTC: {\n            rbStartTagInBody(p, token);\n            break;\n        }\n        case $.RT:\n        case $.RP: {\n            rtStartTagInBody(p, token);\n            break;\n        }\n        case $.PRE:\n        case $.LISTING: {\n            preStartTagInBody(p, token);\n            break;\n        }\n        case $.XMP: {\n            xmpStartTagInBody(p, token);\n            break;\n        }\n        case $.SVG: {\n            svgStartTagInBody(p, token);\n            break;\n        }\n        case $.HTML: {\n            htmlStartTagInBody(p, token);\n            break;\n        }\n        case $.BASE:\n        case $.LINK:\n        case $.META:\n        case $.STYLE:\n        case $.TITLE:\n        case $.SCRIPT:\n        case $.BGSOUND:\n        case $.BASEFONT:\n        case $.TEMPLATE: {\n            startTagInHead(p, token);\n            break;\n        }\n        case $.BODY: {\n            bodyStartTagInBody(p, token);\n            break;\n        }\n        case $.FORM: {\n            formStartTagInBody(p, token);\n            break;\n        }\n        case $.NOBR: {\n            nobrStartTagInBody(p, token);\n            break;\n        }\n        case $.MATH: {\n            mathStartTagInBody(p, token);\n            break;\n        }\n        case $.TABLE: {\n            tableStartTagInBody(p, token);\n            break;\n        }\n        case $.INPUT: {\n            inputStartTagInBody(p, token);\n            break;\n        }\n        case $.PARAM:\n        case $.TRACK:\n        case $.SOURCE: {\n            paramStartTagInBody(p, token);\n            break;\n        }\n        case $.IMAGE: {\n            imageStartTagInBody(p, token);\n            break;\n        }\n        case $.BUTTON: {\n            buttonStartTagInBody(p, token);\n            break;\n        }\n        case $.APPLET:\n        case $.OBJECT:\n        case $.MARQUEE: {\n            appletStartTagInBody(p, token);\n            break;\n        }\n        case $.IFRAME: {\n            iframeStartTagInBody(p, token);\n            break;\n        }\n        case $.SELECT: {\n            selectStartTagInBody(p, token);\n            break;\n        }\n        case $.OPTION:\n        case $.OPTGROUP: {\n            optgroupStartTagInBody(p, token);\n            break;\n        }\n        case $.NOEMBED:\n        case $.NOFRAMES: {\n            rawTextStartTagInBody(p, token);\n            break;\n        }\n        case $.FRAMESET: {\n            framesetStartTagInBody(p, token);\n            break;\n        }\n        case $.TEXTAREA: {\n            textareaStartTagInBody(p, token);\n            break;\n        }\n        case $.NOSCRIPT: {\n            if (p.options.scriptingEnabled) {\n                rawTextStartTagInBody(p, token);\n            }\n            else {\n                genericStartTagInBody(p, token);\n            }\n            break;\n        }\n        case $.PLAINTEXT: {\n            plaintextStartTagInBody(p, token);\n            break;\n        }\n        case $.COL:\n        case $.TH:\n        case $.TD:\n        case $.TR:\n        case $.HEAD:\n        case $.FRAME:\n        case $.TBODY:\n        case $.TFOOT:\n        case $.THEAD:\n        case $.CAPTION:\n        case $.COLGROUP: {\n            // Ignore token\n            break;\n        }\n        default: {\n            genericStartTagInBody(p, token);\n        }\n    }\n}\nfunction bodyEndTagInBody(p, token) {\n    if (p.openElements.hasInScope($.BODY)) {\n        p.insertionMode = InsertionMode.AFTER_BODY;\n        //NOTE: <body> is never popped from the stack, so we need to updated\n        //the end location explicitly.\n        if (p.options.sourceCodeLocationInfo) {\n            const bodyElement = p.openElements.tryPeekProperlyNestedBodyElement();\n            if (bodyElement) {\n                p._setEndLocation(bodyElement, token);\n            }\n        }\n    }\n}\nfunction htmlEndTagInBody(p, token) {\n    if (p.openElements.hasInScope($.BODY)) {\n        p.insertionMode = InsertionMode.AFTER_BODY;\n        endTagAfterBody(p, token);\n    }\n}\nfunction addressEndTagInBody(p, token) {\n    const tn = token.tagID;\n    if (p.openElements.hasInScope(tn)) {\n        p.openElements.generateImpliedEndTags();\n        p.openElements.popUntilTagNamePopped(tn);\n    }\n}\nfunction formEndTagInBody(p) {\n    const inTemplate = p.openElements.tmplCount > 0;\n    const { formElement } = p;\n    if (!inTemplate) {\n        p.formElement = null;\n    }\n    if ((formElement || inTemplate) && p.openElements.hasInScope($.FORM)) {\n        p.openElements.generateImpliedEndTags();\n        if (inTemplate) {\n            p.openElements.popUntilTagNamePopped($.FORM);\n        }\n        else if (formElement) {\n            p.openElements.remove(formElement);\n        }\n    }\n}\nfunction pEndTagInBody(p) {\n    if (!p.openElements.hasInButtonScope($.P)) {\n        p._insertFakeElement(TN.P, $.P);\n    }\n    p._closePElement();\n}\nfunction liEndTagInBody(p) {\n    if (p.openElements.hasInListItemScope($.LI)) {\n        p.openElements.generateImpliedEndTagsWithExclusion($.LI);\n        p.openElements.popUntilTagNamePopped($.LI);\n    }\n}\nfunction ddEndTagInBody(p, token) {\n    const tn = token.tagID;\n    if (p.openElements.hasInScope(tn)) {\n        p.openElements.generateImpliedEndTagsWithExclusion(tn);\n        p.openElements.popUntilTagNamePopped(tn);\n    }\n}\nfunction numberedHeaderEndTagInBody(p) {\n    if (p.openElements.hasNumberedHeaderInScope()) {\n        p.openElements.generateImpliedEndTags();\n        p.openElements.popUntilNumberedHeaderPopped();\n    }\n}\nfunction appletEndTagInBody(p, token) {\n    const tn = token.tagID;\n    if (p.openElements.hasInScope(tn)) {\n        p.openElements.generateImpliedEndTags();\n        p.openElements.popUntilTagNamePopped(tn);\n        p.activeFormattingElements.clearToLastMarker();\n    }\n}\nfunction brEndTagInBody(p) {\n    p._reconstructActiveFormattingElements();\n    p._insertFakeElement(TN.BR, $.BR);\n    p.openElements.pop();\n    p.framesetOk = false;\n}\nfunction genericEndTagInBody(p, token) {\n    const tn = token.tagName;\n    const tid = token.tagID;\n    for (let i = p.openElements.stackTop; i > 0; i--) {\n        const element = p.openElements.items[i];\n        const elementId = p.openElements.tagIDs[i];\n        // Compare the tag name here, as the tag might not be a known tag with an ID.\n        if (tid === elementId && (tid !== $.UNKNOWN || p.treeAdapter.getTagName(element) === tn)) {\n            p.openElements.generateImpliedEndTagsWithExclusion(tid);\n            if (p.openElements.stackTop >= i)\n                p.openElements.shortenToLength(i);\n            break;\n        }\n        if (p._isSpecialElement(element, elementId)) {\n            break;\n        }\n    }\n}\nfunction endTagInBody(p, token) {\n    switch (token.tagID) {\n        case $.A:\n        case $.B:\n        case $.I:\n        case $.S:\n        case $.U:\n        case $.EM:\n        case $.TT:\n        case $.BIG:\n        case $.CODE:\n        case $.FONT:\n        case $.NOBR:\n        case $.SMALL:\n        case $.STRIKE:\n        case $.STRONG: {\n            callAdoptionAgency(p, token);\n            break;\n        }\n        case $.P: {\n            pEndTagInBody(p);\n            break;\n        }\n        case $.DL:\n        case $.UL:\n        case $.OL:\n        case $.DIR:\n        case $.DIV:\n        case $.NAV:\n        case $.PRE:\n        case $.MAIN:\n        case $.MENU:\n        case $.ASIDE:\n        case $.BUTTON:\n        case $.CENTER:\n        case $.FIGURE:\n        case $.FOOTER:\n        case $.HEADER:\n        case $.HGROUP:\n        case $.DIALOG:\n        case $.ADDRESS:\n        case $.ARTICLE:\n        case $.DETAILS:\n        case $.SEARCH:\n        case $.SECTION:\n        case $.SUMMARY:\n        case $.LISTING:\n        case $.FIELDSET:\n        case $.BLOCKQUOTE:\n        case $.FIGCAPTION: {\n            addressEndTagInBody(p, token);\n            break;\n        }\n        case $.LI: {\n            liEndTagInBody(p);\n            break;\n        }\n        case $.DD:\n        case $.DT: {\n            ddEndTagInBody(p, token);\n            break;\n        }\n        case $.H1:\n        case $.H2:\n        case $.H3:\n        case $.H4:\n        case $.H5:\n        case $.H6: {\n            numberedHeaderEndTagInBody(p);\n            break;\n        }\n        case $.BR: {\n            brEndTagInBody(p);\n            break;\n        }\n        case $.BODY: {\n            bodyEndTagInBody(p, token);\n            break;\n        }\n        case $.HTML: {\n            htmlEndTagInBody(p, token);\n            break;\n        }\n        case $.FORM: {\n            formEndTagInBody(p);\n            break;\n        }\n        case $.APPLET:\n        case $.OBJECT:\n        case $.MARQUEE: {\n            appletEndTagInBody(p, token);\n            break;\n        }\n        case $.TEMPLATE: {\n            templateEndTagInHead(p, token);\n            break;\n        }\n        default: {\n            genericEndTagInBody(p, token);\n        }\n    }\n}\nfunction eofInBody(p, token) {\n    if (p.tmplInsertionModeStack.length > 0) {\n        eofInTemplate(p, token);\n    }\n    else {\n        stopParsing(p, token);\n    }\n}\n// The \"text\" insertion mode\n//------------------------------------------------------------------\nfunction endTagInText(p, token) {\n    var _a;\n    if (token.tagID === $.SCRIPT) {\n        (_a = p.scriptHandler) === null || _a === void 0 ? void 0 : _a.call(p, p.openElements.current);\n    }\n    p.openElements.pop();\n    p.insertionMode = p.originalInsertionMode;\n}\nfunction eofInText(p, token) {\n    p._err(token, ERR.eofInElementThatCanContainOnlyText);\n    p.openElements.pop();\n    p.insertionMode = p.originalInsertionMode;\n    p.onEof(token);\n}\n// The \"in table\" insertion mode\n//------------------------------------------------------------------\nfunction characterInTable(p, token) {\n    if (TABLE_STRUCTURE_TAGS.has(p.openElements.currentTagId)) {\n        p.pendingCharacterTokens.length = 0;\n        p.hasNonWhitespacePendingCharacterToken = false;\n        p.originalInsertionMode = p.insertionMode;\n        p.insertionMode = InsertionMode.IN_TABLE_TEXT;\n        switch (token.type) {\n            case TokenType.CHARACTER: {\n                characterInTableText(p, token);\n                break;\n            }\n            case TokenType.WHITESPACE_CHARACTER: {\n                whitespaceCharacterInTableText(p, token);\n                break;\n            }\n            // Ignore null\n        }\n    }\n    else {\n        tokenInTable(p, token);\n    }\n}\nfunction captionStartTagInTable(p, token) {\n    p.openElements.clearBackToTableContext();\n    p.activeFormattingElements.insertMarker();\n    p._insertElement(token, NS.HTML);\n    p.insertionMode = InsertionMode.IN_CAPTION;\n}\nfunction colgroupStartTagInTable(p, token) {\n    p.openElements.clearBackToTableContext();\n    p._insertElement(token, NS.HTML);\n    p.insertionMode = InsertionMode.IN_COLUMN_GROUP;\n}\nfunction colStartTagInTable(p, token) {\n    p.openElements.clearBackToTableContext();\n    p._insertFakeElement(TN.COLGROUP, $.COLGROUP);\n    p.insertionMode = InsertionMode.IN_COLUMN_GROUP;\n    startTagInColumnGroup(p, token);\n}\nfunction tbodyStartTagInTable(p, token) {\n    p.openElements.clearBackToTableContext();\n    p._insertElement(token, NS.HTML);\n    p.insertionMode = InsertionMode.IN_TABLE_BODY;\n}\nfunction tdStartTagInTable(p, token) {\n    p.openElements.clearBackToTableContext();\n    p._insertFakeElement(TN.TBODY, $.TBODY);\n    p.insertionMode = InsertionMode.IN_TABLE_BODY;\n    startTagInTableBody(p, token);\n}\nfunction tableStartTagInTable(p, token) {\n    if (p.openElements.hasInTableScope($.TABLE)) {\n        p.openElements.popUntilTagNamePopped($.TABLE);\n        p._resetInsertionMode();\n        p._processStartTag(token);\n    }\n}\nfunction inputStartTagInTable(p, token) {\n    if (isHiddenInput(token)) {\n        p._appendElement(token, NS.HTML);\n    }\n    else {\n        tokenInTable(p, token);\n    }\n    token.ackSelfClosing = true;\n}\nfunction formStartTagInTable(p, token) {\n    if (!p.formElement && p.openElements.tmplCount === 0) {\n        p._insertElement(token, NS.HTML);\n        p.formElement = p.openElements.current;\n        p.openElements.pop();\n    }\n}\nfunction startTagInTable(p, token) {\n    switch (token.tagID) {\n        case $.TD:\n        case $.TH:\n        case $.TR: {\n            tdStartTagInTable(p, token);\n            break;\n        }\n        case $.STYLE:\n        case $.SCRIPT:\n        case $.TEMPLATE: {\n            startTagInHead(p, token);\n            break;\n        }\n        case $.COL: {\n            colStartTagInTable(p, token);\n            break;\n        }\n        case $.FORM: {\n            formStartTagInTable(p, token);\n            break;\n        }\n        case $.TABLE: {\n            tableStartTagInTable(p, token);\n            break;\n        }\n        case $.TBODY:\n        case $.TFOOT:\n        case $.THEAD: {\n            tbodyStartTagInTable(p, token);\n            break;\n        }\n        case $.INPUT: {\n            inputStartTagInTable(p, token);\n            break;\n        }\n        case $.CAPTION: {\n            captionStartTagInTable(p, token);\n            break;\n        }\n        case $.COLGROUP: {\n            colgroupStartTagInTable(p, token);\n            break;\n        }\n        default: {\n            tokenInTable(p, token);\n        }\n    }\n}\nfunction endTagInTable(p, token) {\n    switch (token.tagID) {\n        case $.TABLE: {\n            if (p.openElements.hasInTableScope($.TABLE)) {\n                p.openElements.popUntilTagNamePopped($.TABLE);\n                p._resetInsertionMode();\n            }\n            break;\n        }\n        case $.TEMPLATE: {\n            templateEndTagInHead(p, token);\n            break;\n        }\n        case $.BODY:\n        case $.CAPTION:\n        case $.COL:\n        case $.COLGROUP:\n        case $.HTML:\n        case $.TBODY:\n        case $.TD:\n        case $.TFOOT:\n        case $.TH:\n        case $.THEAD:\n        case $.TR: {\n            // Ignore token\n            break;\n        }\n        default: {\n            tokenInTable(p, token);\n        }\n    }\n}\nfunction tokenInTable(p, token) {\n    const savedFosterParentingState = p.fosterParentingEnabled;\n    p.fosterParentingEnabled = true;\n    // Process token in `In Body` mode\n    modeInBody(p, token);\n    p.fosterParentingEnabled = savedFosterParentingState;\n}\n// The \"in table text\" insertion mode\n//------------------------------------------------------------------\nfunction whitespaceCharacterInTableText(p, token) {\n    p.pendingCharacterTokens.push(token);\n}\nfunction characterInTableText(p, token) {\n    p.pendingCharacterTokens.push(token);\n    p.hasNonWhitespacePendingCharacterToken = true;\n}\nfunction tokenInTableText(p, token) {\n    let i = 0;\n    if (p.hasNonWhitespacePendingCharacterToken) {\n        for (; i < p.pendingCharacterTokens.length; i++) {\n            tokenInTable(p, p.pendingCharacterTokens[i]);\n        }\n    }\n    else {\n        for (; i < p.pendingCharacterTokens.length; i++) {\n            p._insertCharacters(p.pendingCharacterTokens[i]);\n        }\n    }\n    p.insertionMode = p.originalInsertionMode;\n    p._processToken(token);\n}\n// The \"in caption\" insertion mode\n//------------------------------------------------------------------\nconst TABLE_VOID_ELEMENTS = new Set([$.CAPTION, $.COL, $.COLGROUP, $.TBODY, $.TD, $.TFOOT, $.TH, $.THEAD, $.TR]);\nfunction startTagInCaption(p, token) {\n    const tn = token.tagID;\n    if (TABLE_VOID_ELEMENTS.has(tn)) {\n        if (p.openElements.hasInTableScope($.CAPTION)) {\n            p.openElements.generateImpliedEndTags();\n            p.openElements.popUntilTagNamePopped($.CAPTION);\n            p.activeFormattingElements.clearToLastMarker();\n            p.insertionMode = InsertionMode.IN_TABLE;\n            startTagInTable(p, token);\n        }\n    }\n    else {\n        startTagInBody(p, token);\n    }\n}\nfunction endTagInCaption(p, token) {\n    const tn = token.tagID;\n    switch (tn) {\n        case $.CAPTION:\n        case $.TABLE: {\n            if (p.openElements.hasInTableScope($.CAPTION)) {\n                p.openElements.generateImpliedEndTags();\n                p.openElements.popUntilTagNamePopped($.CAPTION);\n                p.activeFormattingElements.clearToLastMarker();\n                p.insertionMode = InsertionMode.IN_TABLE;\n                if (tn === $.TABLE) {\n                    endTagInTable(p, token);\n                }\n            }\n            break;\n        }\n        case $.BODY:\n        case $.COL:\n        case $.COLGROUP:\n        case $.HTML:\n        case $.TBODY:\n        case $.TD:\n        case $.TFOOT:\n        case $.TH:\n        case $.THEAD:\n        case $.TR: {\n            // Ignore token\n            break;\n        }\n        default: {\n            endTagInBody(p, token);\n        }\n    }\n}\n// The \"in column group\" insertion mode\n//------------------------------------------------------------------\nfunction startTagInColumnGroup(p, token) {\n    switch (token.tagID) {\n        case $.HTML: {\n            startTagInBody(p, token);\n            break;\n        }\n        case $.COL: {\n            p._appendElement(token, NS.HTML);\n            token.ackSelfClosing = true;\n            break;\n        }\n        case $.TEMPLATE: {\n            startTagInHead(p, token);\n            break;\n        }\n        default: {\n            tokenInColumnGroup(p, token);\n        }\n    }\n}\nfunction endTagInColumnGroup(p, token) {\n    switch (token.tagID) {\n        case $.COLGROUP: {\n            if (p.openElements.currentTagId === $.COLGROUP) {\n                p.openElements.pop();\n                p.insertionMode = InsertionMode.IN_TABLE;\n            }\n            break;\n        }\n        case $.TEMPLATE: {\n            templateEndTagInHead(p, token);\n            break;\n        }\n        case $.COL: {\n            // Ignore token\n            break;\n        }\n        default: {\n            tokenInColumnGroup(p, token);\n        }\n    }\n}\nfunction tokenInColumnGroup(p, token) {\n    if (p.openElements.currentTagId === $.COLGROUP) {\n        p.openElements.pop();\n        p.insertionMode = InsertionMode.IN_TABLE;\n        p._processToken(token);\n    }\n}\n// The \"in table body\" insertion mode\n//------------------------------------------------------------------\nfunction startTagInTableBody(p, token) {\n    switch (token.tagID) {\n        case $.TR: {\n            p.openElements.clearBackToTableBodyContext();\n            p._insertElement(token, NS.HTML);\n            p.insertionMode = InsertionMode.IN_ROW;\n            break;\n        }\n        case $.TH:\n        case $.TD: {\n            p.openElements.clearBackToTableBodyContext();\n            p._insertFakeElement(TN.TR, $.TR);\n            p.insertionMode = InsertionMode.IN_ROW;\n            startTagInRow(p, token);\n            break;\n        }\n        case $.CAPTION:\n        case $.COL:\n        case $.COLGROUP:\n        case $.TBODY:\n        case $.TFOOT:\n        case $.THEAD: {\n            if (p.openElements.hasTableBodyContextInTableScope()) {\n                p.openElements.clearBackToTableBodyContext();\n                p.openElements.pop();\n                p.insertionMode = InsertionMode.IN_TABLE;\n                startTagInTable(p, token);\n            }\n            break;\n        }\n        default: {\n            startTagInTable(p, token);\n        }\n    }\n}\nfunction endTagInTableBody(p, token) {\n    const tn = token.tagID;\n    switch (token.tagID) {\n        case $.TBODY:\n        case $.TFOOT:\n        case $.THEAD: {\n            if (p.openElements.hasInTableScope(tn)) {\n                p.openElements.clearBackToTableBodyContext();\n                p.openElements.pop();\n                p.insertionMode = InsertionMode.IN_TABLE;\n            }\n            break;\n        }\n        case $.TABLE: {\n            if (p.openElements.hasTableBodyContextInTableScope()) {\n                p.openElements.clearBackToTableBodyContext();\n                p.openElements.pop();\n                p.insertionMode = InsertionMode.IN_TABLE;\n                endTagInTable(p, token);\n            }\n            break;\n        }\n        case $.BODY:\n        case $.CAPTION:\n        case $.COL:\n        case $.COLGROUP:\n        case $.HTML:\n        case $.TD:\n        case $.TH:\n        case $.TR: {\n            // Ignore token\n            break;\n        }\n        default: {\n            endTagInTable(p, token);\n        }\n    }\n}\n// The \"in row\" insertion mode\n//------------------------------------------------------------------\nfunction startTagInRow(p, token) {\n    switch (token.tagID) {\n        case $.TH:\n        case $.TD: {\n            p.openElements.clearBackToTableRowContext();\n            p._insertElement(token, NS.HTML);\n            p.insertionMode = InsertionMode.IN_CELL;\n            p.activeFormattingElements.insertMarker();\n            break;\n        }\n        case $.CAPTION:\n        case $.COL:\n        case $.COLGROUP:\n        case $.TBODY:\n        case $.TFOOT:\n        case $.THEAD:\n        case $.TR: {\n            if (p.openElements.hasInTableScope($.TR)) {\n                p.openElements.clearBackToTableRowContext();\n                p.openElements.pop();\n                p.insertionMode = InsertionMode.IN_TABLE_BODY;\n                startTagInTableBody(p, token);\n            }\n            break;\n        }\n        default: {\n            startTagInTable(p, token);\n        }\n    }\n}\nfunction endTagInRow(p, token) {\n    switch (token.tagID) {\n        case $.TR: {\n            if (p.openElements.hasInTableScope($.TR)) {\n                p.openElements.clearBackToTableRowContext();\n                p.openElements.pop();\n                p.insertionMode = InsertionMode.IN_TABLE_BODY;\n            }\n            break;\n        }\n        case $.TABLE: {\n            if (p.openElements.hasInTableScope($.TR)) {\n                p.openElements.clearBackToTableRowContext();\n                p.openElements.pop();\n                p.insertionMode = InsertionMode.IN_TABLE_BODY;\n                endTagInTableBody(p, token);\n            }\n            break;\n        }\n        case $.TBODY:\n        case $.TFOOT:\n        case $.THEAD: {\n            if (p.openElements.hasInTableScope(token.tagID) || p.openElements.hasInTableScope($.TR)) {\n                p.openElements.clearBackToTableRowContext();\n                p.openElements.pop();\n                p.insertionMode = InsertionMode.IN_TABLE_BODY;\n                endTagInTableBody(p, token);\n            }\n            break;\n        }\n        case $.BODY:\n        case $.CAPTION:\n        case $.COL:\n        case $.COLGROUP:\n        case $.HTML:\n        case $.TD:\n        case $.TH: {\n            // Ignore end tag\n            break;\n        }\n        default: {\n            endTagInTable(p, token);\n        }\n    }\n}\n// The \"in cell\" insertion mode\n//------------------------------------------------------------------\nfunction startTagInCell(p, token) {\n    const tn = token.tagID;\n    if (TABLE_VOID_ELEMENTS.has(tn)) {\n        if (p.openElements.hasInTableScope($.TD) || p.openElements.hasInTableScope($.TH)) {\n            p._closeTableCell();\n            startTagInRow(p, token);\n        }\n    }\n    else {\n        startTagInBody(p, token);\n    }\n}\nfunction endTagInCell(p, token) {\n    const tn = token.tagID;\n    switch (tn) {\n        case $.TD:\n        case $.TH: {\n            if (p.openElements.hasInTableScope(tn)) {\n                p.openElements.generateImpliedEndTags();\n                p.openElements.popUntilTagNamePopped(tn);\n                p.activeFormattingElements.clearToLastMarker();\n                p.insertionMode = InsertionMode.IN_ROW;\n            }\n            break;\n        }\n        case $.TABLE:\n        case $.TBODY:\n        case $.TFOOT:\n        case $.THEAD:\n        case $.TR: {\n            if (p.openElements.hasInTableScope(tn)) {\n                p._closeTableCell();\n                endTagInRow(p, token);\n            }\n            break;\n        }\n        case $.BODY:\n        case $.CAPTION:\n        case $.COL:\n        case $.COLGROUP:\n        case $.HTML: {\n            // Ignore token\n            break;\n        }\n        default: {\n            endTagInBody(p, token);\n        }\n    }\n}\n// The \"in select\" insertion mode\n//------------------------------------------------------------------\nfunction startTagInSelect(p, token) {\n    switch (token.tagID) {\n        case $.HTML: {\n            startTagInBody(p, token);\n            break;\n        }\n        case $.OPTION: {\n            if (p.openElements.currentTagId === $.OPTION) {\n                p.openElements.pop();\n            }\n            p._insertElement(token, NS.HTML);\n            break;\n        }\n        case $.OPTGROUP: {\n            if (p.openElements.currentTagId === $.OPTION) {\n                p.openElements.pop();\n            }\n            if (p.openElements.currentTagId === $.OPTGROUP) {\n                p.openElements.pop();\n            }\n            p._insertElement(token, NS.HTML);\n            break;\n        }\n        case $.HR: {\n            if (p.openElements.currentTagId === $.OPTION) {\n                p.openElements.pop();\n            }\n            if (p.openElements.currentTagId === $.OPTGROUP) {\n                p.openElements.pop();\n            }\n            p._appendElement(token, NS.HTML);\n            token.ackSelfClosing = true;\n            break;\n        }\n        case $.INPUT:\n        case $.KEYGEN:\n        case $.TEXTAREA:\n        case $.SELECT: {\n            if (p.openElements.hasInSelectScope($.SELECT)) {\n                p.openElements.popUntilTagNamePopped($.SELECT);\n                p._resetInsertionMode();\n                if (token.tagID !== $.SELECT) {\n                    p._processStartTag(token);\n                }\n            }\n            break;\n        }\n        case $.SCRIPT:\n        case $.TEMPLATE: {\n            startTagInHead(p, token);\n            break;\n        }\n        default:\n        // Do nothing\n    }\n}\nfunction endTagInSelect(p, token) {\n    switch (token.tagID) {\n        case $.OPTGROUP: {\n            if (p.openElements.stackTop > 0 &&\n                p.openElements.currentTagId === $.OPTION &&\n                p.openElements.tagIDs[p.openElements.stackTop - 1] === $.OPTGROUP) {\n                p.openElements.pop();\n            }\n            if (p.openElements.currentTagId === $.OPTGROUP) {\n                p.openElements.pop();\n            }\n            break;\n        }\n        case $.OPTION: {\n            if (p.openElements.currentTagId === $.OPTION) {\n                p.openElements.pop();\n            }\n            break;\n        }\n        case $.SELECT: {\n            if (p.openElements.hasInSelectScope($.SELECT)) {\n                p.openElements.popUntilTagNamePopped($.SELECT);\n                p._resetInsertionMode();\n            }\n            break;\n        }\n        case $.TEMPLATE: {\n            templateEndTagInHead(p, token);\n            break;\n        }\n        default:\n        // Do nothing\n    }\n}\n// The \"in select in table\" insertion mode\n//------------------------------------------------------------------\nfunction startTagInSelectInTable(p, token) {\n    const tn = token.tagID;\n    if (tn === $.CAPTION ||\n        tn === $.TABLE ||\n        tn === $.TBODY ||\n        tn === $.TFOOT ||\n        tn === $.THEAD ||\n        tn === $.TR ||\n        tn === $.TD ||\n        tn === $.TH) {\n        p.openElements.popUntilTagNamePopped($.SELECT);\n        p._resetInsertionMode();\n        p._processStartTag(token);\n    }\n    else {\n        startTagInSelect(p, token);\n    }\n}\nfunction endTagInSelectInTable(p, token) {\n    const tn = token.tagID;\n    if (tn === $.CAPTION ||\n        tn === $.TABLE ||\n        tn === $.TBODY ||\n        tn === $.TFOOT ||\n        tn === $.THEAD ||\n        tn === $.TR ||\n        tn === $.TD ||\n        tn === $.TH) {\n        if (p.openElements.hasInTableScope(tn)) {\n            p.openElements.popUntilTagNamePopped($.SELECT);\n            p._resetInsertionMode();\n            p.onEndTag(token);\n        }\n    }\n    else {\n        endTagInSelect(p, token);\n    }\n}\n// The \"in template\" insertion mode\n//------------------------------------------------------------------\nfunction startTagInTemplate(p, token) {\n    switch (token.tagID) {\n        // First, handle tags that can start without a mode change\n        case $.BASE:\n        case $.BASEFONT:\n        case $.BGSOUND:\n        case $.LINK:\n        case $.META:\n        case $.NOFRAMES:\n        case $.SCRIPT:\n        case $.STYLE:\n        case $.TEMPLATE:\n        case $.TITLE: {\n            startTagInHead(p, token);\n            break;\n        }\n        // Re-process the token in the appropriate mode\n        case $.CAPTION:\n        case $.COLGROUP:\n        case $.TBODY:\n        case $.TFOOT:\n        case $.THEAD: {\n            p.tmplInsertionModeStack[0] = InsertionMode.IN_TABLE;\n            p.insertionMode = InsertionMode.IN_TABLE;\n            startTagInTable(p, token);\n            break;\n        }\n        case $.COL: {\n            p.tmplInsertionModeStack[0] = InsertionMode.IN_COLUMN_GROUP;\n            p.insertionMode = InsertionMode.IN_COLUMN_GROUP;\n            startTagInColumnGroup(p, token);\n            break;\n        }\n        case $.TR: {\n            p.tmplInsertionModeStack[0] = InsertionMode.IN_TABLE_BODY;\n            p.insertionMode = InsertionMode.IN_TABLE_BODY;\n            startTagInTableBody(p, token);\n            break;\n        }\n        case $.TD:\n        case $.TH: {\n            p.tmplInsertionModeStack[0] = InsertionMode.IN_ROW;\n            p.insertionMode = InsertionMode.IN_ROW;\n            startTagInRow(p, token);\n            break;\n        }\n        default: {\n            p.tmplInsertionModeStack[0] = InsertionMode.IN_BODY;\n            p.insertionMode = InsertionMode.IN_BODY;\n            startTagInBody(p, token);\n        }\n    }\n}\nfunction endTagInTemplate(p, token) {\n    if (token.tagID === $.TEMPLATE) {\n        templateEndTagInHead(p, token);\n    }\n}\nfunction eofInTemplate(p, token) {\n    if (p.openElements.tmplCount > 0) {\n        p.openElements.popUntilTagNamePopped($.TEMPLATE);\n        p.activeFormattingElements.clearToLastMarker();\n        p.tmplInsertionModeStack.shift();\n        p._resetInsertionMode();\n        p.onEof(token);\n    }\n    else {\n        stopParsing(p, token);\n    }\n}\n// The \"after body\" insertion mode\n//------------------------------------------------------------------\nfunction startTagAfterBody(p, token) {\n    if (token.tagID === $.HTML) {\n        startTagInBody(p, token);\n    }\n    else {\n        tokenAfterBody(p, token);\n    }\n}\nfunction endTagAfterBody(p, token) {\n    var _a;\n    if (token.tagID === $.HTML) {\n        if (!p.fragmentContext) {\n            p.insertionMode = InsertionMode.AFTER_AFTER_BODY;\n        }\n        //NOTE: <html> is never popped from the stack, so we need to updated\n        //the end location explicitly.\n        if (p.options.sourceCodeLocationInfo && p.openElements.tagIDs[0] === $.HTML) {\n            p._setEndLocation(p.openElements.items[0], token);\n            // Update the body element, if it doesn't have an end tag\n            const bodyElement = p.openElements.items[1];\n            if (bodyElement && !((_a = p.treeAdapter.getNodeSourceCodeLocation(bodyElement)) === null || _a === void 0 ? void 0 : _a.endTag)) {\n                p._setEndLocation(bodyElement, token);\n            }\n        }\n    }\n    else {\n        tokenAfterBody(p, token);\n    }\n}\nfunction tokenAfterBody(p, token) {\n    p.insertionMode = InsertionMode.IN_BODY;\n    modeInBody(p, token);\n}\n// The \"in frameset\" insertion mode\n//------------------------------------------------------------------\nfunction startTagInFrameset(p, token) {\n    switch (token.tagID) {\n        case $.HTML: {\n            startTagInBody(p, token);\n            break;\n        }\n        case $.FRAMESET: {\n            p._insertElement(token, NS.HTML);\n            break;\n        }\n        case $.FRAME: {\n            p._appendElement(token, NS.HTML);\n            token.ackSelfClosing = true;\n            break;\n        }\n        case $.NOFRAMES: {\n            startTagInHead(p, token);\n            break;\n        }\n        default:\n        // Do nothing\n    }\n}\nfunction endTagInFrameset(p, token) {\n    if (token.tagID === $.FRAMESET && !p.openElements.isRootHtmlElementCurrent()) {\n        p.openElements.pop();\n        if (!p.fragmentContext && p.openElements.currentTagId !== $.FRAMESET) {\n            p.insertionMode = InsertionMode.AFTER_FRAMESET;\n        }\n    }\n}\n// The \"after frameset\" insertion mode\n//------------------------------------------------------------------\nfunction startTagAfterFrameset(p, token) {\n    switch (token.tagID) {\n        case $.HTML: {\n            startTagInBody(p, token);\n            break;\n        }\n        case $.NOFRAMES: {\n            startTagInHead(p, token);\n            break;\n        }\n        default:\n        // Do nothing\n    }\n}\nfunction endTagAfterFrameset(p, token) {\n    if (token.tagID === $.HTML) {\n        p.insertionMode = InsertionMode.AFTER_AFTER_FRAMESET;\n    }\n}\n// The \"after after body\" insertion mode\n//------------------------------------------------------------------\nfunction startTagAfterAfterBody(p, token) {\n    if (token.tagID === $.HTML) {\n        startTagInBody(p, token);\n    }\n    else {\n        tokenAfterAfterBody(p, token);\n    }\n}\nfunction tokenAfterAfterBody(p, token) {\n    p.insertionMode = InsertionMode.IN_BODY;\n    modeInBody(p, token);\n}\n// The \"after after frameset\" insertion mode\n//------------------------------------------------------------------\nfunction startTagAfterAfterFrameset(p, token) {\n    switch (token.tagID) {\n        case $.HTML: {\n            startTagInBody(p, token);\n            break;\n        }\n        case $.NOFRAMES: {\n            startTagInHead(p, token);\n            break;\n        }\n        default:\n        // Do nothing\n    }\n}\n// The rules for parsing tokens in foreign content\n//------------------------------------------------------------------\nfunction nullCharacterInForeignContent(p, token) {\n    token.chars = unicode.REPLACEMENT_CHARACTER;\n    p._insertCharacters(token);\n}\nfunction characterInForeignContent(p, token) {\n    p._insertCharacters(token);\n    p.framesetOk = false;\n}\nfunction popUntilHtmlOrIntegrationPoint(p) {\n    while (p.treeAdapter.getNamespaceURI(p.openElements.current) !== NS.HTML &&\n        !p._isIntegrationPoint(p.openElements.currentTagId, p.openElements.current)) {\n        p.openElements.pop();\n    }\n}\nfunction startTagInForeignContent(p, token) {\n    if (foreignContent.causesExit(token)) {\n        popUntilHtmlOrIntegrationPoint(p);\n        p._startTagOutsideForeignContent(token);\n    }\n    else {\n        const current = p._getAdjustedCurrentElement();\n        const currentNs = p.treeAdapter.getNamespaceURI(current);\n        if (currentNs === NS.MATHML) {\n            foreignContent.adjustTokenMathMLAttrs(token);\n        }\n        else if (currentNs === NS.SVG) {\n            foreignContent.adjustTokenSVGTagName(token);\n            foreignContent.adjustTokenSVGAttrs(token);\n        }\n        foreignContent.adjustTokenXMLAttrs(token);\n        if (token.selfClosing) {\n            p._appendElement(token, currentNs);\n        }\n        else {\n            p._insertElement(token, currentNs);\n        }\n        token.ackSelfClosing = true;\n    }\n}\nfunction endTagInForeignContent(p, token) {\n    if (token.tagID === $.P || token.tagID === $.BR) {\n        popUntilHtmlOrIntegrationPoint(p);\n        p._endTagOutsideForeignContent(token);\n        return;\n    }\n    for (let i = p.openElements.stackTop; i > 0; i--) {\n        const element = p.openElements.items[i];\n        if (p.treeAdapter.getNamespaceURI(element) === NS.HTML) {\n            p._endTagOutsideForeignContent(token);\n            break;\n        }\n        const tagName = p.treeAdapter.getTagName(element);\n        if (tagName.toLowerCase() === token.tagName) {\n            //NOTE: update the token tag name for `_setEndLocation`.\n            token.tagName = tagName;\n            p.openElements.shortenToLength(i);\n            break;\n        }\n    }\n}\n","import { Parser } from './parser/index.js';\nexport { defaultTreeAdapter } from './tree-adapters/default.js';\nexport { /** @internal */ Parser } from './parser/index.js';\nexport { serialize, serializeOuter } from './serializer/index.js';\nexport { ERR as ErrorCodes } from './common/error-codes.js';\n/** @internal */\nexport * as foreignContent from './common/foreign-content.js';\nexport * as html from './common/html.js';\nexport * as Token from './common/token.js';\n/** @internal */\nexport { Tokenizer, TokenizerMode } from './tokenizer/index.js';\n// Shorthands\n/**\n * Parses an HTML string.\n *\n * @param html Input HTML string.\n * @param options Parsing options.\n * @returns Document\n *\n * @example\n *\n * ```js\n * const parse5 = require('parse5');\n *\n * const document = parse5.parse('<!DOCTYPE html><html><head></head><body>Hi there!</body></html>');\n *\n * console.log(document.childNodes[1].tagName); //> 'html'\n *```\n */\nexport function parse(html, options) {\n    return Parser.parse(html, options);\n}\nexport function parseFragment(fragmentContext, html, options) {\n    if (typeof fragmentContext === 'string') {\n        options = html;\n        html = fragmentContext;\n        fragmentContext = null;\n    }\n    const parser = Parser.getFragmentParser(fragmentContext, options);\n    parser.tokenizer.write(html, true);\n    return parser.getFragment();\n}\n","/**\n * @typedef {import('unist').Node} Node\n * @typedef {import('unist').Point} Point\n * @typedef {import('unist').Position} Position\n */\n\n/**\n * @typedef NodeLike\n * @property {string} type\n * @property {PositionLike | null | undefined} [position]\n *\n * @typedef PointLike\n * @property {number | null | undefined} [line]\n * @property {number | null | undefined} [column]\n * @property {number | null | undefined} [offset]\n *\n * @typedef PositionLike\n * @property {PointLike | null | undefined} [start]\n * @property {PointLike | null | undefined} [end]\n */\n\n/**\n * Serialize the positional info of a point, position (start and end points),\n * or node.\n *\n * @param {Node | NodeLike | Point | PointLike | Position | PositionLike | null | undefined} [value]\n *   Node, position, or point.\n * @returns {string}\n *   Pretty printed positional info of a node (`string`).\n *\n *   In the format of a range `ls:cs-le:ce` (when given `node` or `position`)\n *   or a point `l:c` (when given `point`), where `l` stands for line, `c` for\n *   column, `s` for `start`, and `e` for end.\n *   An empty string (`''`) is returned if the given value is neither `node`,\n *   `position`, nor `point`.\n */\nexport function stringifyPosition(value) {\n  // Nothing.\n  if (!value || typeof value !== 'object') {\n    return ''\n  }\n\n  // Node.\n  if ('position' in value || 'type' in value) {\n    return position(value.position)\n  }\n\n  // Position.\n  if ('start' in value || 'end' in value) {\n    return position(value)\n  }\n\n  // Point.\n  if ('line' in value || 'column' in value) {\n    return point(value)\n  }\n\n  // ?\n  return ''\n}\n\n/**\n * @param {Point | PointLike | null | undefined} point\n * @returns {string}\n */\nfunction point(point) {\n  return index(point && point.line) + ':' + index(point && point.column)\n}\n\n/**\n * @param {Position | PositionLike | null | undefined} pos\n * @returns {string}\n */\nfunction position(pos) {\n  return point(pos && pos.start) + '-' + point(pos && pos.end)\n}\n\n/**\n * @param {number | null | undefined} value\n * @returns {number}\n */\nfunction index(value) {\n  return value && typeof value === 'number' ? value : 1\n}\n","/**\n * @typedef {import('unist').Node} Node\n * @typedef {import('unist').Point} Point\n * @typedef {import('unist').Position} Position\n */\n\n/**\n * @typedef {object & {type: string, position?: Position | undefined}} NodeLike\n *\n * @typedef Options\n *   Configuration.\n * @property {Array<Node> | null | undefined} [ancestors]\n *   Stack of (inclusive) ancestor nodes surrounding the message (optional).\n * @property {Error | null | undefined} [cause]\n *   Original error cause of the message (optional).\n * @property {Point | Position | null | undefined} [place]\n *   Place of message (optional).\n * @property {string | null | undefined} [ruleId]\n *   Category of message (optional, example: `'my-rule'`).\n * @property {string | null | undefined} [source]\n *   Namespace of who sent the message (optional, example: `'my-package'`).\n */\n\nimport {stringifyPosition} from 'unist-util-stringify-position'\n\n/**\n * Message.\n */\nexport class VFileMessage extends Error {\n  /**\n   * Create a message for `reason`.\n   *\n   * >  **Note**: also has obsolete signatures.\n   *\n   * @overload\n   * @param {string} reason\n   * @param {Options | null | undefined} [options]\n   * @returns\n   *\n   * @overload\n   * @param {string} reason\n   * @param {Node | NodeLike | null | undefined} parent\n   * @param {string | null | undefined} [origin]\n   * @returns\n   *\n   * @overload\n   * @param {string} reason\n   * @param {Point | Position | null | undefined} place\n   * @param {string | null | undefined} [origin]\n   * @returns\n   *\n   * @overload\n   * @param {string} reason\n   * @param {string | null | undefined} [origin]\n   * @returns\n   *\n   * @overload\n   * @param {Error | VFileMessage} cause\n   * @param {Node | NodeLike | null | undefined} parent\n   * @param {string | null | undefined} [origin]\n   * @returns\n   *\n   * @overload\n   * @param {Error | VFileMessage} cause\n   * @param {Point | Position | null | undefined} place\n   * @param {string | null | undefined} [origin]\n   * @returns\n   *\n   * @overload\n   * @param {Error | VFileMessage} cause\n   * @param {string | null | undefined} [origin]\n   * @returns\n   *\n   * @param {Error | VFileMessage | string} causeOrReason\n   *   Reason for message, should use markdown.\n   * @param {Node | NodeLike | Options | Point | Position | string | null | undefined} [optionsOrParentOrPlace]\n   *   Configuration (optional).\n   * @param {string | null | undefined} [origin]\n   *   Place in code where the message originates (example:\n   *   `'my-package:my-rule'` or `'my-rule'`).\n   * @returns\n   *   Instance of `VFileMessage`.\n   */\n  // eslint-disable-next-line complexity\n  constructor(causeOrReason, optionsOrParentOrPlace, origin) {\n    super()\n\n    if (typeof optionsOrParentOrPlace === 'string') {\n      origin = optionsOrParentOrPlace\n      optionsOrParentOrPlace = undefined\n    }\n\n    /** @type {string} */\n    let reason = ''\n    /** @type {Options} */\n    let options = {}\n    let legacyCause = false\n\n    if (optionsOrParentOrPlace) {\n      // Point.\n      if (\n        'line' in optionsOrParentOrPlace &&\n        'column' in optionsOrParentOrPlace\n      ) {\n        options = {place: optionsOrParentOrPlace}\n      }\n      // Position.\n      else if (\n        'start' in optionsOrParentOrPlace &&\n        'end' in optionsOrParentOrPlace\n      ) {\n        options = {place: optionsOrParentOrPlace}\n      }\n      // Node.\n      else if ('type' in optionsOrParentOrPlace) {\n        options = {\n          ancestors: [optionsOrParentOrPlace],\n          place: optionsOrParentOrPlace.position\n        }\n      }\n      // Options.\n      else {\n        options = {...optionsOrParentOrPlace}\n      }\n    }\n\n    if (typeof causeOrReason === 'string') {\n      reason = causeOrReason\n    }\n    // Error.\n    else if (!options.cause && causeOrReason) {\n      legacyCause = true\n      reason = causeOrReason.message\n      options.cause = causeOrReason\n    }\n\n    if (!options.ruleId && !options.source && typeof origin === 'string') {\n      const index = origin.indexOf(':')\n\n      if (index === -1) {\n        options.ruleId = origin\n      } else {\n        options.source = origin.slice(0, index)\n        options.ruleId = origin.slice(index + 1)\n      }\n    }\n\n    if (!options.place && options.ancestors && options.ancestors) {\n      const parent = options.ancestors[options.ancestors.length - 1]\n\n      if (parent) {\n        options.place = parent.position\n      }\n    }\n\n    const start =\n      options.place && 'start' in options.place\n        ? options.place.start\n        : options.place\n\n    /* eslint-disable no-unused-expressions */\n    /**\n     * Stack of ancestor nodes surrounding the message.\n     *\n     * @type {Array<Node> | undefined}\n     */\n    this.ancestors = options.ancestors || undefined\n\n    /**\n     * Original error cause of the message.\n     *\n     * @type {Error | undefined}\n     */\n    this.cause = options.cause || undefined\n\n    /**\n     * Starting column of message.\n     *\n     * @type {number | undefined}\n     */\n    this.column = start ? start.column : undefined\n\n    /**\n     * State of problem.\n     *\n     * * `true`  error, file not usable\n     * * `false`  warning, change may be needed\n     * * `undefined`  change likely not needed\n     *\n     * @type {boolean | null | undefined}\n     */\n    this.fatal = undefined\n\n    /**\n     * Path of a file (used throughout the `VFile` ecosystem).\n     *\n     * @type {string | undefined}\n     */\n    this.file\n\n    // Field from `Error`.\n    /**\n     * Reason for message.\n     *\n     * @type {string}\n     */\n    this.message = reason\n\n    /**\n     * Starting line of error.\n     *\n     * @type {number | undefined}\n     */\n    this.line = start ? start.line : undefined\n\n    // Field from `Error`.\n    /**\n     * Serialized positional info of message.\n     *\n     * On normal errors, this would be something like `ParseError`, buit in\n     * `VFile` messages we use this space to show where an error happened.\n     */\n    this.name = stringifyPosition(options.place) || '1:1'\n\n    /**\n     * Place of message.\n     *\n     * @type {Point | Position | undefined}\n     */\n    this.place = options.place || undefined\n\n    /**\n     * Reason for message, should use markdown.\n     *\n     * @type {string}\n     */\n    this.reason = this.message\n\n    /**\n     * Category of message (example: `'my-rule'`).\n     *\n     * @type {string | undefined}\n     */\n    this.ruleId = options.ruleId || undefined\n\n    /**\n     * Namespace of message (example: `'my-package'`).\n     *\n     * @type {string | undefined}\n     */\n    this.source = options.source || undefined\n\n    // Field from `Error`.\n    /**\n     * Stack of message.\n     *\n     * This is used by normal errors to show where something happened in\n     * programming code, irrelevant for `VFile` messages,\n     *\n     * @type {string}\n     */\n    this.stack =\n      legacyCause && options.cause && typeof options.cause.stack === 'string'\n        ? options.cause.stack\n        : ''\n\n    // The following fields are well known.\n    // Not standard.\n    // Feel free to add other non-standard fields to your messages.\n\n    /**\n     * Specify the source value thats being reported, which is deemed\n     * incorrect.\n     *\n     * @type {string | undefined}\n     */\n    this.actual\n\n    /**\n     * Suggest acceptable values that can be used instead of `actual`.\n     *\n     * @type {Array<string> | undefined}\n     */\n    this.expected\n\n    /**\n     * Long form description of the message (you should use markdown).\n     *\n     * @type {string | undefined}\n     */\n    this.note\n\n    /**\n     * Link to docs for the message.\n     *\n     * >  **Note**: this must be an absolute URL that can be passed as `x`\n     * > to `new URL(x)`.\n     *\n     * @type {string | undefined}\n     */\n    this.url\n    /* eslint-enable no-unused-expressions */\n  }\n}\n\nVFileMessage.prototype.file = ''\nVFileMessage.prototype.name = ''\nVFileMessage.prototype.reason = ''\nVFileMessage.prototype.message = ''\nVFileMessage.prototype.stack = ''\nVFileMessage.prototype.column = undefined\nVFileMessage.prototype.line = undefined\nVFileMessage.prototype.ancestors = undefined\nVFileMessage.prototype.cause = undefined\nVFileMessage.prototype.fatal = undefined\nVFileMessage.prototype.place = undefined\nVFileMessage.prototype.ruleId = undefined\nVFileMessage.prototype.source = undefined\n","// A derivative work based on:\n// <https://github.com/browserify/path-browserify>.\n// Which is licensed:\n//\n// MIT License\n//\n// Copyright (c) 2013 James Halliday\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy of\n// this software and associated documentation files (the \"Software\"), to deal in\n// the Software without restriction, including without limitation the rights to\n// use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of\n// the Software, and to permit persons to whom the Software is furnished to do so,\n// subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in all\n// copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS\n// FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR\n// COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER\n// IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN\n// CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n// A derivative work based on:\n//\n// Parts of that are extracted from Nodes internal `path` module:\n// <https://github.com/nodejs/node/blob/master/lib/path.js>.\n// Which is licensed:\n//\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nexport const minpath = {basename, dirname, extname, join, sep: '/'}\n\n/* eslint-disable max-depth, complexity */\n\n/**\n * Get the basename from a path.\n *\n * @param {string} path\n *   File path.\n * @param {string | null | undefined} [extname]\n *   Extension to strip.\n * @returns {string}\n *   Stem or basename.\n */\nfunction basename(path, extname) {\n  if (extname !== undefined && typeof extname !== 'string') {\n    throw new TypeError('\"ext\" argument must be a string')\n  }\n\n  assertPath(path)\n  let start = 0\n  let end = -1\n  let index = path.length\n  /** @type {boolean | undefined} */\n  let seenNonSlash\n\n  if (\n    extname === undefined ||\n    extname.length === 0 ||\n    extname.length > path.length\n  ) {\n    while (index--) {\n      if (path.codePointAt(index) === 47 /* `/` */) {\n        // If we reached a path separator that was not part of a set of path\n        // separators at the end of the string, stop now.\n        if (seenNonSlash) {\n          start = index + 1\n          break\n        }\n      } else if (end < 0) {\n        // We saw the first non-path separator, mark this as the end of our\n        // path component.\n        seenNonSlash = true\n        end = index + 1\n      }\n    }\n\n    return end < 0 ? '' : path.slice(start, end)\n  }\n\n  if (extname === path) {\n    return ''\n  }\n\n  let firstNonSlashEnd = -1\n  let extnameIndex = extname.length - 1\n\n  while (index--) {\n    if (path.codePointAt(index) === 47 /* `/` */) {\n      // If we reached a path separator that was not part of a set of path\n      // separators at the end of the string, stop now.\n      if (seenNonSlash) {\n        start = index + 1\n        break\n      }\n    } else {\n      if (firstNonSlashEnd < 0) {\n        // We saw the first non-path separator, remember this index in case\n        // we need it if the extension ends up not matching.\n        seenNonSlash = true\n        firstNonSlashEnd = index + 1\n      }\n\n      if (extnameIndex > -1) {\n        // Try to match the explicit extension.\n        if (path.codePointAt(index) === extname.codePointAt(extnameIndex--)) {\n          if (extnameIndex < 0) {\n            // We matched the extension, so mark this as the end of our path\n            // component\n            end = index\n          }\n        } else {\n          // Extension does not match, so our result is the entire path\n          // component\n          extnameIndex = -1\n          end = firstNonSlashEnd\n        }\n      }\n    }\n  }\n\n  if (start === end) {\n    end = firstNonSlashEnd\n  } else if (end < 0) {\n    end = path.length\n  }\n\n  return path.slice(start, end)\n}\n\n/**\n * Get the dirname from a path.\n *\n * @param {string} path\n *   File path.\n * @returns {string}\n *   File path.\n */\nfunction dirname(path) {\n  assertPath(path)\n\n  if (path.length === 0) {\n    return '.'\n  }\n\n  let end = -1\n  let index = path.length\n  /** @type {boolean | undefined} */\n  let unmatchedSlash\n\n  // Prefix `--` is important to not run on `0`.\n  while (--index) {\n    if (path.codePointAt(index) === 47 /* `/` */) {\n      if (unmatchedSlash) {\n        end = index\n        break\n      }\n    } else if (!unmatchedSlash) {\n      // We saw the first non-path separator\n      unmatchedSlash = true\n    }\n  }\n\n  return end < 0\n    ? path.codePointAt(0) === 47 /* `/` */\n      ? '/'\n      : '.'\n    : end === 1 && path.codePointAt(0) === 47 /* `/` */\n      ? '//'\n      : path.slice(0, end)\n}\n\n/**\n * Get an extname from a path.\n *\n * @param {string} path\n *   File path.\n * @returns {string}\n *   Extname.\n */\nfunction extname(path) {\n  assertPath(path)\n\n  let index = path.length\n\n  let end = -1\n  let startPart = 0\n  let startDot = -1\n  // Track the state of characters (if any) we see before our first dot and\n  // after any path separator we find.\n  let preDotState = 0\n  /** @type {boolean | undefined} */\n  let unmatchedSlash\n\n  while (index--) {\n    const code = path.codePointAt(index)\n\n    if (code === 47 /* `/` */) {\n      // If we reached a path separator that was not part of a set of path\n      // separators at the end of the string, stop now.\n      if (unmatchedSlash) {\n        startPart = index + 1\n        break\n      }\n\n      continue\n    }\n\n    if (end < 0) {\n      // We saw the first non-path separator, mark this as the end of our\n      // extension.\n      unmatchedSlash = true\n      end = index + 1\n    }\n\n    if (code === 46 /* `.` */) {\n      // If this is our first dot, mark it as the start of our extension.\n      if (startDot < 0) {\n        startDot = index\n      } else if (preDotState !== 1) {\n        preDotState = 1\n      }\n    } else if (startDot > -1) {\n      // We saw a non-dot and non-path separator before our dot, so we should\n      // have a good chance at having a non-empty extension.\n      preDotState = -1\n    }\n  }\n\n  if (\n    startDot < 0 ||\n    end < 0 ||\n    // We saw a non-dot character immediately before the dot.\n    preDotState === 0 ||\n    // The (right-most) trimmed path component is exactly `..`.\n    (preDotState === 1 && startDot === end - 1 && startDot === startPart + 1)\n  ) {\n    return ''\n  }\n\n  return path.slice(startDot, end)\n}\n\n/**\n * Join segments from a path.\n *\n * @param {Array<string>} segments\n *   Path segments.\n * @returns {string}\n *   File path.\n */\nfunction join(...segments) {\n  let index = -1\n  /** @type {string | undefined} */\n  let joined\n\n  while (++index < segments.length) {\n    assertPath(segments[index])\n\n    if (segments[index]) {\n      joined =\n        joined === undefined ? segments[index] : joined + '/' + segments[index]\n    }\n  }\n\n  return joined === undefined ? '.' : normalize(joined)\n}\n\n/**\n * Normalize a basic file path.\n *\n * @param {string} path\n *   File path.\n * @returns {string}\n *   File path.\n */\n// Note: `normalize` is not exposed as `path.normalize`, so some code is\n// manually removed from it.\nfunction normalize(path) {\n  assertPath(path)\n\n  const absolute = path.codePointAt(0) === 47 /* `/` */\n\n  // Normalize the path according to POSIX rules.\n  let value = normalizeString(path, !absolute)\n\n  if (value.length === 0 && !absolute) {\n    value = '.'\n  }\n\n  if (value.length > 0 && path.codePointAt(path.length - 1) === 47 /* / */) {\n    value += '/'\n  }\n\n  return absolute ? '/' + value : value\n}\n\n/**\n * Resolve `.` and `..` elements in a path with directory names.\n *\n * @param {string} path\n *   File path.\n * @param {boolean} allowAboveRoot\n *   Whether `..` can move above root.\n * @returns {string}\n *   File path.\n */\nfunction normalizeString(path, allowAboveRoot) {\n  let result = ''\n  let lastSegmentLength = 0\n  let lastSlash = -1\n  let dots = 0\n  let index = -1\n  /** @type {number | undefined} */\n  let code\n  /** @type {number} */\n  let lastSlashIndex\n\n  while (++index <= path.length) {\n    if (index < path.length) {\n      code = path.codePointAt(index)\n    } else if (code === 47 /* `/` */) {\n      break\n    } else {\n      code = 47 /* `/` */\n    }\n\n    if (code === 47 /* `/` */) {\n      if (lastSlash === index - 1 || dots === 1) {\n        // Empty.\n      } else if (lastSlash !== index - 1 && dots === 2) {\n        if (\n          result.length < 2 ||\n          lastSegmentLength !== 2 ||\n          result.codePointAt(result.length - 1) !== 46 /* `.` */ ||\n          result.codePointAt(result.length - 2) !== 46 /* `.` */\n        ) {\n          if (result.length > 2) {\n            lastSlashIndex = result.lastIndexOf('/')\n\n            if (lastSlashIndex !== result.length - 1) {\n              if (lastSlashIndex < 0) {\n                result = ''\n                lastSegmentLength = 0\n              } else {\n                result = result.slice(0, lastSlashIndex)\n                lastSegmentLength = result.length - 1 - result.lastIndexOf('/')\n              }\n\n              lastSlash = index\n              dots = 0\n              continue\n            }\n          } else if (result.length > 0) {\n            result = ''\n            lastSegmentLength = 0\n            lastSlash = index\n            dots = 0\n            continue\n          }\n        }\n\n        if (allowAboveRoot) {\n          result = result.length > 0 ? result + '/..' : '..'\n          lastSegmentLength = 2\n        }\n      } else {\n        if (result.length > 0) {\n          result += '/' + path.slice(lastSlash + 1, index)\n        } else {\n          result = path.slice(lastSlash + 1, index)\n        }\n\n        lastSegmentLength = index - lastSlash - 1\n      }\n\n      lastSlash = index\n      dots = 0\n    } else if (code === 46 /* `.` */ && dots > -1) {\n      dots++\n    } else {\n      dots = -1\n    }\n  }\n\n  return result\n}\n\n/**\n * Make sure `path` is a string.\n *\n * @param {string} path\n *   File path.\n * @returns {asserts path is string}\n *   Nothing.\n */\nfunction assertPath(path) {\n  if (typeof path !== 'string') {\n    throw new TypeError(\n      'Path must be a string. Received ' + JSON.stringify(path)\n    )\n  }\n}\n\n/* eslint-enable max-depth, complexity */\n","// Somewhat based on:\n// <https://github.com/defunctzombie/node-process/blob/master/browser.js>.\n// But I dont think one tiny line of code can be copyrighted. \nexport const minproc = {cwd}\n\nfunction cwd() {\n  return '/'\n}\n","/**\n * Checks if a value has the shape of a WHATWG URL object.\n *\n * Using a symbol or instanceof would not be able to recognize URL objects\n * coming from other implementations (e.g. in Electron), so instead we are\n * checking some well known properties for a lack of a better test.\n *\n * We use `href` and `protocol` as they are the only properties that are\n * easy to retrieve and calculate due to the lazy nature of the getters.\n *\n * We check for auth attribute to distinguish legacy url instance with\n * WHATWG URL instance.\n *\n * @param {unknown} fileUrlOrPath\n *   File path or URL.\n * @returns {fileUrlOrPath is URL}\n *   Whether its a URL.\n */\n// From: <https://github.com/nodejs/node/blob/6a3403c/lib/internal/url.js#L720>\nexport function isUrl(fileUrlOrPath) {\n  return Boolean(\n    fileUrlOrPath !== null &&\n      typeof fileUrlOrPath === 'object' &&\n      'href' in fileUrlOrPath &&\n      fileUrlOrPath.href &&\n      'protocol' in fileUrlOrPath &&\n      fileUrlOrPath.protocol &&\n      // @ts-expect-error: indexing is fine.\n      fileUrlOrPath.auth === undefined\n  )\n}\n","import {isUrl} from './minurl.shared.js'\n\nexport {isUrl} from './minurl.shared.js'\n\n// See: <https://github.com/nodejs/node/blob/6a3403c/lib/internal/url.js>\n\n/**\n * @param {URL | string} path\n *   File URL.\n * @returns {string}\n *   File URL.\n */\nexport function urlToPath(path) {\n  if (typeof path === 'string') {\n    path = new URL(path)\n  } else if (!isUrl(path)) {\n    /** @type {NodeJS.ErrnoException} */\n    const error = new TypeError(\n      'The \"path\" argument must be of type string or an instance of URL. Received `' +\n        path +\n        '`'\n    )\n    error.code = 'ERR_INVALID_ARG_TYPE'\n    throw error\n  }\n\n  if (path.protocol !== 'file:') {\n    /** @type {NodeJS.ErrnoException} */\n    const error = new TypeError('The URL must be of scheme file')\n    error.code = 'ERR_INVALID_URL_SCHEME'\n    throw error\n  }\n\n  return getPathFromURLPosix(path)\n}\n\n/**\n * Get a path from a POSIX URL.\n *\n * @param {URL} url\n *   URL.\n * @returns {string}\n *   File path.\n */\nfunction getPathFromURLPosix(url) {\n  if (url.hostname !== '') {\n    /** @type {NodeJS.ErrnoException} */\n    const error = new TypeError(\n      'File URL host must be \"localhost\" or empty on darwin'\n    )\n    error.code = 'ERR_INVALID_FILE_URL_HOST'\n    throw error\n  }\n\n  const pathname = url.pathname\n  let index = -1\n\n  while (++index < pathname.length) {\n    if (\n      pathname.codePointAt(index) === 37 /* `%` */ &&\n      pathname.codePointAt(index + 1) === 50 /* `2` */\n    ) {\n      const third = pathname.codePointAt(index + 2)\n      if (third === 70 /* `F` */ || third === 102 /* `f` */) {\n        /** @type {NodeJS.ErrnoException} */\n        const error = new TypeError(\n          'File URL path must not include encoded / characters'\n        )\n        error.code = 'ERR_INVALID_FILE_URL_PATH'\n        throw error\n      }\n    }\n  }\n\n  return decodeURIComponent(pathname)\n}\n","/**\n * @import {Node, Point, Position} from 'unist'\n * @import {Options as MessageOptions} from 'vfile-message'\n * @import {Compatible, Data, Map, Options, Value} from 'vfile'\n */\n\n/**\n * @typedef {object & {type: string, position?: Position | undefined}} NodeLike\n */\n\nimport {VFileMessage} from 'vfile-message'\nimport {minpath} from '#minpath'\nimport {minproc} from '#minproc'\nimport {urlToPath, isUrl} from '#minurl'\n\n/**\n * Order of setting (least specific to most), we need this because otherwise\n * `{stem: 'a', path: '~/b.js'}` would throw, as a path is needed before a\n * stem can be set.\n */\nconst order = /** @type {const} */ ([\n  'history',\n  'path',\n  'basename',\n  'stem',\n  'extname',\n  'dirname'\n])\n\nexport class VFile {\n  /**\n   * Create a new virtual file.\n   *\n   * `options` is treated as:\n   *\n   * *   `string` or `Uint8Array`  `{value: options}`\n   * *   `URL`  `{path: options}`\n   * *   `VFile`  shallow copies its data over to the new file\n   * *   `object`  all fields are shallow copied over to the new file\n   *\n   * Path related fields are set in the following order (least specific to\n   * most specific): `history`, `path`, `basename`, `stem`, `extname`,\n   * `dirname`.\n   *\n   * You cannot set `dirname` or `extname` without setting either `history`,\n   * `path`, `basename`, or `stem` too.\n   *\n   * @param {Compatible | null | undefined} [value]\n   *   File value.\n   * @returns\n   *   New instance.\n   */\n  constructor(value) {\n    /** @type {Options | VFile} */\n    let options\n\n    if (!value) {\n      options = {}\n    } else if (isUrl(value)) {\n      options = {path: value}\n    } else if (typeof value === 'string' || isUint8Array(value)) {\n      options = {value}\n    } else {\n      options = value\n    }\n\n    /* eslint-disable no-unused-expressions */\n\n    /**\n     * Base of `path` (default: `process.cwd()` or `'/'` in browsers).\n     *\n     * @type {string}\n     */\n    // Prevent calling `cwd` (which could be expensive) if its not needed;\n    // the empty string will be overridden in the next block.\n    this.cwd = 'cwd' in options ? '' : minproc.cwd()\n\n    /**\n     * Place to store custom info (default: `{}`).\n     *\n     * Its OK to store custom data directly on the file but moving it to\n     * `data` is recommended.\n     *\n     * @type {Data}\n     */\n    this.data = {}\n\n    /**\n     * List of file paths the file moved between.\n     *\n     * The first is the original path and the last is the current path.\n     *\n     * @type {Array<string>}\n     */\n    this.history = []\n\n    /**\n     * List of messages associated with the file.\n     *\n     * @type {Array<VFileMessage>}\n     */\n    this.messages = []\n\n    /**\n     * Raw value.\n     *\n     * @type {Value}\n     */\n    this.value\n\n    // The below are non-standard, they are well-known.\n    // As in, used in several tools.\n    /**\n     * Source map.\n     *\n     * This type is equivalent to the `RawSourceMap` type from the `source-map`\n     * module.\n     *\n     * @type {Map | null | undefined}\n     */\n    this.map\n\n    /**\n     * Custom, non-string, compiled, representation.\n     *\n     * This is used by unified to store non-string results.\n     * One example is when turning markdown into React nodes.\n     *\n     * @type {unknown}\n     */\n    this.result\n\n    /**\n     * Whether a file was saved to disk.\n     *\n     * This is used by vfile reporters.\n     *\n     * @type {boolean}\n     */\n    this.stored\n    /* eslint-enable no-unused-expressions */\n\n    // Set path related properties in the correct order.\n    let index = -1\n\n    while (++index < order.length) {\n      const field = order[index]\n\n      // Note: we specifically use `in` instead of `hasOwnProperty` to accept\n      // `vfile`s too.\n      if (\n        field in options &&\n        options[field] !== undefined &&\n        options[field] !== null\n      ) {\n        // @ts-expect-error: TS doesnt understand basic reality.\n        this[field] = field === 'history' ? [...options[field]] : options[field]\n      }\n    }\n\n    /** @type {string} */\n    let field\n\n    // Set non-path related properties.\n    for (field in options) {\n      // @ts-expect-error: fine to set other things.\n      if (!order.includes(field)) {\n        // @ts-expect-error: fine to set other things.\n        this[field] = options[field]\n      }\n    }\n  }\n\n  /**\n   * Get the basename (including extname) (example: `'index.min.js'`).\n   *\n   * @returns {string | undefined}\n   *   Basename.\n   */\n  get basename() {\n    return typeof this.path === 'string'\n      ? minpath.basename(this.path)\n      : undefined\n  }\n\n  /**\n   * Set basename (including extname) (`'index.min.js'`).\n   *\n   * Cannot contain path separators (`'/'` on unix, macOS, and browsers, `'\\'`\n   * on windows).\n   * Cannot be nullified (use `file.path = file.dirname` instead).\n   *\n   * @param {string} basename\n   *   Basename.\n   * @returns {undefined}\n   *   Nothing.\n   */\n  set basename(basename) {\n    assertNonEmpty(basename, 'basename')\n    assertPart(basename, 'basename')\n    this.path = minpath.join(this.dirname || '', basename)\n  }\n\n  /**\n   * Get the parent path (example: `'~'`).\n   *\n   * @returns {string | undefined}\n   *   Dirname.\n   */\n  get dirname() {\n    return typeof this.path === 'string'\n      ? minpath.dirname(this.path)\n      : undefined\n  }\n\n  /**\n   * Set the parent path (example: `'~'`).\n   *\n   * Cannot be set if theres no `path` yet.\n   *\n   * @param {string | undefined} dirname\n   *   Dirname.\n   * @returns {undefined}\n   *   Nothing.\n   */\n  set dirname(dirname) {\n    assertPath(this.basename, 'dirname')\n    this.path = minpath.join(dirname || '', this.basename)\n  }\n\n  /**\n   * Get the extname (including dot) (example: `'.js'`).\n   *\n   * @returns {string | undefined}\n   *   Extname.\n   */\n  get extname() {\n    return typeof this.path === 'string'\n      ? minpath.extname(this.path)\n      : undefined\n  }\n\n  /**\n   * Set the extname (including dot) (example: `'.js'`).\n   *\n   * Cannot contain path separators (`'/'` on unix, macOS, and browsers, `'\\'`\n   * on windows).\n   * Cannot be set if theres no `path` yet.\n   *\n   * @param {string | undefined} extname\n   *   Extname.\n   * @returns {undefined}\n   *   Nothing.\n   */\n  set extname(extname) {\n    assertPart(extname, 'extname')\n    assertPath(this.dirname, 'extname')\n\n    if (extname) {\n      if (extname.codePointAt(0) !== 46 /* `.` */) {\n        throw new Error('`extname` must start with `.`')\n      }\n\n      if (extname.includes('.', 1)) {\n        throw new Error('`extname` cannot contain multiple dots')\n      }\n    }\n\n    this.path = minpath.join(this.dirname, this.stem + (extname || ''))\n  }\n\n  /**\n   * Get the full path (example: `'~/index.min.js'`).\n   *\n   * @returns {string}\n   *   Path.\n   */\n  get path() {\n    return this.history[this.history.length - 1]\n  }\n\n  /**\n   * Set the full path (example: `'~/index.min.js'`).\n   *\n   * Cannot be nullified.\n   * You can set a file URL (a `URL` object with a `file:` protocol) which will\n   * be turned into a path with `url.fileURLToPath`.\n   *\n   * @param {URL | string} path\n   *   Path.\n   * @returns {undefined}\n   *   Nothing.\n   */\n  set path(path) {\n    if (isUrl(path)) {\n      path = urlToPath(path)\n    }\n\n    assertNonEmpty(path, 'path')\n\n    if (this.path !== path) {\n      this.history.push(path)\n    }\n  }\n\n  /**\n   * Get the stem (basename w/o extname) (example: `'index.min'`).\n   *\n   * @returns {string | undefined}\n   *   Stem.\n   */\n  get stem() {\n    return typeof this.path === 'string'\n      ? minpath.basename(this.path, this.extname)\n      : undefined\n  }\n\n  /**\n   * Set the stem (basename w/o extname) (example: `'index.min'`).\n   *\n   * Cannot contain path separators (`'/'` on unix, macOS, and browsers, `'\\'`\n   * on windows).\n   * Cannot be nullified (use `file.path = file.dirname` instead).\n   *\n   * @param {string} stem\n   *   Stem.\n   * @returns {undefined}\n   *   Nothing.\n   */\n  set stem(stem) {\n    assertNonEmpty(stem, 'stem')\n    assertPart(stem, 'stem')\n    this.path = minpath.join(this.dirname || '', stem + (this.extname || ''))\n  }\n\n  // Normal prototypal methods.\n  /**\n   * Create a fatal message for `reason` associated with the file.\n   *\n   * The `fatal` field of the message is set to `true` (error; file not usable)\n   * and the `file` field is set to the current file path.\n   * The message is added to the `messages` field on `file`.\n   *\n   * >  **Note**: also has obsolete signatures.\n   *\n   * @overload\n   * @param {string} reason\n   * @param {MessageOptions | null | undefined} [options]\n   * @returns {never}\n   *\n   * @overload\n   * @param {string} reason\n   * @param {Node | NodeLike | null | undefined} parent\n   * @param {string | null | undefined} [origin]\n   * @returns {never}\n   *\n   * @overload\n   * @param {string} reason\n   * @param {Point | Position | null | undefined} place\n   * @param {string | null | undefined} [origin]\n   * @returns {never}\n   *\n   * @overload\n   * @param {string} reason\n   * @param {string | null | undefined} [origin]\n   * @returns {never}\n   *\n   * @overload\n   * @param {Error | VFileMessage} cause\n   * @param {Node | NodeLike | null | undefined} parent\n   * @param {string | null | undefined} [origin]\n   * @returns {never}\n   *\n   * @overload\n   * @param {Error | VFileMessage} cause\n   * @param {Point | Position | null | undefined} place\n   * @param {string | null | undefined} [origin]\n   * @returns {never}\n   *\n   * @overload\n   * @param {Error | VFileMessage} cause\n   * @param {string | null | undefined} [origin]\n   * @returns {never}\n   *\n   * @param {Error | VFileMessage | string} causeOrReason\n   *   Reason for message, should use markdown.\n   * @param {Node | NodeLike | MessageOptions | Point | Position | string | null | undefined} [optionsOrParentOrPlace]\n   *   Configuration (optional).\n   * @param {string | null | undefined} [origin]\n   *   Place in code where the message originates (example:\n   *   `'my-package:my-rule'` or `'my-rule'`).\n   * @returns {never}\n   *   Never.\n   * @throws {VFileMessage}\n   *   Message.\n   */\n  fail(causeOrReason, optionsOrParentOrPlace, origin) {\n    // @ts-expect-error: the overloads are fine.\n    const message = this.message(causeOrReason, optionsOrParentOrPlace, origin)\n\n    message.fatal = true\n\n    throw message\n  }\n\n  /**\n   * Create an info message for `reason` associated with the file.\n   *\n   * The `fatal` field of the message is set to `undefined` (info; change\n   * likely not needed) and the `file` field is set to the current file path.\n   * The message is added to the `messages` field on `file`.\n   *\n   * >  **Note**: also has obsolete signatures.\n   *\n   * @overload\n   * @param {string} reason\n   * @param {MessageOptions | null | undefined} [options]\n   * @returns {VFileMessage}\n   *\n   * @overload\n   * @param {string} reason\n   * @param {Node | NodeLike | null | undefined} parent\n   * @param {string | null | undefined} [origin]\n   * @returns {VFileMessage}\n   *\n   * @overload\n   * @param {string} reason\n   * @param {Point | Position | null | undefined} place\n   * @param {string | null | undefined} [origin]\n   * @returns {VFileMessage}\n   *\n   * @overload\n   * @param {string} reason\n   * @param {string | null | undefined} [origin]\n   * @returns {VFileMessage}\n   *\n   * @overload\n   * @param {Error | VFileMessage} cause\n   * @param {Node | NodeLike | null | undefined} parent\n   * @param {string | null | undefined} [origin]\n   * @returns {VFileMessage}\n   *\n   * @overload\n   * @param {Error | VFileMessage} cause\n   * @param {Point | Position | null | undefined} place\n   * @param {string | null | undefined} [origin]\n   * @returns {VFileMessage}\n   *\n   * @overload\n   * @param {Error | VFileMessage} cause\n   * @param {string | null | undefined} [origin]\n   * @returns {VFileMessage}\n   *\n   * @param {Error | VFileMessage | string} causeOrReason\n   *   Reason for message, should use markdown.\n   * @param {Node | NodeLike | MessageOptions | Point | Position | string | null | undefined} [optionsOrParentOrPlace]\n   *   Configuration (optional).\n   * @param {string | null | undefined} [origin]\n   *   Place in code where the message originates (example:\n   *   `'my-package:my-rule'` or `'my-rule'`).\n   * @returns {VFileMessage}\n   *   Message.\n   */\n  info(causeOrReason, optionsOrParentOrPlace, origin) {\n    // @ts-expect-error: the overloads are fine.\n    const message = this.message(causeOrReason, optionsOrParentOrPlace, origin)\n\n    message.fatal = undefined\n\n    return message\n  }\n\n  /**\n   * Create a message for `reason` associated with the file.\n   *\n   * The `fatal` field of the message is set to `false` (warning; change may be\n   * needed) and the `file` field is set to the current file path.\n   * The message is added to the `messages` field on `file`.\n   *\n   * >  **Note**: also has obsolete signatures.\n   *\n   * @overload\n   * @param {string} reason\n   * @param {MessageOptions | null | undefined} [options]\n   * @returns {VFileMessage}\n   *\n   * @overload\n   * @param {string} reason\n   * @param {Node | NodeLike | null | undefined} parent\n   * @param {string | null | undefined} [origin]\n   * @returns {VFileMessage}\n   *\n   * @overload\n   * @param {string} reason\n   * @param {Point | Position | null | undefined} place\n   * @param {string | null | undefined} [origin]\n   * @returns {VFileMessage}\n   *\n   * @overload\n   * @param {string} reason\n   * @param {string | null | undefined} [origin]\n   * @returns {VFileMessage}\n   *\n   * @overload\n   * @param {Error | VFileMessage} cause\n   * @param {Node | NodeLike | null | undefined} parent\n   * @param {string | null | undefined} [origin]\n   * @returns {VFileMessage}\n   *\n   * @overload\n   * @param {Error | VFileMessage} cause\n   * @param {Point | Position | null | undefined} place\n   * @param {string | null | undefined} [origin]\n   * @returns {VFileMessage}\n   *\n   * @overload\n   * @param {Error | VFileMessage} cause\n   * @param {string | null | undefined} [origin]\n   * @returns {VFileMessage}\n   *\n   * @param {Error | VFileMessage | string} causeOrReason\n   *   Reason for message, should use markdown.\n   * @param {Node | NodeLike | MessageOptions | Point | Position | string | null | undefined} [optionsOrParentOrPlace]\n   *   Configuration (optional).\n   * @param {string | null | undefined} [origin]\n   *   Place in code where the message originates (example:\n   *   `'my-package:my-rule'` or `'my-rule'`).\n   * @returns {VFileMessage}\n   *   Message.\n   */\n  message(causeOrReason, optionsOrParentOrPlace, origin) {\n    const message = new VFileMessage(\n      // @ts-expect-error: the overloads are fine.\n      causeOrReason,\n      optionsOrParentOrPlace,\n      origin\n    )\n\n    if (this.path) {\n      message.name = this.path + ':' + message.name\n      message.file = this.path\n    }\n\n    message.fatal = false\n\n    this.messages.push(message)\n\n    return message\n  }\n\n  /**\n   * Serialize the file.\n   *\n   * > **Note**: which encodings are supported depends on the engine.\n   * > For info on Node.js, see:\n   * > <https://nodejs.org/api/util.html#whatwg-supported-encodings>.\n   *\n   * @param {string | null | undefined} [encoding='utf8']\n   *   Character encoding to understand `value` as when its a `Uint8Array`\n   *   (default: `'utf-8'`).\n   * @returns {string}\n   *   Serialized file.\n   */\n  toString(encoding) {\n    if (this.value === undefined) {\n      return ''\n    }\n\n    if (typeof this.value === 'string') {\n      return this.value\n    }\n\n    const decoder = new TextDecoder(encoding || undefined)\n    return decoder.decode(this.value)\n  }\n}\n\n/**\n * Assert that `part` is not a path (as in, does not contain `path.sep`).\n *\n * @param {string | null | undefined} part\n *   File path part.\n * @param {string} name\n *   Part name.\n * @returns {undefined}\n *   Nothing.\n */\nfunction assertPart(part, name) {\n  if (part && part.includes(minpath.sep)) {\n    throw new Error(\n      '`' + name + '` cannot be a path: did not expect `' + minpath.sep + '`'\n    )\n  }\n}\n\n/**\n * Assert that `part` is not empty.\n *\n * @param {string | undefined} part\n *   Thing.\n * @param {string} name\n *   Part name.\n * @returns {asserts part is string}\n *   Nothing.\n */\nfunction assertNonEmpty(part, name) {\n  if (!part) {\n    throw new Error('`' + name + '` cannot be empty')\n  }\n}\n\n/**\n * Assert `path` exists.\n *\n * @param {string | undefined} path\n *   Path.\n * @param {string} name\n *   Dependency name.\n * @returns {asserts path is string}\n *   Nothing.\n */\nfunction assertPath(path, name) {\n  if (!path) {\n    throw new Error('Setting `' + name + '` requires `path` to be set too')\n  }\n}\n\n/**\n * Assert `value` is an `Uint8Array`.\n *\n * @param {unknown} value\n *   thing.\n * @returns {value is Uint8Array}\n *   Whether `value` is an `Uint8Array`.\n */\nfunction isUint8Array(value) {\n  return Boolean(\n    value &&\n      typeof value === 'object' &&\n      'byteLength' in value &&\n      'byteOffset' in value\n  )\n}\n","/**\n * @typedef ErrorInfo\n *   Info on a `parse5` error.\n * @property {string} reason\n *   Reason of error.\n * @property {string} description\n *   More info on error.\n * @property {false} [url]\n *   Turn off if this is not documented in the html5 spec (optional).\n */\n\nexport const errors = {\n  /** @type {ErrorInfo} */\n  abandonedHeadElementChild: {\n    reason: 'Unexpected metadata element after head',\n    description:\n      'Unexpected element after head. Expected the element before `</head>`',\n    url: false\n  },\n  /** @type {ErrorInfo} */\n  abruptClosingOfEmptyComment: {\n    reason: 'Unexpected abruptly closed empty comment',\n    description: 'Unexpected `>` or `->`. Expected `-->` to close comments'\n  },\n  /** @type {ErrorInfo} */\n  abruptDoctypePublicIdentifier: {\n    reason: 'Unexpected abruptly closed public identifier',\n    description:\n      'Unexpected `>`. Expected a closing `\"` or `\\'` after the public identifier'\n  },\n  /** @type {ErrorInfo} */\n  abruptDoctypeSystemIdentifier: {\n    reason: 'Unexpected abruptly closed system identifier',\n    description:\n      'Unexpected `>`. Expected a closing `\"` or `\\'` after the identifier identifier'\n  },\n  /** @type {ErrorInfo} */\n  absenceOfDigitsInNumericCharacterReference: {\n    reason: 'Unexpected non-digit at start of numeric character reference',\n    description:\n      'Unexpected `%c`. Expected `[0-9]` for decimal references or `[0-9a-fA-F]` for hexadecimal references'\n  },\n  /** @type {ErrorInfo} */\n  cdataInHtmlContent: {\n    reason: 'Unexpected CDATA section in HTML',\n    description:\n      'Unexpected `<![CDATA[` in HTML. Remove it, use a comment, or encode special characters instead'\n  },\n  /** @type {ErrorInfo} */\n  characterReferenceOutsideUnicodeRange: {\n    reason: 'Unexpected too big numeric character reference',\n    description:\n      'Unexpectedly high character reference. Expected character references to be at most hexadecimal 10ffff (or decimal 1114111)'\n  },\n  /** @type {ErrorInfo} */\n  closingOfElementWithOpenChildElements: {\n    reason: 'Unexpected closing tag with open child elements',\n    description:\n      'Unexpectedly closing tag. Expected other tags to be closed first',\n    url: false\n  },\n  /** @type {ErrorInfo} */\n  controlCharacterInInputStream: {\n    reason: 'Unexpected control character',\n    description:\n      'Unexpected control character `%x`. Expected a non-control code point, 0x00, or ASCII whitespace'\n  },\n  /** @type {ErrorInfo} */\n  controlCharacterReference: {\n    reason: 'Unexpected control character reference',\n    description:\n      'Unexpectedly control character in reference. Expected a non-control code point, 0x00, or ASCII whitespace'\n  },\n  /** @type {ErrorInfo} */\n  disallowedContentInNoscriptInHead: {\n    reason: 'Disallowed content inside `<noscript>` in `<head>`',\n    description:\n      'Unexpected text character `%c`. Only use text in `<noscript>`s in `<body>`',\n    url: false\n  },\n  /** @type {ErrorInfo} */\n  duplicateAttribute: {\n    reason: 'Unexpected duplicate attribute',\n    description:\n      'Unexpectedly double attribute. Expected attributes to occur only once'\n  },\n  /** @type {ErrorInfo} */\n  endTagWithAttributes: {\n    reason: 'Unexpected attribute on closing tag',\n    description: 'Unexpected attribute. Expected `>` instead'\n  },\n  /** @type {ErrorInfo} */\n  endTagWithTrailingSolidus: {\n    reason: 'Unexpected slash at end of closing tag',\n    description: 'Unexpected `%c-1`. Expected `>` instead'\n  },\n  /** @type {ErrorInfo} */\n  endTagWithoutMatchingOpenElement: {\n    reason: 'Unexpected unopened end tag',\n    description: 'Unexpected end tag. Expected no end tag or another end tag',\n    url: false\n  },\n  /** @type {ErrorInfo} */\n  eofBeforeTagName: {\n    reason: 'Unexpected end of file',\n    description: 'Unexpected end of file. Expected tag name instead'\n  },\n  /** @type {ErrorInfo} */\n  eofInCdata: {\n    reason: 'Unexpected end of file in CDATA',\n    description: 'Unexpected end of file. Expected `]]>` to close the CDATA'\n  },\n  /** @type {ErrorInfo} */\n  eofInComment: {\n    reason: 'Unexpected end of file in comment',\n    description: 'Unexpected end of file. Expected `-->` to close the comment'\n  },\n  /** @type {ErrorInfo} */\n  eofInDoctype: {\n    reason: 'Unexpected end of file in doctype',\n    description:\n      'Unexpected end of file. Expected a valid doctype (such as `<!doctype html>`)'\n  },\n  /** @type {ErrorInfo} */\n  eofInElementThatCanContainOnlyText: {\n    reason: 'Unexpected end of file in element that can only contain text',\n    description: 'Unexpected end of file. Expected text or a closing tag',\n    url: false\n  },\n  /** @type {ErrorInfo} */\n  eofInScriptHtmlCommentLikeText: {\n    reason: 'Unexpected end of file in comment inside script',\n    description: 'Unexpected end of file. Expected `-->` to close the comment'\n  },\n  /** @type {ErrorInfo} */\n  eofInTag: {\n    reason: 'Unexpected end of file in tag',\n    description: 'Unexpected end of file. Expected `>` to close the tag'\n  },\n  /** @type {ErrorInfo} */\n  incorrectlyClosedComment: {\n    reason: 'Incorrectly closed comment',\n    description: 'Unexpected `%c-1`. Expected `-->` to close the comment'\n  },\n  /** @type {ErrorInfo} */\n  incorrectlyOpenedComment: {\n    reason: 'Incorrectly opened comment',\n    description: 'Unexpected `%c`. Expected `<!--` to open the comment'\n  },\n  /** @type {ErrorInfo} */\n  invalidCharacterSequenceAfterDoctypeName: {\n    reason: 'Invalid sequence after doctype name',\n    description: 'Unexpected sequence at `%c`. Expected `public` or `system`'\n  },\n  /** @type {ErrorInfo} */\n  invalidFirstCharacterOfTagName: {\n    reason: 'Invalid first character in tag name',\n    description: 'Unexpected `%c`. Expected an ASCII letter instead'\n  },\n  /** @type {ErrorInfo} */\n  misplacedDoctype: {\n    reason: 'Misplaced doctype',\n    description: 'Unexpected doctype. Expected doctype before head',\n    url: false\n  },\n  /** @type {ErrorInfo} */\n  misplacedStartTagForHeadElement: {\n    reason: 'Misplaced `<head>` start tag',\n    description:\n      'Unexpected start tag `<head>`. Expected `<head>` directly after doctype',\n    url: false\n  },\n  /** @type {ErrorInfo} */\n  missingAttributeValue: {\n    reason: 'Missing attribute value',\n    description:\n      'Unexpected `%c-1`. Expected an attribute value or no `%c-1` instead'\n  },\n  /** @type {ErrorInfo} */\n  missingDoctype: {\n    reason: 'Missing doctype before other content',\n    description: 'Expected a `<!doctype html>` before anything else',\n    url: false\n  },\n  /** @type {ErrorInfo} */\n  missingDoctypeName: {\n    reason: 'Missing doctype name',\n    description: 'Unexpected doctype end at `%c`. Expected `html` instead'\n  },\n  /** @type {ErrorInfo} */\n  missingDoctypePublicIdentifier: {\n    reason: 'Missing public identifier in doctype',\n    description: 'Unexpected `%c`. Expected identifier for `public` instead'\n  },\n  /** @type {ErrorInfo} */\n  missingDoctypeSystemIdentifier: {\n    reason: 'Missing system identifier in doctype',\n    description:\n      'Unexpected `%c`. Expected identifier for `system` instead (suggested: `\"about:legacy-compat\"`)'\n  },\n  /** @type {ErrorInfo} */\n  missingEndTagName: {\n    reason: 'Missing name in end tag',\n    description: 'Unexpected `%c`. Expected an ASCII letter instead'\n  },\n  /** @type {ErrorInfo} */\n  missingQuoteBeforeDoctypePublicIdentifier: {\n    reason: 'Missing quote before public identifier in doctype',\n    description: 'Unexpected `%c`. Expected `\"` or `\\'` instead'\n  },\n  /** @type {ErrorInfo} */\n  missingQuoteBeforeDoctypeSystemIdentifier: {\n    reason: 'Missing quote before system identifier in doctype',\n    description: 'Unexpected `%c`. Expected `\"` or `\\'` instead'\n  },\n  /** @type {ErrorInfo} */\n  missingSemicolonAfterCharacterReference: {\n    reason: 'Missing semicolon after character reference',\n    description: 'Unexpected `%c`. Expected `;` instead'\n  },\n  /** @type {ErrorInfo} */\n  missingWhitespaceAfterDoctypePublicKeyword: {\n    reason: 'Missing whitespace after public identifier in doctype',\n    description: 'Unexpected `%c`. Expected ASCII whitespace instead'\n  },\n  /** @type {ErrorInfo} */\n  missingWhitespaceAfterDoctypeSystemKeyword: {\n    reason: 'Missing whitespace after system identifier in doctype',\n    description: 'Unexpected `%c`. Expected ASCII whitespace instead'\n  },\n  /** @type {ErrorInfo} */\n  missingWhitespaceBeforeDoctypeName: {\n    reason: 'Missing whitespace before doctype name',\n    description: 'Unexpected `%c`. Expected ASCII whitespace instead'\n  },\n  /** @type {ErrorInfo} */\n  missingWhitespaceBetweenAttributes: {\n    reason: 'Missing whitespace between attributes',\n    description: 'Unexpected `%c`. Expected ASCII whitespace instead'\n  },\n  /** @type {ErrorInfo} */\n  missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers: {\n    reason:\n      'Missing whitespace between public and system identifiers in doctype',\n    description: 'Unexpected `%c`. Expected ASCII whitespace instead'\n  },\n  /** @type {ErrorInfo} */\n  nestedComment: {\n    reason: 'Unexpected nested comment',\n    description: 'Unexpected `<!--`. Expected `-->`'\n  },\n  /** @type {ErrorInfo} */\n  nestedNoscriptInHead: {\n    reason: 'Unexpected nested `<noscript>` in `<head>`',\n    description:\n      'Unexpected `<noscript>`. Expected a closing tag or a meta element',\n    url: false\n  },\n  /** @type {ErrorInfo} */\n  nonConformingDoctype: {\n    reason: 'Unexpected non-conforming doctype declaration',\n    description:\n      'Expected `<!doctype html>` or `<!doctype html system \"about:legacy-compat\">`',\n    url: false\n  },\n  /** @type {ErrorInfo} */\n  nonVoidHtmlElementStartTagWithTrailingSolidus: {\n    reason: 'Unexpected trailing slash on start tag of non-void element',\n    description: 'Unexpected `/`. Expected `>` instead'\n  },\n  /** @type {ErrorInfo} */\n  noncharacterCharacterReference: {\n    reason:\n      'Unexpected noncharacter code point referenced by character reference',\n    description: 'Unexpected code point. Do not use noncharacters in HTML'\n  },\n  /** @type {ErrorInfo} */\n  noncharacterInInputStream: {\n    reason: 'Unexpected noncharacter character',\n    description: 'Unexpected code point `%x`. Do not use noncharacters in HTML'\n  },\n  /** @type {ErrorInfo} */\n  nullCharacterReference: {\n    reason: 'Unexpected NULL character referenced by character reference',\n    description: 'Unexpected code point. Do not use NULL characters in HTML'\n  },\n  /** @type {ErrorInfo} */\n  openElementsLeftAfterEof: {\n    reason: 'Unexpected end of file',\n    description: 'Unexpected end of file. Expected closing tag instead',\n    url: false\n  },\n  /** @type {ErrorInfo} */\n  surrogateCharacterReference: {\n    reason: 'Unexpected surrogate character referenced by character reference',\n    description:\n      'Unexpected code point. Do not use lone surrogate characters in HTML'\n  },\n  /** @type {ErrorInfo} */\n  surrogateInInputStream: {\n    reason: 'Unexpected surrogate character',\n    description:\n      'Unexpected code point `%x`. Do not use lone surrogate characters in HTML'\n  },\n  /** @type {ErrorInfo} */\n  unexpectedCharacterAfterDoctypeSystemIdentifier: {\n    reason: 'Invalid character after system identifier in doctype',\n    description: 'Unexpected character at `%c`. Expected `>`'\n  },\n  /** @type {ErrorInfo} */\n  unexpectedCharacterInAttributeName: {\n    reason: 'Unexpected character in attribute name',\n    description:\n      'Unexpected `%c`. Expected whitespace, `/`, `>`, `=`, or probably an ASCII letter'\n  },\n  /** @type {ErrorInfo} */\n  unexpectedCharacterInUnquotedAttributeValue: {\n    reason: 'Unexpected character in unquoted attribute value',\n    description: 'Unexpected `%c`. Quote the attribute value to include it'\n  },\n  /** @type {ErrorInfo} */\n  unexpectedEqualsSignBeforeAttributeName: {\n    reason: 'Unexpected equals sign before attribute name',\n    description: 'Unexpected `%c`. Add an attribute name before it'\n  },\n  /** @type {ErrorInfo} */\n  unexpectedNullCharacter: {\n    reason: 'Unexpected NULL character',\n    description:\n      'Unexpected code point `%x`. Do not use NULL characters in HTML'\n  },\n  /** @type {ErrorInfo} */\n  unexpectedQuestionMarkInsteadOfTagName: {\n    reason: 'Unexpected question mark instead of tag name',\n    description: 'Unexpected `%c`. Expected an ASCII letter instead'\n  },\n  /** @type {ErrorInfo} */\n  unexpectedSolidusInTag: {\n    reason: 'Unexpected slash in tag',\n    description:\n      'Unexpected `%c-1`. Expected it followed by `>` or in a quoted attribute value'\n  },\n  /** @type {ErrorInfo} */\n  unknownNamedCharacterReference: {\n    reason: 'Unexpected unknown named character reference',\n    description:\n      'Unexpected character reference. Expected known named character references'\n  }\n}\n","/**\n * @import {Root} from 'hast'\n * @import {ParserError} from 'parse5'\n * @import {Value} from 'vfile'\n * @import {ErrorCode, Options} from './types.js'\n */\n\nimport {ok as assert} from 'devlop'\nimport {fromParse5} from 'hast-util-from-parse5'\nimport {parse, parseFragment} from 'parse5'\nimport {VFile} from 'vfile'\nimport {VFileMessage} from 'vfile-message'\nimport {errors} from './errors.js'\n\nconst base = 'https://html.spec.whatwg.org/multipage/parsing.html#parse-error-'\n\nconst dashToCamelRe = /-[a-z]/g\nconst formatCRe = /%c(?:([-+])(\\d+))?/g\nconst formatXRe = /%x/g\n\nconst fatalities = {2: true, 1: false, 0: null}\n\n/** @type {Readonly<Options>} */\nconst emptyOptions = {}\n\n/**\n * Turn serialized HTML into a hast tree.\n *\n * @param {VFile | Value} value\n *   Serialized HTML to parse.\n * @param {Readonly<Options> | null | undefined} [options]\n *   Configuration (optional).\n * @returns {Root}\n *   Tree.\n */\nexport function fromHtml(value, options) {\n  const settings = options || emptyOptions\n  const onerror = settings.onerror\n  const file = value instanceof VFile ? value : new VFile(value)\n  const parseFunction = settings.fragment ? parseFragment : parse\n  const document = String(file)\n  const p5Document = parseFunction(document, {\n    sourceCodeLocationInfo: true,\n    // Note `parse5` types currently do not allow `undefined`.\n    onParseError: settings.onerror ? internalOnerror : null,\n    scriptingEnabled: false\n  })\n\n  // `parse5` returns document which are always mapped to roots.\n  return /** @type {Root} */ (\n    fromParse5(p5Document, {\n      file,\n      space: settings.space,\n      verbose: settings.verbose\n    })\n  )\n\n  /**\n   * Handle a parse error.\n   *\n   * @param {ParserError} error\n   *   Parse5 error.\n   * @returns {undefined}\n   *   Nothing.\n   */\n  function internalOnerror(error) {\n    const code = error.code\n    const name = camelcase(code)\n    const setting = settings[name]\n    const config = setting === null || setting === undefined ? true : setting\n    const level = typeof config === 'number' ? config : config ? 1 : 0\n\n    if (level) {\n      const info = errors[name]\n      assert(info, 'expected known error from `parse5`')\n\n      const message = new VFileMessage(format(info.reason), {\n        place: {\n          start: {\n            line: error.startLine,\n            column: error.startCol,\n            offset: error.startOffset\n          },\n          end: {\n            line: error.endLine,\n            column: error.endCol,\n            offset: error.endOffset\n          }\n        },\n        ruleId: code,\n        source: 'hast-util-from-html'\n      })\n\n      if (file.path) {\n        message.file = file.path\n        message.name = file.path + ':' + message.name\n      }\n\n      message.fatal = fatalities[level]\n      message.note = format(info.description)\n      message.url = info.url === false ? undefined : base + code\n\n      assert(onerror, '`internalOnerror` is not passed if `onerror` is not set')\n      onerror(message)\n    }\n\n    /**\n     * Format a human readable string about an error.\n     *\n     * @param {string} value\n     *   Value to format.\n     * @returns {string}\n     *   Formatted.\n     */\n    function format(value) {\n      return value.replace(formatCRe, formatC).replace(formatXRe, formatX)\n\n      /**\n       * Format the character.\n       *\n       * @param {string} _\n       *   Match.\n       * @param {string} $1\n       *   Sign (`-` or `+`, optional).\n       * @param {string} $2\n       *   Offset.\n       * @returns {string}\n       *   Formatted.\n       */\n      function formatC(_, $1, $2) {\n        const offset =\n          ($2 ? Number.parseInt($2, 10) : 0) * ($1 === '-' ? -1 : 1)\n        const char = document.charAt(error.startOffset + offset)\n        return visualizeCharacter(char)\n      }\n\n      /**\n       * Format the character code.\n       *\n       * @returns {string}\n       *   Formatted.\n       */\n      function formatX() {\n        return visualizeCharacterCode(document.charCodeAt(error.startOffset))\n      }\n    }\n  }\n}\n\n/**\n * @param {string} value\n *   Error code in dash case.\n * @returns {ErrorCode}\n *   Error code in camelcase.\n */\nfunction camelcase(value) {\n  // This should match an error code.\n  return /** @type {ErrorCode} */ (value.replace(dashToCamelRe, dashToCamel))\n}\n\n/**\n * @param {string} $0\n *   Match.\n * @returns {string}\n *   Camelcased.\n */\nfunction dashToCamel($0) {\n  return $0.charAt(1).toUpperCase()\n}\n\n/**\n * @param {string} char\n *   Character.\n * @returns {string}\n *   Formatted.\n */\nfunction visualizeCharacter(char) {\n  return char === '`' ? '` ` `' : char\n}\n\n/**\n * @param {number} charCode\n *   Character code.\n * @returns {string}\n *   Formatted.\n */\nfunction visualizeCharacterCode(charCode) {\n  return '0x' + charCode.toString(16).toUpperCase()\n}\n","/**\n * @import {Root} from 'hast'\n * @import {Options as FromHtmlOptions} from 'hast-util-from-html'\n * @import {Parser, Processor} from 'unified'\n */\n\n/**\n * @typedef {Omit<FromHtmlOptions, 'onerror'> & RehypeParseFields} Options\n *   Configuration.\n *\n * @typedef RehypeParseFields\n *   Extra fields.\n * @property {boolean | null | undefined} [emitParseErrors=false]\n *   Whether to emit parse errors while parsing (default: `false`).\n *\n *   >  **Note**: parse errors are currently being added to HTML.\n *   > Not all errors emitted by parse5 (or us) are specced yet.\n *   > Some documentation may still be missing.\n */\n\nimport {fromHtml} from 'hast-util-from-html'\n\n/**\n * Plugin to add support for parsing from HTML.\n *\n * >  **Note**: this is not an XML parser.\n * > It supports SVG as embedded in HTML.\n * > It does not support the features available in XML.\n * > Passing SVG files might break but fragments of modern SVG should be fine.\n * > Use [`xast-util-from-xml`][xast-util-from-xml] to parse XML.\n *\n * @param {Options | null | undefined} [options]\n *   Configuration (optional).\n * @returns {undefined}\n *   Nothing.\n */\nexport default function rehypeParse(options) {\n  /** @type {Processor<Root>} */\n  // @ts-expect-error: TS in JSDoc generates wrong types if `this` is typed regularly.\n  const self = this\n  const {emitParseErrors, ...settings} = {...self.data('settings'), ...options}\n\n  self.parser = parser\n\n  /**\n   * @type {Parser<Root>}\n   */\n  function parser(document, file) {\n    return fromHtml(document, {\n      ...settings,\n      onerror: emitParseErrors\n        ? function (message) {\n            if (file.path) {\n              message.name = file.path + ':' + message.name\n              message.file = file.path\n            }\n\n            file.messages.push(message)\n          }\n        : undefined\n    })\n  }\n}\n","/**\n * @typedef {import('unist').Node} Node\n * @typedef {import('unist').Point} Point\n * @typedef {import('unist').Position} Position\n */\n\n/**\n * @typedef NodeLike\n * @property {string} type\n * @property {PositionLike | null | undefined} [position]\n *\n * @typedef PositionLike\n * @property {PointLike | null | undefined} [start]\n * @property {PointLike | null | undefined} [end]\n *\n * @typedef PointLike\n * @property {number | null | undefined} [line]\n * @property {number | null | undefined} [column]\n * @property {number | null | undefined} [offset]\n */\n\n/**\n * Get the ending point of `node`.\n *\n * @param node\n *   Node.\n * @returns\n *   Point.\n */\nexport const pointEnd = point('end')\n\n/**\n * Get the starting point of `node`.\n *\n * @param node\n *   Node.\n * @returns\n *   Point.\n */\nexport const pointStart = point('start')\n\n/**\n * Get the positional info of `node`.\n *\n * @param {'end' | 'start'} type\n *   Side.\n * @returns\n *   Getter.\n */\nfunction point(type) {\n  return point\n\n  /**\n   * Get the point info of `node` at a bound side.\n   *\n   * @param {Node | NodeLike | null | undefined} [node]\n   * @returns {Point | undefined}\n   */\n  function point(node) {\n    const point = (node && node.position && node.position[type]) || {}\n\n    if (\n      typeof point.line === 'number' &&\n      point.line > 0 &&\n      typeof point.column === 'number' &&\n      point.column > 0\n    ) {\n      return {\n        line: point.line,\n        column: point.column,\n        offset:\n          typeof point.offset === 'number' && point.offset > -1\n            ? point.offset\n            : undefined\n      }\n    }\n  }\n}\n\n/**\n * Get the positional info of `node`.\n *\n * @param {Node | NodeLike | null | undefined} [node]\n *   Node.\n * @returns {Position | undefined}\n *   Position.\n */\nexport function position(node) {\n  const start = pointStart(node)\n  const end = pointEnd(node)\n\n  if (start && end) {\n    return {start, end}\n  }\n}\n","// Couple of ARIA attributes allowed in several, but not all, places.\nconst aria = ['ariaDescribedBy', 'ariaLabel', 'ariaLabelledBy']\n\n/**\n * Default schema.\n *\n * Follows GitHub style sanitation.\n *\n * @type {import('./index.js').Schema}\n */\nexport const defaultSchema = {\n  ancestors: {\n    tbody: ['table'],\n    td: ['table'],\n    th: ['table'],\n    thead: ['table'],\n    tfoot: ['table'],\n    tr: ['table']\n  },\n  attributes: {\n    a: [\n      ...aria,\n      // Note: these 3 are used by GFM footnotes, they do work on all links.\n      'dataFootnoteBackref',\n      'dataFootnoteRef',\n      ['className', 'data-footnote-backref'],\n      'href'\n    ],\n    blockquote: ['cite'],\n    // Note: this class is not normally allowed by GH, when manually writing\n    // `code` as HTML in markdown, they adds it some other way.\n    // We cant do that, so we have to allow it.\n    code: [['className', /^language-./]],\n    del: ['cite'],\n    div: ['itemScope', 'itemType'],\n    dl: [...aria],\n    // Note: these 2 are used by GFM footnotes, they *sometimes* work.\n    h2: [\n      ['id', 'footnote-label'],\n      ['className', 'sr-only']\n    ],\n    img: [...aria, 'longDesc', 'src'],\n    // Note: `input` is not normally allowed by GH, when manually writing\n    // it in markdown, they add it from tasklists some other way.\n    // We cant do that, so we have to allow it.\n    input: [\n      ['disabled', true],\n      ['type', 'checkbox']\n    ],\n    ins: ['cite'],\n    // Note: this class is not normally allowed by GH, when manually writing\n    // `li` as HTML in markdown, they adds it some other way.\n    // We cant do that, so we have to allow it.\n    li: [['className', 'task-list-item']],\n    // Note: this class is not normally allowed by GH, when manually writing\n    // `ol` as HTML in markdown, they adds it some other way.\n    // We cant do that, so we have to allow it.\n    ol: [...aria, ['className', 'contains-task-list']],\n    q: ['cite'],\n    section: ['dataFootnotes', ['className', 'footnotes']],\n    source: ['srcSet'],\n    summary: [...aria],\n    table: [...aria],\n    // Note: this class is not normally allowed by GH, when manually writing\n    // `ol` as HTML in markdown, they adds it some other way.\n    // We cant do that, so we have to allow it.\n    ul: [...aria, ['className', 'contains-task-list']],\n    '*': [\n      'abbr',\n      'accept',\n      'acceptCharset',\n      'accessKey',\n      'action',\n      'align',\n      'alt',\n      'axis',\n      'border',\n      'cellPadding',\n      'cellSpacing',\n      'char',\n      'charOff',\n      'charSet',\n      'checked',\n      'clear',\n      'colSpan',\n      'color',\n      'cols',\n      'compact',\n      'coords',\n      'dateTime',\n      'dir',\n      'disabled',\n      'encType',\n      'frame',\n      'hSpace',\n      'headers',\n      'height',\n      'hrefLang',\n      'htmlFor',\n      'id',\n      'isMap',\n      'itemProp',\n      'label',\n      'lang',\n      'maxLength',\n      'media',\n      'method',\n      'multiple',\n      'name',\n      'noHref',\n      'noShade',\n      'noWrap',\n      'open',\n      'prompt',\n      'readOnly',\n      'rel',\n      'rev',\n      'rowSpan',\n      'rows',\n      'rules',\n      'scope',\n      'selected',\n      'shape',\n      'size',\n      'span',\n      'start',\n      'summary',\n      'tabIndex',\n      'target',\n      'title',\n      'useMap',\n      'vAlign',\n      'value',\n      'width'\n    ]\n  },\n  clobber: ['ariaDescribedBy', 'ariaLabelledBy', 'id', 'name'],\n  clobberPrefix: 'user-content-',\n  protocols: {\n    cite: ['http', 'https'],\n    href: ['http', 'https', 'irc', 'ircs', 'mailto', 'xmpp'],\n    longDesc: ['http', 'https'],\n    src: ['http', 'https']\n  },\n  required: {\n    input: {disabled: true, type: 'checkbox'}\n  },\n  strip: ['script'],\n  tagNames: [\n    'a',\n    'b',\n    'blockquote',\n    'br',\n    'code',\n    'dd',\n    'del',\n    'details',\n    'div',\n    'dl',\n    'dt',\n    'em',\n    'h1',\n    'h2',\n    'h3',\n    'h4',\n    'h5',\n    'h6',\n    'hr',\n    'i',\n    'img',\n    // Note: `input` is not normally allowed by GH, when manually writing\n    // it in markdown, they add it from tasklists some other way.\n    // We cant do that, so we have to allow it.\n    'input',\n    'ins',\n    'kbd',\n    'li',\n    'ol',\n    'p',\n    'picture',\n    'pre',\n    'q',\n    'rp',\n    'rt',\n    'ruby',\n    's',\n    'samp',\n    'section',\n    'source',\n    'span',\n    'strike',\n    'strong',\n    'sub',\n    'summary',\n    'sup',\n    'table',\n    'tbody',\n    'td',\n    'tfoot',\n    'th',\n    'thead',\n    'tr',\n    'tt',\n    'ul',\n    'var'\n  ]\n}\n","/**\n * @typedef {import('hast').Comment} Comment\n * @typedef {import('hast').Doctype} Doctype\n * @typedef {import('hast').Element} Element\n * @typedef {import('hast').ElementContent} ElementContent\n * @typedef {import('hast').Nodes} Nodes\n * @typedef {import('hast').Properties} Properties\n * @typedef {import('hast').Root} Root\n * @typedef {import('hast').RootContent} RootContent\n * @typedef {import('hast').Text} Text\n */\n\n/**\n * @typedef {[string, ...Array<Exclude<Properties[keyof Properties], Array<any>> | RegExp>] | string} PropertyDefinition\n *   Definition for a property.\n *\n * @typedef Schema\n *   Schema that defines what nodes and properties are allowed.\n *\n *   The default schema is `defaultSchema`, which follows how GitHub cleans.\n *   If any top-level key is missing in the given schema, the corresponding\n *   value of the default schema is used.\n *\n *   To extend the standard schema with a few changes, clone `defaultSchema`\n *   like so:\n *\n *   ```js\n *   import deepmerge from 'deepmerge'\n *   import {h} from 'hastscript'\n *   import {defaultSchema, sanitize} from 'hast-util-sanitize'\n *\n *   // This allows `className` on all elements.\n *   const schema = deepmerge(defaultSchema, {attributes: {'*': ['className']}})\n *\n *   const tree = sanitize(h('div', {className: ['foo']}), schema)\n *\n *   // `tree` still has `className`.\n *   console.log(tree)\n *   // {\n *   //   type: 'element',\n *   //   tagName: 'div',\n *   //   properties: {className: ['foo']},\n *   //   children: []\n *   // }\n *   ```\n * @property {boolean | null | undefined} [allowComments=false]\n *   Whether to allow comment nodes (default: `false`).\n *\n *   For example:\n *\n *   ```js\n *   allowComments: true\n *   ```\n * @property {boolean | null | undefined} [allowDoctypes=false]\n *   Whether to allow doctype nodes (default: `false`).\n *\n *   For example:\n *\n *   ```js\n *   allowDoctypes: true\n *   ```\n * @property {Record<string, Array<string>> | null | undefined} [ancestors]\n *   Map of tag names to a list of tag names which are required ancestors\n *   (default: `defaultSchema.ancestors`).\n *\n *   Elements with these tag names will be ignored if they occur outside of one\n *   of their allowed parents.\n *\n *   For example:\n *\n *   ```js\n *   ancestors: {\n *     tbody: ['table'],\n *     // \n *     tr: ['table']\n *   }\n *   ```\n * @property {Record<string, Array<PropertyDefinition>> | null | undefined} [attributes]\n *   Map of tag names to allowed property names (default:\n *   `defaultSchema.attributes`).\n *\n *   The special key `'*'` as a tag name defines property names allowed on all\n *   elements.\n *\n *   The special value `'data*'` as a property name can be used to allow all\n *   `data` properties.\n *\n *   For example:\n *\n *   ```js\n *   attributes: {\n *     'ariaDescribedBy', 'ariaLabel', 'ariaLabelledBy', , 'href'\n *     // \n *     '*': [\n *       'abbr',\n *       'accept',\n *       'acceptCharset',\n *       // \n *       'vAlign',\n *       'value',\n *       'width'\n *     ]\n *   }\n *   ```\n *\n *   Instead of a single string in the array, which allows any property value\n *   for the field, you can use an array to allow several values.\n *   For example, `input: ['type']` allows `type` set to any value on `input`s.\n *   But `input: [['type', 'checkbox', 'radio']]` allows `type` when set to\n *   `'checkbox'` or `'radio'`.\n *\n *   You can use regexes, so for example `span: [['className', /^hljs-/]]`\n *   allows any class that starts with `hljs-` on `span`s.\n *\n *   When comma- or space-separated values are used (such as `className`), each\n *   value in is checked individually.\n *   For example, to allow certain classes on `span`s for syntax highlighting,\n *   use `span: [['className', 'number', 'operator', 'token']]`.\n *   This will allow `'number'`, `'operator'`, and `'token'` classes, but drop\n *   others.\n * @property {Array<string> | null | undefined} [clobber]\n *   List of property names that clobber (default: `defaultSchema.clobber`).\n *\n *   For example:\n *\n *   ```js\n *   clobber: ['ariaDescribedBy', 'ariaLabelledBy', 'id', 'name']\n *   ```\n * @property {string | null | undefined} [clobberPrefix]\n *   Prefix to use before clobbering properties (default:\n *   `defaultSchema.clobberPrefix`).\n *\n *   For example:\n *\n *   ```js\n *   clobberPrefix: 'user-content-'\n *   ```\n * @property {Record<string, Array<string> | null | undefined> | null | undefined} [protocols]\n *   Map of *property names* to allowed protocols (default:\n *   `defaultSchema.protocols`).\n *\n *   This defines URLs that are always allowed to have local URLs (relative to\n *   the current website, such as `this`, `#this`, `/this`, or `?this`), and\n *   only allowed to have remote URLs (such as `https://example.com`) if they\n *   use a known protocol.\n *\n *   For example:\n *\n *   ```js\n *   protocols: {\n *     cite: ['http', 'https'],\n *     // \n *     src: ['http', 'https']\n *   }\n *   ```\n * @property {Record<string, Record<string, Properties[keyof Properties]>> | null | undefined} [required]\n *   Map of tag names to required property names with a default value\n *   (default: `defaultSchema.required`).\n *\n *   This defines properties that must be set.\n *   If a field does not exist (after the element was made safe), these will be\n *   added with the given value.\n *\n *   For example:\n *\n *   ```js\n *   required: {\n *     input: {disabled: true, type: 'checkbox'}\n *   }\n *   ```\n *\n *   >  **Note**: properties are first checked based on `schema.attributes`,\n *   > then on `schema.required`.\n *   > That means properties could be removed by `attributes` and then added\n *   > again with `required`.\n * @property {Array<string> | null | undefined} [strip]\n *   List of tag names to strip from the tree (default: `defaultSchema.strip`).\n *\n *   By default, unsafe elements (those not in `schema.tagNames`) are replaced\n *   by what they contain.\n *   This option can drop their contents.\n *\n *   For example:\n *\n *   ```js\n *   strip: ['script']\n *   ```\n * @property {Array<string> | null | undefined} [tagNames]\n *   List of allowed tag names (default: `defaultSchema.tagNames`).\n *\n *   For example:\n *\n *   ```js\n *   tagNames: [\n *     'a',\n *     'b',\n *     // \n *     'ul',\n *     'var'\n *   ]\n *   ```\n *\n * @typedef State\n *   Info passed around.\n * @property {Readonly<Schema>} schema\n *   Schema.\n * @property {Array<string>} stack\n *   Tag names of ancestors.\n */\n\nimport structuredClone from '@ungap/structured-clone'\nimport {position} from 'unist-util-position'\nimport {defaultSchema} from './schema.js'\n\nconst own = {}.hasOwnProperty\n\n/**\n * Sanitize a tree.\n *\n * @param {Readonly<Nodes>} node\n *   Unsafe tree.\n * @param {Readonly<Schema> | null | undefined} [options]\n *   Configuration (default: `defaultSchema`).\n * @returns {Nodes}\n *   New, safe tree.\n */\nexport function sanitize(node, options) {\n  /** @type {Nodes} */\n  let ctx = {type: 'root', children: []}\n\n  /** @type {State} */\n  const state = {\n    schema: options ? {...defaultSchema, ...options} : defaultSchema,\n    stack: []\n  }\n  const replace = transform(state, node)\n\n  if (replace) {\n    if (Array.isArray(replace)) {\n      if (replace.length === 1) {\n        ctx = replace[0]\n      } else {\n        ctx.children = replace\n      }\n    } else {\n      ctx = replace\n    }\n  }\n\n  return ctx\n}\n\n/**\n * Sanitize `node`.\n *\n * @param {State} state\n *   Info passed around.\n * @param {Readonly<unknown>} node\n *   Unsafe node.\n * @returns {Array<ElementContent> | Nodes | undefined}\n *   Safe result.\n */\nfunction transform(state, node) {\n  if (node && typeof node === 'object') {\n    const unsafe = /** @type {Record<string, Readonly<unknown>>} */ (node)\n    const type = typeof unsafe.type === 'string' ? unsafe.type : ''\n\n    switch (type) {\n      case 'comment': {\n        return comment(state, unsafe)\n      }\n\n      case 'doctype': {\n        return doctype(state, unsafe)\n      }\n\n      case 'element': {\n        return element(state, unsafe)\n      }\n\n      case 'root': {\n        return root(state, unsafe)\n      }\n\n      case 'text': {\n        return text(state, unsafe)\n      }\n\n      default:\n    }\n  }\n}\n\n/**\n * Make a safe comment.\n *\n * @param {State} state\n *   Info passed around.\n * @param {Readonly<Record<string, Readonly<unknown>>>} unsafe\n *   Unsafe comment-like value.\n * @returns {Comment | undefined}\n *   Safe comment (if with `allowComments`).\n */\nfunction comment(state, unsafe) {\n  if (state.schema.allowComments) {\n    // See <https://html.spec.whatwg.org/multipage/parsing.html#serialising-html-fragments>\n    const result = typeof unsafe.value === 'string' ? unsafe.value : ''\n    const index = result.indexOf('-->')\n    const value = index < 0 ? result : result.slice(0, index)\n\n    /** @type {Comment} */\n    const node = {type: 'comment', value}\n\n    patch(node, unsafe)\n\n    return node\n  }\n}\n\n/**\n * Make a safe doctype.\n *\n * @param {State} state\n *   Info passed around.\n * @param {Readonly<Record<string, Readonly<unknown>>>} unsafe\n *   Unsafe doctype-like value.\n * @returns {Doctype | undefined}\n *   Safe doctype (if with `allowDoctypes`).\n */\nfunction doctype(state, unsafe) {\n  if (state.schema.allowDoctypes) {\n    /** @type {Doctype} */\n    const node = {type: 'doctype'}\n\n    patch(node, unsafe)\n\n    return node\n  }\n}\n\n/**\n * Make a safe element.\n *\n * @param {State} state\n *   Info passed around.\n * @param {Readonly<Record<string, Readonly<unknown>>>} unsafe\n *   Unsafe element-like value.\n * @returns {Array<ElementContent> | Element | undefined}\n *   Safe element.\n */\nfunction element(state, unsafe) {\n  const name = typeof unsafe.tagName === 'string' ? unsafe.tagName : ''\n\n  state.stack.push(name)\n\n  const content = /** @type {Array<ElementContent>} */ (\n    children(state, unsafe.children)\n  )\n  const props = properties(state, unsafe.properties)\n\n  state.stack.pop()\n\n  let safeElement = false\n\n  if (\n    name.length > 0 &&\n    name !== '*' &&\n    (!state.schema.tagNames || state.schema.tagNames.includes(name))\n  ) {\n    safeElement = true\n\n    // Some nodes can break out of their context if they dont have a certain\n    // ancestor.\n    if (state.schema.ancestors && own.call(state.schema.ancestors, name)) {\n      const ancestors = state.schema.ancestors[name]\n      let index = -1\n\n      safeElement = false\n\n      while (++index < ancestors.length) {\n        if (state.stack.includes(ancestors[index])) {\n          safeElement = true\n        }\n      }\n    }\n  }\n\n  if (!safeElement) {\n    return state.schema.strip && !state.schema.strip.includes(name)\n      ? content\n      : undefined\n  }\n\n  /** @type {Element} */\n  const node = {\n    type: 'element',\n    tagName: name,\n    properties: props,\n    children: content\n  }\n\n  patch(node, unsafe)\n\n  return node\n}\n\n/**\n * Make a safe root.\n *\n * @param {State} state\n *   Info passed around.\n * @param {Readonly<Record<string, Readonly<unknown>>>} unsafe\n *   Unsafe root-like value.\n * @returns {Root}\n *   Safe root.\n */\nfunction root(state, unsafe) {\n  const content = /** @type {Array<RootContent>} */ (\n    children(state, unsafe.children)\n  )\n\n  /** @type {Root} */\n  const node = {type: 'root', children: content}\n\n  patch(node, unsafe)\n\n  return node\n}\n\n/**\n * Make a safe text.\n *\n * @param {State} _\n *   Info passed around.\n * @param {Readonly<Record<string, Readonly<unknown>>>} unsafe\n *   Unsafe text-like value.\n * @returns {Text}\n *   Safe text.\n */\nfunction text(_, unsafe) {\n  const value = typeof unsafe.value === 'string' ? unsafe.value : ''\n  /** @type {Text} */\n  const node = {type: 'text', value}\n\n  patch(node, unsafe)\n\n  return node\n}\n\n/**\n * Make children safe.\n *\n * @param {State} state\n *   Info passed around.\n * @param {Readonly<unknown>} children\n *   Unsafe value.\n * @returns {Array<Nodes>}\n *   Safe children.\n */\nfunction children(state, children) {\n  /** @type {Array<Nodes>} */\n  const results = []\n\n  if (Array.isArray(children)) {\n    const childrenUnknown = /** @type {Array<Readonly<unknown>>} */ (children)\n    let index = -1\n\n    while (++index < childrenUnknown.length) {\n      const value = transform(state, childrenUnknown[index])\n\n      if (value) {\n        if (Array.isArray(value)) {\n          results.push(...value)\n        } else {\n          results.push(value)\n        }\n      }\n    }\n  }\n\n  return results\n}\n\n/**\n * Make element properties safe.\n *\n * @param {State} state\n *   Info passed around.\n * @param {Readonly<unknown>} properties\n *   Unsafe value.\n * @returns {Properties}\n *   Safe value.\n */\nfunction properties(state, properties) {\n  const tagName = state.stack[state.stack.length - 1]\n  const attributes = state.schema.attributes\n  const required = state.schema.required\n  const specific =\n    attributes && own.call(attributes, tagName)\n      ? attributes[tagName]\n      : undefined\n  const defaults =\n    attributes && own.call(attributes, '*') ? attributes['*'] : undefined\n  const props = /** @type {Readonly<Record<string, Readonly<unknown>>>} */ (\n    properties && typeof properties === 'object' ? properties : {}\n  )\n  /** @type {Properties} */\n  const result = {}\n  /** @type {string} */\n  let key\n\n  for (key in props) {\n    if (own.call(props, key)) {\n      /** @type {Readonly<PropertyDefinition> | undefined} */\n      let definition\n\n      if (specific) definition = findDefinition(specific, key)\n      if (!definition && defaults) definition = findDefinition(defaults, key)\n\n      if (definition) {\n        const unsafe = props[key]\n        const safe = Array.isArray(unsafe)\n          ? propertyValues(state, definition, key, unsafe)\n          : propertyValue(state, definition, key, unsafe)\n\n        if (safe !== null && safe !== undefined) {\n          result[key] = safe\n        }\n      }\n    }\n  }\n\n  if (required && own.call(required, tagName)) {\n    const properties = required[tagName]\n\n    for (key in properties) {\n      if (own.call(properties, key) && !own.call(result, key)) {\n        result[key] = properties[key]\n      }\n    }\n  }\n\n  return result\n}\n\n/**\n * Sanitize a property value which is a list.\n *\n * @param {State} state\n *   Info passed around.\n * @param {Readonly<PropertyDefinition>} definition\n *   Definition.\n * @param {string} key\n *   Field name.\n * @param {Readonly<Array<Readonly<unknown>>>} values\n *   Unsafe value (but an array).\n * @returns {Array<number | string>}\n *   Safe value.\n */\nfunction propertyValues(state, definition, key, values) {\n  let index = -1\n  /** @type {Array<number | string>} */\n  const result = []\n\n  while (++index < values.length) {\n    const value = propertyValue(state, definition, key, values[index])\n\n    if (typeof value === 'number' || typeof value === 'string') {\n      result.push(value)\n    }\n  }\n\n  return result\n}\n\n/**\n * Sanitize a property value.\n *\n * @param {State} state\n *   Info passed around.\n * @param {Readonly<PropertyDefinition>} definition\n *   Definition.\n * @param {string} key\n *   Field name.\n * @param {Readonly<unknown>} value\n *   Unsafe value (but not an array).\n * @returns {boolean | number | string | undefined}\n *   Safe value.\n */\nfunction propertyValue(state, definition, key, value) {\n  if (\n    typeof value !== 'boolean' &&\n    typeof value !== 'number' &&\n    typeof value !== 'string'\n  ) {\n    return\n  }\n\n  if (!safeProtocol(state, key, value)) {\n    return\n  }\n\n  // Just a string, or only one item in an array, means all values are OK.\n  // More than one item means an allow list.\n  if (typeof definition === 'object' && definition.length > 1) {\n    let ok = false\n    let index = 0 // Ignore `key`, which is the first item.\n\n    while (++index < definition.length) {\n      const allowed = definition[index]\n\n      // Expression.\n      if (allowed && typeof allowed === 'object' && 'flags' in allowed) {\n        if (allowed.test(String(value))) {\n          ok = true\n          break\n        }\n      }\n      // Primitive.\n      else if (allowed === value) {\n        ok = true\n        break\n      }\n    }\n\n    if (!ok) return\n  }\n\n  return state.schema.clobber &&\n    state.schema.clobberPrefix &&\n    state.schema.clobber.includes(key)\n    ? state.schema.clobberPrefix + value\n    : value\n}\n\n/**\n * Check whether `value` is a safe URL.\n *\n * @param {State} state\n *   Info passed around.\n * @param {string} key\n *   Field name.\n * @param {Readonly<unknown>} value\n *   Unsafe value.\n * @returns {boolean}\n *   Whether its a safe value.\n */\nfunction safeProtocol(state, key, value) {\n  const protocols =\n    state.schema.protocols && own.call(state.schema.protocols, key)\n      ? state.schema.protocols[key]\n      : undefined\n\n  // No protocols defined? Then everything is fine.\n  if (!protocols || protocols.length === 0) {\n    return true\n  }\n\n  const url = String(value)\n  const colon = url.indexOf(':')\n  const questionMark = url.indexOf('?')\n  const numberSign = url.indexOf('#')\n  const slash = url.indexOf('/')\n\n  if (\n    colon < 0 ||\n    // If the first colon is after a `?`, `#`, or `/`, its not a protocol.\n    (slash > -1 && colon > slash) ||\n    (questionMark > -1 && colon > questionMark) ||\n    (numberSign > -1 && colon > numberSign)\n  ) {\n    return true\n  }\n\n  let index = -1\n\n  while (++index < protocols.length) {\n    const protocol = protocols[index]\n\n    if (\n      colon === protocol.length &&\n      url.slice(0, protocol.length) === protocol\n    ) {\n      return true\n    }\n  }\n\n  return false\n}\n\n/**\n * Add data and position.\n *\n * @param {Nodes} node\n *   Node to patch safe data and position on.\n * @param {Readonly<Record<string, Readonly<unknown>>>} unsafe\n *   Unsafe node-like value.\n * @returns {undefined}\n *   Nothing.\n */\nfunction patch(node, unsafe) {\n  const cleanPosition = position(\n    // @ts-expect-error: looks like a node.\n    unsafe\n  )\n\n  if (unsafe.data) {\n    node.data = structuredClone(unsafe.data)\n  }\n\n  if (cleanPosition) node.position = cleanPosition\n}\n\n/**\n *\n * @param {Readonly<Array<PropertyDefinition>>} definitions\n * @param {string} key\n * @returns {Readonly<PropertyDefinition> | undefined}\n */\nfunction findDefinition(definitions, key) {\n  /** @type {PropertyDefinition | undefined} */\n  let dataDefault\n  let index = -1\n\n  while (++index < definitions.length) {\n    const entry = definitions[index]\n    const name = typeof entry === 'string' ? entry : entry[0]\n\n    if (name === key) {\n      return entry\n    }\n\n    if (name === 'data*') dataDefault = entry\n  }\n\n  if (key.length > 4 && key.slice(0, 4).toLowerCase() === 'data') {\n    return dataDefault\n  }\n}\n","/**\n * @typedef {import('hast').Root} Root\n * @typedef {import('hast-util-sanitize').Schema} Schema\n */\n\nimport {sanitize} from 'hast-util-sanitize'\n\n/**\n * Sanitize HTML.\n *\n * @param {Schema | null | undefined} [options]\n *   Configuration (optional).\n * @returns\n *   Transform.\n */\nexport default function rehypeSanitize(options) {\n  /**\n   * @param {Root} tree\n   *   Tree.\n   * @returns {Root}\n   *   New tree.\n   */\n  return function (tree) {\n    // Assume root in -> root out.\n    const result = /** @type {Root} */ (sanitize(tree, options))\n    return result\n  }\n}\n","/**\n * List of HTML void tag names.\n *\n * @type {Array<string>}\n */\nexport const htmlVoidElements = [\n  'area',\n  'base',\n  'basefont',\n  'bgsound',\n  'br',\n  'col',\n  'command',\n  'embed',\n  'frame',\n  'hr',\n  'image',\n  'img',\n  'input',\n  'keygen',\n  'link',\n  'meta',\n  'param',\n  'source',\n  'track',\n  'wbr'\n]\n","/**\n * @typedef {import('./info.js').Info} Info\n * @typedef {Record<string, Info>} Properties\n * @typedef {Record<string, string>} Normal\n */\n\nexport class Schema {\n  /**\n   * @constructor\n   * @param {Properties} property\n   * @param {Normal} normal\n   * @param {string} [space]\n   */\n  constructor(property, normal, space) {\n    this.property = property\n    this.normal = normal\n    if (space) {\n      this.space = space\n    }\n  }\n}\n\n/** @type {Properties} */\nSchema.prototype.property = {}\n/** @type {Normal} */\nSchema.prototype.normal = {}\n/** @type {string|null} */\nSchema.prototype.space = null\n","/**\n * @typedef {import('./schema.js').Properties} Properties\n * @typedef {import('./schema.js').Normal} Normal\n */\n\nimport {Schema} from './schema.js'\n\n/**\n * @param {Schema[]} definitions\n * @param {string} [space]\n * @returns {Schema}\n */\nexport function merge(definitions, space) {\n  /** @type {Properties} */\n  const property = {}\n  /** @type {Normal} */\n  const normal = {}\n  let index = -1\n\n  while (++index < definitions.length) {\n    Object.assign(property, definitions[index].property)\n    Object.assign(normal, definitions[index].normal)\n  }\n\n  return new Schema(property, normal, space)\n}\n","/**\n * @param {string} value\n * @returns {string}\n */\nexport function normalize(value) {\n  return value.toLowerCase()\n}\n","export class Info {\n  /**\n   * @constructor\n   * @param {string} property\n   * @param {string} attribute\n   */\n  constructor(property, attribute) {\n    /** @type {string} */\n    this.property = property\n    /** @type {string} */\n    this.attribute = attribute\n  }\n}\n\n/** @type {string|null} */\nInfo.prototype.space = null\nInfo.prototype.boolean = false\nInfo.prototype.booleanish = false\nInfo.prototype.overloadedBoolean = false\nInfo.prototype.number = false\nInfo.prototype.commaSeparated = false\nInfo.prototype.spaceSeparated = false\nInfo.prototype.commaOrSpaceSeparated = false\nInfo.prototype.mustUseProperty = false\nInfo.prototype.defined = false\n","let powers = 0\n\nexport const boolean = increment()\nexport const booleanish = increment()\nexport const overloadedBoolean = increment()\nexport const number = increment()\nexport const spaceSeparated = increment()\nexport const commaSeparated = increment()\nexport const commaOrSpaceSeparated = increment()\n\nfunction increment() {\n  return 2 ** ++powers\n}\n","import {Info} from './info.js'\nimport * as types from './types.js'\n\n/** @type {Array<keyof types>} */\n// @ts-expect-error: hush.\nconst checks = Object.keys(types)\n\nexport class DefinedInfo extends Info {\n  /**\n   * @constructor\n   * @param {string} property\n   * @param {string} attribute\n   * @param {number|null} [mask]\n   * @param {string} [space]\n   */\n  constructor(property, attribute, mask, space) {\n    let index = -1\n\n    super(property, attribute)\n\n    mark(this, 'space', space)\n\n    if (typeof mask === 'number') {\n      while (++index < checks.length) {\n        const check = checks[index]\n        mark(this, checks[index], (mask & types[check]) === types[check])\n      }\n    }\n  }\n}\n\nDefinedInfo.prototype.defined = true\n\n/**\n * @param {DefinedInfo} values\n * @param {string} key\n * @param {unknown} value\n */\nfunction mark(values, key, value) {\n  if (value) {\n    // @ts-expect-error: assume `value` matches the expected value of `key`.\n    values[key] = value\n  }\n}\n","/**\n * @typedef {import('./schema.js').Properties} Properties\n * @typedef {import('./schema.js').Normal} Normal\n *\n * @typedef {Record<string, string>} Attributes\n *\n * @typedef {Object} Definition\n * @property {Record<string, number|null>} properties\n * @property {(attributes: Attributes, property: string) => string} transform\n * @property {string} [space]\n * @property {Attributes} [attributes]\n * @property {Array<string>} [mustUseProperty]\n */\n\nimport {normalize} from '../normalize.js'\nimport {Schema} from './schema.js'\nimport {DefinedInfo} from './defined-info.js'\n\nconst own = {}.hasOwnProperty\n\n/**\n * @param {Definition} definition\n * @returns {Schema}\n */\nexport function create(definition) {\n  /** @type {Properties} */\n  const property = {}\n  /** @type {Normal} */\n  const normal = {}\n  /** @type {string} */\n  let prop\n\n  for (prop in definition.properties) {\n    if (own.call(definition.properties, prop)) {\n      const value = definition.properties[prop]\n      const info = new DefinedInfo(\n        prop,\n        definition.transform(definition.attributes || {}, prop),\n        value,\n        definition.space\n      )\n\n      if (\n        definition.mustUseProperty &&\n        definition.mustUseProperty.includes(prop)\n      ) {\n        info.mustUseProperty = true\n      }\n\n      property[prop] = info\n\n      normal[normalize(prop)] = prop\n      normal[normalize(info.attribute)] = prop\n    }\n  }\n\n  return new Schema(property, normal, definition.space)\n}\n","import {create} from './util/create.js'\n\nexport const xlink = create({\n  space: 'xlink',\n  transform(_, prop) {\n    return 'xlink:' + prop.slice(5).toLowerCase()\n  },\n  properties: {\n    xLinkActuate: null,\n    xLinkArcRole: null,\n    xLinkHref: null,\n    xLinkRole: null,\n    xLinkShow: null,\n    xLinkTitle: null,\n    xLinkType: null\n  }\n})\n","import {create} from './util/create.js'\n\nexport const xml = create({\n  space: 'xml',\n  transform(_, prop) {\n    return 'xml:' + prop.slice(3).toLowerCase()\n  },\n  properties: {xmlLang: null, xmlBase: null, xmlSpace: null}\n})\n","/**\n * @param {Record<string, string>} attributes\n * @param {string} attribute\n * @returns {string}\n */\nexport function caseSensitiveTransform(attributes, attribute) {\n  return attribute in attributes ? attributes[attribute] : attribute\n}\n","import {caseSensitiveTransform} from './case-sensitive-transform.js'\n\n/**\n * @param {Record<string, string>} attributes\n * @param {string} property\n * @returns {string}\n */\nexport function caseInsensitiveTransform(attributes, property) {\n  return caseSensitiveTransform(attributes, property.toLowerCase())\n}\n","import {create} from './util/create.js'\nimport {caseInsensitiveTransform} from './util/case-insensitive-transform.js'\n\nexport const xmlns = create({\n  space: 'xmlns',\n  attributes: {xmlnsxlink: 'xmlns:xlink'},\n  transform: caseInsensitiveTransform,\n  properties: {xmlns: null, xmlnsXLink: null}\n})\n","import {booleanish, number, spaceSeparated} from './util/types.js'\nimport {create} from './util/create.js'\n\nexport const aria = create({\n  transform(_, prop) {\n    return prop === 'role' ? prop : 'aria-' + prop.slice(4).toLowerCase()\n  },\n  properties: {\n    ariaActiveDescendant: null,\n    ariaAtomic: booleanish,\n    ariaAutoComplete: null,\n    ariaBusy: booleanish,\n    ariaChecked: booleanish,\n    ariaColCount: number,\n    ariaColIndex: number,\n    ariaColSpan: number,\n    ariaControls: spaceSeparated,\n    ariaCurrent: null,\n    ariaDescribedBy: spaceSeparated,\n    ariaDetails: null,\n    ariaDisabled: booleanish,\n    ariaDropEffect: spaceSeparated,\n    ariaErrorMessage: null,\n    ariaExpanded: booleanish,\n    ariaFlowTo: spaceSeparated,\n    ariaGrabbed: booleanish,\n    ariaHasPopup: null,\n    ariaHidden: booleanish,\n    ariaInvalid: null,\n    ariaKeyShortcuts: null,\n    ariaLabel: null,\n    ariaLabelledBy: spaceSeparated,\n    ariaLevel: number,\n    ariaLive: null,\n    ariaModal: booleanish,\n    ariaMultiLine: booleanish,\n    ariaMultiSelectable: booleanish,\n    ariaOrientation: null,\n    ariaOwns: spaceSeparated,\n    ariaPlaceholder: null,\n    ariaPosInSet: number,\n    ariaPressed: booleanish,\n    ariaReadOnly: booleanish,\n    ariaRelevant: null,\n    ariaRequired: booleanish,\n    ariaRoleDescription: spaceSeparated,\n    ariaRowCount: number,\n    ariaRowIndex: number,\n    ariaRowSpan: number,\n    ariaSelected: booleanish,\n    ariaSetSize: number,\n    ariaSort: null,\n    ariaValueMax: number,\n    ariaValueMin: number,\n    ariaValueNow: number,\n    ariaValueText: null,\n    role: null\n  }\n})\n","import {\n  boolean,\n  overloadedBoolean,\n  booleanish,\n  number,\n  spaceSeparated,\n  commaSeparated\n} from './util/types.js'\nimport {create} from './util/create.js'\nimport {caseInsensitiveTransform} from './util/case-insensitive-transform.js'\n\nexport const html = create({\n  space: 'html',\n  attributes: {\n    acceptcharset: 'accept-charset',\n    classname: 'class',\n    htmlfor: 'for',\n    httpequiv: 'http-equiv'\n  },\n  transform: caseInsensitiveTransform,\n  mustUseProperty: ['checked', 'multiple', 'muted', 'selected'],\n  properties: {\n    // Standard Properties.\n    abbr: null,\n    accept: commaSeparated,\n    acceptCharset: spaceSeparated,\n    accessKey: spaceSeparated,\n    action: null,\n    allow: null,\n    allowFullScreen: boolean,\n    allowPaymentRequest: boolean,\n    allowUserMedia: boolean,\n    alt: null,\n    as: null,\n    async: boolean,\n    autoCapitalize: null,\n    autoComplete: spaceSeparated,\n    autoFocus: boolean,\n    autoPlay: boolean,\n    blocking: spaceSeparated,\n    capture: boolean,\n    charSet: null,\n    checked: boolean,\n    cite: null,\n    className: spaceSeparated,\n    cols: number,\n    colSpan: null,\n    content: null,\n    contentEditable: booleanish,\n    controls: boolean,\n    controlsList: spaceSeparated,\n    coords: number | commaSeparated,\n    crossOrigin: null,\n    data: null,\n    dateTime: null,\n    decoding: null,\n    default: boolean,\n    defer: boolean,\n    dir: null,\n    dirName: null,\n    disabled: boolean,\n    download: overloadedBoolean,\n    draggable: booleanish,\n    encType: null,\n    enterKeyHint: null,\n    fetchPriority: null,\n    form: null,\n    formAction: null,\n    formEncType: null,\n    formMethod: null,\n    formNoValidate: boolean,\n    formTarget: null,\n    headers: spaceSeparated,\n    height: number,\n    hidden: boolean,\n    high: number,\n    href: null,\n    hrefLang: null,\n    htmlFor: spaceSeparated,\n    httpEquiv: spaceSeparated,\n    id: null,\n    imageSizes: null,\n    imageSrcSet: null,\n    inert: boolean,\n    inputMode: null,\n    integrity: null,\n    is: null,\n    isMap: boolean,\n    itemId: null,\n    itemProp: spaceSeparated,\n    itemRef: spaceSeparated,\n    itemScope: boolean,\n    itemType: spaceSeparated,\n    kind: null,\n    label: null,\n    lang: null,\n    language: null,\n    list: null,\n    loading: null,\n    loop: boolean,\n    low: number,\n    manifest: null,\n    max: null,\n    maxLength: number,\n    media: null,\n    method: null,\n    min: null,\n    minLength: number,\n    multiple: boolean,\n    muted: boolean,\n    name: null,\n    nonce: null,\n    noModule: boolean,\n    noValidate: boolean,\n    onAbort: null,\n    onAfterPrint: null,\n    onAuxClick: null,\n    onBeforeMatch: null,\n    onBeforePrint: null,\n    onBeforeUnload: null,\n    onBlur: null,\n    onCancel: null,\n    onCanPlay: null,\n    onCanPlayThrough: null,\n    onChange: null,\n    onClick: null,\n    onClose: null,\n    onContextLost: null,\n    onContextMenu: null,\n    onContextRestored: null,\n    onCopy: null,\n    onCueChange: null,\n    onCut: null,\n    onDblClick: null,\n    onDrag: null,\n    onDragEnd: null,\n    onDragEnter: null,\n    onDragExit: null,\n    onDragLeave: null,\n    onDragOver: null,\n    onDragStart: null,\n    onDrop: null,\n    onDurationChange: null,\n    onEmptied: null,\n    onEnded: null,\n    onError: null,\n    onFocus: null,\n    onFormData: null,\n    onHashChange: null,\n    onInput: null,\n    onInvalid: null,\n    onKeyDown: null,\n    onKeyPress: null,\n    onKeyUp: null,\n    onLanguageChange: null,\n    onLoad: null,\n    onLoadedData: null,\n    onLoadedMetadata: null,\n    onLoadEnd: null,\n    onLoadStart: null,\n    onMessage: null,\n    onMessageError: null,\n    onMouseDown: null,\n    onMouseEnter: null,\n    onMouseLeave: null,\n    onMouseMove: null,\n    onMouseOut: null,\n    onMouseOver: null,\n    onMouseUp: null,\n    onOffline: null,\n    onOnline: null,\n    onPageHide: null,\n    onPageShow: null,\n    onPaste: null,\n    onPause: null,\n    onPlay: null,\n    onPlaying: null,\n    onPopState: null,\n    onProgress: null,\n    onRateChange: null,\n    onRejectionHandled: null,\n    onReset: null,\n    onResize: null,\n    onScroll: null,\n    onScrollEnd: null,\n    onSecurityPolicyViolation: null,\n    onSeeked: null,\n    onSeeking: null,\n    onSelect: null,\n    onSlotChange: null,\n    onStalled: null,\n    onStorage: null,\n    onSubmit: null,\n    onSuspend: null,\n    onTimeUpdate: null,\n    onToggle: null,\n    onUnhandledRejection: null,\n    onUnload: null,\n    onVolumeChange: null,\n    onWaiting: null,\n    onWheel: null,\n    open: boolean,\n    optimum: number,\n    pattern: null,\n    ping: spaceSeparated,\n    placeholder: null,\n    playsInline: boolean,\n    popover: null,\n    popoverTarget: null,\n    popoverTargetAction: null,\n    poster: null,\n    preload: null,\n    readOnly: boolean,\n    referrerPolicy: null,\n    rel: spaceSeparated,\n    required: boolean,\n    reversed: boolean,\n    rows: number,\n    rowSpan: number,\n    sandbox: spaceSeparated,\n    scope: null,\n    scoped: boolean,\n    seamless: boolean,\n    selected: boolean,\n    shape: null,\n    size: number,\n    sizes: null,\n    slot: null,\n    span: number,\n    spellCheck: booleanish,\n    src: null,\n    srcDoc: null,\n    srcLang: null,\n    srcSet: null,\n    start: number,\n    step: null,\n    style: null,\n    tabIndex: number,\n    target: null,\n    title: null,\n    translate: null,\n    type: null,\n    typeMustMatch: boolean,\n    useMap: null,\n    value: booleanish,\n    width: number,\n    wrap: null,\n\n    // Legacy.\n    // See: https://html.spec.whatwg.org/#other-elements,-attributes-and-apis\n    align: null, // Several. Use CSS `text-align` instead,\n    aLink: null, // `<body>`. Use CSS `a:active {color}` instead\n    archive: spaceSeparated, // `<object>`. List of URIs to archives\n    axis: null, // `<td>` and `<th>`. Use `scope` on `<th>`\n    background: null, // `<body>`. Use CSS `background-image` instead\n    bgColor: null, // `<body>` and table elements. Use CSS `background-color` instead\n    border: number, // `<table>`. Use CSS `border-width` instead,\n    borderColor: null, // `<table>`. Use CSS `border-color` instead,\n    bottomMargin: number, // `<body>`\n    cellPadding: null, // `<table>`\n    cellSpacing: null, // `<table>`\n    char: null, // Several table elements. When `align=char`, sets the character to align on\n    charOff: null, // Several table elements. When `char`, offsets the alignment\n    classId: null, // `<object>`\n    clear: null, // `<br>`. Use CSS `clear` instead\n    code: null, // `<object>`\n    codeBase: null, // `<object>`\n    codeType: null, // `<object>`\n    color: null, // `<font>` and `<hr>`. Use CSS instead\n    compact: boolean, // Lists. Use CSS to reduce space between items instead\n    declare: boolean, // `<object>`\n    event: null, // `<script>`\n    face: null, // `<font>`. Use CSS instead\n    frame: null, // `<table>`\n    frameBorder: null, // `<iframe>`. Use CSS `border` instead\n    hSpace: number, // `<img>` and `<object>`\n    leftMargin: number, // `<body>`\n    link: null, // `<body>`. Use CSS `a:link {color: *}` instead\n    longDesc: null, // `<frame>`, `<iframe>`, and `<img>`. Use an `<a>`\n    lowSrc: null, // `<img>`. Use a `<picture>`\n    marginHeight: number, // `<body>`\n    marginWidth: number, // `<body>`\n    noResize: boolean, // `<frame>`\n    noHref: boolean, // `<area>`. Use no href instead of an explicit `nohref`\n    noShade: boolean, // `<hr>`. Use background-color and height instead of borders\n    noWrap: boolean, // `<td>` and `<th>`\n    object: null, // `<applet>`\n    profile: null, // `<head>`\n    prompt: null, // `<isindex>`\n    rev: null, // `<link>`\n    rightMargin: number, // `<body>`\n    rules: null, // `<table>`\n    scheme: null, // `<meta>`\n    scrolling: booleanish, // `<frame>`. Use overflow in the child context\n    standby: null, // `<object>`\n    summary: null, // `<table>`\n    text: null, // `<body>`. Use CSS `color` instead\n    topMargin: number, // `<body>`\n    valueType: null, // `<param>`\n    version: null, // `<html>`. Use a doctype.\n    vAlign: null, // Several. Use CSS `vertical-align` instead\n    vLink: null, // `<body>`. Use CSS `a:visited {color}` instead\n    vSpace: number, // `<img>` and `<object>`\n\n    // Non-standard Properties.\n    allowTransparency: null,\n    autoCorrect: null,\n    autoSave: null,\n    disablePictureInPicture: boolean,\n    disableRemotePlayback: boolean,\n    prefix: null,\n    property: null,\n    results: number,\n    security: null,\n    unselectable: null\n  }\n})\n","import {\n  boolean,\n  number,\n  spaceSeparated,\n  commaSeparated,\n  commaOrSpaceSeparated\n} from './util/types.js'\nimport {create} from './util/create.js'\nimport {caseSensitiveTransform} from './util/case-sensitive-transform.js'\n\nexport const svg = create({\n  space: 'svg',\n  attributes: {\n    accentHeight: 'accent-height',\n    alignmentBaseline: 'alignment-baseline',\n    arabicForm: 'arabic-form',\n    baselineShift: 'baseline-shift',\n    capHeight: 'cap-height',\n    className: 'class',\n    clipPath: 'clip-path',\n    clipRule: 'clip-rule',\n    colorInterpolation: 'color-interpolation',\n    colorInterpolationFilters: 'color-interpolation-filters',\n    colorProfile: 'color-profile',\n    colorRendering: 'color-rendering',\n    crossOrigin: 'crossorigin',\n    dataType: 'datatype',\n    dominantBaseline: 'dominant-baseline',\n    enableBackground: 'enable-background',\n    fillOpacity: 'fill-opacity',\n    fillRule: 'fill-rule',\n    floodColor: 'flood-color',\n    floodOpacity: 'flood-opacity',\n    fontFamily: 'font-family',\n    fontSize: 'font-size',\n    fontSizeAdjust: 'font-size-adjust',\n    fontStretch: 'font-stretch',\n    fontStyle: 'font-style',\n    fontVariant: 'font-variant',\n    fontWeight: 'font-weight',\n    glyphName: 'glyph-name',\n    glyphOrientationHorizontal: 'glyph-orientation-horizontal',\n    glyphOrientationVertical: 'glyph-orientation-vertical',\n    hrefLang: 'hreflang',\n    horizAdvX: 'horiz-adv-x',\n    horizOriginX: 'horiz-origin-x',\n    horizOriginY: 'horiz-origin-y',\n    imageRendering: 'image-rendering',\n    letterSpacing: 'letter-spacing',\n    lightingColor: 'lighting-color',\n    markerEnd: 'marker-end',\n    markerMid: 'marker-mid',\n    markerStart: 'marker-start',\n    navDown: 'nav-down',\n    navDownLeft: 'nav-down-left',\n    navDownRight: 'nav-down-right',\n    navLeft: 'nav-left',\n    navNext: 'nav-next',\n    navPrev: 'nav-prev',\n    navRight: 'nav-right',\n    navUp: 'nav-up',\n    navUpLeft: 'nav-up-left',\n    navUpRight: 'nav-up-right',\n    onAbort: 'onabort',\n    onActivate: 'onactivate',\n    onAfterPrint: 'onafterprint',\n    onBeforePrint: 'onbeforeprint',\n    onBegin: 'onbegin',\n    onCancel: 'oncancel',\n    onCanPlay: 'oncanplay',\n    onCanPlayThrough: 'oncanplaythrough',\n    onChange: 'onchange',\n    onClick: 'onclick',\n    onClose: 'onclose',\n    onCopy: 'oncopy',\n    onCueChange: 'oncuechange',\n    onCut: 'oncut',\n    onDblClick: 'ondblclick',\n    onDrag: 'ondrag',\n    onDragEnd: 'ondragend',\n    onDragEnter: 'ondragenter',\n    onDragExit: 'ondragexit',\n    onDragLeave: 'ondragleave',\n    onDragOver: 'ondragover',\n    onDragStart: 'ondragstart',\n    onDrop: 'ondrop',\n    onDurationChange: 'ondurationchange',\n    onEmptied: 'onemptied',\n    onEnd: 'onend',\n    onEnded: 'onended',\n    onError: 'onerror',\n    onFocus: 'onfocus',\n    onFocusIn: 'onfocusin',\n    onFocusOut: 'onfocusout',\n    onHashChange: 'onhashchange',\n    onInput: 'oninput',\n    onInvalid: 'oninvalid',\n    onKeyDown: 'onkeydown',\n    onKeyPress: 'onkeypress',\n    onKeyUp: 'onkeyup',\n    onLoad: 'onload',\n    onLoadedData: 'onloadeddata',\n    onLoadedMetadata: 'onloadedmetadata',\n    onLoadStart: 'onloadstart',\n    onMessage: 'onmessage',\n    onMouseDown: 'onmousedown',\n    onMouseEnter: 'onmouseenter',\n    onMouseLeave: 'onmouseleave',\n    onMouseMove: 'onmousemove',\n    onMouseOut: 'onmouseout',\n    onMouseOver: 'onmouseover',\n    onMouseUp: 'onmouseup',\n    onMouseWheel: 'onmousewheel',\n    onOffline: 'onoffline',\n    onOnline: 'ononline',\n    onPageHide: 'onpagehide',\n    onPageShow: 'onpageshow',\n    onPaste: 'onpaste',\n    onPause: 'onpause',\n    onPlay: 'onplay',\n    onPlaying: 'onplaying',\n    onPopState: 'onpopstate',\n    onProgress: 'onprogress',\n    onRateChange: 'onratechange',\n    onRepeat: 'onrepeat',\n    onReset: 'onreset',\n    onResize: 'onresize',\n    onScroll: 'onscroll',\n    onSeeked: 'onseeked',\n    onSeeking: 'onseeking',\n    onSelect: 'onselect',\n    onShow: 'onshow',\n    onStalled: 'onstalled',\n    onStorage: 'onstorage',\n    onSubmit: 'onsubmit',\n    onSuspend: 'onsuspend',\n    onTimeUpdate: 'ontimeupdate',\n    onToggle: 'ontoggle',\n    onUnload: 'onunload',\n    onVolumeChange: 'onvolumechange',\n    onWaiting: 'onwaiting',\n    onZoom: 'onzoom',\n    overlinePosition: 'overline-position',\n    overlineThickness: 'overline-thickness',\n    paintOrder: 'paint-order',\n    panose1: 'panose-1',\n    pointerEvents: 'pointer-events',\n    referrerPolicy: 'referrerpolicy',\n    renderingIntent: 'rendering-intent',\n    shapeRendering: 'shape-rendering',\n    stopColor: 'stop-color',\n    stopOpacity: 'stop-opacity',\n    strikethroughPosition: 'strikethrough-position',\n    strikethroughThickness: 'strikethrough-thickness',\n    strokeDashArray: 'stroke-dasharray',\n    strokeDashOffset: 'stroke-dashoffset',\n    strokeLineCap: 'stroke-linecap',\n    strokeLineJoin: 'stroke-linejoin',\n    strokeMiterLimit: 'stroke-miterlimit',\n    strokeOpacity: 'stroke-opacity',\n    strokeWidth: 'stroke-width',\n    tabIndex: 'tabindex',\n    textAnchor: 'text-anchor',\n    textDecoration: 'text-decoration',\n    textRendering: 'text-rendering',\n    transformOrigin: 'transform-origin',\n    typeOf: 'typeof',\n    underlinePosition: 'underline-position',\n    underlineThickness: 'underline-thickness',\n    unicodeBidi: 'unicode-bidi',\n    unicodeRange: 'unicode-range',\n    unitsPerEm: 'units-per-em',\n    vAlphabetic: 'v-alphabetic',\n    vHanging: 'v-hanging',\n    vIdeographic: 'v-ideographic',\n    vMathematical: 'v-mathematical',\n    vectorEffect: 'vector-effect',\n    vertAdvY: 'vert-adv-y',\n    vertOriginX: 'vert-origin-x',\n    vertOriginY: 'vert-origin-y',\n    wordSpacing: 'word-spacing',\n    writingMode: 'writing-mode',\n    xHeight: 'x-height',\n    // These were camelcased in Tiny. Now lowercased in SVG 2\n    playbackOrder: 'playbackorder',\n    timelineBegin: 'timelinebegin'\n  },\n  transform: caseSensitiveTransform,\n  properties: {\n    about: commaOrSpaceSeparated,\n    accentHeight: number,\n    accumulate: null,\n    additive: null,\n    alignmentBaseline: null,\n    alphabetic: number,\n    amplitude: number,\n    arabicForm: null,\n    ascent: number,\n    attributeName: null,\n    attributeType: null,\n    azimuth: number,\n    bandwidth: null,\n    baselineShift: null,\n    baseFrequency: null,\n    baseProfile: null,\n    bbox: null,\n    begin: null,\n    bias: number,\n    by: null,\n    calcMode: null,\n    capHeight: number,\n    className: spaceSeparated,\n    clip: null,\n    clipPath: null,\n    clipPathUnits: null,\n    clipRule: null,\n    color: null,\n    colorInterpolation: null,\n    colorInterpolationFilters: null,\n    colorProfile: null,\n    colorRendering: null,\n    content: null,\n    contentScriptType: null,\n    contentStyleType: null,\n    crossOrigin: null,\n    cursor: null,\n    cx: null,\n    cy: null,\n    d: null,\n    dataType: null,\n    defaultAction: null,\n    descent: number,\n    diffuseConstant: number,\n    direction: null,\n    display: null,\n    dur: null,\n    divisor: number,\n    dominantBaseline: null,\n    download: boolean,\n    dx: null,\n    dy: null,\n    edgeMode: null,\n    editable: null,\n    elevation: number,\n    enableBackground: null,\n    end: null,\n    event: null,\n    exponent: number,\n    externalResourcesRequired: null,\n    fill: null,\n    fillOpacity: number,\n    fillRule: null,\n    filter: null,\n    filterRes: null,\n    filterUnits: null,\n    floodColor: null,\n    floodOpacity: null,\n    focusable: null,\n    focusHighlight: null,\n    fontFamily: null,\n    fontSize: null,\n    fontSizeAdjust: null,\n    fontStretch: null,\n    fontStyle: null,\n    fontVariant: null,\n    fontWeight: null,\n    format: null,\n    fr: null,\n    from: null,\n    fx: null,\n    fy: null,\n    g1: commaSeparated,\n    g2: commaSeparated,\n    glyphName: commaSeparated,\n    glyphOrientationHorizontal: null,\n    glyphOrientationVertical: null,\n    glyphRef: null,\n    gradientTransform: null,\n    gradientUnits: null,\n    handler: null,\n    hanging: number,\n    hatchContentUnits: null,\n    hatchUnits: null,\n    height: null,\n    href: null,\n    hrefLang: null,\n    horizAdvX: number,\n    horizOriginX: number,\n    horizOriginY: number,\n    id: null,\n    ideographic: number,\n    imageRendering: null,\n    initialVisibility: null,\n    in: null,\n    in2: null,\n    intercept: number,\n    k: number,\n    k1: number,\n    k2: number,\n    k3: number,\n    k4: number,\n    kernelMatrix: commaOrSpaceSeparated,\n    kernelUnitLength: null,\n    keyPoints: null, // SEMI_COLON_SEPARATED\n    keySplines: null, // SEMI_COLON_SEPARATED\n    keyTimes: null, // SEMI_COLON_SEPARATED\n    kerning: null,\n    lang: null,\n    lengthAdjust: null,\n    letterSpacing: null,\n    lightingColor: null,\n    limitingConeAngle: number,\n    local: null,\n    markerEnd: null,\n    markerMid: null,\n    markerStart: null,\n    markerHeight: null,\n    markerUnits: null,\n    markerWidth: null,\n    mask: null,\n    maskContentUnits: null,\n    maskUnits: null,\n    mathematical: null,\n    max: null,\n    media: null,\n    mediaCharacterEncoding: null,\n    mediaContentEncodings: null,\n    mediaSize: number,\n    mediaTime: null,\n    method: null,\n    min: null,\n    mode: null,\n    name: null,\n    navDown: null,\n    navDownLeft: null,\n    navDownRight: null,\n    navLeft: null,\n    navNext: null,\n    navPrev: null,\n    navRight: null,\n    navUp: null,\n    navUpLeft: null,\n    navUpRight: null,\n    numOctaves: null,\n    observer: null,\n    offset: null,\n    onAbort: null,\n    onActivate: null,\n    onAfterPrint: null,\n    onBeforePrint: null,\n    onBegin: null,\n    onCancel: null,\n    onCanPlay: null,\n    onCanPlayThrough: null,\n    onChange: null,\n    onClick: null,\n    onClose: null,\n    onCopy: null,\n    onCueChange: null,\n    onCut: null,\n    onDblClick: null,\n    onDrag: null,\n    onDragEnd: null,\n    onDragEnter: null,\n    onDragExit: null,\n    onDragLeave: null,\n    onDragOver: null,\n    onDragStart: null,\n    onDrop: null,\n    onDurationChange: null,\n    onEmptied: null,\n    onEnd: null,\n    onEnded: null,\n    onError: null,\n    onFocus: null,\n    onFocusIn: null,\n    onFocusOut: null,\n    onHashChange: null,\n    onInput: null,\n    onInvalid: null,\n    onKeyDown: null,\n    onKeyPress: null,\n    onKeyUp: null,\n    onLoad: null,\n    onLoadedData: null,\n    onLoadedMetadata: null,\n    onLoadStart: null,\n    onMessage: null,\n    onMouseDown: null,\n    onMouseEnter: null,\n    onMouseLeave: null,\n    onMouseMove: null,\n    onMouseOut: null,\n    onMouseOver: null,\n    onMouseUp: null,\n    onMouseWheel: null,\n    onOffline: null,\n    onOnline: null,\n    onPageHide: null,\n    onPageShow: null,\n    onPaste: null,\n    onPause: null,\n    onPlay: null,\n    onPlaying: null,\n    onPopState: null,\n    onProgress: null,\n    onRateChange: null,\n    onRepeat: null,\n    onReset: null,\n    onResize: null,\n    onScroll: null,\n    onSeeked: null,\n    onSeeking: null,\n    onSelect: null,\n    onShow: null,\n    onStalled: null,\n    onStorage: null,\n    onSubmit: null,\n    onSuspend: null,\n    onTimeUpdate: null,\n    onToggle: null,\n    onUnload: null,\n    onVolumeChange: null,\n    onWaiting: null,\n    onZoom: null,\n    opacity: null,\n    operator: null,\n    order: null,\n    orient: null,\n    orientation: null,\n    origin: null,\n    overflow: null,\n    overlay: null,\n    overlinePosition: number,\n    overlineThickness: number,\n    paintOrder: null,\n    panose1: null,\n    path: null,\n    pathLength: number,\n    patternContentUnits: null,\n    patternTransform: null,\n    patternUnits: null,\n    phase: null,\n    ping: spaceSeparated,\n    pitch: null,\n    playbackOrder: null,\n    pointerEvents: null,\n    points: null,\n    pointsAtX: number,\n    pointsAtY: number,\n    pointsAtZ: number,\n    preserveAlpha: null,\n    preserveAspectRatio: null,\n    primitiveUnits: null,\n    propagate: null,\n    property: commaOrSpaceSeparated,\n    r: null,\n    radius: null,\n    referrerPolicy: null,\n    refX: null,\n    refY: null,\n    rel: commaOrSpaceSeparated,\n    rev: commaOrSpaceSeparated,\n    renderingIntent: null,\n    repeatCount: null,\n    repeatDur: null,\n    requiredExtensions: commaOrSpaceSeparated,\n    requiredFeatures: commaOrSpaceSeparated,\n    requiredFonts: commaOrSpaceSeparated,\n    requiredFormats: commaOrSpaceSeparated,\n    resource: null,\n    restart: null,\n    result: null,\n    rotate: null,\n    rx: null,\n    ry: null,\n    scale: null,\n    seed: null,\n    shapeRendering: null,\n    side: null,\n    slope: null,\n    snapshotTime: null,\n    specularConstant: number,\n    specularExponent: number,\n    spreadMethod: null,\n    spacing: null,\n    startOffset: null,\n    stdDeviation: null,\n    stemh: null,\n    stemv: null,\n    stitchTiles: null,\n    stopColor: null,\n    stopOpacity: null,\n    strikethroughPosition: number,\n    strikethroughThickness: number,\n    string: null,\n    stroke: null,\n    strokeDashArray: commaOrSpaceSeparated,\n    strokeDashOffset: null,\n    strokeLineCap: null,\n    strokeLineJoin: null,\n    strokeMiterLimit: number,\n    strokeOpacity: number,\n    strokeWidth: null,\n    style: null,\n    surfaceScale: number,\n    syncBehavior: null,\n    syncBehaviorDefault: null,\n    syncMaster: null,\n    syncTolerance: null,\n    syncToleranceDefault: null,\n    systemLanguage: commaOrSpaceSeparated,\n    tabIndex: number,\n    tableValues: null,\n    target: null,\n    targetX: number,\n    targetY: number,\n    textAnchor: null,\n    textDecoration: null,\n    textRendering: null,\n    textLength: null,\n    timelineBegin: null,\n    title: null,\n    transformBehavior: null,\n    type: null,\n    typeOf: commaOrSpaceSeparated,\n    to: null,\n    transform: null,\n    transformOrigin: null,\n    u1: null,\n    u2: null,\n    underlinePosition: number,\n    underlineThickness: number,\n    unicode: null,\n    unicodeBidi: null,\n    unicodeRange: null,\n    unitsPerEm: number,\n    values: null,\n    vAlphabetic: number,\n    vMathematical: number,\n    vectorEffect: null,\n    vHanging: number,\n    vIdeographic: number,\n    version: null,\n    vertAdvY: number,\n    vertOriginX: number,\n    vertOriginY: number,\n    viewBox: null,\n    viewTarget: null,\n    visibility: null,\n    width: null,\n    widths: null,\n    wordSpacing: null,\n    writingMode: null,\n    x: null,\n    x1: null,\n    x2: null,\n    xChannelSelector: null,\n    xHeight: number,\n    y: null,\n    y1: null,\n    y2: null,\n    yChannelSelector: null,\n    z: null,\n    zoomAndPan: null\n  }\n})\n","/**\n * @typedef {import('./util/schema.js').Schema} Schema\n */\n\nimport {normalize} from './normalize.js'\nimport {DefinedInfo} from './util/defined-info.js'\nimport {Info} from './util/info.js'\n\nconst valid = /^data[-\\w.:]+$/i\nconst dash = /-[a-z]/g\nconst cap = /[A-Z]/g\n\n/**\n * @param {Schema} schema\n * @param {string} value\n * @returns {Info}\n */\nexport function find(schema, value) {\n  const normal = normalize(value)\n  let prop = value\n  let Type = Info\n\n  if (normal in schema.normal) {\n    return schema.property[schema.normal[normal]]\n  }\n\n  if (normal.length > 4 && normal.slice(0, 4) === 'data' && valid.test(value)) {\n    // Attribute or property.\n    if (value.charAt(4) === '-') {\n      // Turn it into a property.\n      const rest = value.slice(5).replace(dash, camelcase)\n      prop = 'data' + rest.charAt(0).toUpperCase() + rest.slice(1)\n    } else {\n      // Turn it into an attribute.\n      const rest = value.slice(4)\n\n      if (!dash.test(rest)) {\n        let dashes = rest.replace(cap, kebab)\n\n        if (dashes.charAt(0) !== '-') {\n          dashes = '-' + dashes\n        }\n\n        value = 'data' + dashes\n      }\n    }\n\n    Type = DefinedInfo\n  }\n\n  return new Type(prop, value)\n}\n\n/**\n * @param {string} $0\n * @returns {string}\n */\nfunction kebab($0) {\n  return '-' + $0.toLowerCase()\n}\n\n/**\n * @param {string} $0\n * @returns {string}\n */\nfunction camelcase($0) {\n  return $0.charAt(1).toUpperCase()\n}\n","/**\n * @typedef {import('./lib/util/info.js').Info} Info\n * @typedef {import('./lib/util/schema.js').Schema} Schema\n */\n\nimport {merge} from './lib/util/merge.js'\nimport {xlink} from './lib/xlink.js'\nimport {xml} from './lib/xml.js'\nimport {xmlns} from './lib/xmlns.js'\nimport {aria} from './lib/aria.js'\nimport {html as htmlBase} from './lib/html.js'\nimport {svg as svgBase} from './lib/svg.js'\n\nexport {find} from './lib/find.js'\nexport {hastToReact} from './lib/hast-to-react.js'\nexport {normalize} from './lib/normalize.js'\nexport const html = merge([xml, xlink, xmlns, aria, htmlBase], 'html')\nexport const svg = merge([xml, xlink, xmlns, aria, svgBase], 'svg')\n","/**\n * @callback Handler\n *   Handle a value, with a certain ID field set to a certain value.\n *   The ID field is passed to `zwitch`, and its value is this functions\n *   place on the `handlers` record.\n * @param {...any} parameters\n *   Arbitrary parameters passed to the zwitch.\n *   The first will be an object with a certain ID field set to a certain value.\n * @returns {any}\n *   Anything!\n */\n\n/**\n * @callback UnknownHandler\n *   Handle values that do have a certain ID field, but its set to a value\n *   that is not listed in the `handlers` record.\n * @param {unknown} value\n *   An object with a certain ID field set to an unknown value.\n * @param {...any} rest\n *   Arbitrary parameters passed to the zwitch.\n * @returns {any}\n *   Anything!\n */\n\n/**\n * @callback InvalidHandler\n *   Handle values that do not have a certain ID field.\n * @param {unknown} value\n *   Any unknown value.\n * @param {...any} rest\n *   Arbitrary parameters passed to the zwitch.\n * @returns {void|null|undefined|never}\n *   This should crash or return nothing.\n */\n\n/**\n * @template {InvalidHandler} [Invalid=InvalidHandler]\n * @template {UnknownHandler} [Unknown=UnknownHandler]\n * @template {Record<string, Handler>} [Handlers=Record<string, Handler>]\n * @typedef Options\n *   Configuration (required).\n * @property {Invalid} [invalid]\n *   Handler to use for invalid values.\n * @property {Unknown} [unknown]\n *   Handler to use for unknown values.\n * @property {Handlers} [handlers]\n *   Handlers to use.\n */\n\nconst own = {}.hasOwnProperty\n\n/**\n * Handle values based on a field.\n *\n * @template {InvalidHandler} [Invalid=InvalidHandler]\n * @template {UnknownHandler} [Unknown=UnknownHandler]\n * @template {Record<string, Handler>} [Handlers=Record<string, Handler>]\n * @param {string} key\n *   Field to switch on.\n * @param {Options<Invalid, Unknown, Handlers>} [options]\n *   Configuration (required).\n * @returns {{unknown: Unknown, invalid: Invalid, handlers: Handlers, (...parameters: Parameters<Handlers[keyof Handlers]>): ReturnType<Handlers[keyof Handlers]>, (...parameters: Parameters<Unknown>): ReturnType<Unknown>}}\n */\nexport function zwitch(key, options) {\n  const settings = options || {}\n\n  /**\n   * Handle one value.\n   *\n   * Based on the bound `key`, a respective handler will be called.\n   * If `value` is not an object, or doesnt have a `key` property, the special\n   * invalid handler will be called.\n   * If `value` has an unknown `key`, the special unknown handler will be\n   * called.\n   *\n   * All arguments, and the context object, are passed through to the handler,\n   * and its result is returned.\n   *\n   * @this {unknown}\n   *   Any context object.\n   * @param {unknown} [value]\n   *   Any value.\n   * @param {...unknown} parameters\n   *   Arbitrary parameters passed to the zwitch.\n   * @property {Handler} invalid\n   *   Handle for values that do not have a certain ID field.\n   * @property {Handler} unknown\n   *   Handle values that do have a certain ID field, but its set to a value\n   *   that is not listed in the `handlers` record.\n   * @property {Handlers} handlers\n   *   Record of handlers.\n   * @returns {unknown}\n   *   Anything.\n   */\n  function one(value, ...parameters) {\n    /** @type {Handler|undefined} */\n    let fn = one.invalid\n    const handlers = one.handlers\n\n    if (value && own.call(value, key)) {\n      // @ts-expect-error Indexable.\n      const id = String(value[key])\n      // @ts-expect-error Indexable.\n      fn = own.call(handlers, id) ? handlers[id] : one.unknown\n    }\n\n    if (fn) {\n      return fn.call(this, value, ...parameters)\n    }\n  }\n\n  one.handlers = settings.handlers || {}\n  one.invalid = settings.invalid\n  one.unknown = settings.unknown\n\n  // @ts-expect-error: matches!\n  return one\n}\n","/**\n * @typedef CoreOptions\n * @property {Array<string>} [subset=[]]\n *   Whether to only escape the given subset of characters.\n * @property {boolean} [escapeOnly=false]\n *   Whether to only escape possibly dangerous characters.\n *   Those characters are `\"`, `&`, `'`, `<`, `>`, and `` ` ``.\n *\n * @typedef FormatOptions\n * @property {(code: number, next: number, options: CoreWithFormatOptions) => string} format\n *   Format strategy.\n *\n * @typedef {CoreOptions & FormatOptions & import('./util/format-smart.js').FormatSmartOptions} CoreWithFormatOptions\n */\n\n/**\n * Encode certain characters in `value`.\n *\n * @param {string} value\n * @param {CoreWithFormatOptions} options\n * @returns {string}\n */\nexport function core(value, options) {\n  value = value.replace(\n    options.subset ? charactersToExpression(options.subset) : /[\"&'<>`]/g,\n    basic\n  )\n\n  if (options.subset || options.escapeOnly) {\n    return value\n  }\n\n  return (\n    value\n      // Surrogate pairs.\n      .replace(/[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g, surrogate)\n      // BMP control characters (C0 except for LF, CR, SP; DEL; and some more\n      // non-ASCII ones).\n      .replace(\n        // eslint-disable-next-line no-control-regex, unicorn/no-hex-escape\n        /[\\x01-\\t\\v\\f\\x0E-\\x1F\\x7F\\x81\\x8D\\x8F\\x90\\x9D\\xA0-\\uFFFF]/g,\n        basic\n      )\n  )\n\n  /**\n   * @param {string} pair\n   * @param {number} index\n   * @param {string} all\n   */\n  function surrogate(pair, index, all) {\n    return options.format(\n      (pair.charCodeAt(0) - 0xd800) * 0x400 +\n        pair.charCodeAt(1) -\n        0xdc00 +\n        0x10000,\n      all.charCodeAt(index + 2),\n      options\n    )\n  }\n\n  /**\n   * @param {string} character\n   * @param {number} index\n   * @param {string} all\n   */\n  function basic(character, index, all) {\n    return options.format(\n      character.charCodeAt(0),\n      all.charCodeAt(index + 1),\n      options\n    )\n  }\n}\n\n/**\n * @param {Array<string>} subset\n * @returns {RegExp}\n */\nfunction charactersToExpression(subset) {\n  /** @type {Array<string>} */\n  const groups = []\n  let index = -1\n\n  while (++index < subset.length) {\n    groups.push(subset[index].replace(/[|\\\\{}()[\\]^$+*?.]/g, '\\\\$&'))\n  }\n\n  return new RegExp('(?:' + groups.join('|') + ')', 'g')\n}\n","/**\n * Configurable ways to encode characters as hexadecimal references.\n *\n * @param {number} code\n * @param {number} next\n * @param {boolean|undefined} omit\n * @returns {string}\n */\nexport function toHexadecimal(code, next, omit) {\n  const value = '&#x' + code.toString(16).toUpperCase()\n  return omit && next && !/[\\dA-Fa-f]/.test(String.fromCharCode(next))\n    ? value\n    : value + ';'\n}\n","/**\n * Configurable ways to encode characters as decimal references.\n *\n * @param {number} code\n * @param {number} next\n * @param {boolean|undefined} omit\n * @returns {string}\n */\nexport function toDecimal(code, next, omit) {\n  const value = '&#' + String(code)\n  return omit && next && !/\\d/.test(String.fromCharCode(next))\n    ? value\n    : value + ';'\n}\n","/**\n * List of legacy HTML named character references that dont need a trailing semicolon.\n *\n * @type {Array<string>}\n */\nexport const characterEntitiesLegacy = [\n  'AElig',\n  'AMP',\n  'Aacute',\n  'Acirc',\n  'Agrave',\n  'Aring',\n  'Atilde',\n  'Auml',\n  'COPY',\n  'Ccedil',\n  'ETH',\n  'Eacute',\n  'Ecirc',\n  'Egrave',\n  'Euml',\n  'GT',\n  'Iacute',\n  'Icirc',\n  'Igrave',\n  'Iuml',\n  'LT',\n  'Ntilde',\n  'Oacute',\n  'Ocirc',\n  'Ograve',\n  'Oslash',\n  'Otilde',\n  'Ouml',\n  'QUOT',\n  'REG',\n  'THORN',\n  'Uacute',\n  'Ucirc',\n  'Ugrave',\n  'Uuml',\n  'Yacute',\n  'aacute',\n  'acirc',\n  'acute',\n  'aelig',\n  'agrave',\n  'amp',\n  'aring',\n  'atilde',\n  'auml',\n  'brvbar',\n  'ccedil',\n  'cedil',\n  'cent',\n  'copy',\n  'curren',\n  'deg',\n  'divide',\n  'eacute',\n  'ecirc',\n  'egrave',\n  'eth',\n  'euml',\n  'frac12',\n  'frac14',\n  'frac34',\n  'gt',\n  'iacute',\n  'icirc',\n  'iexcl',\n  'igrave',\n  'iquest',\n  'iuml',\n  'laquo',\n  'lt',\n  'macr',\n  'micro',\n  'middot',\n  'nbsp',\n  'not',\n  'ntilde',\n  'oacute',\n  'ocirc',\n  'ograve',\n  'ordf',\n  'ordm',\n  'oslash',\n  'otilde',\n  'ouml',\n  'para',\n  'plusmn',\n  'pound',\n  'quot',\n  'raquo',\n  'reg',\n  'sect',\n  'shy',\n  'sup1',\n  'sup2',\n  'sup3',\n  'szlig',\n  'thorn',\n  'times',\n  'uacute',\n  'ucirc',\n  'ugrave',\n  'uml',\n  'uuml',\n  'yacute',\n  'yen',\n  'yuml'\n]\n","/**\n * Map of named character references from HTML 4.\n *\n * @type {Record<string, string>}\n */\nexport const characterEntitiesHtml4 = {\n  nbsp: '',\n  iexcl: '',\n  cent: '',\n  pound: '',\n  curren: '',\n  yen: '',\n  brvbar: '',\n  sect: '',\n  uml: '',\n  copy: '',\n  ordf: '',\n  laquo: '',\n  not: '',\n  shy: '',\n  reg: '',\n  macr: '',\n  deg: '',\n  plusmn: '',\n  sup2: '',\n  sup3: '',\n  acute: '',\n  micro: '',\n  para: '',\n  middot: '',\n  cedil: '',\n  sup1: '',\n  ordm: '',\n  raquo: '',\n  frac14: '',\n  frac12: '',\n  frac34: '',\n  iquest: '',\n  Agrave: '',\n  Aacute: '',\n  Acirc: '',\n  Atilde: '',\n  Auml: '',\n  Aring: '',\n  AElig: '',\n  Ccedil: '',\n  Egrave: '',\n  Eacute: '',\n  Ecirc: '',\n  Euml: '',\n  Igrave: '',\n  Iacute: '',\n  Icirc: '',\n  Iuml: '',\n  ETH: '',\n  Ntilde: '',\n  Ograve: '',\n  Oacute: '',\n  Ocirc: '',\n  Otilde: '',\n  Ouml: '',\n  times: '',\n  Oslash: '',\n  Ugrave: '',\n  Uacute: '',\n  Ucirc: '',\n  Uuml: '',\n  Yacute: '',\n  THORN: '',\n  szlig: '',\n  agrave: '',\n  aacute: '',\n  acirc: '',\n  atilde: '',\n  auml: '',\n  aring: '',\n  aelig: '',\n  ccedil: '',\n  egrave: '',\n  eacute: '',\n  ecirc: '',\n  euml: '',\n  igrave: '',\n  iacute: '',\n  icirc: '',\n  iuml: '',\n  eth: '',\n  ntilde: '',\n  ograve: '',\n  oacute: '',\n  ocirc: '',\n  otilde: '',\n  ouml: '',\n  divide: '',\n  oslash: '',\n  ugrave: '',\n  uacute: '',\n  ucirc: '',\n  uuml: '',\n  yacute: '',\n  thorn: '',\n  yuml: '',\n  fnof: '',\n  Alpha: '',\n  Beta: '',\n  Gamma: '',\n  Delta: '',\n  Epsilon: '',\n  Zeta: '',\n  Eta: '',\n  Theta: '',\n  Iota: '',\n  Kappa: '',\n  Lambda: '',\n  Mu: '',\n  Nu: '',\n  Xi: '',\n  Omicron: '',\n  Pi: '',\n  Rho: '',\n  Sigma: '',\n  Tau: '',\n  Upsilon: '',\n  Phi: '',\n  Chi: '',\n  Psi: '',\n  Omega: '',\n  alpha: '',\n  beta: '',\n  gamma: '',\n  delta: '',\n  epsilon: '',\n  zeta: '',\n  eta: '',\n  theta: '',\n  iota: '',\n  kappa: '',\n  lambda: '',\n  mu: '',\n  nu: '',\n  xi: '',\n  omicron: '',\n  pi: '',\n  rho: '',\n  sigmaf: '',\n  sigma: '',\n  tau: '',\n  upsilon: '',\n  phi: '',\n  chi: '',\n  psi: '',\n  omega: '',\n  thetasym: '',\n  upsih: '',\n  piv: '',\n  bull: '',\n  hellip: '',\n  prime: '',\n  Prime: '',\n  oline: '',\n  frasl: '',\n  weierp: '',\n  image: '',\n  real: '',\n  trade: '',\n  alefsym: '',\n  larr: '',\n  uarr: '',\n  rarr: '',\n  darr: '',\n  harr: '',\n  crarr: '',\n  lArr: '',\n  uArr: '',\n  rArr: '',\n  dArr: '',\n  hArr: '',\n  forall: '',\n  part: '',\n  exist: '',\n  empty: '',\n  nabla: '',\n  isin: '',\n  notin: '',\n  ni: '',\n  prod: '',\n  sum: '',\n  minus: '',\n  lowast: '',\n  radic: '',\n  prop: '',\n  infin: '',\n  ang: '',\n  and: '',\n  or: '',\n  cap: '',\n  cup: '',\n  int: '',\n  there4: '',\n  sim: '',\n  cong: '',\n  asymp: '',\n  ne: '',\n  equiv: '',\n  le: '',\n  ge: '',\n  sub: '',\n  sup: '',\n  nsub: '',\n  sube: '',\n  supe: '',\n  oplus: '',\n  otimes: '',\n  perp: '',\n  sdot: '',\n  lceil: '',\n  rceil: '',\n  lfloor: '',\n  rfloor: '',\n  lang: '',\n  rang: '',\n  loz: '',\n  spades: '',\n  clubs: '',\n  hearts: '',\n  diams: '',\n  quot: '\"',\n  amp: '&',\n  lt: '<',\n  gt: '>',\n  OElig: '',\n  oelig: '',\n  Scaron: '',\n  scaron: '',\n  Yuml: '',\n  circ: '',\n  tilde: '',\n  ensp: '',\n  emsp: '',\n  thinsp: '',\n  zwnj: '',\n  zwj: '',\n  lrm: '',\n  rlm: '',\n  ndash: '',\n  mdash: '',\n  lsquo: '',\n  rsquo: '',\n  sbquo: '',\n  ldquo: '',\n  rdquo: '',\n  bdquo: '',\n  dagger: '',\n  Dagger: '',\n  permil: '',\n  lsaquo: '',\n  rsaquo: '',\n  euro: ''\n}\n","/**\n * List of legacy (that dont need a trailing `;`) named references which could,\n * depending on what follows them, turn into a different meaning\n *\n * @type {Array<string>}\n */\nexport const dangerous = [\n  'cent',\n  'copy',\n  'divide',\n  'gt',\n  'lt',\n  'not',\n  'para',\n  'times'\n]\n","import {characterEntitiesLegacy} from 'character-entities-legacy'\nimport {characterEntitiesHtml4} from 'character-entities-html4'\nimport {dangerous} from '../constant/dangerous.js'\n\nconst own = {}.hasOwnProperty\n\n/**\n * `characterEntitiesHtml4` but inverted.\n *\n * @type {Record<string, string>}\n */\nconst characters = {}\n\n/** @type {string} */\nlet key\n\nfor (key in characterEntitiesHtml4) {\n  if (own.call(characterEntitiesHtml4, key)) {\n    characters[characterEntitiesHtml4[key]] = key\n  }\n}\n\n/**\n * Configurable ways to encode characters as named references.\n *\n * @param {number} code\n * @param {number} next\n * @param {boolean|undefined} omit\n * @param {boolean|undefined} attribute\n * @returns {string}\n */\nexport function toNamed(code, next, omit, attribute) {\n  const character = String.fromCharCode(code)\n\n  if (own.call(characters, character)) {\n    const name = characters[character]\n    const value = '&' + name\n\n    if (\n      omit &&\n      characterEntitiesLegacy.includes(name) &&\n      !dangerous.includes(name) &&\n      (!attribute ||\n        (next &&\n          next !== 61 /* `=` */ &&\n          /[^\\da-z]/i.test(String.fromCharCode(next))))\n    ) {\n      return value\n    }\n\n    return value + ';'\n  }\n\n  return ''\n}\n","/**\n * @typedef FormatSmartOptions\n * @property {boolean} [useNamedReferences=false]\n *   Prefer named character references (`&amp;`) where possible.\n * @property {boolean} [useShortestReferences=false]\n *   Prefer the shortest possible reference, if that results in less bytes.\n *   **Note**: `useNamedReferences` can be omitted when using `useShortestReferences`.\n * @property {boolean} [omitOptionalSemicolons=false]\n *   Whether to omit semicolons when possible.\n *   **Note**: This creates what HTML calls parse errors but is otherwise still valid HTML  dont use this except when building a minifier.\n *   Omitting semicolons is possible for certain named and numeric references in some cases.\n * @property {boolean} [attribute=false]\n *   Create character references which dont fail in attributes.\n *   **Note**: `attribute` only applies when operating dangerously with\n *   `omitOptionalSemicolons: true`.\n */\n\nimport {toHexadecimal} from './to-hexadecimal.js'\nimport {toDecimal} from './to-decimal.js'\nimport {toNamed} from './to-named.js'\n\n/**\n * Configurable ways to encode a character yielding pretty or small results.\n *\n * @param {number} code\n * @param {number} next\n * @param {FormatSmartOptions} options\n * @returns {string}\n */\nexport function formatSmart(code, next, options) {\n  let numeric = toHexadecimal(code, next, options.omitOptionalSemicolons)\n  /** @type {string|undefined} */\n  let named\n\n  if (options.useNamedReferences || options.useShortestReferences) {\n    named = toNamed(\n      code,\n      next,\n      options.omitOptionalSemicolons,\n      options.attribute\n    )\n  }\n\n  // Use the shortest numeric reference when requested.\n  // A simple algorithm would use decimal for all code points under 100, as\n  // those are shorter than hexadecimal:\n  //\n  // * `&#99;` vs `&#x63;` (decimal shorter)\n  // * `&#100;` vs `&#x64;` (equal)\n  //\n  // However, because we take `next` into consideration when `omit` is used,\n  // And it would be possible that decimals are shorter on bigger values as\n  // well if `next` is hexadecimal but not decimal, we instead compare both.\n  if (\n    (options.useShortestReferences || !named) &&\n    options.useShortestReferences\n  ) {\n    const decimal = toDecimal(code, next, options.omitOptionalSemicolons)\n\n    if (decimal.length < numeric.length) {\n      numeric = decimal\n    }\n  }\n\n  return named &&\n    (!options.useShortestReferences || named.length < numeric.length)\n    ? named\n    : numeric\n}\n","/**\n * @typedef {import('./core.js').CoreOptions & import('./util/format-smart.js').FormatSmartOptions} Options\n * @typedef {import('./core.js').CoreOptions} LightOptions\n */\n\nimport {core} from './core.js'\nimport {formatSmart} from './util/format-smart.js'\nimport {formatBasic} from './util/format-basic.js'\n\n/**\n * Encode special characters in `value`.\n *\n * @param {string} value\n *   Value to encode.\n * @param {Options} [options]\n *   Configuration.\n * @returns {string}\n *   Encoded value.\n */\nexport function stringifyEntities(value, options) {\n  return core(value, Object.assign({format: formatSmart}, options))\n}\n\n/**\n * Encode special characters in `value` as hexadecimals.\n *\n * @param {string} value\n *   Value to encode.\n * @param {LightOptions} [options]\n *   Configuration.\n * @returns {string}\n *   Encoded value.\n */\nexport function stringifyEntitiesLight(value, options) {\n  return core(value, Object.assign({format: formatBasic}, options))\n}\n","/**\n * @typedef {import('hast').Comment} Comment\n * @typedef {import('hast').Parents} Parents\n *\n * @typedef {import('../index.js').State} State\n */\n\nimport {stringifyEntities} from 'stringify-entities'\n\n/**\n * Serialize a comment.\n *\n * @param {Comment} node\n *   Node to handle.\n * @param {number | undefined} _1\n *   Index of `node` in `parent.\n * @param {Parents | undefined} _2\n *   Parent of `node`.\n * @param {State} state\n *   Info passed around about the current state.\n * @returns {string}\n *   Serialized node.\n */\nexport function comment(node, _1, _2, state) {\n  // See: <https://html.spec.whatwg.org/multipage/syntax.html#comments>\n  return state.settings.bogusComments\n    ? '<?' +\n        stringifyEntities(\n          node.value,\n          Object.assign({}, state.settings.characterReferences, {subset: ['>']})\n        ) +\n        '>'\n    : '<!--' + node.value.replace(/^>|^->|<!--|-->|--!>|<!-$/g, encode) + '-->'\n\n  /**\n   * @param {string} $0\n   */\n  function encode($0) {\n    return stringifyEntities(\n      $0,\n      Object.assign({}, state.settings.characterReferences, {\n        subset: ['<', '>']\n      })\n    )\n  }\n}\n","/**\n * @typedef {import('hast').Doctype} Doctype\n * @typedef {import('hast').Parents} Parents\n *\n * @typedef {import('../index.js').State} State\n */\n\n// Make VS code see references to the above types.\n''\n\n/**\n * Serialize a doctype.\n *\n * @param {Doctype} _1\n *   Node to handle.\n * @param {number | undefined} _2\n *   Index of `node` in `parent.\n * @param {Parents | undefined} _3\n *   Parent of `node`.\n * @param {State} state\n *   Info passed around about the current state.\n * @returns {string}\n *   Serialized node.\n */\nexport function doctype(_1, _2, _3, state) {\n  return (\n    '<!' +\n    (state.settings.upperDoctype ? 'DOCTYPE' : 'doctype') +\n    (state.settings.tightDoctype ? '' : ' ') +\n    'html>'\n  )\n}\n","/**\n * Count how often a character (or substring) is used in a string.\n *\n * @param {string} value\n *   Value to search in.\n * @param {string} character\n *   Character (or substring) to look for.\n * @return {number}\n *   Number of times `character` occurred in `value`.\n */\nexport function ccount(value, character) {\n  const source = String(value)\n\n  if (typeof character !== 'string') {\n    throw new TypeError('Expected character')\n  }\n\n  let count = 0\n  let index = source.indexOf(character)\n\n  while (index !== -1) {\n    count++\n    index = source.indexOf(character, index + character.length)\n  }\n\n  return count\n}\n","/**\n * @typedef Options\n *   Configuration for `stringify`.\n * @property {boolean} [padLeft=true]\n *   Whether to pad a space before a token.\n * @property {boolean} [padRight=false]\n *   Whether to pad a space after a token.\n */\n\n/**\n * @typedef {Options} StringifyOptions\n *   Please use `StringifyOptions` instead.\n */\n\n/**\n * Parse comma-separated tokens to an array.\n *\n * @param {string} value\n *   Comma-separated tokens.\n * @returns {Array<string>}\n *   List of tokens.\n */\nexport function parse(value) {\n  /** @type {Array<string>} */\n  const tokens = []\n  const input = String(value || '')\n  let index = input.indexOf(',')\n  let start = 0\n  /** @type {boolean} */\n  let end = false\n\n  while (!end) {\n    if (index === -1) {\n      index = input.length\n      end = true\n    }\n\n    const token = input.slice(start, index).trim()\n\n    if (token || !end) {\n      tokens.push(token)\n    }\n\n    start = index + 1\n    index = input.indexOf(',', start)\n  }\n\n  return tokens\n}\n\n/**\n * Serialize an array of strings or numbers to comma-separated tokens.\n *\n * @param {Array<string|number>} values\n *   List of tokens.\n * @param {Options} [options]\n *   Configuration for `stringify` (optional).\n * @returns {string}\n *   Comma-separated tokens.\n */\nexport function stringify(values, options) {\n  const settings = options || {}\n\n  // Ensure the last empty entry is seen.\n  const input = values[values.length - 1] === '' ? [...values, ''] : values\n\n  return input\n    .join(\n      (settings.padRight ? ' ' : '') +\n        ',' +\n        (settings.padLeft === false ? '' : ' ')\n    )\n    .trim()\n}\n","/**\n * Parse space-separated tokens to an array of strings.\n *\n * @param {string} value\n *   Space-separated tokens.\n * @returns {Array<string>}\n *   List of tokens.\n */\nexport function parse(value) {\n  const input = String(value || '').trim()\n  return input ? input.split(/[ \\t\\n\\r\\f]+/g) : []\n}\n\n/**\n * Serialize an array of strings as space separated-tokens.\n *\n * @param {Array<string|number>} values\n *   List of tokens.\n * @returns {string}\n *   Space-separated tokens.\n */\nexport function stringify(values) {\n  return values.join(' ').trim()\n}\n","/**\n * @typedef {import('hast').Nodes} Nodes\n */\n\n// HTML whitespace expression.\n// See <https://infra.spec.whatwg.org/#ascii-whitespace>.\nconst re = /[ \\t\\n\\f\\r]/g\n\n/**\n * Check if the given value is *inter-element whitespace*.\n *\n * @param {Nodes | string} thing\n *   Thing to check (`Node` or `string`).\n * @returns {boolean}\n *   Whether the `value` is inter-element whitespace (`boolean`): consisting of\n *   zero or more of space, tab (`\\t`), line feed (`\\n`), carriage return\n *   (`\\r`), or form feed (`\\f`); if a node is passed it must be a `Text` node,\n *   whose `value` field is checked.\n */\nexport function whitespace(thing) {\n  return typeof thing === 'object'\n    ? thing.type === 'text'\n      ? empty(thing.value)\n      : false\n    : empty(thing)\n}\n\n/**\n * @param {string} value\n * @returns {boolean}\n */\nfunction empty(value) {\n  return value.replace(re, '') === ''\n}\n","/**\n * @typedef {import('hast').Parents} Parents\n * @typedef {import('hast').RootContent} RootContent\n */\n\nimport {whitespace} from 'hast-util-whitespace'\n\nexport const siblingAfter = siblings(1)\nexport const siblingBefore = siblings(-1)\n\n/** @type {Array<RootContent>} */\nconst emptyChildren = []\n\n/**\n * Factory to check siblings in a direction.\n *\n * @param {number} increment\n */\nfunction siblings(increment) {\n  return sibling\n\n  /**\n   * Find applicable siblings in a direction.\n   *\n   * @template {Parents} Parent\n   *   Parent type.\n   * @param {Parent | undefined} parent\n   *   Parent.\n   * @param {number | undefined} index\n   *   Index of child in `parent`.\n   * @param {boolean | undefined} [includeWhitespace=false]\n   *   Whether to include whitespace (default: `false`).\n   * @returns {Parent extends {children: Array<infer Child>} ? Child | undefined : never}\n   *   Child of parent.\n   */\n  function sibling(parent, index, includeWhitespace) {\n    const siblings = parent ? parent.children : emptyChildren\n    let offset = (index || 0) + increment\n    let next = siblings[offset]\n\n    if (!includeWhitespace) {\n      while (next && whitespace(next)) {\n        offset += increment\n        next = siblings[offset]\n      }\n    }\n\n    // @ts-expect-error: its a correct child.\n    return next\n  }\n}\n","/**\n * @typedef {import('hast').Element} Element\n * @typedef {import('hast').Parents} Parents\n */\n\n/**\n * @callback OmitHandle\n *   Check if a tag can be omitted.\n * @param {Element} element\n *   Element to check.\n * @param {number | undefined} index\n *   Index of element in parent.\n * @param {Parents | undefined} parent\n *   Parent of element.\n * @returns {boolean}\n *   Whether to omit a tag.\n *\n */\n\nconst own = {}.hasOwnProperty\n\n/**\n * Factory to check if a given node can have a tag omitted.\n *\n * @param {Record<string, OmitHandle>} handlers\n *   Omission handlers, where each key is a tag name, and each value is the\n *   corresponding handler.\n * @returns {OmitHandle}\n *   Whether to omit a tag of an element.\n */\nexport function omission(handlers) {\n  return omit\n\n  /**\n   * Check if a given node can have a tag omitted.\n   *\n   * @type {OmitHandle}\n   */\n  function omit(node, index, parent) {\n    return (\n      own.call(handlers, node.tagName) &&\n      handlers[node.tagName](node, index, parent)\n    )\n  }\n}\n","/**\n * @typedef {import('hast').Element} Element\n * @typedef {import('hast').Parents} Parents\n */\n\nimport {whitespace} from 'hast-util-whitespace'\nimport {siblingAfter} from './util/siblings.js'\nimport {omission} from './omission.js'\n\nexport const closing = omission({\n  body,\n  caption: headOrColgroupOrCaption,\n  colgroup: headOrColgroupOrCaption,\n  dd,\n  dt,\n  head: headOrColgroupOrCaption,\n  html,\n  li,\n  optgroup,\n  option,\n  p,\n  rp: rubyElement,\n  rt: rubyElement,\n  tbody,\n  td: cells,\n  tfoot,\n  th: cells,\n  thead,\n  tr\n})\n\n/**\n * Macro for `</head>`, `</colgroup>`, and `</caption>`.\n *\n * @param {Element} _\n *   Element.\n * @param {number | undefined} index\n *   Index of element in parent.\n * @param {Parents | undefined} parent\n *   Parent of element.\n * @returns {boolean}\n *   Whether the closing tag can be omitted.\n */\nfunction headOrColgroupOrCaption(_, index, parent) {\n  const next = siblingAfter(parent, index, true)\n  return (\n    !next ||\n    (next.type !== 'comment' &&\n      !(next.type === 'text' && whitespace(next.value.charAt(0))))\n  )\n}\n\n/**\n * Whether to omit `</html>`.\n *\n * @param {Element} _\n *   Element.\n * @param {number | undefined} index\n *   Index of element in parent.\n * @param {Parents | undefined} parent\n *   Parent of element.\n * @returns {boolean}\n *   Whether the closing tag can be omitted.\n */\nfunction html(_, index, parent) {\n  const next = siblingAfter(parent, index)\n  return !next || next.type !== 'comment'\n}\n\n/**\n * Whether to omit `</body>`.\n *\n * @param {Element} _\n *   Element.\n * @param {number | undefined} index\n *   Index of element in parent.\n * @param {Parents | undefined} parent\n *   Parent of element.\n * @returns {boolean}\n *   Whether the closing tag can be omitted.\n */\nfunction body(_, index, parent) {\n  const next = siblingAfter(parent, index)\n  return !next || next.type !== 'comment'\n}\n\n/**\n * Whether to omit `</p>`.\n *\n * @param {Element} _\n *   Element.\n * @param {number | undefined} index\n *   Index of element in parent.\n * @param {Parents | undefined} parent\n *   Parent of element.\n * @returns {boolean}\n *   Whether the closing tag can be omitted.\n */\nfunction p(_, index, parent) {\n  const next = siblingAfter(parent, index)\n  return next\n    ? next.type === 'element' &&\n        (next.tagName === 'address' ||\n          next.tagName === 'article' ||\n          next.tagName === 'aside' ||\n          next.tagName === 'blockquote' ||\n          next.tagName === 'details' ||\n          next.tagName === 'div' ||\n          next.tagName === 'dl' ||\n          next.tagName === 'fieldset' ||\n          next.tagName === 'figcaption' ||\n          next.tagName === 'figure' ||\n          next.tagName === 'footer' ||\n          next.tagName === 'form' ||\n          next.tagName === 'h1' ||\n          next.tagName === 'h2' ||\n          next.tagName === 'h3' ||\n          next.tagName === 'h4' ||\n          next.tagName === 'h5' ||\n          next.tagName === 'h6' ||\n          next.tagName === 'header' ||\n          next.tagName === 'hgroup' ||\n          next.tagName === 'hr' ||\n          next.tagName === 'main' ||\n          next.tagName === 'menu' ||\n          next.tagName === 'nav' ||\n          next.tagName === 'ol' ||\n          next.tagName === 'p' ||\n          next.tagName === 'pre' ||\n          next.tagName === 'section' ||\n          next.tagName === 'table' ||\n          next.tagName === 'ul')\n    : !parent ||\n        // Confusing parent.\n        !(\n          parent.type === 'element' &&\n          (parent.tagName === 'a' ||\n            parent.tagName === 'audio' ||\n            parent.tagName === 'del' ||\n            parent.tagName === 'ins' ||\n            parent.tagName === 'map' ||\n            parent.tagName === 'noscript' ||\n            parent.tagName === 'video')\n        )\n}\n\n/**\n * Whether to omit `</li>`.\n *\n * @param {Element} _\n *   Element.\n * @param {number | undefined} index\n *   Index of element in parent.\n * @param {Parents | undefined} parent\n *   Parent of element.\n * @returns {boolean}\n *   Whether the closing tag can be omitted.\n */\nfunction li(_, index, parent) {\n  const next = siblingAfter(parent, index)\n  return !next || (next.type === 'element' && next.tagName === 'li')\n}\n\n/**\n * Whether to omit `</dt>`.\n *\n * @param {Element} _\n *   Element.\n * @param {number | undefined} index\n *   Index of element in parent.\n * @param {Parents | undefined} parent\n *   Parent of element.\n * @returns {boolean}\n *   Whether the closing tag can be omitted.\n */\nfunction dt(_, index, parent) {\n  const next = siblingAfter(parent, index)\n  return Boolean(\n    next &&\n      next.type === 'element' &&\n      (next.tagName === 'dt' || next.tagName === 'dd')\n  )\n}\n\n/**\n * Whether to omit `</dd>`.\n *\n * @param {Element} _\n *   Element.\n * @param {number | undefined} index\n *   Index of element in parent.\n * @param {Parents | undefined} parent\n *   Parent of element.\n * @returns {boolean}\n *   Whether the closing tag can be omitted.\n */\nfunction dd(_, index, parent) {\n  const next = siblingAfter(parent, index)\n  return (\n    !next ||\n    (next.type === 'element' &&\n      (next.tagName === 'dt' || next.tagName === 'dd'))\n  )\n}\n\n/**\n * Whether to omit `</rt>` or `</rp>`.\n *\n * @param {Element} _\n *   Element.\n * @param {number | undefined} index\n *   Index of element in parent.\n * @param {Parents | undefined} parent\n *   Parent of element.\n * @returns {boolean}\n *   Whether the closing tag can be omitted.\n */\nfunction rubyElement(_, index, parent) {\n  const next = siblingAfter(parent, index)\n  return (\n    !next ||\n    (next.type === 'element' &&\n      (next.tagName === 'rp' || next.tagName === 'rt'))\n  )\n}\n\n/**\n * Whether to omit `</optgroup>`.\n *\n * @param {Element} _\n *   Element.\n * @param {number | undefined} index\n *   Index of element in parent.\n * @param {Parents | undefined} parent\n *   Parent of element.\n * @returns {boolean}\n *   Whether the closing tag can be omitted.\n */\nfunction optgroup(_, index, parent) {\n  const next = siblingAfter(parent, index)\n  return !next || (next.type === 'element' && next.tagName === 'optgroup')\n}\n\n/**\n * Whether to omit `</option>`.\n *\n * @param {Element} _\n *   Element.\n * @param {number | undefined} index\n *   Index of element in parent.\n * @param {Parents | undefined} parent\n *   Parent of element.\n * @returns {boolean}\n *   Whether the closing tag can be omitted.\n */\nfunction option(_, index, parent) {\n  const next = siblingAfter(parent, index)\n  return (\n    !next ||\n    (next.type === 'element' &&\n      (next.tagName === 'option' || next.tagName === 'optgroup'))\n  )\n}\n\n/**\n * Whether to omit `</thead>`.\n *\n * @param {Element} _\n *   Element.\n * @param {number | undefined} index\n *   Index of element in parent.\n * @param {Parents | undefined} parent\n *   Parent of element.\n * @returns {boolean}\n *   Whether the closing tag can be omitted.\n */\nfunction thead(_, index, parent) {\n  const next = siblingAfter(parent, index)\n  return Boolean(\n    next &&\n      next.type === 'element' &&\n      (next.tagName === 'tbody' || next.tagName === 'tfoot')\n  )\n}\n\n/**\n * Whether to omit `</tbody>`.\n *\n * @param {Element} _\n *   Element.\n * @param {number | undefined} index\n *   Index of element in parent.\n * @param {Parents | undefined} parent\n *   Parent of element.\n * @returns {boolean}\n *   Whether the closing tag can be omitted.\n */\nfunction tbody(_, index, parent) {\n  const next = siblingAfter(parent, index)\n  return (\n    !next ||\n    (next.type === 'element' &&\n      (next.tagName === 'tbody' || next.tagName === 'tfoot'))\n  )\n}\n\n/**\n * Whether to omit `</tfoot>`.\n *\n * @param {Element} _\n *   Element.\n * @param {number | undefined} index\n *   Index of element in parent.\n * @param {Parents | undefined} parent\n *   Parent of element.\n * @returns {boolean}\n *   Whether the closing tag can be omitted.\n */\nfunction tfoot(_, index, parent) {\n  return !siblingAfter(parent, index)\n}\n\n/**\n * Whether to omit `</tr>`.\n *\n * @param {Element} _\n *   Element.\n * @param {number | undefined} index\n *   Index of element in parent.\n * @param {Parents | undefined} parent\n *   Parent of element.\n * @returns {boolean}\n *   Whether the closing tag can be omitted.\n */\nfunction tr(_, index, parent) {\n  const next = siblingAfter(parent, index)\n  return !next || (next.type === 'element' && next.tagName === 'tr')\n}\n\n/**\n * Whether to omit `</td>` or `</th>`.\n *\n * @param {Element} _\n *   Element.\n * @param {number | undefined} index\n *   Index of element in parent.\n * @param {Parents | undefined} parent\n *   Parent of element.\n * @returns {boolean}\n *   Whether the closing tag can be omitted.\n */\nfunction cells(_, index, parent) {\n  const next = siblingAfter(parent, index)\n  return (\n    !next ||\n    (next.type === 'element' &&\n      (next.tagName === 'td' || next.tagName === 'th'))\n  )\n}\n","/**\n * @typedef {import('hast').Element} Element\n * @typedef {import('hast').Parents} Parents\n */\n\nimport {whitespace} from 'hast-util-whitespace'\nimport {siblingAfter, siblingBefore} from './util/siblings.js'\nimport {closing} from './closing.js'\nimport {omission} from './omission.js'\n\nexport const opening = omission({\n  body,\n  colgroup,\n  head,\n  html,\n  tbody\n})\n\n/**\n * Whether to omit `<html>`.\n *\n * @param {Element} node\n *   Element.\n * @returns {boolean}\n *   Whether the opening tag can be omitted.\n */\nfunction html(node) {\n  const head = siblingAfter(node, -1)\n  return !head || head.type !== 'comment'\n}\n\n/**\n * Whether to omit `<head>`.\n *\n * @param {Element} node\n *   Element.\n * @returns {boolean}\n *   Whether the opening tag can be omitted.\n */\nfunction head(node) {\n  const children = node.children\n  /** @type {Array<string>} */\n  const seen = []\n  let index = -1\n\n  while (++index < children.length) {\n    const child = children[index]\n    if (\n      child.type === 'element' &&\n      (child.tagName === 'title' || child.tagName === 'base')\n    ) {\n      if (seen.includes(child.tagName)) return false\n      seen.push(child.tagName)\n    }\n  }\n\n  return children.length > 0\n}\n\n/**\n * Whether to omit `<body>`.\n *\n * @param {Element} node\n *   Element.\n * @returns {boolean}\n *   Whether the opening tag can be omitted.\n */\nfunction body(node) {\n  const head = siblingAfter(node, -1, true)\n\n  return (\n    !head ||\n    (head.type !== 'comment' &&\n      !(head.type === 'text' && whitespace(head.value.charAt(0))) &&\n      !(\n        head.type === 'element' &&\n        (head.tagName === 'meta' ||\n          head.tagName === 'link' ||\n          head.tagName === 'script' ||\n          head.tagName === 'style' ||\n          head.tagName === 'template')\n      ))\n  )\n}\n\n/**\n * Whether to omit `<colgroup>`.\n * The spec describes some logic for the opening tag, but its easier to\n * implement in the closing tag, to the same effect, so we handle it there\n * instead.\n *\n * @param {Element} node\n *   Element.\n * @param {number | undefined} index\n *   Index of element in parent.\n * @param {Parents | undefined} parent\n *   Parent of element.\n * @returns {boolean}\n *   Whether the opening tag can be omitted.\n */\nfunction colgroup(node, index, parent) {\n  const previous = siblingBefore(parent, index)\n  const head = siblingAfter(node, -1, true)\n\n  // Previous colgroup was already omitted.\n  if (\n    parent &&\n    previous &&\n    previous.type === 'element' &&\n    previous.tagName === 'colgroup' &&\n    closing(previous, parent.children.indexOf(previous), parent)\n  ) {\n    return false\n  }\n\n  return Boolean(head && head.type === 'element' && head.tagName === 'col')\n}\n\n/**\n * Whether to omit `<tbody>`.\n *\n * @param {Element} node\n *   Element.\n * @param {number | undefined} index\n *   Index of element in parent.\n * @param {Parents | undefined} parent\n *   Parent of element.\n * @returns {boolean}\n *   Whether the opening tag can be omitted.\n */\nfunction tbody(node, index, parent) {\n  const previous = siblingBefore(parent, index)\n  const head = siblingAfter(node, -1)\n\n  // Previous table section was already omitted.\n  if (\n    parent &&\n    previous &&\n    previous.type === 'element' &&\n    (previous.tagName === 'thead' || previous.tagName === 'tbody') &&\n    closing(previous, parent.children.indexOf(previous), parent)\n  ) {\n    return false\n  }\n\n  return Boolean(head && head.type === 'element' && head.tagName === 'tr')\n}\n","/**\n * @typedef {import('hast').Element} Element\n * @typedef {import('hast').Parents} Parents\n * @typedef {import('hast').Properties} Properties\n *\n * @typedef {import('../index.js').State} State\n */\n\nimport {ccount} from 'ccount'\nimport {stringify as commas} from 'comma-separated-tokens'\nimport {find, svg} from 'property-information'\nimport {stringify as spaces} from 'space-separated-tokens'\nimport {stringifyEntities} from 'stringify-entities'\nimport {closing} from '../omission/closing.js'\nimport {opening} from '../omission/opening.js'\n\n/**\n * Maps of subsets.\n *\n * Each value is a matrix of tuples.\n * The value at `0` causes parse errors, the value at `1` is valid.\n * Of both, the value at `0` is unsafe, and the value at `1` is safe.\n *\n * @type {Record<'double' | 'name' | 'single' | 'unquoted', Array<[Array<string>, Array<string>]>>}\n */\nconst constants = {\n  // See: <https://html.spec.whatwg.org/#attribute-name-state>.\n  name: [\n    ['\\t\\n\\f\\r &/=>'.split(''), '\\t\\n\\f\\r \"&\\'/=>`'.split('')],\n    ['\\0\\t\\n\\f\\r \"&\\'/<=>'.split(''), '\\0\\t\\n\\f\\r \"&\\'/<=>`'.split('')]\n  ],\n  // See: <https://html.spec.whatwg.org/#attribute-value-(unquoted)-state>.\n  unquoted: [\n    ['\\t\\n\\f\\r &>'.split(''), '\\0\\t\\n\\f\\r \"&\\'<=>`'.split('')],\n    ['\\0\\t\\n\\f\\r \"&\\'<=>`'.split(''), '\\0\\t\\n\\f\\r \"&\\'<=>`'.split('')]\n  ],\n  // See: <https://html.spec.whatwg.org/#attribute-value-(single-quoted)-state>.\n  single: [\n    [\"&'\".split(''), '\"&\\'`'.split('')],\n    [\"\\0&'\".split(''), '\\0\"&\\'`'.split('')]\n  ],\n  // See: <https://html.spec.whatwg.org/#attribute-value-(double-quoted)-state>.\n  double: [\n    ['\"&'.split(''), '\"&\\'`'.split('')],\n    ['\\0\"&'.split(''), '\\0\"&\\'`'.split('')]\n  ]\n}\n\n/**\n * Serialize an element node.\n *\n * @param {Element} node\n *   Node to handle.\n * @param {number | undefined} index\n *   Index of `node` in `parent.\n * @param {Parents | undefined} parent\n *   Parent of `node`.\n * @param {State} state\n *   Info passed around about the current state.\n * @returns {string}\n *   Serialized node.\n */\nexport function element(node, index, parent, state) {\n  const schema = state.schema\n  const omit = schema.space === 'svg' ? false : state.settings.omitOptionalTags\n  let selfClosing =\n    schema.space === 'svg'\n      ? state.settings.closeEmptyElements\n      : state.settings.voids.includes(node.tagName.toLowerCase())\n  /** @type {Array<string>} */\n  const parts = []\n  /** @type {string} */\n  let last\n\n  if (schema.space === 'html' && node.tagName === 'svg') {\n    state.schema = svg\n  }\n\n  const attrs = serializeAttributes(state, node.properties)\n\n  const content = state.all(\n    schema.space === 'html' && node.tagName === 'template' ? node.content : node\n  )\n\n  state.schema = schema\n\n  // If the node is categorised as void, but it has children, remove the\n  // categorisation.\n  // This enables for example `menuitem`s, which are void in W3C HTML but not\n  // void in WHATWG HTML, to be stringified properly.\n  // Note: `menuitem` has since been removed from the HTML spec, and so is no\n  // longer void.\n  if (content) selfClosing = false\n\n  if (attrs || !omit || !opening(node, index, parent)) {\n    parts.push('<', node.tagName, attrs ? ' ' + attrs : '')\n\n    if (\n      selfClosing &&\n      (schema.space === 'svg' || state.settings.closeSelfClosing)\n    ) {\n      last = attrs.charAt(attrs.length - 1)\n      if (\n        !state.settings.tightSelfClosing ||\n        last === '/' ||\n        (last && last !== '\"' && last !== \"'\")\n      ) {\n        parts.push(' ')\n      }\n\n      parts.push('/')\n    }\n\n    parts.push('>')\n  }\n\n  parts.push(content)\n\n  if (!selfClosing && (!omit || !closing(node, index, parent))) {\n    parts.push('</' + node.tagName + '>')\n  }\n\n  return parts.join('')\n}\n\n/**\n * @param {State} state\n * @param {Properties | null | undefined} props\n * @returns {string}\n */\nfunction serializeAttributes(state, props) {\n  /** @type {Array<string>} */\n  const values = []\n  let index = -1\n  /** @type {string} */\n  let key\n\n  if (props) {\n    for (key in props) {\n      if (props[key] !== null && props[key] !== undefined) {\n        const value = serializeAttribute(state, key, props[key])\n        if (value) values.push(value)\n      }\n    }\n  }\n\n  while (++index < values.length) {\n    const last = state.settings.tightAttributes\n      ? values[index].charAt(values[index].length - 1)\n      : undefined\n\n    // In tight mode, dont add a space after quoted attributes.\n    if (index !== values.length - 1 && last !== '\"' && last !== \"'\") {\n      values[index] += ' '\n    }\n  }\n\n  return values.join('')\n}\n\n/**\n * @param {State} state\n * @param {string} key\n * @param {Properties[keyof Properties]} value\n * @returns {string}\n */\nfunction serializeAttribute(state, key, value) {\n  const info = find(state.schema, key)\n  const x =\n    state.settings.allowParseErrors && state.schema.space === 'html' ? 0 : 1\n  const y = state.settings.allowDangerousCharacters ? 0 : 1\n  let quote = state.quote\n  /** @type {string | undefined} */\n  let result\n\n  if (info.overloadedBoolean && (value === info.attribute || value === '')) {\n    value = true\n  } else if (\n    info.boolean ||\n    (info.overloadedBoolean && typeof value !== 'string')\n  ) {\n    value = Boolean(value)\n  }\n\n  if (\n    value === null ||\n    value === undefined ||\n    value === false ||\n    (typeof value === 'number' && Number.isNaN(value))\n  ) {\n    return ''\n  }\n\n  const name = stringifyEntities(\n    info.attribute,\n    Object.assign({}, state.settings.characterReferences, {\n      // Always encode without parse errors in non-HTML.\n      subset: constants.name[x][y]\n    })\n  )\n\n  // No value.\n  // There is currently only one boolean property in SVG: `[download]` on\n  // `<a>`.\n  // This property does not seem to work in browsers (Firefox, Safari, Chrome),\n  // so I cant test if dropping the value works.\n  // But I assume that it should:\n  //\n  // ```html\n  // <!doctype html>\n  // <svg viewBox=\"0 0 100 100\">\n  //   <a href=https://example.com download>\n  //     <circle cx=50 cy=40 r=35 />\n  //   </a>\n  // </svg>\n  // ```\n  //\n  // See: <https://github.com/wooorm/property-information/blob/main/lib/svg.js>\n  if (value === true) return name\n\n  // `spaces` doesnt accept a second argument, but its given here just to\n  // keep the code cleaner.\n  value = Array.isArray(value)\n    ? (info.commaSeparated ? commas : spaces)(value, {\n        padLeft: !state.settings.tightCommaSeparatedLists\n      })\n    : String(value)\n\n  if (state.settings.collapseEmptyAttributes && !value) return name\n\n  // Check unquoted value.\n  if (state.settings.preferUnquoted) {\n    result = stringifyEntities(\n      value,\n      Object.assign({}, state.settings.characterReferences, {\n        attribute: true,\n        subset: constants.unquoted[x][y]\n      })\n    )\n  }\n\n  // If we dont want unquoted, or if `value` contains character references when\n  // unquoted\n  if (result !== value) {\n    // If the alternative is less common than `quote`, switch.\n    if (\n      state.settings.quoteSmart &&\n      ccount(value, quote) > ccount(value, state.alternative)\n    ) {\n      quote = state.alternative\n    }\n\n    result =\n      quote +\n      stringifyEntities(\n        value,\n        Object.assign({}, state.settings.characterReferences, {\n          // Always encode without parse errors in non-HTML.\n          subset: (quote === \"'\" ? constants.single : constants.double)[x][y],\n          attribute: true\n        })\n      ) +\n      quote\n  }\n\n  // Dont add a `=` for unquoted empties.\n  return name + (result ? '=' + result : result)\n}\n","/**\n * @typedef {import('hast').Parents} Parents\n * @typedef {import('hast').Text} Text\n *\n * @typedef {import('mdast-util-to-hast').Raw} Raw\n *\n * @typedef {import('../index.js').State} State\n */\n\nimport {stringifyEntities} from 'stringify-entities'\n\n/**\n * Serialize a text node.\n *\n * @param {Raw | Text} node\n *   Node to handle.\n * @param {number | undefined} _\n *   Index of `node` in `parent.\n * @param {Parents | undefined} parent\n *   Parent of `node`.\n * @param {State} state\n *   Info passed around about the current state.\n * @returns {string}\n *   Serialized node.\n */\nexport function text(node, _, parent, state) {\n  // Check if content of `node` should be escaped.\n  return parent &&\n    parent.type === 'element' &&\n    (parent.tagName === 'script' || parent.tagName === 'style')\n    ? node.value\n    : stringifyEntities(\n        node.value,\n        Object.assign({}, state.settings.characterReferences, {\n          subset: ['<', '&']\n        })\n      )\n}\n","/**\n * @typedef {import('hast').Parents} Parents\n *\n * @typedef {import('mdast-util-to-hast').Raw} Raw\n *\n * @typedef {import('../index.js').State} State\n */\n\nimport {text} from './text.js'\n\n/**\n * Serialize a raw node.\n *\n * @param {Raw} node\n *   Node to handle.\n * @param {number | undefined} index\n *   Index of `node` in `parent.\n * @param {Parents | undefined} parent\n *   Parent of `node`.\n * @param {State} state\n *   Info passed around about the current state.\n * @returns {string}\n *   Serialized node.\n */\nexport function raw(node, index, parent, state) {\n  return state.settings.allowDangerousHtml\n    ? node.value\n    : text(node, index, parent, state)\n}\n","/**\n * @typedef {import('hast').Parents} Parents\n * @typedef {import('hast').Root} Root\n *\n * @typedef {import('../index.js').State} State\n */\n\n// Make VS code see references to the above types.\n''\n\n/**\n * Serialize a root.\n *\n * @param {Root} node\n *   Node to handle.\n * @param {number | undefined} _1\n *   Index of `node` in `parent.\n * @param {Parents | undefined} _2\n *   Parent of `node`.\n * @param {State} state\n *   Info passed around about the current state.\n * @returns {string}\n *   Serialized node.\n */\nexport function root(node, _1, _2, state) {\n  return state.all(node)\n}\n","/**\n * @typedef {import('hast').Nodes} Nodes\n * @typedef {import('hast').Parents} Parents\n *\n * @typedef {import('../index.js').State} State\n */\n\nimport {zwitch} from 'zwitch'\nimport {comment} from './comment.js'\nimport {doctype} from './doctype.js'\nimport {element} from './element.js'\nimport {raw} from './raw.js'\nimport {root} from './root.js'\nimport {text} from './text.js'\n\n/**\n * @type {(node: Nodes, index: number | undefined, parent: Parents | undefined, state: State) => string}\n */\nexport const handle = zwitch('type', {\n  invalid,\n  unknown,\n  handlers: {comment, doctype, element, raw, root, text}\n})\n\n/**\n * Fail when a non-node is found in the tree.\n *\n * @param {unknown} node\n *   Unknown value.\n * @returns {never}\n *   Never.\n */\nfunction invalid(node) {\n  throw new Error('Expected node, not `' + node + '`')\n}\n\n/**\n * Fail when a node with an unknown type is found in the tree.\n *\n * @param {unknown} node_\n *  Unknown node.\n * @returns {never}\n *   Never.\n */\nfunction unknown(node_) {\n  // `type` is guaranteed by runtime JS.\n  const node = /** @type {Nodes} */ (node_)\n  throw new Error('Cannot compile unknown node `' + node.type + '`')\n}\n","/**\n * @typedef {import('hast').Nodes} Nodes\n * @typedef {import('hast').Parents} Parents\n * @typedef {import('hast').RootContent} RootContent\n *\n * @typedef {import('property-information').Schema} Schema\n *\n * @typedef {import('stringify-entities').Options} StringifyEntitiesOptions\n */\n\n/**\n * @typedef {Omit<StringifyEntitiesOptions, 'attribute' | 'escapeOnly' | 'subset'>} CharacterReferences\n *\n * @typedef Options\n *   Configuration.\n * @property {boolean | null | undefined} [allowDangerousCharacters=false]\n *   Do not encode some characters which cause XSS vulnerabilities in older\n *   browsers (default: `false`).\n *\n *   >  **Danger**: only set this if you completely trust the content.\n * @property {boolean | null | undefined} [allowDangerousHtml=false]\n *   Allow `raw` nodes and insert them as raw HTML (default: `false`).\n *\n *   When `false`, `Raw` nodes are encoded.\n *\n *   >  **Danger**: only set this if you completely trust the content.\n * @property {boolean | null | undefined} [allowParseErrors=false]\n *   Do not encode characters which cause parse errors (even though they work),\n *   to save bytes (default: `false`).\n *\n *   Not used in the SVG space.\n *\n *   >  **Note**: intentionally creates parse errors in markup (how parse\n *   > errors are handled is well defined, so this works but isnt pretty).\n * @property {boolean | null | undefined} [bogusComments=false]\n *   Use bogus comments instead of comments to save byes: `<?charlie>`\n *   instead of `<!--charlie-->` (default: `false`).\n *\n *   >  **Note**: intentionally creates parse errors in markup (how parse\n *   > errors are handled is well defined, so this works but isnt pretty).\n * @property {CharacterReferences | null | undefined} [characterReferences]\n *   Configure how to serialize character references (optional).\n * @property {boolean | null | undefined} [closeEmptyElements=false]\n *   Close SVG elements without any content with slash (`/`) on the opening tag\n *   instead of an end tag: `<circle />` instead of `<circle></circle>`\n *   (default: `false`).\n *\n *   See `tightSelfClosing` to control whether a space is used before the\n *   slash.\n *\n *   Not used in the HTML space.\n * @property {boolean | null | undefined} [closeSelfClosing=false]\n *   Close self-closing nodes with an extra slash (`/`): `<img />` instead of\n *   `<img>` (default: `false`).\n *\n *   See `tightSelfClosing` to control whether a space is used before the\n *   slash.\n *\n *   Not used in the SVG space.\n * @property {boolean | null | undefined} [collapseEmptyAttributes=false]\n *   Collapse empty attributes: get `class` instead of `class=\"\"` (default:\n *   `false`).\n *\n *   Not used in the SVG space.\n *\n *   >  **Note**: boolean attributes (such as `hidden`) are always collapsed.\n * @property {boolean | null | undefined} [omitOptionalTags=false]\n *   Omit optional opening and closing tags (default: `false`).\n *\n *   For example, in `<ol><li>one</li><li>two</li></ol>`, both `</li>` closing\n *   tags can be omitted.\n *   The first because its followed by another `li`, the last because its\n *   followed by nothing.\n *\n *   Not used in the SVG space.\n * @property {boolean | null | undefined} [preferUnquoted=false]\n *   Leave attributes unquoted if that results in less bytes (default: `false`).\n *\n *   Not used in the SVG space.\n * @property {Quote | null | undefined} [quote='\"']\n *   Preferred quote to use (default: `'\"'`).\n * @property {boolean | null | undefined} [quoteSmart=false]\n *   Use the other quote if that results in less bytes (default: `false`).\n * @property {Space | null | undefined} [space='html']\n *   When an `<svg>` element is found in the HTML space, this package already\n *   automatically switches to and from the SVG space when entering and exiting\n *   it (default: `'html'`).\n *\n *   >  **Note**: hast is not XML.\n *   > It supports SVG as embedded in HTML.\n *   > It does not support the features available in XML.\n *   > Passing SVG might break but fragments of modern SVG should be fine.\n *   > Use [`xast`][xast] if you need to support SVG as XML.\n * @property {boolean | null | undefined} [tightAttributes=false]\n *   Join attributes together, without whitespace, if possible: get\n *   `class=\"a b\"title=\"c d\"` instead of `class=\"a b\" title=\"c d\"` to save\n *   bytes (default: `false`).\n *\n *   Not used in the SVG space.\n *\n *   >  **Note**: intentionally creates parse errors in markup (how parse\n *   > errors are handled is well defined, so this works but isnt pretty).\n * @property {boolean | null | undefined} [tightCommaSeparatedLists=false]\n *   Join known comma-separated attribute values with just a comma (`,`),\n *   instead of padding them on the right as well (`,`, where `` represents a\n *   space) (default: `false`).\n * @property {boolean | null | undefined} [tightDoctype=false]\n *   Drop unneeded spaces in doctypes: `<!doctypehtml>` instead of\n *   `<!doctype html>` to save bytes (default: `false`).\n *\n *   >  **Note**: intentionally creates parse errors in markup (how parse\n *   > errors are handled is well defined, so this works but isnt pretty).\n * @property {boolean | null | undefined} [tightSelfClosing=false]\n *   Do not use an extra space when closing self-closing elements: `<img/>`\n *   instead of `<img />` (default: `false`).\n *\n *   >  **Note**: only used if `closeSelfClosing: true` or\n *   > `closeEmptyElements: true`.\n * @property {boolean | null | undefined} [upperDoctype=false]\n *   Use a `<!DOCTYPE` instead of `<!doctype` (default: `false`).\n *\n *   Useless except for XHTML.\n * @property {ReadonlyArray<string> | null | undefined} [voids]\n *   Tag names of elements to serialize without closing tag (default: `html-void-elements`).\n *\n *   Not used in the SVG space.\n *\n *   >  **Note**: Its highly unlikely that you want to pass this, because\n *   > hast is not for XML, and HTML will not add more void elements.\n *\n * @typedef {'\"' | \"'\"} Quote\n *   HTML quotes for attribute values.\n *\n * @typedef {Omit<Required<{[key in keyof Options]: Exclude<Options[key], null | undefined>}>, 'space' | 'quote'>} Settings\n *\n * @typedef {'html' | 'svg'} Space\n *   Namespace.\n *\n * @typedef State\n *   Info passed around about the current state.\n * @property {(node: Nodes, index: number | undefined, parent: Parents | undefined) => string} one\n *   Serialize one node.\n * @property {(node: Parents | undefined) => string} all\n *   Serialize the children of a parent node.\n * @property {Settings} settings\n *   User configuration.\n * @property {Schema} schema\n *   Current schema.\n * @property {Quote} quote\n *   Preferred quote.\n * @property {Quote} alternative\n *   Alternative quote.\n */\n\nimport {htmlVoidElements} from 'html-void-elements'\nimport {html, svg} from 'property-information'\nimport {handle} from './handle/index.js'\n\n/** @type {Options} */\nconst emptyOptions = {}\n\n/** @type {CharacterReferences} */\nconst emptyCharacterReferences = {}\n\n/** @type {Array<never>} */\nconst emptyChildren = []\n\n/**\n * Serialize hast as HTML.\n *\n * @param {Array<RootContent> | Nodes} tree\n *   Tree to serialize.\n * @param {Options | null | undefined} [options]\n *   Configuration (optional).\n * @returns {string}\n *   Serialized HTML.\n */\nexport function toHtml(tree, options) {\n  const options_ = options || emptyOptions\n  const quote = options_.quote || '\"'\n  const alternative = quote === '\"' ? \"'\" : '\"'\n\n  if (quote !== '\"' && quote !== \"'\") {\n    throw new Error('Invalid quote `' + quote + '`, expected `\\'` or `\"`')\n  }\n\n  /** @type {State} */\n  const state = {\n    one,\n    all,\n    settings: {\n      omitOptionalTags: options_.omitOptionalTags || false,\n      allowParseErrors: options_.allowParseErrors || false,\n      allowDangerousCharacters: options_.allowDangerousCharacters || false,\n      quoteSmart: options_.quoteSmart || false,\n      preferUnquoted: options_.preferUnquoted || false,\n      tightAttributes: options_.tightAttributes || false,\n      upperDoctype: options_.upperDoctype || false,\n      tightDoctype: options_.tightDoctype || false,\n      bogusComments: options_.bogusComments || false,\n      tightCommaSeparatedLists: options_.tightCommaSeparatedLists || false,\n      tightSelfClosing: options_.tightSelfClosing || false,\n      collapseEmptyAttributes: options_.collapseEmptyAttributes || false,\n      allowDangerousHtml: options_.allowDangerousHtml || false,\n      voids: options_.voids || htmlVoidElements,\n      characterReferences:\n        options_.characterReferences || emptyCharacterReferences,\n      closeSelfClosing: options_.closeSelfClosing || false,\n      closeEmptyElements: options_.closeEmptyElements || false\n    },\n    schema: options_.space === 'svg' ? svg : html,\n    quote,\n    alternative\n  }\n\n  return state.one(\n    Array.isArray(tree) ? {type: 'root', children: tree} : tree,\n    undefined,\n    undefined\n  )\n}\n\n/**\n * Serialize a node.\n *\n * @this {State}\n *   Info passed around about the current state.\n * @param {Nodes} node\n *   Node to handle.\n * @param {number | undefined} index\n *   Index of `node` in `parent.\n * @param {Parents | undefined} parent\n *   Parent of `node`.\n * @returns {string}\n *   Serialized node.\n */\nfunction one(node, index, parent) {\n  return handle(node, index, parent, this)\n}\n\n/**\n * Serialize all children of `parent`.\n *\n * @this {State}\n *   Info passed around about the current state.\n * @param {Parents | undefined} parent\n *   Parent whose children to serialize.\n * @returns {string}\n */\nexport function all(parent) {\n  /** @type {Array<string>} */\n  const results = []\n  const children = (parent && parent.children) || emptyChildren\n  let index = -1\n\n  while (++index < children.length) {\n    results[index] = this.one(children[index], index, parent)\n  }\n\n  return results.join('')\n}\n","/**\n * @import {Root} from 'hast'\n * @import {Options} from 'hast-util-to-html'\n * @import {Compiler, Processor} from 'unified'\n */\n\nimport {toHtml} from 'hast-util-to-html'\n\n/**\n * Plugin to add support for serializing as HTML.\n *\n * @param {Options | null | undefined} [options]\n *   Configuration (optional).\n * @returns {undefined}\n *   Nothing.\n */\nexport default function rehypeStringify(options) {\n  /** @type {Processor<undefined, undefined, undefined, Root, string>} */\n  // @ts-expect-error: TS in JSDoc generates wrong types if `this` is typed regularly.\n  const self = this\n  const settings = {...self.data('settings'), ...options}\n\n  self.compiler = compiler\n\n  /**\n   * @type {Compiler<Root, string>}\n   */\n  function compiler(tree) {\n    return toHtml(tree, settings)\n  }\n}\n"],"mappings":"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AAS,CAAEjiB,OAAQ,GAAI/oB,KAAM,QAASiJ,UAAW25B,GAAGqI,QACrD,CAAC,cAAe,CAAEliB,OAAQ,QAAS/oB,KAAM,QAASiJ,UAAW25B,GAAGqI,UAG7D,MAAMmd,GAA+B,IAAInwD,IAAI,CAChD,WACA,cACA,eACA,eACA,gBACA,mBACA,WACA,UACA,gBACA,sBACA,cACA,mBACA,oBACA,oBACA,iBACA,UACA,UACA,UACA,UACA,UACA,iBACA,UACA,UACA,cACA,eACA,WACA,eACA,qBACA,cACA,SACA,eACA,gBACA,WACA,iBACA,iBACA,YACFL,KAAKypD,GAAO,CAACA,EAAGnvC,cAAemvC,MAEjC,MAAMgH,GAAwB,IAAI16C,IAAI,CAClCX,GAAEy2B,EACFz2B,GAAE62B,IACF72B,GAAE82B,WACF92B,GAAE+2B,KACF/2B,GAAEg3B,GACFh3B,GAAEm3B,OACFn3B,GAAEo3B,KACFp3B,GAAEu3B,GACFv3B,GAAE43B,IACF53B,GAAE63B,GACF73B,GAAE83B,GACF93B,GAAE+3B,GACF/3B,GAAEg4B,MACFh4B,GAAE04B,GACF14B,GAAE24B,GACF34B,GAAE44B,GACF54B,GAAE64B,GACF74B,GAAE84B,GACF94B,GAAE+4B,GACF/4B,GAAEg5B,KACFh5B,GAAEm5B,GACFn5B,GAAEq5B,EACFr5B,GAAEs5B,IACFt5B,GAAE45B,GACF55B,GAAE85B,QACF95B,GAAEm6B,KACFn6B,GAAEo6B,KACFp6B,GAAE46B,KACF56B,GAAEg7B,GACFh7B,GAAEm7B,EACFn7B,GAAEs7B,IACFt7B,GAAE27B,KACF37B,GAAE47B,EACF57B,GAAEi8B,MACFj8B,GAAEk8B,KACFl8B,GAAEo8B,OACFp8B,GAAEm8B,OACFn8B,GAAEs8B,IACFt8B,GAAEw8B,IACFx8B,GAAEy8B,MACFz8B,GAAEo9B,GACFp9B,GAAEq9B,EACFr9B,GAAEs9B,GACFt9B,GAAEw9B,MAGC,SAAS8d,GAAWC,GACvB,MAAMlH,EAAKkH,EAActZ,MACzB,MAAMuZ,EAAkBnH,IAAOr0C,GAAEo4B,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AAC,QACJC,QAAS,CAAC,gBAAiB,CAAC,YAAa,cACzCx6D,OAAQ,CAAC,UACTkkB,QAAS,IAAIxT,IACb+pD,MAAO,IAAI/pD,IAIXgqD,GAAI,IAAIhqD,GAAM,CAAC,YAAa,uBAC5B,IAAK,CACH,OACA,SACA,gBACA,YACA,SACA,QACA,MACA,OACA,SACA,cACA,cACA,OACA,UACA,UACA,UACA,QACA,UACA,QACA,OACA,UACA,SACA,WACA,MACA,WACA,UACA,QACA,SACA,UACA,SACA,WACA,UACA,KACA,QACA,WACA,QACA,OACA,YACA,QACA,SACA,WACA,OACA,SACA,UACA,SACA,OACA,SACA,WACA,MACA,MACA,UACA,OACA,QACA,QACA,WACA,QACA,OACA,OACA,QACA,UACA,WACA,SACA,QACA,SACA,SACA,QACA,UAGJiqD,QAAS,CAAC,kBAAmB,iBAAkB,KAAM,QACrDC,cAAe,gBACfC,UAAW,CACTzlD,KAAM,CAAC,OAAQ,SACf7S,KAAM,CAAC,OAAQ,QAAS,MAAO,OAAQ,SAAU,QACjD2gB,SAAU,CAAC,OAAQ,SACnB3mB,IAAK,CAAC,OAAQ,UAEhBqjB,SAAU,CACRkX,MAAO,CAAC1gB,SAAU,KAAMpO,KAAM,aAEhC8yD,MAAO,CAAC,UACR3e,SAAU,CACR,IACA,IACA,aACA,KACA,OACA,KACA,MACA,UACA,MACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,IACA,MAIA,QACA,MACA,MACA,KACA,KACA,IACA,UACA,MACA,IACA,KACA,KACA,OACA,IACA,OACA,UACA,SACA,OACA,SACA,SACA,MACA,UACA,MACA,QACA,QACA,KACA,QACA,KACA,QACA,KACA,KACA,KACA,QCUJ,MAAM13C,GAAM,GAAG3J,eAYR,SAASigE,GAAShzD,EAAMhM,GAE7B,IAAIi/D,EAAM,CAAChzD,KAAM,OAAQoF,SAAU,IAGnC,MAAMlX,EAAQ,CACZggC,OAAQn6B,EAAU,IAAIu9D,MAAkBv9D,GAAWu9D,GACnDn5D,MAAO,IAET,MAAMk2B,EAAU9mB,GAAUrZ,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Cf,IAAIt/D,GAAS,EAEb,QAASA,EAAQg/D,EAAOvlE,OAAQ,CAC9B6lE,EAAOl/D,KAAK4+D,EAAOh/D,GAAOu4B,QAAQ,sBAAuB,QAC7D,CAEE,OAAO,IAAI3sB,OAAO,MAAQ0zD,EAAO38D,KAAK,KAAO,IAAK,IACpD,CCjFO,SAAS48D,GAAcxoE,EAAM+I,EAAM0/D,GACxC,MAAMtjE,EAAQ,MAAQnF,EAAKmG,SAAS,IAAIu7B,cACxC,OAAO+mC,GAAQ1/D,IAAS,aAAawN,KAAKjX,OAAOG,aAAasJ,IAC1D5D,EACAA,EAAQ,GACd,CCLO,SAASujE,GAAU1oE,EAAM+I,EAAM0/D,GACpC,MAAMtjE,EAAQ,KAAO7F,OAAOU,GAC5B,OAAOyoE,GAAQ1/D,IAAS,KAAKwN,KAAKjX,OAAOG,aAAasJ,IAClD5D,EACAA,EAAQ,GACd,CCRO,MAAMwjE,GAA0B,CACrC,QACA,MACA,SACA,QACA,SACA,QACA,SACA,OACA,OACA,SACA,MACA,SACA,QACA,SACA,OACA,KACA,SACA,QACA,SACA,OACA,KACA,SACA,SACA,QACA,SACA,SACA,SACA,OACA,OACA,MACA,QACA,SACA,QACA,SACA,OACA,SACA,SACA,QACA,QACA,QACA,SACA,MACA,QACA,SACA,OACA,SACA,SACA,QACA,OACA,OACA,SACA,MACA,SACA,SACA,QACA,SACA,MACA,OACA,SACA,SACA,SACA,KACA,SACA,QACA,QACA,SACA,SACA,OACA,QACA,KACA,OACA,QACA,SACA,OACA,MACA,SACA,SACA,QACA,SACA,OACA,OACA,SACA,SACA,OACA,OACA,SACA,QACA,OACA,QACA,MACA,OACA,MACA,OACA,OACA,OACA,QACA,QACA,QACA,SACA,QACA,SACA,MACA,OACA,SACA,MACA,QC1GK,MAAMC,GAAyB,CACpCC,KAAM,IACNC,MAAO,IACPC,KAAM,IACNC,MAAO,IACPC,OAAQ,IACRC,IAAK,IACLC,OAAQ,IACRC,KAAM,IACNC,IAAK,IACL1hE,KAAM,IACN2hE,KAAM,IACNC,MAAO,IACPC,IAAK,IACLC,IAAK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"}