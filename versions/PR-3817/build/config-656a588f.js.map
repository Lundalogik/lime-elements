{"version":3,"names":["ConfigClass","constructor","this","iconPath","defaultLocale","navigator","language","featureSwitches","getFeatureSwitches","localStorage","storage","features","i","length","key","value","getItem","includes","config","globalConfig"],"sources":["./src/global/config.ts"],"sourcesContent":["import { CustomElementDefinition } from './shared-types/custom-element.types';\n\n/**\n * Configuration options for limel-config.\n *\n * @public\n */\nexport type Config = {\n    /**\n     * The path to where the icon library used by limel-icon is located.\n     */\n    iconPath?: string;\n\n    /**\n     * The default locale to use for components that support localization.\n     */\n    defaultLocale?: string;\n\n    /**\n     * Whitelisted html elements for `limel-markdown`.\n     *\n     * Any custom element added here will not be sanitized and thus rendered.\n     * @alpha\n     */\n    markdownWhitelist?: CustomElementDefinition[];\n\n    /**\n     * @internal\n     */\n    featureSwitches?: Record<string, boolean>;\n};\n\nclass ConfigClass implements Config {\n    public iconPath = '';\n    public defaultLocale = navigator.language;\n    public markdownWhitelist?: CustomElementDefinition[];\n    public featureSwitches: any = getFeatureSwitches(localStorage);\n}\n\nfunction getFeatureSwitches(storage: Storage) {\n    const features = {};\n    for (let i = 0; i < storage.length; i++) {\n        const key = storage.key(i);\n        const value = storage.getItem(key);\n\n        if (!['true', 'false'].includes(value)) {\n            continue;\n        }\n\n        features[key] = value === 'true';\n    }\n\n    return features;\n}\n\nconst config = new ConfigClass();\nexport const globalConfig: Config = (() => {\n    return config;\n})();\n"],"mappings":"AAgCA,MAAMA,EAANC,cACWC,KAAAC,SAAW,GACXD,KAAAE,cAAgBC,UAAUC,SAE1BJ,KAAAK,gBAAuBC,EAAmBC,a,EAGrD,SAASD,EAAmBE,GACxB,MAAMC,EAAW,GACjB,IAAK,IAAIC,EAAI,EAAGA,EAAIF,EAAQG,OAAQD,IAAK,CACrC,MAAME,EAAMJ,EAAQI,IAAIF,GACxB,MAAMG,EAAQL,EAAQM,QAAQF,GAE9B,IAAK,CAAC,OAAQ,SAASG,SAASF,GAAQ,CACpC,Q,CAGJJ,EAASG,GAAOC,IAAU,M,CAG9B,OAAOJ,CACX,CAEA,MAAMO,EAAS,IAAIlB,E,MACNmB,EAAuB,KACzBD,EADyB,U"}