import{r as t,c as i,h as e,H as s,a as r}from"./index-CVv9iInn.js";import{c as o,i as n}from"./files-DpVhPL0o.js";import{b as a}from"./_baseForOwn-B6SA9e_i.js";import{i as h}from"./isArrayLike-DUr_u5zM.js";import{b as l}from"./_baseIteratee-BzgZMONF.js";import{i as c}from"./isArray-B8VKuhvH.js";import{c as p}from"./random-string-JbKhhoXs.js";import"./file-metadata-1ud0gp0v.js";import"./get-icon-props-Brj4ePEr.js";import"./_Uint8Array-Bknd-n0y.js";import"./eq-CZ30nDJE.js";import"./_getTag-DV6QHP2A.js";import"./_baseGetTag-Cd9mW1Ny.js";import"./isObjectLike-oiMYqRQ0.js";import"./_nodeUtil-7YmE6u0B.js";import"./_getNative-DgsbF66y.js";import"./isFunction-C8a2KtkQ.js";import"./isObject-CqTdDZkE.js";import"./_isIndex-B--C3qwe.js";import"./_baseIsEqual-DzhQmtrA.js";import"./isSymbol-LuPI8hcz.js";import"./toString-B5gdhIt-.js";import"./identity-CK4jS9_E.js";function d(t,i,e,s){for(var r=-1,o=null==t?0:t.length;++r<o;){var n=t[r];i(s,n,e(n),t)}return s}var m,f=(m=a,function(t,i){if(null==t)return t;if(!h(t))return m(t,i);for(var e=t.length,s=-1,r=Object(t);++s<e&&!1!==i(r[s],s,r););return t});function b(t,i,e,s){return f(t,(function(t,r,o){i(s,t,e(t),o)})),s}var u,j,g=(u=function(t,i,e){t[e?0:1].push(i)},j=function(){return[[],[]]},function(t,i){var e=c(t)?d:b,s=j?[[],[]]:{};return e(t,u,l(i),s)});const y=class{constructor(s){t(this,s),this.filesSelected=i(this,"filesSelected"),this.filesRejected=i(this,"filesRejected"),this.accept="*",this.disabled=!1,this.helperText="",this.hasFileToDrop=!1,this.renderOnDragLayout=()=>{if(!this.disabled&&this.hasFileToDrop)return e("div",{class:"has-file-to-drop"},e("limel-icon",{class:"icon",name:"upload_2"}),e("div",{class:"text-helpertext"},this.renderText(),this.renderHelperText()))},this.renderText=()=>{if(this.text)return e("span",{class:"text"},this.text)},this.renderHelperText=()=>{if(this.helperText)return e("span",{class:"helper-text"},this.helperText)},this.handleDrop=t=>{if(t.stopPropagation(),t.preventDefault(),this.hasFileToDrop=!1,this.disabled)return;const i=[...t.dataTransfer.files].map(o),[e,s]=g(i,(t=>n(t,this.accept)));e.length>0&&this.filesSelected.emit(e),s.length>0&&this.filesRejected.emit(s)},this.handleDragOver=t=>{this.hasFileToDrop=!0,t.preventDefault()},this.handleDragLeave=t=>{this.hasFileToDrop=!1,t.preventDefault()}}render(){return e(s,{key:"41b73bb43c0916a5bb6429ff6ea27e033c75ce3f",onDrop:this.handleDrop,onDragOver:this.handleDragOver,onDragLeave:this.handleDragLeave},e("slot",{key:"6190a340b28d1e535f7c013c942e76ef6445f77c"}),this.renderOnDragLayout())}};y.style=":host(limel-file-dropzone){display:block;position:relative}.has-file-to-drop{animation:display-drop-zone 0.6s ease forwards;box-sizing:border-box;isolation:isolate;z-index:1;position:absolute;inset:0.25rem;overflow:hidden;display:flex;justify-content:center;align-items:center;gap:0.5rem;color:rgb(var(--contrast-700));border:0.125rem dashed rgb(var(--color-cyan-light));border-radius:0.75rem}.text-helpertext{display:flex;flex-direction:column;justify-content:center;align-items:flex-start}.icon{width:clamp(2rem, 5vh, 7rem)}.text{font-size:clamp(1rem, 2vh, 1.75rem)}.helper-text{font-size:clamp(0.75rem, 1.5vh, 1rem)}@keyframes display-drop-zone{0%{background-color:rgb(var(--contrast-1100), 0);backdrop-filter:blur(0);-webkit-backdrop-filter:blur(0);scale:0.9;opacity:0}50%{scale:1;opacity:1}100%{background-color:rgb(var(--contrast-1100), 0.8);backdrop-filter:blur(0.25rem);-webkit-backdrop-filter:blur(0.25rem)}}";const v=class{constructor(e){t(this,e),this.filesSelected=i(this,"filesSelected"),this.accept="*",this.disabled=!1,this.multiple=!1,this.fileInputId=p(),this.handleClick=t=>{if(this.disabled)return t.stopPropagation(),void t.preventDefault();this.triggerFileDialog(),t.stopPropagation()},this.handleKeyUp=t=>{t.stopPropagation(),t.preventDefault(),"Enter"===t.code&&this.triggerFileDialog()},this.handleFileChange=t=>{const i=[...this.fileInput.files];i.length>0&&(t.stopPropagation(),this.filesSelected.emit(i.map(o)),this.fileInput.value="")}}componentDidLoad(){this.fileInput=this.element.shadowRoot.getElementById(this.fileInputId)}render(){return e(s,{key:"669cd955ed454b946a19a9c1050a043f23dfb041",onClick:this.handleClick,onKeyUp:this.handleKeyUp,onKeyDown:this.handleKeyDown},e("input",{key:"10044933e195388f8eb725e6219628f42f55cbf9",hidden:!0,id:this.fileInputId,onChange:this.handleFileChange,type:"file",accept:this.accept,disabled:this.disabled,multiple:this.multiple}),e("slot",{key:"156cfd44e9557a8fc1004d375abcde3818187554"}))}handleKeyDown(t){"Tab"!==t.code&&"Backspace"!==t.code&&"Enter"!==t.code&&(t.preventDefault(),t.stopPropagation())}triggerFileDialog(){this.fileInput.click()}get element(){return r(this)}};export{y as limel_file_dropzone,v as limel_file_input}