const t="+";const n=t=>{const n=(t!==null&&t!==void 0?t:"").trim();if(!n){return[]}if(n==="+"){return["+"]}const e=[];let r="";let o=0;while(o<n.length){const t=n[o];if(t!=="+"){r+=t;o++;continue}const i=n[o+1];if(i==="+"){const t=r.trim();if(t){e.push(t)}e.push("+");r="";o+=2;continue}const s=r.trim();if(s){e.push(s)}r="";o++}const i=r.trim();if(i){e.push(i)}return e};const e=t=>{const n=t.trim().toLowerCase();if(!n){return null}const e={cmd:"meta",command:"meta",win:"meta",windows:"meta",option:"alt",esc:"escape",return:"enter",del:"delete",backspace:"delete",up:"arrowup",down:"arrowdown",left:"arrowleft",right:"arrowright",spacebar:"space"};if(e[n]){return e[n]}if(/^f\d{1,2}$/.test(n)){return n}return n};const r=n=>{const r=e(n.key);if(!r){return null}if(["shift","alt","control","ctrl","meta"].includes(r)){return null}const o=[];if(n.meta){o.push("meta")}if(n.ctrl){o.push("ctrl")}if(n.alt){o.push("alt")}if(n.shift){o.push("shift")}o.push(r);return o.join(t)};const o=t=>{if(!t){return null}const o=n(t);if(o.length===0){return null}let i=false;let s=false;let c=false;let f=false;let l=null;for(const t of o){const n=e(t);if(!n){continue}if(n==="alt"){i=true;continue}if(n==="ctrl"||n==="control"){s=true;continue}if(n==="meta"){c=true;continue}if(n==="shift"){f=true;continue}l=n}if(!l){return null}return r({key:l,alt:i,ctrl:s,meta:c,shift:f})};const i=t=>{const n=(t.code||"").trim();if(/^Key[A-Z]$/.test(n)){return n.slice(3).toLowerCase()}if(/^Digit\d$/.test(n)){return n.slice(5)}const r=t.key;if(r===" "){return"space"}return e(r)};const s=t=>{const n=i(t);if(!n){return null}const e=n==="+"?false:t.shiftKey;return r({key:n,alt:t.altKey,ctrl:t.ctrlKey,meta:t.metaKey,shift:e})};const c=(e,r,o)=>{if(!e||!r){return false}if(e===r){return true}if(!(o===null||o===void 0?void 0:o.treatExpectedMetaAsCtrl)){return false}const i=n(e);if(i.length<=1){return false}const s=i.at(-1);if(!s){return false}const c=i.slice(0,-1);const f=c.includes("meta");const l=c.includes("ctrl");if(!f||l){return false}const u=c.map((t=>t==="meta"?"ctrl":t));const a=[...u,s].join(t);return a===r};const f=t=>{var n;const e=typeof t.composedPath==="function"?t.composedPath():[];for(const t of e){if(!(t instanceof Element)){continue}if(t.isContentEditable){return true}const e=t.tagName;if(e==="INPUT"||e==="TEXTAREA"||e==="SELECT"){return true}if(((n=t.getAttribute)===null||n===void 0?void 0:n.call(t,"role"))==="textbox"){return true}}return false};export{c as a,s as h,f as i,o as n,n as t};
//# sourceMappingURL=hotkeys-0fd689a5.js.map