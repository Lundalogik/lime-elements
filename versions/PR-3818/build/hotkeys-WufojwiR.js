const t={cmd:"meta",command:"meta",win:"meta",windows:"meta",control:"ctrl",option:"alt",esc:"escape",return:"enter",del:"delete",up:"arrowup",down:"arrowdown",left:"arrowleft",right:"arrowright",spacebar:"space"},n=t=>{const n=(null!=t?t:"").trim();if(!n)return[];if("+"===n)return["+"];const r=[];let e="",o=0;for(;o<n.length;){const t=n[o];if("+"!==t){e+=t,o++;continue}if("+"===n[o+1]){const t=e.trim();t&&r.push(t),r.push("+"),e="",o+=2;continue}const l=e.trim();l&&r.push(l),e="",o++}const l=e.trim();return l&&r.push(l),r},r=n=>{const r=n.trim().toLowerCase();return r?t[r]?t[r]:r:null},e=t=>{const n=r(t.key);if(!n)return null;if(["shift","alt","ctrl","meta"].includes(n))return null;const e=[];return t.meta&&e.push("meta"),t.ctrl&&e.push("ctrl"),t.alt&&e.push("alt"),t.shift&&e.push("shift"),e.push(n),e.join("+")},o=t=>{if(!t)return null;const o=n(t);if(0===o.length)return null;let l=!1,c=!1,s=!1,u=!1,i=null;for(const t of o){const n=r(t);n&&("alt"!==n?"ctrl"!==n?"meta"!==n?"shift"!==n?i=n:u=!0:s=!0:c=!0:l=!0)}return i?e({key:i,alt:l,ctrl:c,meta:s,shift:u}):null},l=t=>{const n=(t=>{const n=(t.code||"").trim();if(/^Key[A-Z]$/.test(n))return n.slice(3).toLowerCase();if(/^Digit\d$/.test(n))return n.slice(5);const e=t.key;return" "===e?"space":r(e)})(t);return n?e({key:n,alt:t.altKey,ctrl:t.ctrlKey,meta:t.metaKey,shift:"+"!==n&&t.shiftKey}):null},c=t=>{const n="function"==typeof t.composedPath?t.composedPath():[];for(const t of n){if(!(t instanceof Element))continue;if(t.isContentEditable)return!0;const n=t.tagName;if("INPUT"===n||"TEXTAREA"===n||"SELECT"===n)return!0;if("textbox"===t.getAttribute("role"))return!0}return!1};export{l as h,c as i,o as n,n as t}