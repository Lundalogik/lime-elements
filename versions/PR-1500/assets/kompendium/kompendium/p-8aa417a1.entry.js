import{r as t,h as e,g as i,a as n}from"./p-4cc338df.js";import{s as r}from"./p-913596d1.js";import{T as s}from"./p-8a0a7ce8.js";import{c as o}from"./p-a5bfdd98.js";import{m as a,a as c,s as l,b as h,c as d,d as u,e as p,f as m,g,h as f,i as v,j as b,k as y,l as k,n as w,o as x,p as M}from"./p-9b6a9315.js";import{A as z}from"./p-166c595a.js";function L(t){return Array.isArray?Array.isArray(t):"[object Array]"===$(t)}function j(t){return"string"==typeof t}function _(t){return"number"==typeof t}function S(t){return"object"==typeof t}function C(t){return null!=t}function O(t){return!t.trim().length}function $(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const P=Object.prototype.hasOwnProperty;class A{constructor(t){this._keys=[],this._keyMap={};let e=0;t.forEach((t=>{let i=R(t);e+=i.weight,this._keys.push(i),this._keyMap[i.id]=i,e+=i.weight})),this._keys.forEach((t=>{t.weight/=e}))}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function R(t){let e=null,i=null,n=null,r=1;if(j(t)||L(t))n=t,e=T(t),i=H(t);else{if(!P.call(t,"name"))throw new Error("Missing name property in key");const s=t.name;if(n=s,P.call(t,"weight")&&(r=t.weight,r<=0))throw new Error((t=>`Property 'weight' in key '${t}' must be a positive integer`)(s));e=T(s),i=H(s)}return{path:e,id:i,weight:r,src:n}}function T(t){return L(t)?t:t.split(".")}function H(t){return L(t)?t.join("."):t}var I={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(t,e)=>t.score===e.score?t.idx<e.idx?-1:1:t.score<e.score?-1:1,includeMatches:!1,findAllMatches:!1,minMatchCharLength:1,location:0,threshold:.6,distance:100,useExtendedSearch:!1,getFn:function(t,e){let i=[],n=!1;const r=(t,e,s)=>{if(C(t))if(e[s]){const o=t[e[s]];if(!C(o))return;if(s===e.length-1&&(j(o)||_(o)||function(t){return!0===t||!1===t||function(t){return S(t)&&null!==t}(t)&&"[object Boolean]"==$(t)}(o)))i.push(function(t){return null==t?"":function(t){if("string"==typeof t)return t;let e=t+"";return"0"==e&&1/t==-1/0?"-0":e}(t)}(o));else if(L(o)){n=!0;for(let t=0,i=o.length;t<i;t+=1)r(o[t],e,s+1)}else e.length&&r(o,e,s+1)}else i.push(t)};return r(t,j(e)?e.split("."):e,0),n?i:i[0]},ignoreLocation:!1,ignoreFieldNorm:!1};const F=/[^ ]+/g;class E{constructor({getFn:t=I.getFn}={}){this.norm=function(t=3){const e=new Map,i=Math.pow(10,t);return{get(t){const n=t.match(F).length;if(e.has(n))return e.get(n);const r=1/Math.sqrt(n),s=parseFloat(Math.round(r*i)/i);return e.set(n,s),s},clear(){e.clear()}}}(3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach(((t,e)=>{this._keysMap[t.id]=e}))}create(){!this.isCreated&&this.docs.length&&(this.isCreated=!0,j(this.docs[0])?this.docs.forEach(((t,e)=>{this._addString(t,e)})):this.docs.forEach(((t,e)=>{this._addObject(t,e)})),this.norm.clear())}add(t){const e=this.size();j(t)?this._addString(t,e):this._addObject(t,e)}removeAt(t){this.records.splice(t,1);for(let e=t,i=this.size();e<i;e+=1)this.records[e].i-=1}getValueForItemAtKeyId(t,e){return t[this._keysMap[e]]}size(){return this.records.length}_addString(t,e){if(!C(t)||O(t))return;let i={v:t,i:e,n:this.norm.get(t)};this.records.push(i)}_addObject(t,e){let i={i:e,$:{}};this.keys.forEach(((e,n)=>{let r=this.getFn(t,e.path);if(C(r))if(L(r)){let t=[];const e=[{nestedArrIndex:-1,value:r}];for(;e.length;){const{nestedArrIndex:i,value:n}=e.pop();if(C(n))if(j(n)&&!O(n)){let e={v:n,i,n:this.norm.get(n)};t.push(e)}else L(n)&&n.forEach(((t,i)=>{e.push({nestedArrIndex:i,value:t})}))}i.$[n]=t}else if(!O(r)){let t={v:r,n:this.norm.get(r)};i.$[n]=t}})),this.records.push(i)}toJSON(){return{keys:this.keys,records:this.records}}}function N(t,e,{getFn:i=I.getFn}={}){const n=new E({getFn:i});return n.setKeys(t.map(R)),n.setSources(e),n.create(),n}function U(t,{errors:e=0,currentLocation:i=0,expectedLocation:n=0,distance:r=I.distance,ignoreLocation:s=I.ignoreLocation}={}){const o=e/t.length;if(s)return o;const a=Math.abs(n-i);return r?o+a/r:a?1:o}function V(t){let e={};for(let i=0,n=t.length;i<n;i+=1){const r=t.charAt(i);e[r]=(e[r]||0)|1<<n-i-1}return e}class B{constructor(t,{location:e=I.location,threshold:i=I.threshold,distance:n=I.distance,includeMatches:r=I.includeMatches,findAllMatches:s=I.findAllMatches,minMatchCharLength:o=I.minMatchCharLength,isCaseSensitive:a=I.isCaseSensitive,ignoreLocation:c=I.ignoreLocation}={}){if(this.options={location:e,threshold:i,distance:n,includeMatches:r,findAllMatches:s,minMatchCharLength:o,isCaseSensitive:a,ignoreLocation:c},this.pattern=a?t:t.toLowerCase(),this.chunks=[],!this.pattern.length)return;const l=(t,e)=>{this.chunks.push({pattern:t,alphabet:V(t),startIndex:e})},h=this.pattern.length;if(h>32){let t=0;const e=h%32,i=h-e;for(;t<i;)l(this.pattern.substr(t,32),t),t+=32;if(e){const t=h-32;l(this.pattern.substr(t),t)}}else l(this.pattern,0)}searchIn(t){const{isCaseSensitive:e,includeMatches:i}=this.options;if(e||(t=t.toLowerCase()),this.pattern===t){let e={isMatch:!0,score:0};return i&&(e.indices=[[0,t.length-1]]),e}const{location:n,distance:r,threshold:s,findAllMatches:o,minMatchCharLength:a,ignoreLocation:c}=this.options;let l=[],h=0,d=!1;this.chunks.forEach((({pattern:e,alphabet:u,startIndex:p})=>{const{isMatch:m,score:g,indices:f}=function(t,e,i,{location:n=I.location,distance:r=I.distance,threshold:s=I.threshold,findAllMatches:o=I.findAllMatches,minMatchCharLength:a=I.minMatchCharLength,includeMatches:c=I.includeMatches,ignoreLocation:l=I.ignoreLocation}={}){if(e.length>32)throw new Error("Pattern length exceeds max of 32.");const h=e.length,d=t.length,u=Math.max(0,Math.min(n,d));let p=s,m=u;const g=a>1||c,f=g?Array(d):[];let v;for(;(v=t.indexOf(e,m))>-1;){let t=U(e,{currentLocation:v,expectedLocation:u,distance:r,ignoreLocation:l});if(p=Math.min(t,p),m=v+h,g){let t=0;for(;t<h;)f[v+t]=1,t+=1}}m=-1;let b=[],y=1,k=h+d;const w=1<<h-1;for(let n=0;n<h;n+=1){let s=0,a=k;for(;s<a;)U(e,{errors:n,currentLocation:u+a,expectedLocation:u,distance:r,ignoreLocation:l})<=p?s=a:k=a,a=Math.floor((k-s)/2+s);k=a;let c=Math.max(1,u-a+1),v=o?d:Math.min(u+a,d)+h,x=Array(v+2);x[v+1]=(1<<n)-1;for(let s=v;s>=c;s-=1){let o=s-1,a=i[t.charAt(o)];if(g&&(f[o]=+!!a),x[s]=(x[s+1]<<1|1)&a,n&&(x[s]|=(b[s+1]|b[s])<<1|1|b[s+1]),x[s]&w&&(y=U(e,{errors:n,currentLocation:o,expectedLocation:u,distance:r,ignoreLocation:l}),y<=p)){if(p=y,m=o,m<=u)break;c=Math.max(1,2*u-m)}}if(U(e,{errors:n+1,currentLocation:u,expectedLocation:u,distance:r,ignoreLocation:l})>p)break;b=x}const x={isMatch:m>=0,score:Math.max(.001,y)};if(g){const t=function(t=[],e=I.minMatchCharLength){let i=[],n=-1,r=-1,s=0;for(let o=t.length;s<o;s+=1){let o=t[s];o&&-1===n?n=s:o||-1===n||(r=s-1,r-n+1>=e&&i.push([n,r]),n=-1)}return t[s-1]&&s-n>=e&&i.push([n,s-1]),i}(f,a);t.length?c&&(x.indices=t):x.isMatch=!1}return x}(t,e,u,{location:n+p,distance:r,threshold:s,findAllMatches:o,minMatchCharLength:a,includeMatches:i,ignoreLocation:c});m&&(d=!0),h+=g,m&&f&&(l=[...l,...f])}));let u={isMatch:d,score:d?h/this.chunks.length:1};return d&&i&&(u.indices=l),u}}class W{constructor(t){this.pattern=t}static isMultiMatch(t){return D(t,this.multiRegex)}static isSingleMatch(t){return D(t,this.singleRegex)}search(){}}function D(t,e){const i=t.match(e);return i?i[1]:null}class J extends W{constructor(t,{location:e=I.location,threshold:i=I.threshold,distance:n=I.distance,includeMatches:r=I.includeMatches,findAllMatches:s=I.findAllMatches,minMatchCharLength:o=I.minMatchCharLength,isCaseSensitive:a=I.isCaseSensitive,ignoreLocation:c=I.ignoreLocation}={}){super(t),this._bitapSearch=new B(t,{location:e,threshold:i,distance:n,includeMatches:r,findAllMatches:s,minMatchCharLength:o,isCaseSensitive:a,ignoreLocation:c})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}}class q extends W{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let e,i=0;const n=[],r=this.pattern.length;for(;(e=t.indexOf(this.pattern,i))>-1;)i=e+r,n.push([e,i-1]);const s=!!n.length;return{isMatch:s,score:s?0:1,indices:n}}}const Y=[class extends W{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){const e=t===this.pattern;return{isMatch:e,score:e?0:1,indices:[0,this.pattern.length-1]}}},q,class extends W{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){const e=t.startsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,this.pattern.length-1]}}},class extends W{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){const e=!t.startsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,t.length-1]}}},class extends W{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){const e=!t.endsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,t.length-1]}}},class extends W{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){const e=t.endsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[t.length-this.pattern.length,t.length-1]}}},class extends W{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){const e=-1===t.indexOf(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,t.length-1]}}},J],K=Y.length,X=/ +(?=([^\"]*\"[^\"]*\")*[^\"]*$)/,G=new Set([J.type,q.type]);const Q=[];function Z(t,e){for(let i=0,n=Q.length;i<n;i+=1){let n=Q[i];if(n.condition(t,e))return new n(t,e)}return new B(t,e)}const tt=t=>!(!t.$and&&!t.$or),et=t=>({$and:Object.keys(t).map((e=>({[e]:t[e]})))});function it(t,e,{auto:i=!0}={}){const n=t=>{let r=Object.keys(t);const s=(t=>!!t.$path)(t);if(!s&&r.length>1&&!tt(t))return n(et(t));if((t=>!L(t)&&S(t)&&!tt(t))(t)){const n=s?t.$path:r[0],o=s?t.$val:t[n];if(!j(o))throw new Error((t=>`Invalid value for key ${t}`)(n));const a={keyId:H(n),pattern:o};return i&&(a.searcher=Z(o,e)),a}let o={children:[],operator:r[0]};return r.forEach((e=>{const i=t[e];L(i)&&i.forEach((t=>{o.children.push(n(t))}))})),o};return tt(t)||(t=et(t)),n(t)}function nt(t,e){const i=t.matches;e.matches=[],C(i)&&i.forEach((t=>{if(!C(t.indices)||!t.indices.length)return;const{indices:i,value:n}=t;let r={indices:i,value:n};t.key&&(r.key=t.key.src),t.idx>-1&&(r.refIndex=t.idx),e.matches.push(r)}))}function rt(t,e){e.score=t.score}class st{constructor(t,e={},i){this.options={...I,...e},this._keyStore=new A(this.options.keys),this.setCollection(t,i)}setCollection(t,e){if(this._docs=t,e&&!(e instanceof E))throw new Error("Incorrect 'index' type");this._myIndex=e||N(this.options.keys,this._docs,{getFn:this.options.getFn})}add(t){C(t)&&(this._docs.push(t),this._myIndex.add(t))}remove(t=(()=>!1)){const e=[];for(let i=0,n=this._docs.length;i<n;i+=1){const r=this._docs[i];t(r,i)&&(this.removeAt(i),i-=1,n-=1,e.push(r))}return e}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:e=-1}={}){const{includeMatches:i,includeScore:n,shouldSort:r,sortFn:s,ignoreFieldNorm:o}=this.options;let a=j(t)?j(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return function(t,{ignoreFieldNorm:e=I.ignoreFieldNorm}){t.forEach((t=>{let i=1;t.matches.forEach((({key:t,norm:n,score:r})=>{const s=t?t.weight:null;i*=Math.pow(0===r&&s?Number.EPSILON:r,(s||1)*(e?1:n))})),t.score=i}))}(a,{ignoreFieldNorm:o}),r&&a.sort(s),_(e)&&e>-1&&(a=a.slice(0,e)),function(t,e,{includeMatches:i=I.includeMatches,includeScore:n=I.includeScore}={}){const r=[];return i&&r.push(nt),n&&r.push(rt),t.map((t=>{const{idx:i}=t,n={item:e[i],refIndex:i};return r.length&&r.forEach((e=>{e(t,n)})),n}))}(a,this._docs,{includeMatches:i,includeScore:n})}_searchStringList(t){const e=Z(t,this.options),{records:i}=this._myIndex,n=[];return i.forEach((({v:t,i,n:r})=>{if(!C(t))return;const{isMatch:s,score:o,indices:a}=e.searchIn(t);s&&n.push({item:t,idx:i,matches:[{score:o,value:t,norm:r,indices:a}]})})),n}_searchLogical(t){const e=it(t,this.options),i=(t,e,n)=>{if(!t.children){const{keyId:i,searcher:r}=t,s=this._findMatches({key:this._keyStore.get(i),value:this._myIndex.getValueForItemAtKeyId(e,i),searcher:r});return s&&s.length?[{idx:n,item:e,matches:s}]:[]}switch(t.operator){case"$and":{const r=[];for(let s=0,o=t.children.length;s<o;s+=1){const o=i(t.children[s],e,n);if(!o.length)return[];r.push(...o)}return r}case"$or":{const r=[];for(let s=0,o=t.children.length;s<o;s+=1){const o=i(t.children[s],e,n);if(o.length){r.push(...o);break}}return r}}},n={},r=[];return this._myIndex.records.forEach((({$:t,i:s})=>{if(C(t)){let o=i(e,t,s);o.length&&(n[s]||(n[s]={idx:s,item:t,matches:[]},r.push(n[s])),o.forEach((({matches:t})=>{n[s].matches.push(...t)})))}})),r}_searchObjectList(t){const e=Z(t,this.options),{keys:i,records:n}=this._myIndex,r=[];return n.forEach((({$:t,i:n})=>{if(!C(t))return;let s=[];i.forEach(((i,n)=>{s.push(...this._findMatches({key:i,value:t[n],searcher:e}))})),s.length&&r.push({idx:n,item:t,matches:s})})),r}_findMatches({key:t,value:e,searcher:i}){if(!C(e))return[];let n=[];if(L(e))e.forEach((({v:e,i:r,n:s})=>{if(!C(e))return;const{isMatch:o,score:a,indices:c}=i.searchIn(e);o&&n.push({score:a,key:t,value:e,idx:r,norm:s,indices:c})}));else{const{v:r,n:s}=e,{isMatch:o,score:a,indices:c}=i.searchIn(r);o&&n.push({score:a,key:t,value:r,norm:s,indices:c})}return n}}st.version="6.4.6",st.createIndex=N,st.parseIndex=function(t,{getFn:e=I.getFn}={}){const{keys:i,records:n}=t,r=new E({getFn:e});return r.setKeys(i),r.setIndexRecords(n),r},st.config=I,st.parseQuery=it,Q.push(class{constructor(t,{isCaseSensitive:e=I.isCaseSensitive,includeMatches:i=I.includeMatches,minMatchCharLength:n=I.minMatchCharLength,ignoreLocation:r=I.ignoreLocation,findAllMatches:s=I.findAllMatches,location:o=I.location,threshold:a=I.threshold,distance:c=I.distance}={}){this.query=null,this.options={isCaseSensitive:e,includeMatches:i,minMatchCharLength:n,findAllMatches:s,ignoreLocation:r,location:o,threshold:a,distance:c},this.pattern=e?t:t.toLowerCase(),this.query=function(t,e={}){return t.split("|").map((t=>{let i=t.trim().split(X).filter((t=>t&&!!t.trim())),n=[];for(let t=0,r=i.length;t<r;t+=1){const r=i[t];let s=!1,o=-1;for(;!s&&++o<K;){const t=Y[o];let i=t.isMultiMatch(r);i&&(n.push(new t(i,e)),s=!0)}if(!s)for(o=-1;++o<K;){const t=Y[o];let i=t.isSingleMatch(r);if(i){n.push(new t(i,e));break}}}return n}))}(this.pattern,this.options)}static condition(t,e){return e.useExtendedSearch}searchIn(t){const e=this.query;if(!e)return{isMatch:!1,score:1};const{includeMatches:i,isCaseSensitive:n}=this.options;t=n?t:t.toLowerCase();let r=0,s=[],o=0;for(let n=0,a=e.length;n<a;n+=1){const a=e[n];s.length=0,r=0;for(let e=0,n=a.length;e<n;e+=1){const n=a[e],{isMatch:c,indices:l,score:h}=n.search(t);if(!c){o=0,r=0,s.length=0;break}r+=1,o+=h,i&&(G.has(n.constructor.type)?s=[...s,...l]:s.push(l))}if(r){let t={isMatch:!0,score:o/r};return i&&(t.indices=s),t}}return{isMatch:!1,score:1}}});const ot=class{constructor(e){t(this,e),this.path="/kompendium.json",this.onMessage=this.onMessage.bind(this)}componentWillLoad(){this.createWebSocket(),this.fetchData()}watchData(){const t=st.parseIndex(this.data.index.data);this.index=new st(this.data.index.documents,{includeScore:!0,includeMatches:!0,ignoreLocation:!0,threshold:.4},t)}createWebSocket(){if(this.socket)return;const t=function(t){return`${"https:"===t.protocol?"wss:":"ws:"}//${t.hostname}:${t.port}/`}(location);this.socket=new WebSocket(t),this.socket.addEventListener("message",this.onMessage)}onMessage(t){var e;try{1===(null===(e=JSON.parse(t.data).buildLog)||void 0===e?void 0:e.progress)&&this.fetchData()}catch(t){console.error(t)}}async fetchData(){const t=await fetch(this.path);this.data=await t.json();const e=this.data.types.map((t=>t.name));r(e)}render(){return this.data?e("div",{class:"kompendium-body"},e("kompendium-navigation",{menu:this.data.menu,header:this.data.title,logo:this.data.logo,index:this.index}),e("main",{role:"main"},e("stencil-router",{historyType:"hash"},e("stencil-route-switch",{scrollTopOffset:0},e("stencil-route",{url:"/",component:"kompendium-markdown",componentProps:{text:this.data.readme},exact:!0}),e("stencil-route",{url:"/component/:name/:section?",component:"kompendium-component",componentProps:{docs:this.data.docs,schemas:this.data.schemas}}),e("stencil-route",{url:"/type/:name",component:"kompendium-type",componentProps:{types:this.data.types}}),e("stencil-route",{url:"/debug/:name",component:"kompendium-debug",componentProps:{docs:this.data.docs,schemas:this.data.schemas}}),e("stencil-route",{component:"kompendium-guide",componentProps:{data:this.data}}))))):e("div",{class:"loading-screen"},e("div",{class:"loading-screen-icon"}),e("div",{class:"loading-screen-text"},"Loading..."))}static get watchers(){return{data:["watchData"]}}};ot.style="*,*::before,*::after{box-sizing:border-box}ul[class],ol[class]{padding:0}body,h1,h2,h3,h4,p,ul[class],ol[class],li,figure,figcaption,blockquote,dl,dd{margin:0}ul[class],ol[class]{list-style:none}a:not([class]){text-decoration-skip-ink:auto}img{max-width:100%}input,button,textarea,select{font:inherit}@media (prefers-reduced-motion: reduce){*{animation-duration:0.01ms !important;animation-iteration-count:1 !important;transition-duration:0.01ms !important;scroll-behavior:auto !important}}:root{--width-nav-panel:16rem}@keyframes spin{to{transform:rotate(360deg)}}.loading-screen{display:flex;flex-direction:row;align-items:center;justify-content:center;position:absolute;top:0;right:0;bottom:0;left:0}.loading-screen-icon{animation:spin 0.35s linear infinite;border-radius:50%;border-style:solid;border-width:0.125rem;border-color:rgb(var(--kompendium-color-blue-default));border-top-color:transparent;display:inline-block;height:1.25rem;width:1.25rem}.loading-screen-text{padding-left:0.75rem;color:rgb(var(--kompendium-contrast-1100))}:host{display:block;margin:0;padding:0}main{padding:1.25rem 2rem;margin-left:var(--width-nav-panel)}main kompendium-guide{display:block;width:100%;max-width:60rem}@media (max-width: 1400px){main{padding-top:2.625rem;margin-left:0}}";const at="system-default",ct=class{constructor(e){t(this,e),this.theme="system-default",this.getSelectRef=t=>{this.checkbox=t},this.handleSystemThemeChange=t=>{this.systemSettingIsDark=!!t.matches,this.theme===at&&(this.checkbox.checked=!this.checkbox.checked)},this.handleThemeChange=()=>{const t=!!this.checkbox.checked;let e=at;this.systemSettingIsDark?!1===t&&(e="force-light"):!0===t&&(e="force-dark"),this.setTheme(e),document.dispatchEvent(new CustomEvent(s,{detail:e}))},this.setTheme=t=>{this.theme=t,document.querySelector("html").dataset.theme=t,localStorage.setItem("kompendium-theme",t)},this.colorSchemeMediaQuery=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)")||{addEventListener:()=>{},matches:!1}}connectedCallback(){this.colorSchemeMediaQuery.addEventListener("change",this.handleSystemThemeChange)}disconnectedCallback(){this.colorSchemeMediaQuery.removeEventListener("change",this.handleSystemThemeChange)}componentWillLoad(){this.systemSettingIsDark=this.colorSchemeMediaQuery.matches,this.setTheme(localStorage.getItem("kompendium-theme")||at)}render(){return e("div",{class:"mode-toggle"},e("input",Object.assign({type:"checkbox",onChange:this.handleThemeChange,ref:this.getSelectRef},{checked:"force-dark"===this.theme||this.theme===at&&this.systemSettingIsDark})),e("div",{class:"mode-visualization"},e("div",{class:"circle"}),e("div",{class:"ray one"}),e("div",{class:"ray two"}),e("div",{class:"ray three"}),e("div",{class:"ray four"})))}};ct.style=':host{--toggle-size:1.25rem}:host *{box-sizing:border-box}.mode-toggle{margin:0.75rem;position:relative;width:var(--toggle-size);height:var(--toggle-size);transition:opacity 0.3s ease;opacity:0.7}.mode-toggle:hover{opacity:1}.mode-visualization{pointer-events:none;position:absolute;width:var(--toggle-size);height:var(--toggle-size)}.circle{transition:background-color 0.6s ease;border-radius:50%;width:var(--toggle-size);height:var(--toggle-size);overflow:hidden;display:flex;align-items:center;justify-content:center;transform:translate3d(0, 0, 0)}.circle:after{transition:transform 0.7s ease, background-color 0.4s ease;content:"";display:block;border-radius:50%;width:calc(var(--toggle-size) - 0.25rem);height:calc(var(--toggle-size) - 0.25rem)}.ray{transition:opacity 0.6s ease, transform 0.6s cubic-bezier(0.37, -0.03, 0.4, 1.18);position:absolute;top:0;left:0;width:var(--toggle-size);height:var(--toggle-size)}.ray:before,.ray:after{content:"";display:block;height:0.375rem;width:0.125rem;border-radius:var(--toggle-size);background-color:rgba(var(--kompendium-color-orange-light), 1);position:absolute;left:0;right:0;margin:auto}.ray:before{top:-0.5rem}.ray:after{bottom:-0.5rem}.ray.three:before,.ray.three:after,.ray.four:before,.ray.four:after{height:0.25rem}input[type=checkbox]{-webkit-appearance:none;position:absolute;width:100%;height:100%;margin:0;cursor:pointer}input[type=checkbox]:not(:checked)+.mode-visualization .circle{background-color:rgba(var(--kompendium-color-orange-default), 1);box-shadow:0 0 0.5rem 0.125rem rgba(var(--kompendium-color-orange-light), 0.8), 0 0 0.25rem 0.1875rem rgb(var(--kompendium-color-white))}input[type=checkbox]:not(:checked)+.mode-visualization .circle:after{background-color:rgba(var(--kompendium-color-orange-default), 1);transform:translate3d(1rem, -1rem, 0)}input[type=checkbox]:not(:checked)+.mode-visualization .ray{opacity:0.6}input[type=checkbox]:not(:checked)+.mode-visualization .ray.three,input[type=checkbox]:not(:checked)+.mode-visualization .ray.four{opacity:0.4}input[type=checkbox]:not(:checked)+.mode-visualization .ray.one{transform:rotate(0deg) scale(1)}input[type=checkbox]:not(:checked)+.mode-visualization .ray.two{transform:rotate(90deg) scale(1)}input[type=checkbox]:not(:checked)+.mode-visualization .ray.three{transform:rotate(45deg) scale(1)}input[type=checkbox]:not(:checked)+.mode-visualization .ray.four{transform:rotate(-45deg) scale(1)}input[type=checkbox]:checked+.mode-visualization .circle{background-color:rgba(var(--kompendium-contrast-1700), 0.7);box-shadow:0 0 0.5rem 0.125rem rgba(var(--kompendium-color-white), 0.4), 0 0 0.25rem 0.125rem rgb(var(--kompendium-color-black))}input[type=checkbox]:checked+.mode-visualization .circle:after{transform:translate3d(0.25rem, -0.25rem, 0);background-color:rgb(var(--kompendium-contrast-400))}input[type=checkbox]:checked+.mode-visualization .ray{opacity:0}input[type=checkbox]:checked+.mode-visualization .ray.one{transform:rotate(60deg) scale(0.5)}input[type=checkbox]:checked+.mode-visualization .ray.two{transform:rotate(150deg) scale(0.5)}input[type=checkbox]:checked+.mode-visualization .ray.three{transform:rotate(105deg) scale(0.5)}input[type=checkbox]:checked+.mode-visualization .ray.four{transform:rotate(15deg) scale(0.5)}';const lt=class{constructor(e){t(this,e),this.route="",this.displayNavPanel=!1,this.toggleMenu=()=>{this.displayNavPanel=!this.displayNavPanel},this.stopPropagationOfNavClick=t=>{t.stopPropagation()},this.setRoute=this.setRoute.bind(this),this.renderMenuItem=this.renderMenuItem.bind(this)}connectedCallback(){window.addEventListener("hashchange",this.setRoute),this.setRoute()}disconnectedCallback(){window.removeEventListener("hashchange",this.setRoute)}setRoute(){this.route=location.hash.substr(1)}render(){return[e("div",{class:{"nav-panel-scrim":!0,"display-nav-panel":this.displayNavPanel},onClick:this.toggleMenu}),e("nav",{class:{"nav-panel":!0,"display-nav-panel":this.displayNavPanel},onClick:this.stopPropagationOfNavClick},e("a",{class:"nav-panel__responsive-menu",onClick:this.toggleMenu},e("span",null),e("span",null),e("span",null),e("span",null)),e("header",{class:"panel-header"},e("div",{class:"branding-and-mode"},e("h1",null,this.renderHeader()),e("kompendium-darkmode-switch",null)),e("kompendium-search",{index:this.index})),this.renderChapters(this.menu))]}renderHeader(){let t=this.header;return this.logo&&(t=e("img",{alt:this.header,src:this.logo})),e("a",{href:"#"},t)}renderChapters(t){if(t&&t.length)return e("ul",{class:"panel-list"},t.map(this.renderMenuItem),e("div",{class:"powered-by"},e("p",null,"Powered byÂ ",e("a",{href:"https://github.com/jgroth/kompendium"},"Kompendium"))))}renderMenuItem(t){const i={active:this.isRouteActive(t.path),chapters:!0,"panel-list":!0},n=t.children||[],r={"panel-link":!0,active:this.isRouteActive(t.path),"has-children":!!n.length},s={};return n.length||(s.onClick=this.toggleMenu),e("li",{class:"panel-item"},e("a",Object.assign({class:r,href:"#"+t.path},s),e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},e("path",{fill:"none",d:"M0 0h24v24H0z"}),e("path",{id:"arrow",d:"M13.172 12l-4.95-4.95 1.414-1.414L16 12l-6.364 6.364-1.414-1.414z",fill:"currentColor"})),e("span",{class:"link-text"},t.title)),e("ul",{class:i},n.map(this.renderMenuItem)))}isRouteActive(t){return this.route.startsWith(t)}};lt.style='*,*::before,*::after{box-sizing:border-box}ul[class],ol[class]{padding:0}body,h1,h2,h3,h4,p,ul[class],ol[class],li,figure,figcaption,blockquote,dl,dd{margin:0}ul[class],ol[class]{list-style:none}a:not([class]){text-decoration-skip-ink:auto}img{max-width:100%}input,button,textarea,select{font:inherit}@media (prefers-reduced-motion: reduce){*{animation-duration:0.01ms !important;animation-iteration-count:1 !important;transition-duration:0.01ms !important;scroll-behavior:auto !important}}:root{--width-nav-panel:16rem}:host{display:block;font-family:var(--kompendium-font-primary);--size-show-nav-panel-button:2.25rem}header a{text-decoration:none;color:unset}.nav-panel-scrim{display:none;z-index:99;position:fixed;top:0;right:0;bottom:0;left:0}.nav-panel{transition:margin 0.2s ease, background-color 0.3s ease;z-index:100;width:var(--width-nav-panel);height:100vh;position:fixed;background-color:rgb(var(--kompendium-contrast-400));display:flex;flex-direction:column}.nav-panel .panel-header{transition:border 0.3s ease;flex-direction:row;padding:1rem;border-bottom:1px solid rgb(var(--kompendium-contrast-600));margin-bottom:0.5rem}.nav-panel .panel-list{overflow-y:auto}.nav-panel .panel-list:not(.chapters){padding:0 0.25rem 2rem 0.25rem}.branding-and-mode{display:flex;align-items:center;margin-bottom:0.75rem}.branding-and-mode h1{font-size:1rem;font-weight:normal;letter-spacing:0.5ch;color:rgb(var(--kompendium-contrast-900));flex-grow:1;line-height:0}.branding-and-mode kompendium-darkmode-switch{position:relative;flex-shrink:0;margin-left:0.75rem;padding-left:0.5rem}.branding-and-mode kompendium-darkmode-switch:before{transition:background-color 0.3s ease;content:"";position:absolute;background-color:rgb(var(--kompendium-contrast-600));border-radius:0.5rem;height:1.25rem;width:0.125rem;left:0.0625rem;top:0;bottom:0;margin:auto}.powered-by{position:absolute;bottom:0;font-size:0.75rem;padding:0.5rem 0.75rem;background-color:rgba(var(--kompendium-contrast-100), 0.4);backdrop-filter:blur(0.25rem);width:100%;margin-left:-0.25rem}.powered-by p{padding-left:1.75rem;background-image:url(\'data:image/svg+xml;utf8,<svg viewBox="0 0 148 80" xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="2"><path fill="none" d="M-.003 0h148v80h-148z"/><path d="M148.008 20c0-11.038-8.96-20-19.999-20H19.977c-11.038 0-20 8.962-20 20v40c0 11.038 8.962 20 20 20H128.01c11.038 0 20-8.962 20-20V20z" fill="rgb(36,71,88)"/><path d="M26.564 43.651v14.604H19.26V43.65h7.304zm0-7.302H19.26V21.745h7.304V36.35z" fill="rgb(255,160,0)"/><path d="M106.82 58.254v-7.303h7.304V43.65h7.304v-7.301h-7.304v-7.303h-7.304v-7.302h7.304v7.302h7.304v7.303h7.293v7.301h-7.293v7.302h-7.304v7.303h-7.304zm-43.812 0v-7.303h7.304V43.65h7.304v-7.301h7.303v-7.303h7.293v-7.302h7.304v7.302h-7.304v7.303H84.92v7.301h-7.303v7.302h-7.304v7.303h-7.304zm-14.597 0v-7.303h-7.304V43.65h-7.304v-7.301h7.304v-7.303h7.304v-7.302h7.293v7.302H48.41v7.303h-7.304v7.301h7.304v7.302h7.293v7.303H48.41z" fill="rgb(0,200,82)"/></svg>\');background-position:left center;background-repeat:no-repeat;background-size:1.5rem}.powered-by a{transition:color 0.2s ease;color:rgb(var(--kompendium-color-blue-default));text-decoration:none}.powered-by a:hover{color:rgb(var(--kompendium-color-blue-light))}.nav-panel__responsive-menu{transition:background-color 0.2s ease, box-shadow 0.2s ease, transform 0.1s ease-out;box-shadow:var(--kompendium-button-shadow-normal);transition:all 0.2s ease;display:none;cursor:pointer;position:absolute;top:0.75rem;right:calc((var(--size-show-nav-panel-button) * -1) - 1rem);width:var(--size-show-nav-panel-button);height:var(--size-show-nav-panel-button);margin:0.25rem;border-radius:50%;text-align:center;font-weight:bold;background-color:rgba(var(--kompendium-contrast-200), 0.7);backdrop-filter:blur(0.25rem);color:rgb(var(--kompendium-contrast-900))}.nav-panel__responsive-menu:hover{box-shadow:var(--kompendium-button-shadow-hovered)}.nav-panel__responsive-menu:active{box-shadow:var(--kompendium-button-shadow-pressed);transform:translate3d(0, 0.08rem, 0)}.nav-panel__responsive-menu span{transition:background-color 0.2s ease, transform 0.2s ease 0.3s, opacity 0.15s ease 0.3s;display:block;position:absolute;left:0;right:0;margin:auto;height:0.125rem;width:1rem;border-radius:0.25rem;background-color:rgb(var(--kompendium-contrast-900))}.nav-panel__responsive-menu span:nth-child(1){top:0.75rem}.nav-panel__responsive-menu span:nth-child(2),.nav-panel__responsive-menu span:nth-child(3){top:0;bottom:0}.nav-panel__responsive-menu span:nth-child(4){bottom:0.75rem}.nav-panel__responsive-menu:hover span{background-color:rgb(var(--kompendium-contrast-1200))}@media (max-width: 1400px){.nav-panel-scrim.display-nav-panel{display:block}.nav-panel{margin-left:calc(var(--width-nav-panel) * -1)}.nav-panel.display-nav-panel{margin-left:0;box-shadow:0 0.09375rem 0.225rem 0 rgba(0, 0, 0, 0.232), 0 0.01875rem 0.05625rem 0 rgba(0, 0, 0, 0.208)}.nav-panel.display-nav-panel .nav-panel__responsive-menu{right:calc( (var(--size-show-nav-panel-button) * -1) - 0.3125rem );border-radius:0 0.5rem 0.5rem 0}.nav-panel.display-nav-panel .nav-panel__responsive-menu span:nth-child(1),.nav-panel.display-nav-panel .nav-panel__responsive-menu span:nth-child(4){transform:scaleX(0);opacity:0}.nav-panel.display-nav-panel .nav-panel__responsive-menu span:nth-child(2){transform:rotate(45deg)}.nav-panel.display-nav-panel .nav-panel__responsive-menu span:nth-child(3){transform:rotate(-45deg)}.nav-panel__responsive-menu{display:block}}.panel-item{transition:opacity 0.2s ease;width:100%;padding-right:0.75rem}.panel-link{display:grid;grid-auto-flow:column;grid-template-columns:1.25rem 1fr;line-height:1.75rem;color:rgb(var(--kompendium-contrast-900));text-decoration:none;border-radius:0.375rem}.panel-link:hover,.panel-link.active{color:rgb(var(--kompendium-color-blue-default))}.panel-link.active svg{transform:rotate(90deg) scale(0.64)}.panel-link svg{visibility:hidden;transition:transform 0.2s ease;transform:scale(0.64);height:2rem}.panel-link.has-children svg{visibility:visible}.link-text{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;width:100%;padding-left:0.5rem}.chapters{height:0;transition:height 0.2s ease}.chapters.active{height:100%;padding-left:1.25rem}.chapters.active .panel-item{opacity:1;transition-delay:0.2s}.chapters.active .panel-item:nth-child(1){transition-delay:0s}.chapters.active .panel-item:nth-child(2){transition-delay:0.04s}.chapters.active .panel-item:nth-child(3){transition-delay:0.06s}.chapters.active .panel-item:nth-child(4){transition-delay:0.08s}.chapters.active .panel-item:nth-child(5){transition-delay:0.1s}.chapters.active .panel-item:nth-child(6){transition-delay:0.12s}.chapters.active .panel-item:nth-child(7){transition-delay:0.14s}.chapters.active .panel-item:nth-child(8){transition-delay:0.15s}.chapters.active .panel-item:nth-child(9){transition-delay:0.16s}.chapters.active .panel-item:nth-child(10){transition-delay:0.17s}.chapters.active .panel-item:nth-child(11){transition-delay:0.18s}.chapters.active .panel-item:nth-child(12){transition-delay:0.19s}.chapters.active .panel-item:last-child{margin-bottom:1rem}.chapters .panel-link.has-children svg{visibility:hidden}.chapters .panel-item{opacity:0}.chapters .panel-item .chapters{font-size:0.8125rem;padding-left:0.5rem}.chapters .panel-item .chapters:first-child{margin-top:0.25rem}.chapters .panel-item .chapters:last-child{margin-bottom:0.5rem}';var ht=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},dt="object"==typeof self&&self&&self.Object===Object&&self,ut="object"==typeof o&&o&&o.Object===Object&&o||dt||Function("return this")(),pt=function(){return ut.Date.now()},mt=/\s/,gt=/^\s+/,ft=function(t){return t?t.slice(0,function(t){for(var e=t.length;e--&&mt.test(t.charAt(e)););return e}(t)+1).replace(gt,""):t},vt=ut.Symbol,bt=Object.prototype,yt=bt.hasOwnProperty,kt=bt.toString,wt=vt?vt.toStringTag:void 0,xt=Object.prototype.toString,Mt=vt?vt.toStringTag:void 0,zt=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":Mt&&Mt in Object(t)?function(t){var e=yt.call(t,wt),i=t[wt];try{t[wt]=void 0;var n=!0}catch(t){}var r=kt.call(t);return n&&(e?t[wt]=i:delete t[wt]),r}(t):function(t){return xt.call(t)}(t)},Lt=/^[-+]0x[0-9a-f]+$/i,jt=/^0b[01]+$/i,_t=/^0o[0-7]+$/i,St=parseInt,Ct=function(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return null!=t&&"object"==typeof t}(t)&&"[object Symbol]"==zt(t)}(t))return NaN;if(ht(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=ht(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=ft(t);var i=jt.test(t);return i||_t.test(t)?St(t.slice(2),i?2:8):Lt.test(t)?NaN:+t},Ot=Math.max,$t=Math.min;const Pt=class{constructor(i){t(this,i),this.documents=[],this.renderDocument=t=>e("li",null,e("a",{href:"#"+t.path,onClick:this.handleLinkClick},e("span",{class:"link-text"},t.title))),this.handleChangeInput=t=>{this.search(t.target.value)},this.handleLinkClick=()=>{var t;null===(t=this.host.shadowRoot.activeElement)||void 0===t||t.blur()},this.search=function(t,e,i){var n,r,s,o,a,c,l=0,h=!1,d=!1,u=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function p(e){var i=n,s=r;return n=r=void 0,l=e,o=t.apply(s,i)}function m(t){return l=t,a=setTimeout(f,e),h?p(t):o}function g(t){var i=t-c;return void 0===c||i>=e||i<0||d&&t-l>=s}function f(){var t=pt();if(g(t))return v(t);a=setTimeout(f,function(t){var i=e-(t-c);return d?$t(i,s-(t-l)):i}(t))}function v(t){return a=void 0,u&&n?p(t):(n=r=void 0,o)}function b(){var t=pt(),i=g(t);if(n=arguments,r=this,c=t,i){if(void 0===a)return m(c);if(d)return clearTimeout(a),a=setTimeout(f,e),p(c)}return void 0===a&&(a=setTimeout(f,e)),o}return e=Ct(e)||0,ht(i)&&(h=!!i.leading,s=(d="maxWait"in i)?Ot(Ct(i.maxWait)||0,e):s,u="trailing"in i?!!i.trailing:u),b.cancel=function(){void 0!==a&&clearTimeout(a),l=0,n=c=r=a=void 0},b.flush=function(){return void 0===a?o:v(pt())},b}(this.search,300)}componentDidLoad(){this.host.shadowRoot.querySelector("input").focus()}render(){const t={result:!0,"has-results":this.documents.length>0};return e("div",{class:"search-box"},e("input",{type:"search",autoFocus:!0,placeholder:"Search",onInput:this.handleChangeInput}),e("ul",{class:t},this.documents.map(this.renderDocument)))}search(t){const e=this.index.search(t);this.documents=e.map((t=>t.item)).slice(0,10)}get host(){return i(this)}};Pt.style='*,*::before,*::after{box-sizing:border-box}ul[class],ol[class]{padding:0}body,h1,h2,h3,h4,p,ul[class],ol[class],li,figure,figcaption,blockquote,dl,dd{margin:0}ul[class],ol[class]{list-style:none}a:not([class]){text-decoration-skip-ink:auto}img{max-width:100%}input,button,textarea,select{font:inherit}@media (prefers-reduced-motion: reduce){*{animation-duration:0.01ms !important;animation-iteration-count:1 !important;transition-duration:0.01ms !important;scroll-behavior:auto !important}}:host{display:block}:host(:focus) .result.has-results,:host(:focus-within) .result.has-results{display:block}@keyframes display-search-results{0%{opacity:0;transform:translate3d(0, -1.25rem, -1rem) rotateX(10deg)}50%{opacity:1}100%{transform:translate3d(0, 0, 0) rotateX(0)}}.search-box{z-index:1;display:flex;flex-direction:column;position:relative;perspective:60rem}.search-box .result.has-results{animation:display-search-results 0.28s ease-out forwards;position:absolute;background:rgb(var(--kompendium-contrast-200));padding:0.5rem;margin-top:2rem;width:100%;border-radius:5px;box-shadow:var(--kompendium-shadow-depth-16);display:none;max-height:calc(100vh - 6rem);overflow-y:auto}.search-box .result.has-results li a{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;transition:background-color 0.2s ease, box-shadow 0.2s ease, transform 0.1s ease-out;display:block;width:100%;padding:0.5rem 0.75rem;border-radius:0.25rem}.search-box .result.has-results li a:hover{box-shadow:var(--kompendium-button-shadow-hovered)}.search-box .result.has-results li a:active{box-shadow:var(--kompendium-button-shadow-pressed);transform:translate3d(0, 0.08rem, 0)}.search-box .result.has-results li:hover a{background:rgb(var(--kompendium-contrast-100))}input{transition:background-color 0.2s ease;border:0;border-radius:0.25rem;padding:0 0.5rem 0 2.25rem;color:rgb(var(--kompendium-contrast-1200));height:2rem;line-height:2rem;background-color:rgb(var(--kompendium-contrast-300));background-image:url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="1.5" clip-rule="evenodd" viewBox="0 0 400 400"><defs/><path fill="none" d="M0 0h400v400H0z"/><path d="M275.621 258.31l-16.962 16.979 50.965 50.964.008.009c4.637 4.637 12.268 4.637 16.905 0l.032-.033c4.687-4.687 4.642-12.33.025-16.946l-50.964-50.965-.009-.008z" fill="rgb(48,48,66)"/><circle cx="200" cy="200" r="99.5" fill="rgb(33,150,243)" fill-opacity=".3" stroke="rgb(48,48,66)" stroke-width="13.27" transform="translate(19.096 19.096) scale(.90452)"/><ellipse cx="163.443" cy="186.777" rx="32.324" ry="22.133" fill="rgb(255,255,255)" fill-opacity=".3" transform="rotate(-45 128.405 173.5)"/></svg>\');background-repeat:no-repeat;background-position:left center}input::placeholder{color:rgb(var(--kompendium-contrast-800))}input:active,input:focus,input:hover{background-color:rgb(var(--kompendium-contrast-200))}input:focus{outline:none}input::-webkit-search-cancel-button{-webkit-appearance:none;transition:background-color 0.2s ease;height:1.25rem;width:1.25rem;border-radius:50%;margin-right:-0.25rem;cursor:pointer;background-color:rgb(var(--kompendium-contrast-800));background-repeat:no-repeat;background-position:center;background-size:0.75rem;background-image:url("data:image/svg+xml; utf8, <svg xmlns=\'http://www.w3.org/2000/svg\' viewBox=\'0 0 32 32\'><defs/><path fill=\'rgb(255,255,255)\' d=\'M7.219 5.781L5.78 7.22 14.563 16 5.78 24.781 7.22 26.22 16 17.437l8.781 8.782 1.438-1.438L17.437 16l8.782-8.781L24.78 5.78 16 14.563z\'/></svg>")}input::-webkit-search-cancel-button:hover{background-color:rgb(var(--kompendium-contrast-1000))}a{text-decoration:none;color:unset}a:hover,a.active{color:rgb(var(--kompendium-color-blue-default))}';const At=class{constructor(e){t(this,e),this.group=null,this.match=null,this.componentProps={},this.exact=!1,this.scrollOnNextRender=!1,this.previousMatch=null}computeMatch(t){const e=null!=this.group||null!=this.el.parentElement&&"stencil-route-switch"===this.el.parentElement.tagName.toLowerCase();if(t&&!e)return this.previousMatch=this.match,this.match=a(t.pathname,{path:this.url,exact:this.exact,strict:!0})}async loadCompleted(){let t={};this.history&&this.history.location.hash?t={scrollToId:this.history.location.hash.substr(1)}:this.scrollTopOffset&&(t={scrollTopOffset:this.scrollTopOffset}),"function"==typeof this.componentUpdated?this.componentUpdated(t):this.match&&!c(this.match,this.previousMatch)&&this.routeViewsUpdated&&this.routeViewsUpdated(t)}async componentDidUpdate(){await this.loadCompleted()}async componentDidLoad(){await this.loadCompleted()}render(){if(!this.match||!this.history)return null;const t=Object.assign({},this.componentProps,{history:this.history,match:this.match});return this.routeRender?this.routeRender(Object.assign({},t,{component:this.component})):this.component?e(this.component,Object.assign({},t)):void 0}get el(){return i(this)}static get watchers(){return{location:["computeMatch"]}}};z.injectProps(At,["location","history","historyType","routeViewsUpdated"]),At.style="stencil-route.inactive{display:none}";const Rt=t=>"STENCIL-ROUTE"===t.tagName,Tt=class{constructor(e){t(this,e),this.group=((1e17*Math.random()).toString().match(/.{4}/g)||[]).join("-"),this.subscribers=[],this.queue=n(this,"queue")}componentWillLoad(){null!=this.location&&this.regenerateSubscribers(this.location)}async regenerateSubscribers(t){if(null==t)return;let e=-1;if(this.subscribers=Array.prototype.slice.call(this.el.children).filter(Rt).map(((i,n)=>{const r=a(t.pathname,{path:i.url,exact:i.exact,strict:!0});return r&&-1===e&&(e=n),{el:i,match:r}})),-1===e)return;if(this.activeIndex===e)return void(this.subscribers[e].el.match=this.subscribers[e].match);this.activeIndex=e;const i=this.subscribers[this.activeIndex];this.scrollTopOffset&&(i.el.scrollTopOffset=this.scrollTopOffset),i.el.group=this.group,i.el.match=i.match,i.el.componentUpdated=t=>{this.queue.write((()=>{this.subscribers.forEach(((t,e)=>{if(t.el.componentUpdated=void 0,e===this.activeIndex)return t.el.style.display="";this.scrollTopOffset&&(t.el.scrollTopOffset=this.scrollTopOffset),t.el.group=this.group,t.el.match=null,t.el.style.display="none"}))})),this.routeViewsUpdated&&this.routeViewsUpdated(Object.assign({scrollTopOffset:this.scrollTopOffset},t))}}render(){return e("slot",null)}get el(){return i(this)}static get watchers(){return{location:["regenerateSubscribers"]}}};z.injectProps(Tt,["location","routeViewsUpdated"]);const Ht=(t,...e)=>{t||console.warn(...e)},It=()=>{let t,e=[];return{setPrompt:e=>(Ht(null==t,"A history supports only one prompt at a time"),t=e,()=>{t===e&&(t=null)}),confirmTransitionTo:(e,i,n,r)=>{if(null!=t){const s="function"==typeof t?t(e,i):t;"string"==typeof s?"function"==typeof n?n(s,r):(Ht(!1,"A history needs a getUserConfirmation function in order to use a prompt message"),r(!0)):r(!1!==s)}else r(!0)},appendListener:t=>{let i=!0;const n=(...e)=>{i&&t(...e)};return e.push(n),()=>{i=!1,e=e.filter((t=>t!==n))}},notifyListeners:(...t)=>{e.forEach((e=>e(...t)))}}},Ft=(t,e="scrollPositions")=>{let i=new Map;const n=(e,n)=>{if(i.set(e,n),l(t,"sessionStorage")){const e=[];i.forEach(((t,i)=>{e.push([i,t])})),t.sessionStorage.setItem("scrollPositions",JSON.stringify(e))}};if(l(t,"sessionStorage")){const n=t.sessionStorage.getItem(e);i=n?new Map(JSON.parse(n)):i}return"scrollRestoration"in t.history&&(history.scrollRestoration="manual"),{set:n,get:t=>i.get(t),has:t=>i.has(t),capture:e=>{n(e,[t.scrollX,t.scrollY])}}},Et={hashbang:{encodePath:t=>"!"===t.charAt(0)?t:"!/"+x(t),decodePath:t=>"!"===t.charAt(0)?t.substr(1):t},noslash:{encodePath:x,decodePath:p},slash:{encodePath:p,decodePath:p}},Nt=(t,e)=>{const i=0==t.pathname.indexOf(e)?"/"+t.pathname.slice(e.length):t.pathname;return Object.assign({},t,{pathname:i})},Ut={browser:(t,e={})=>{let i=!1;const n=t.history,r=t.location,s=t.navigator,o=h(t),a=!d(s),c=Ft(t),l=null!=e.forceRefresh&&e.forceRefresh,w=null!=e.getUserConfirmation?e.getUserConfirmation:y,x=null!=e.keyLength?e.keyLength:6,M=e.basename?u(p(e.basename)):"",z=()=>{try{return t.history.state||{}}catch(t){return{}}},L=t=>{t=t||{};const{key:e,state:i}=t,{pathname:n,search:s,hash:o}=r;let a=n+s+o;return Ht(!M||f(a,M),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+a+'" to begin with "'+M+'".'),M&&(a=v(a,M)),m(a,i,e||g(x))},j=It(),_=t=>{c.capture(E.location.key),Object.assign(E,t),E.location.scrollPosition=c.get(E.location.key),E.length=n.length,j.notifyListeners(E.location,E.action)},S=t=>{k(s,t)||O(L(t.state))},C=()=>{O(L(z()))},O=t=>{if(i)i=!1,_();else{const e="POP";j.confirmTransitionTo(t,e,w,(i=>{i?_({action:e,location:t}):$(t)}))}},$=t=>{let e=A.indexOf(E.location.key),n=A.indexOf(t.key);-1===e&&(e=0),-1===n&&(n=0);const r=e-n;r&&(i=!0,I(r))},P=L(z());let A=[P.key],R=0,T=!1;const H=t=>M+b(t),I=t=>{n.go(t)},F=e=>{R+=e,1===R?(t.addEventListener("popstate",S),a&&t.addEventListener("hashchange",C)):0===R&&(t.removeEventListener("popstate",S),a&&t.removeEventListener("hashchange",C))},E={length:n.length,action:"POP",location:P,createHref:H,push:(t,e)=>{Ht(!("object"==typeof t&&void 0!==t.state&&void 0!==e),"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored");const i="PUSH",s=m(t,e,g(x),E.location);j.confirmTransitionTo(s,i,w,(t=>{if(!t)return;const e=H(s),{key:a,state:c}=s;if(o)if(n.pushState({key:a,state:c},"",e),l)r.href=e;else{const t=A.indexOf(E.location.key),e=A.slice(0,-1===t?0:t+1);e.push(s.key),A=e,_({action:i,location:s})}else Ht(void 0===c,"Browser history cannot push state in browsers that do not support HTML5 history"),r.href=e}))},replace:(t,e)=>{Ht(!("object"==typeof t&&void 0!==t.state&&void 0!==e),"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored");const i="REPLACE",s=m(t,e,g(x),E.location);j.confirmTransitionTo(s,i,w,(t=>{if(!t)return;const e=H(s),{key:a,state:c}=s;if(o)if(n.replaceState({key:a,state:c},"",e),l)r.replace(e);else{const t=A.indexOf(E.location.key);-1!==t&&(A[t]=s.key),_({action:i,location:s})}else Ht(void 0===c,"Browser history cannot replace state in browsers that do not support HTML5 history"),r.replace(e)}))},go:I,goBack:()=>I(-1),goForward:()=>I(1),block:(t="")=>{const e=j.setPrompt(t);return T||(F(1),T=!0),()=>(T&&(T=!1,F(-1)),e())},listen:t=>{const e=j.appendListener(t);return F(1),()=>{F(-1),e()}},win:t};return E},hash:(t,e={})=>{let i=!1,n=null,r=0,s=!1;const o=t.location,a=t.history,c=w(t.navigator),l=null!=e.keyLength?e.keyLength:6,{getUserConfirmation:h=y,hashType:d="slash"}=e,k=e.basename?u(p(e.basename)):"",{encodePath:x,decodePath:z}=Et[d],L=()=>{const t=o.href,e=t.indexOf("#");return-1===e?"":t.substring(e+1)},j=t=>{const e=o.href.indexOf("#");o.replace(o.href.slice(0,e>=0?e:0)+"#"+t)},_=()=>{let t=z(L());return Ht(!k||f(t,k),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+t+'" to begin with "'+k+'".'),k&&(t=v(t,k)),m(t,void 0,g(l))},S=It(),C=t=>{Object.assign(E,t),E.length=a.length,S.notifyListeners(E.location,E.action)},O=()=>{const t=L(),e=x(t);if(t!==e)j(e);else{const t=_(),e=E.location;if(!i&&M(e,t))return;if(n===b(t))return;n=null,$(t)}},$=t=>{if(i)i=!1,C();else{const e="POP";S.confirmTransitionTo(t,e,h,(i=>{i?C({action:e,location:t}):P(t)}))}},P=t=>{let e=H.lastIndexOf(b(E.location)),n=H.lastIndexOf(b(t));-1===e&&(e=0),-1===n&&(n=0);const r=e-n;r&&(i=!0,I(r))},A=L(),R=x(A);A!==R&&j(R);const T=_();let H=[b(T)];const I=t=>{Ht(c,"Hash history go(n) causes a full page reload in this browser"),a.go(t)},F=(t,e)=>{r+=e,1===r?t.addEventListener("hashchange",O):0===r&&t.removeEventListener("hashchange",O)},E={length:a.length,action:"POP",location:T,createHref:t=>"#"+x(k+b(t)),push:(t,e)=>{Ht(void 0===e,"Hash history cannot push state; it is ignored");const i="PUSH",r=m(t,void 0,g(l),E.location);S.confirmTransitionTo(r,i,h,(t=>{if(!t)return;const e=b(r),s=x(k+e);if(L()!==s){n=e,(t=>{o.hash=t})(s);const t=H.lastIndexOf(b(E.location)),a=H.slice(0,-1===t?0:t+1);a.push(e),H=a,C({action:i,location:r})}else Ht(!1,"Hash history cannot PUSH the same path; a new entry will not be added to the history stack"),C()}))},replace:(t,e)=>{Ht(void 0===e,"Hash history cannot replace state; it is ignored");const i="REPLACE",r=m(t,void 0,g(l),E.location);S.confirmTransitionTo(r,i,h,(t=>{if(!t)return;const e=b(r),s=x(k+e);L()!==s&&(n=e,j(s));const o=H.indexOf(b(E.location));-1!==o&&(H[o]=e),C({action:i,location:r})}))},go:I,goBack:()=>I(-1),goForward:()=>I(1),block:(e="")=>{const i=S.setPrompt(e);return s||(F(t,1),s=!0),()=>(s&&(s=!1,F(t,-1)),i())},listen:e=>{const i=S.appendListener(e);return F(t,1),()=>{F(t,-1),i()}},win:t};return E}},Vt=class{constructor(e){t(this,e),this.root="/",this.historyType="browser",this.titleSuffix="",this.routeViewsUpdated=(t={})=>{if(this.history&&t.scrollToId&&"browser"===this.historyType){const e=this.history.win.document.getElementById(t.scrollToId);if(e)return e.scrollIntoView()}this.scrollTo(t.scrollTopOffset||this.scrollTopOffset)},this.isServer=n(this,"isServer"),this.queue=n(this,"queue")}componentWillLoad(){this.history=Ut[this.historyType](this.el.ownerDocument.defaultView),this.history.listen((t=>{t=Nt(t,this.root),this.location=t})),this.location=Nt(this.history.location,this.root)}scrollTo(t){const e=this.history;if(null!=t&&!this.isServer&&e)return"POP"===e.action&&Array.isArray(e.location.scrollPosition)?this.queue.write((()=>{e&&e.location&&Array.isArray(e.location.scrollPosition)&&e.win.scrollTo(e.location.scrollPosition[0],e.location.scrollPosition[1])})):this.queue.write((()=>{e.win.scrollTo(0,t)}))}render(){if(this.location&&this.history)return e(z.Provider,{state:{historyType:this.historyType,location:this.location,titleSuffix:this.titleSuffix,root:this.root,history:this.history,routeViewsUpdated:this.routeViewsUpdated}},e("slot",null))}get el(){return i(this)}};export{ot as kompendium_app,ct as kompendium_darkmode_switch,lt as kompendium_navigation,Pt as kompendium_search,At as stencil_route,Tt as stencil_route_switch,Vt as stencil_router}