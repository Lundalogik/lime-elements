{"version":3,"names":["InputFieldSelectionExample","this","getInputFieldRef","input","inputField","handleChange","event","value","detail","insertTextAtCursor","async","stopPropagation","selectionStart","selectionEnd","Promise","all","getSelectionStart","getSelectionEnd","start","length","end","textToInsert","newValue","slice","requestAnimationFrame","focus","render","h","Host","label","onChange","ref","style","onClick"],"sources":["./src/components/input-field/examples/input-field-selection.tsx"],"sourcesContent":["import { Component, h, Host, State } from '@stencil/core';\n\n/**\n * Accessing text selection\n *\n * The `limel-input-field` component exposes three async methods that\n * provide access to the current text selection:\n *\n * - `getSelectionStart()`: Returns the start position of the current text selection\n * - `getSelectionEnd()`: Returns the end position of the current text selection\n * - `getSelectionDirection()`: Returns the direction of the selection (`'forward'`, `'backward'`, or `'none'`)\n *\n * These methods allow you to interact with the input field's text selection\n * without needing to access the shadow DOM. A common use case is inserting text\n * at the cursor position or replacing the selected text.\n *\n * :::note\n * The selection methods are async, so there's a small delay before the values\n * are returned. In most browsers, selection state is preserved even when the\n * input loses focus. However, some mobile browsers or older engines may reset\n * `selectionStart`/`selectionEnd` on blur. If you're building for such environments,\n * consider capturing the selection synchronously via native DOM APIs before any\n * action that might cause blur.\n * :::\n */\n@Component({\n    tag: 'limel-example-input-field-selection',\n    shadow: true,\n})\nexport class InputFieldSelectionExample {\n    @State()\n    private value =\n        'Select some text or place the cursor, then click the button to insert text!';\n\n    private inputField: HTMLLimelInputFieldElement;\n\n    public render() {\n        return (\n            <Host>\n                <limel-input-field\n                    label=\"Text field\"\n                    value={this.value}\n                    onChange={this.handleChange}\n                    ref={this.getInputFieldRef}\n                    style={{ 'margin-bottom': '1rem' }}\n                />\n                <limel-button\n                    onClick={this.insertTextAtCursor}\n                    label=\"Insert '[INSERTED]' at cursor\"\n                />\n            </Host>\n        );\n    }\n\n    private getInputFieldRef = (input: HTMLLimelInputFieldElement) => {\n        this.inputField = input;\n    };\n\n    private handleChange = (event: CustomEvent<string>) => {\n        this.value = event.detail;\n    };\n\n    private insertTextAtCursor = async (event: MouseEvent) => {\n        event.stopPropagation();\n\n        if (!this.inputField) {\n            return;\n        }\n\n        // Read both selection values together\n        const [selectionStart, selectionEnd] = await Promise.all([\n            this.inputField.getSelectionStart(),\n            this.inputField.getSelectionEnd(),\n        ]);\n\n        const start = selectionStart ?? this.value.length;\n        const end = selectionEnd ?? this.value.length;\n        const textToInsert = '[INSERTED]';\n\n        // Insert text at cursor position or replace selected text\n        const newValue =\n            this.value.slice(0, start) + textToInsert + this.value.slice(end);\n\n        this.value = newValue;\n\n        // Set focus back to the input field after insertion\n        requestAnimationFrame(() => {\n            this.inputField.focus();\n        });\n    };\n}\n"],"mappings":"4DA6BaA,EAA0B,M,yBAyB3BC,KAAAC,iBAAoBC,IACxBF,KAAKG,WAAaD,CAAK,EAGnBF,KAAAI,aAAgBC,IACpBL,KAAKM,MAAQD,EAAME,MAAM,EAGrBP,KAAAQ,mBAAqBC,MAAOJ,IAChCA,EAAMK,kBAEN,IAAKV,KAAKG,WAAY,CAClB,M,CAIJ,MAAOQ,EAAgBC,SAAsBC,QAAQC,IAAI,CACrDd,KAAKG,WAAWY,oBAChBf,KAAKG,WAAWa,oBAGpB,MAAMC,EAAQN,IAAc,MAAdA,SAAc,EAAdA,EAAkBX,KAAKM,MAAMY,OAC3C,MAAMC,EAAMP,IAAY,MAAZA,SAAY,EAAZA,EAAgBZ,KAAKM,MAAMY,OACvC,MAAME,EAAe,aAGrB,MAAMC,EACFrB,KAAKM,MAAMgB,MAAM,EAAGL,GAASG,EAAepB,KAAKM,MAAMgB,MAAMH,GAEjEnB,KAAKM,MAAQe,EAGbE,uBAAsB,KAClBvB,KAAKG,WAAWqB,OAAO,GACzB,E,WAxDF,6E,CAIGC,SACH,OACIC,EAACC,EAAI,KACDD,EAAA,qBACIE,MAAM,aACNtB,MAAON,KAAKM,MACZuB,SAAU7B,KAAKI,aACf0B,IAAK9B,KAAKC,iBACV8B,MAAO,CAAE,gBAAiB,UAE9BL,EAAA,gBACIM,QAAShC,KAAKQ,mBACdoB,MAAM,kC"}