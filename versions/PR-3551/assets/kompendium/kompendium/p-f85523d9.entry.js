import{r as t,h as e,g as i,c as n,e as s}from"./p-36a17431.js";import{A as o}from"./p-65cdfe86.js";import{m as a,a as r,s as l,b as c,c as h,d as p,e as d,f as u,g as m,h as g,i as b,j as f,k as v,l as w,n as k,o as y,p as x}from"./p-9b6a9315.js";const P=class{constructor(e){t(this,e),this.path="/kompendium.json",this.onMessage=this.onMessage.bind(this)}componentWillLoad(){this.createWebSocket(),this.fetchData()}createWebSocket(){if(this.socket)return;const t=function(t){return`${"https:"===t.protocol?"wss:":"ws:"}//${t.hostname}:${t.port}/`}(location);this.socket=new WebSocket(t),this.socket.addEventListener("message",this.onMessage)}onMessage(t){var e;try{1===(null===(e=JSON.parse(t.data).buildLog)||void 0===e?void 0:e.progress)&&this.fetchData()}catch(i){console.error(i)}}async fetchData(){const t=await fetch(this.path);this.data=await t.json()}render(){return this.data?e("div",{class:"kompendium-body"},e("kompendium-navigation",{menu:this.data.menu,header:this.data.title}),e("main",{role:"main"},e("stencil-router",{historyType:"hash"},e("stencil-route-switch",{scrollTopOffset:0},e("stencil-route",{url:"/",component:"kompendium-markdown",componentProps:{text:this.data.readme},exact:!0}),e("stencil-route",{url:"/component/:name/:section?",component:"kompendium-component",componentProps:{docs:this.data.docs}}),e("stencil-route",{component:"kompendium-guide",componentProps:{data:this.data}}))))):e("div",null,"Loading data...")}};P.style="*,*::before,*::after{-webkit-box-sizing:border-box;box-sizing:border-box}ul[class],ol[class]{padding:0}body,h1,h2,h3,h4,p,ul[class],ol[class],li,figure,figcaption,blockquote,dl,dd{margin:0}ul[class],ol[class]{list-style:none}a:not([class]){-webkit-text-decoration-skip:ink;text-decoration-skip-ink:auto}img{max-width:100%;display:block}input,button,textarea,select{font:inherit}@media (prefers-reduced-motion: reduce){*{-webkit-animation-duration:0.01ms !important;animation-duration:0.01ms !important;-webkit-animation-iteration-count:1 !important;animation-iteration-count:1 !important;-webkit-transition-duration:0.01ms !important;transition-duration:0.01ms !important;scroll-behavior:auto !important}}:host{display:block;margin:0;padding:0}main{margin-left:var(--width-nav-panel)}@media (max-width: 1000px){main{margin-left:0}}";const L=class{constructor(e){t(this,e),this.route="",this.toggleMenu=()=>{const t=this.host.shadowRoot.querySelector(".nav-panel");t&&t.classList.toggle("display-nav-panel")},this.setRoute=this.setRoute.bind(this),this.renderMenuItem=this.renderMenuItem.bind(this)}componentWillLoad(){window.addEventListener("hashchange",this.setRoute),this.setRoute()}componentDidUnload(){window.removeEventListener("hashchange",this.setRoute)}setRoute(){this.route=location.hash.substr(1)}render(){return e("nav",{class:"nav-panel"},e("a",{class:"nav-panel__responsive-menu",onClick:this.toggleMenu},e("span",{class:"show-nav"},"|||"),e("span",{class:"hide-nav"},"тип")),e("header",{class:"panel-header"},e("h1",null,e("a",{href:"#"},this.header)),e("kompendium-search",null)),this.renderChapters(this.menu))}renderChapters(t){if(t&&t.length)return e("ul",{class:"panel-list"},t.map(this.renderMenuItem))}renderMenuItem(t){const n={active:this.isRouteActive(t.path),chapters:!0,"panel-list":!0},s={"panel-link":!0,active:this.isRouteActive(t.path)},o=t.children||[],a=i("../collection/assets/icons/arrow-right-s-line.svg");return e("li",{class:"panel-item"},e("a",{class:s,href:"#"+t.path},e("span",{class:"link-text"},e("img",{src:a}),t.title)),e("ul",{class:n},o.map(this.renderMenuItem)))}isRouteActive(t){return this.route.startsWith(t)}get host(){return n(this)}};L.style="*,*::before,*::after{-webkit-box-sizing:border-box;box-sizing:border-box}ul[class],ol[class]{padding:0}body,h1,h2,h3,h4,p,ul[class],ol[class],li,figure,figcaption,blockquote,dl,dd{margin:0}ul[class],ol[class]{list-style:none}a:not([class]){-webkit-text-decoration-skip:ink;text-decoration-skip-ink:auto}img{max-width:100%;display:block}input,button,textarea,select{font:inherit}@media (prefers-reduced-motion: reduce){*{-webkit-animation-duration:0.01ms !important;animation-duration:0.01ms !important;-webkit-animation-iteration-count:1 !important;animation-iteration-count:1 !important;-webkit-transition-duration:0.01ms !important;transition-duration:0.01ms !important;scroll-behavior:auto !important}}:host{display:block;font-family:var(--kompendium-font-primary);--size-show-nav-panel-button:2.25rem}header a{text-decoration:none;color:unset}.nav-panel{z-index:100;width:var(--width-nav-panel);height:100vh;position:fixed;background-color:rgb(var(--contrast-400));display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.nav-panel .panel-header{-ms-flex-direction:row;flex-direction:row;padding:1rem;border-bottom:1px solid rgb(var(--contrast-600))}.nav-panel .panel-header h1{text-transform:uppercase;font-size:1rem;font-weight:normal;letter-spacing:0.5ch;color:rgb(var(--contrast-800));margin-bottom:0.5rem}.nav-panel .panel-list{overflow-y:auto}.nav-panel .panel-list:not(.chapters){padding-bottom:2rem}.nav-panel__responsive-menu{display:none;cursor:pointer;position:absolute;top:0;right:calc((var(--size-show-nav-panel-button) * -1) - 0.5rem);width:var(--size-show-nav-panel-button);height:var(--size-show-nav-panel-button);margin:0.25rem;border-radius:0.25rem;text-align:center;font-weight:bold;background-color:rgb(var(--contrast-600));color:rgb(var(--contrast-900));-webkit-transform:rotate(90deg);transform:rotate(90deg)}@media (max-width: 1000px){.nav-panel{margin-left:calc(var(--width-nav-panel) * -1)}.nav-panel .show-nav{line-height:calc(var(--size-show-nav-panel-button) + 0.15rem);display:initial}.nav-panel .hide-nav{display:none;line-height:calc(var(--size-show-nav-panel-button) - 0.3rem);font-size:2rem}.nav-panel.display-nav-panel{margin-left:0}.nav-panel.display-nav-panel .show-nav{display:none}.nav-panel.display-nav-panel .hide-nav{display:initial}.nav-panel__responsive-menu{display:block}}.panel-item{width:100%;padding-left:0.5rem}.panel-link{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;height:2.25rem;line-height:2.25rem;color:rgb(var(--contrast-900));text-decoration:none}.panel-link:hover,.panel-link.active{color:rgb(var(--contrast-1600))}.panel-link.active img{-webkit-transform:rotate(90deg) scale(0.8);transform:rotate(90deg) scale(0.8)}.panel-link img{-webkit-transform:scale(0.8);transform:scale(0.8);-webkit-transition:-webkit-transform 0.2s ease;transition:-webkit-transform 0.2s ease;transition:transform 0.2s ease;transition:transform 0.2s ease, -webkit-transform 0.2s ease;margin-right:0.5rem;padding:0.25rem;display:inline-block;vertical-align:bottom}.chapters{height:0;-webkit-transition:height 0.2s ease;transition:height 0.2s ease}.chapters.active{height:100%}.chapters img{opacity:0}.chapters .panel-item .chapters{font-size:0.8125rem}.chapters .panel-item .chapters:last-child{margin-bottom:0.5rem}";const z=class{constructor(e){t(this,e)}componentDidLoad(){this.host.shadowRoot.querySelector("input").focus()}render(){return e("div",{class:"search-box"},e("input",{type:"search",autoFocus:!0,placeholder:"Search"}),e("ul",{class:"result"}))}get host(){return n(this)}};z.style="*,*::before,*::after{-webkit-box-sizing:border-box;box-sizing:border-box}ul[class],ol[class]{padding:0}body,h1,h2,h3,h4,p,ul[class],ol[class],li,figure,figcaption,blockquote,dl,dd{margin:0}ul[class],ol[class]{list-style:none}a:not([class]){-webkit-text-decoration-skip:ink;text-decoration-skip-ink:auto}img{max-width:100%;display:block}input,button,textarea,select{font:inherit}@media (prefers-reduced-motion: reduce){*{-webkit-animation-duration:0.01ms !important;animation-duration:0.01ms !important;-webkit-animation-iteration-count:1 !important;animation-iteration-count:1 !important;-webkit-transition-duration:0.01ms !important;transition-duration:0.01ms !important;scroll-behavior:auto !important}}:host{display:block}.search-box{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}input{-webkit-transition:background-color 0.2s ease;transition:background-color 0.2s ease;border:0;border-radius:0.25rem;padding:0 0.5rem;color:rgb(var(--contrast-1200));background-color:rgb(var(--contrast-300));height:2rem;line-height:2rem}input::-webkit-input-placeholder{color:rgb(var(--contrast-800))}input::-moz-placeholder{color:rgb(var(--contrast-800))}input:-ms-input-placeholder{color:rgb(var(--contrast-800))}input::-ms-input-placeholder{color:rgb(var(--contrast-800))}input::placeholder{color:rgb(var(--contrast-800))}input:active,input:focus,input:hover{background-color:rgb(var(--contrast-200))}input:focus{outline:none}input::-webkit-search-cancel-button{-webkit-appearance:none;-webkit-transition:background-color 0.2s ease;transition:background-color 0.2s ease;height:1.25rem;width:1.25rem;border-radius:50%;margin-right:-0.25rem;cursor:pointer;background-color:rgb(var(--contrast-800));background-repeat:no-repeat;background-position:center;background-size:0.75rem;background-image:url(\"data:image/svg+xml; utf8, <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'><defs/><path fill='rgb(255,255,255)' d='M7.219 5.781L5.78 7.22 14.563 16 5.78 24.781 7.22 26.22 16 17.437l8.781 8.782 1.438-1.438L17.437 16l8.782-8.781L24.78 5.78 16 14.563z'/></svg>\")}input::-webkit-search-cancel-button:hover{background-color:rgb(var(--contrast-1000))}";const O=class{constructor(e){t(this,e),this.group=null,this.match=null,this.componentProps={},this.exact=!1,this.scrollOnNextRender=!1,this.previousMatch=null}computeMatch(t){const e=null!=this.group||null!=this.el.parentElement&&"stencil-route-switch"===this.el.parentElement.tagName.toLowerCase();if(t&&!e)return this.previousMatch=this.match,this.match=a(t.pathname,{path:this.url,exact:this.exact,strict:!0})}async loadCompleted(){let t={};this.history&&this.history.location.hash?t={scrollToId:this.history.location.hash.substr(1)}:this.scrollTopOffset&&(t={scrollTopOffset:this.scrollTopOffset}),"function"==typeof this.componentUpdated?this.componentUpdated(t):this.match&&!r(this.match,this.previousMatch)&&this.routeViewsUpdated&&this.routeViewsUpdated(t)}async componentDidUpdate(){await this.loadCompleted()}async componentDidLoad(){await this.loadCompleted()}render(){if(!this.match||!this.history)return null;const t=Object.assign({},this.componentProps,{history:this.history,match:this.match});return this.routeRender?this.routeRender(Object.assign({},t,{component:this.component})):this.component?e(this.component,Object.assign({},t)):void 0}get el(){return n(this)}static get watchers(){return{location:["computeMatch"]}}};o.injectProps(O,["location","history","historyType","routeViewsUpdated"]),O.style="stencil-route.inactive{display:none}";const S=t=>"STENCIL-ROUTE"===t.tagName,j=class{constructor(e){t(this,e),this.group=((1e17*Math.random()).toString().match(/.{4}/g)||[]).join("-"),this.subscribers=[],this.queue=s(this,"queue")}componentWillLoad(){null!=this.location&&this.regenerateSubscribers(this.location)}async regenerateSubscribers(t){if(null==t)return;let e=-1;if(this.subscribers=Array.prototype.slice.call(this.el.children).filter(S).map((i,n)=>{const s=a(t.pathname,{path:i.url,exact:i.exact,strict:!0});return s&&-1===e&&(e=n),{el:i,match:s}}),-1===e)return;if(this.activeIndex===e)return void(this.subscribers[e].el.match=this.subscribers[e].match);this.activeIndex=e;const i=this.subscribers[this.activeIndex];this.scrollTopOffset&&(i.el.scrollTopOffset=this.scrollTopOffset),i.el.group=this.group,i.el.match=i.match,i.el.componentUpdated=t=>{this.queue.write(()=>{this.subscribers.forEach((t,e)=>{if(t.el.componentUpdated=void 0,e===this.activeIndex)return t.el.style.display="";this.scrollTopOffset&&(t.el.scrollTopOffset=this.scrollTopOffset),t.el.group=this.group,t.el.match=null,t.el.style.display="none"})}),this.routeViewsUpdated&&this.routeViewsUpdated(Object.assign({scrollTopOffset:this.scrollTopOffset},t))}}render(){return e("slot",null)}get el(){return n(this)}static get watchers(){return{location:["regenerateSubscribers"]}}};o.injectProps(j,["location","routeViewsUpdated"]);const T=(t,...e)=>{t||console.warn(...e)},U=()=>{let t,e=[];return{setPrompt:e=>(T(null==t,"A history supports only one prompt at a time"),t=e,()=>{t===e&&(t=null)}),confirmTransitionTo:(e,i,n,s)=>{if(null!=t){const o="function"==typeof t?t(e,i):t;"string"==typeof o?"function"==typeof n?n(o,s):(T(!1,"A history needs a getUserConfirmation function in order to use a prompt message"),s(!0)):s(!1!==o)}else s(!0)},appendListener:t=>{let i=!0;const n=(...e)=>{i&&t(...e)};return e.push(n),()=>{i=!1,e=e.filter(t=>t!==n)}},notifyListeners:(...t)=>{e.forEach(e=>e(...t))}}},H=(t,e="scrollPositions")=>{let i=new Map;const n=(e,n)=>{if(i.set(e,n),l(t,"sessionStorage")){const e=[];i.forEach((t,i)=>{e.push([i,t])}),t.sessionStorage.setItem("scrollPositions",JSON.stringify(e))}};if(l(t,"sessionStorage")){const n=t.sessionStorage.getItem(e);i=n?new Map(JSON.parse(n)):i}return"scrollRestoration"in t.history&&(history.scrollRestoration="manual"),{set:n,get:t=>i.get(t),has:t=>i.has(t),capture:e=>{n(e,[t.scrollX,t.scrollY])}}},_={hashbang:{encodePath:t=>"!"===t.charAt(0)?t:"!/"+y(t),decodePath:t=>"!"===t.charAt(0)?t.substr(1):t},noslash:{encodePath:y,decodePath:d},slash:{encodePath:d,decodePath:d}},E=(t,e)=>{const i=0==t.pathname.indexOf(e)?"/"+t.pathname.slice(e.length):t.pathname;return Object.assign({},t,{pathname:i})},A={browser:(t,e={})=>{let i=!1;const n=t.history,s=t.location,o=t.navigator,a=c(t),r=!h(o),l=H(t),k=null!=e.forceRefresh&&e.forceRefresh,y=null!=e.getUserConfirmation?e.getUserConfirmation:v,x=null!=e.keyLength?e.keyLength:6,P=e.basename?p(d(e.basename)):"",L=()=>{try{return t.history.state||{}}catch(e){return{}}},z=t=>{t=t||{};const{key:e,state:i}=t,{pathname:n,search:o,hash:a}=s;let r=n+o+a;return T(!P||g(r,P),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+r+'" to begin with "'+P+'".'),P&&(r=b(r,P)),u(r,i,e||m(x))},O=U(),S=t=>{l.capture(N.location.key),Object.assign(N,t),N.location.scrollPosition=l.get(N.location.key),N.length=n.length,O.notifyListeners(N.location,N.action)},j=t=>{w(o,t)||E(z(t.state))},_=()=>{E(z(L()))},E=t=>{if(i)i=!1,S();else{const e="POP";O.confirmTransitionTo(t,e,y,i=>{i?S({action:e,location:t}):A(t)})}},A=t=>{let e=M.indexOf(N.location.key),n=M.indexOf(t.key);-1===e&&(e=0),-1===n&&(n=0);const s=e-n;s&&(i=!0,B(s))},C=z(L());let M=[C.key],R=0,W=!1;const q=t=>P+f(t),B=t=>{n.go(t)},D=e=>{R+=e,1===R?(t.addEventListener("popstate",j),r&&t.addEventListener("hashchange",_)):0===R&&(t.removeEventListener("popstate",j),r&&t.removeEventListener("hashchange",_))},N={length:n.length,action:"POP",location:C,createHref:q,push:(t,e)=>{T(!("object"==typeof t&&void 0!==t.state&&void 0!==e),"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored");const i=u(t,e,m(x),N.location);O.confirmTransitionTo(i,"PUSH",y,t=>{if(!t)return;const e=q(i),{key:o,state:r}=i;if(a)if(n.pushState({key:o,state:r},"",e),k)s.href=e;else{const t=M.indexOf(N.location.key),e=M.slice(0,-1===t?0:t+1);e.push(i.key),M=e,S({action:"PUSH",location:i})}else T(void 0===r,"Browser history cannot push state in browsers that do not support HTML5 history"),s.href=e})},replace:(t,e)=>{T(!("object"==typeof t&&void 0!==t.state&&void 0!==e),"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored");const i=u(t,e,m(x),N.location);O.confirmTransitionTo(i,"REPLACE",y,t=>{if(!t)return;const e=q(i),{key:o,state:r}=i;if(a)if(n.replaceState({key:o,state:r},"",e),k)s.replace(e);else{const t=M.indexOf(N.location.key);-1!==t&&(M[t]=i.key),S({action:"REPLACE",location:i})}else T(void 0===r,"Browser history cannot replace state in browsers that do not support HTML5 history"),s.replace(e)})},go:B,goBack:()=>B(-1),goForward:()=>B(1),block:(t="")=>{const e=O.setPrompt(t);return W||(D(1),W=!0),()=>(W&&(W=!1,D(-1)),e())},listen:t=>{const e=O.appendListener(t);return D(1),()=>{D(-1),e()}},win:t};return N},hash:(t,e={})=>{let i=!1,n=null,s=0,o=!1;const a=t.location,r=t.history,l=k(t.navigator),c=null!=e.keyLength?e.keyLength:6,{getUserConfirmation:h=v,hashType:w="slash"}=e,y=e.basename?p(d(e.basename)):"",{encodePath:P,decodePath:L}=_[w],z=()=>{const t=a.href,e=t.indexOf("#");return-1===e?"":t.substring(e+1)},O=t=>{const e=a.href.indexOf("#");a.replace(a.href.slice(0,e>=0?e:0)+"#"+t)},S=()=>{let t=L(z());return T(!y||g(t,y),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+t+'" to begin with "'+y+'".'),y&&(t=b(t,y)),u(t,void 0,m(c))},j=U(),H=t=>{Object.assign(N,t),N.length=r.length,j.notifyListeners(N.location,N.action)},E=()=>{const t=z(),e=P(t);if(t!==e)O(e);else{const t=S(),e=N.location;if(!i&&x(e,t))return;if(n===f(t))return;n=null,A(t)}},A=t=>{if(i)i=!1,H();else{const e="POP";j.confirmTransitionTo(t,e,h,i=>{i?H({action:e,location:t}):C(t)})}},C=t=>{let e=q.lastIndexOf(f(N.location)),n=q.lastIndexOf(f(t));-1===e&&(e=0),-1===n&&(n=0);const s=e-n;s&&(i=!0,B(s))},M=z(),R=P(M);M!==R&&O(R);const W=S();let q=[f(W)];const B=t=>{T(l,"Hash history go(n) causes a full page reload in this browser"),r.go(t)},D=(t,e)=>{s+=e,1===s?t.addEventListener("hashchange",E):0===s&&t.removeEventListener("hashchange",E)},N={length:r.length,action:"POP",location:W,createHref:t=>"#"+P(y+f(t)),push:(t,e)=>{T(void 0===e,"Hash history cannot push state; it is ignored");const i=u(t,void 0,m(c),N.location);j.confirmTransitionTo(i,"PUSH",h,t=>{if(!t)return;const e=f(i),s=P(y+e);if(z()!==s){n=e,(t=>{a.hash=t})(s);const t=q.lastIndexOf(f(N.location)),o=q.slice(0,-1===t?0:t+1);o.push(e),q=o,H({action:"PUSH",location:i})}else T(!1,"Hash history cannot PUSH the same path; a new entry will not be added to the history stack"),H()})},replace:(t,e)=>{T(void 0===e,"Hash history cannot replace state; it is ignored");const i=u(t,void 0,m(c),N.location);j.confirmTransitionTo(i,"REPLACE",h,t=>{if(!t)return;const e=f(i),s=P(y+e);z()!==s&&(n=e,O(s));const o=q.indexOf(f(N.location));-1!==o&&(q[o]=e),H({action:"REPLACE",location:i})})},go:B,goBack:()=>B(-1),goForward:()=>B(1),block:(e="")=>{const i=j.setPrompt(e);return o||(D(t,1),o=!0),()=>(o&&(o=!1,D(t,-1)),i())},listen:e=>{const i=j.appendListener(e);return D(t,1),()=>{D(t,-1),i()}},win:t};return N}},C=class{constructor(e){t(this,e),this.root="/",this.historyType="browser",this.titleSuffix="",this.routeViewsUpdated=(t={})=>{if(this.history&&t.scrollToId&&"browser"===this.historyType){const e=this.history.win.document.getElementById(t.scrollToId);if(e)return e.scrollIntoView()}this.scrollTo(t.scrollTopOffset||this.scrollTopOffset)},this.isServer=s(this,"isServer"),this.queue=s(this,"queue")}componentWillLoad(){this.history=A[this.historyType](this.el.ownerDocument.defaultView),this.history.listen(t=>{t=E(t,this.root),this.location=t}),this.location=E(this.history.location,this.root)}scrollTo(t){const e=this.history;if(null!=t&&!this.isServer&&e)return"POP"===e.action&&Array.isArray(e.location.scrollPosition)?this.queue.write(()=>{e&&e.location&&Array.isArray(e.location.scrollPosition)&&e.win.scrollTo(e.location.scrollPosition[0],e.location.scrollPosition[1])}):this.queue.write(()=>{e.win.scrollTo(0,t)})}render(){if(this.location&&this.history)return e(o.Provider,{state:{historyType:this.historyType,location:this.location,titleSuffix:this.titleSuffix,root:this.root,history:this.history,routeViewsUpdated:this.routeViewsUpdated}},e("slot",null))}get el(){return n(this)}};export{P as kompendium_app,L as kompendium_navigation,z as kompendium_search,O as stencil_route,j as stencil_route_switch,C as stencil_router}