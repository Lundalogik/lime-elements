import{r as t,c as r,h as e,H as o,g as s}from"./index-6156b4fd.js";import{t as i}from"./translations-5ca4a9ab.js";import{g as n,a,b as l}from"./get-icon-props-0b65f85e.js";import{b as c}from"./_baseForOwn-7feecada.js";import{b as d}from"./isArrayLike-13c56347.js";import{b as p}from"./_baseIteratee-0f5561cc.js";import{i as h}from"./isArray-80298bc7.js";import{c as g}from"./random-string-812b1c35.js";import"./_Uint8Array-66f3414e.js";import"./eq-1533d1d3.js";import"./_baseGetTag-49d0259e.js";import"./isObject-7039fcda.js";import"./_getNative-4698fd71.js";import"./isObjectLike-38996507.js";import"./_nodeUtil-0ed26eea.js";import"./_baseIsEqual-52859aca.js";import"./isSymbol-f24bedd7.js";import"./toString-0a9c1851.js";import"./_arrayMap-e86f6dbb.js";import"./identity-5b806255.js";function m(t,r,e,o){var s=-1,i=t==null?0:t.length;while(++s<i){var n=t[s];r(o,n,e(n),t)}return o}function f(t,r){return function(e,o){if(e==null){return e}if(!d(e)){return t(e,o)}var s=e.length,i=r?s:-1,n=Object(e);while(r?i--:++i<s){if(o(n[i],i,n)===false){break}}return e}}var b=f(c);function u(t,r,e,o){b(t,(function(t,s,i){r(o,t,e(t),i)}));return o}function v(t,r){return function(e,o){var s=h(e)?m:u,i=r?r():{};return s(e,t,p(o),i)}}var x=v((function(t,r,e){t[e?0:1].push(r)}),(function(){return[[],[]]}));const y="rgba(var(--color-gray-lighter), 0.4)";const k="rgba(var(--color-cyan-lighter), 0.4)";const j="rgba(var(--color-gray-lighter), 0.4)";const _="rgba(var(--color-blue-lighter), 0.4)";const w="rgba(var(--color-yellow-lighter), 0.4)";const z="rgba(var(--color-green-lighter), 0.4)";const D="rgba(var(--color-coral-lighter), 0.4)";const A="rgba(var(--color-sky-lighter), 0.4)";const C="rgba(var(--color-lime-lighter), 0.4)";const O="rgba(var(--color-magenta-lighter), 0.4)";const q="rgba(var(--color-blue-lighter), 0.4)";const S="rgba(var(--color-orange-lighter), 0.4)";const T="rgba(var(--color-green-lighter), 0.4)";const F="rgba(var(--color-indigo-lighter), 0.4)";const I="rgba(var(--color-red-lighter), 0.4)";const L="rgba(var(--color-orange-lighter), 0.4)";const E="rgba(var(--color-yellow-lighter), 0.4)";const K="rgba(var(--color-red-lighter), 0.4)";const U="rgba(var(--color-glaucous-lighter), 0.4)";const $={msg:E,ics:k,ical:k,icalendar:k,ifb:k,email:j,eml:j,oft:j,ost:j,emlx:j,html:_,xml:_,txt:w,rtf:w,dot:A,doc:A,docx:A,dotx:A,docm:A,dotm:A,odt:S,pages:S,pdf:K,ppt:D,pot:D,pps:D,pptx:D,pptm:D,potx:D,potm:D,ppam:D,ppsx:D,ppsm:D,sldx:D,sldm:D,odp:q,key:q,xls:z,xlsx:z,csv:y,numbers:T,bmp:C,jpg:C,jpeg:C,heic:C,png:C,gif:C,psd:q,ai:S,svg:O,svgz:O,ep:O,eps:O,sketch:O,mp3:F,wav:F,wma:F,ogg:F,flv:I,h264:I,mov:I,mp4:I,mwv:I,zip:L,"7z":L,rar:L,json:U,yaml:U,sql:U,db:U,dbf:U};function B(t){return $[t.toLowerCase()]||y}const G="rgb(var(--color-gray-dark))";const H="rgb(var(--color-cyan-dark))";const M="rgb(var(--color-gray-dark))";const N="rgb(var(--color-blue-dark))";const P="rgb(var(--color-yellow-darker))";const R="rgb(var(--color-green-dark))";const J="rgb(var(--color-coral-dark))";const Q="rgb(var(--color-sky-dark))";const V="rgb(var(--color-lime-dark))";const W="rgb(var(--color-magenta-dark))";const X="rgb(var(--color-blue-dark))";const Y="rgb(var(--color-orange-dark))";const Z="rgb(var(--color-green-dark))";const tt="rgb(var(--color-indigo-dark))";const rt="rgb(var(--color-red-dark))";const et="rgb(var(--color-brown-default))";const ot="rgb(var(--color-yellow-dark))";const st="rgb(var(--color-red-dark))";const it="rgb(var(--color-glaucous-dark))";const nt={msg:ot,ics:H,ical:H,icalendar:H,ifb:H,email:M,eml:M,oft:M,ost:M,emlx:M,html:N,xml:N,txt:P,rtf:P,dot:Q,doc:Q,docx:Q,dotx:Q,docm:Q,dotm:Q,odt:Y,pages:Y,pdf:st,ppt:J,pot:J,pps:J,pptx:J,pptm:J,potx:J,potm:J,ppam:J,ppsx:J,ppsm:J,sldx:J,sldm:J,odp:X,key:X,xls:R,xlsx:R,csv:G,numbers:Z,bmp:V,jpg:V,jpeg:V,heic:V,png:V,gif:V,psd:X,ai:Y,svg:W,svgz:W,ep:W,eps:W,sketch:W,mp3:tt,wav:tt,wma:tt,ogg:tt,flv:rt,h264:rt,mov:rt,mp4:rt,mwv:rt,zip:et,"7z":et,rar:et,json:it,yaml:it,sql:it,db:it,dbf:it};function at(t){return nt[t.toLowerCase()]||G}const lt="file";const ct="tear_off_calendar";const dt="email";const pt="internet";const ht="text_box";const gt="ms_excel_copyrighted";const mt="ms_word_copyrighted";const ft="ms_powerpoint_copyrighted";const bt="picture";const ut="camera";const vt="vector";const xt="presentation_filled";const yt="overview_pages_2";const kt="data_sheet";const jt="audio_wave";const _t="video_file";const wt="condom_package";const zt="ms_outlook_copyrighted";const Dt="database";const At={msg:zt,ics:ct,ical:ct,icalendar:ct,ifb:ct,email:dt,eml:dt,oft:dt,ost:dt,emlx:dt,html:pt,xml:pt,txt:ht,rtf:ht,dot:mt,doc:mt,docx:mt,dotx:mt,docm:mt,dotm:mt,odt:yt,pages:yt,pdf:"PDF_2",ppt:ft,pot:ft,pps:ft,pptx:ft,pptm:ft,potx:ft,potm:ft,ppam:ft,ppsx:ft,ppsm:ft,sldx:ft,sldm:ft,odp:xt,key:xt,xls:gt,xlsx:gt,csv:kt,numbers:kt,jpg:ut,jpeg:ut,heic:ut,bmp:bt,png:bt,gif:bt,psd:"adobe_photoshop_copyrighted",ai:"adobe_illustrator_copyrighted",svg:vt,svgz:vt,ep:vt,eps:vt,sketch:vt,mp3:jt,wav:jt,wma:jt,ogg:jt,avi:_t,flv:_t,h264:_t,mov:_t,mp4:_t,mwv:_t,zip:wt,"7z":wt,rar:wt,json:"json",yaml:Dt,sql:Dt,db:Dt,dbf:Dt};function Ct(t){return At[t.toLowerCase()]||lt}function Ot(t){const r=n(t.icon);if(r){return r}const e=Ft(t);if(!e){return}return Ct(e)}function qt(t){const r=a(t.icon,t.iconColor);if(r){return r}const e=Ft(t);if(!e){return}return at(e)}function St(t){const r=l(t.icon,t.iconBackgroundColor);if(r){return r}const e=Ft(t);if(!e){return}return B(e)}function Tt(t){const r=n(t.icon);if(r){return r}return Ft(t)}function Ft(t){if(!t){return}return t.filename.split(".").pop()}const It=":host(limel-file){position:relative}.drag-and-drop-tip{pointer-events:none;position:absolute;box-sizing:border-box;margin:0.25rem;inset:0;display:flex;align-items:center;justify-content:flex-end;flex-wrap:nowrap;border-radius:0.25rem;border:1px dashed rgb(var(--contrast-700));padding:0 0.5rem}.drag-and-drop-tip .invisible-label-mock{flex-shrink:0;opacity:0;padding-right:1rem;padding-left:1.5rem}.drag-and-drop-tip .tip{font-size:smaller;color:var(--mdc-theme-text-secondary-on-background);height:auto;max-height:3rem;line-height:1;white-space:normal;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}";const Lt={id:null,text:null,removable:true};const Et=class{constructor(e){t(this,e);this.change=r(this,"change",7);this.interact=r(this,"interact",7);this.dropZoneTip=()=>this.getTranslation("drag-and-drop-tips");this.handleNewFiles=t=>{this.preventAndStop(t);this.change.emit(t.detail[0])};this.handleChipSetChange=t=>{t.stopPropagation();const r=!t.detail.length?t.detail[0]:null;if(!r){this.change.emit(r)}};this.handleChipInteract=t=>{this.preventAndStop(t);this.interact.emit(t.detail.id)};this.value=undefined;this.label=undefined;this.required=false;this.disabled=false;this.readonly=false;this.invalid=false;this.accept="*";this.language="en"}render(){return[e("limel-file-dropzone",{disabled:this.disabled||this.readonly||!!this.value,accept:this.accept,onFilesSelected:this.handleNewFiles},this.renderChipset()),this.renderDragAndDropTip()]}renderDragAndDropTip(){if(this.value||this.disabled||this.readonly){return}return e("div",{class:"drag-and-drop-tip"},e("span",{class:"invisible-label-mock",role:"presentation"},this.label),e("span",{class:"tip"},this.dropZoneTip()))}getChipArray(){if(!this.value){return[]}return[Object.assign(Object.assign({},Lt),{text:this.value.filename,id:this.value.id,icon:{name:Ot(this.value),title:Tt(this.value),color:qt(this.value),backgroundColor:St(this.value)},href:this.value.href})]}renderChipset(){const t=e("limel-chip-set",{disabled:this.disabled,readonly:this.readonly,invalid:this.invalid,label:this.label,leadingIcon:"upload_to_cloud",language:this.language,onChange:this.handleChipSetChange,onInteract:this.handleChipInteract,required:this.required,type:"input",value:this.getChipArray()});if(this.value){return t}return e("limel-file-input",{accept:this.accept,disabled:this.disabled||this.readonly},t)}preventAndStop(t){t.stopPropagation();t.preventDefault()}getTranslation(t){return i.get(`file.${t}`,this.language)}};Et.style=It;function Kt(t){const r={id:crypto.randomUUID(),filename:t.name,contentType:t.type,size:t.size,fileContent:t};r.icon={name:Ot(r),title:Tt(r),color:qt(r),backgroundColor:St(r)};return r}function Ut(t,r){if(r===undefined||r==="*"){return true}const e=r.split(",").map((t=>t.trim()));return e.some((r=>{if(r===t.contentType){return true}if(r.endsWith("/*")){const e=r.split("/")[0];return t.contentType.startsWith(`${e}/`)}if(r.startsWith(".")){const e=r.split(".")[1];return t.contentType.endsWith(`/${e}`)}}))}const $t=":host(limel-file-dropzone){display:block;position:relative}.has-file-to-drop{animation:display-drop-zone 0.6s ease forwards;box-sizing:border-box;isolation:isolate;z-index:1;position:absolute;inset:0.25rem;overflow:hidden;display:flex;justify-content:center;align-items:center;gap:0.5rem;color:rgb(var(--contrast-700));border:0.125rem dashed rgb(var(--color-cyan-light));border-radius:0.75rem}.text-helpertext{display:flex;flex-direction:column;justify-content:center;align-items:flex-start}.icon{width:clamp(2rem, 5vh, 7rem)}.text{font-size:clamp(1rem, 2vh, 1.75rem)}.helper-text{font-size:clamp(0.75rem, 1.5vh, 1rem)}@keyframes display-drop-zone{0%{background-color:rgb(var(--contrast-1100), 0);backdrop-filter:blur(0);-webkit-backdrop-filter:blur(0);scale:0.9;opacity:0}50%{scale:1;opacity:1}100%{background-color:rgb(var(--contrast-1100), 0.8);backdrop-filter:blur(0.25rem);-webkit-backdrop-filter:blur(0.25rem)}}";const Bt=class{constructor(o){t(this,o);this.filesSelected=r(this,"filesSelected",7);this.filesRejected=r(this,"filesRejected",7);this.renderOnDragLayout=()=>{if(this.disabled||!this.hasFileToDrop){return}return e("div",{class:"has-file-to-drop"},e("limel-icon",{class:"icon",name:"upload_2"}),e("div",{class:"text-helpertext"},this.renderText(),this.renderHelperText()))};this.renderText=()=>{if(!this.text){return}return e("span",{class:"text"},this.text)};this.renderHelperText=()=>{if(!this.helperText){return}return e("span",{class:"helper-text"},this.helperText)};this.handleDrop=t=>{t.stopPropagation();t.preventDefault();this.hasFileToDrop=false;if(this.disabled){return}const r=Array.from(t.dataTransfer.files);const e=r.map(Kt);const[o,s]=x(e,(t=>Ut(t,this.accept)));if(o.length>0){this.filesSelected.emit(o)}if(s.length>0){this.filesRejected.emit(s)}};this.handleDragOver=t=>{this.hasFileToDrop=true;t.preventDefault()};this.handleDragLeave=t=>{this.hasFileToDrop=false;t.preventDefault()};this.accept="*";this.disabled=false;this.text=undefined;this.helperText="";this.hasFileToDrop=false}render(){return e(o,{onDrop:this.handleDrop,onDragOver:this.handleDragOver,onDragLeave:this.handleDragLeave},e("slot",null),this.renderOnDragLayout())}};Bt.style=$t;const Gt=class{constructor(e){t(this,e);this.filesSelected=r(this,"filesSelected",7);this.fileInputId=g();this.handleClick=t=>{if(this.disabled){t.stopPropagation();t.preventDefault();return}this.triggerFileDialog();t.stopPropagation()};this.handleKeyUp=t=>{t.stopPropagation();t.preventDefault();if(t.code==="Enter"){this.triggerFileDialog()}};this.handleFileChange=t=>{const r=Array.from(this.fileInput.files);if(r.length>0){t.stopPropagation();this.filesSelected.emit(r.map(Kt));this.fileInput.value=""}};this.accept="*";this.disabled=false;this.multiple=false}componentDidLoad(){this.fileInput=this.element.shadowRoot.getElementById(this.fileInputId)}render(){return e(o,{onClick:this.handleClick,onKeyUp:this.handleKeyUp,onKeyDown:this.handleKeyDown},e("input",{hidden:true,id:this.fileInputId,onChange:this.handleFileChange,type:"file",accept:this.accept,disabled:this.disabled,multiple:this.multiple}),e("slot",null))}handleKeyDown(t){if(t.code==="Tab"||t.code==="Backspace"||t.code==="Enter"){return}t.preventDefault();t.stopPropagation()}triggerFileDialog(){this.fileInput.click()}get element(){return s(this)}};export{Et as limel_file,Bt as limel_file_dropzone,Gt as limel_file_input};
//# sourceMappingURL=limel-file_3.entry.js.map