{"version":3,"names":["dragHandleCss","DragHandleComponent","this","handleClick","event","preventDefault","stopPropagation","render","dragHandleId","crypto","randomUUID","tooltipLabel","translate","get","language","ariaLabel","h","Host","type","class","tabindex","id","onClick","role","Array","from","length","map","_","i","key","openDirection","tooltipOpenDirection","elementId","label"],"sources":["./src/components/drag-handle/drag-handle.scss?tag=limel-drag-handle","./src/components/drag-handle/drag-handle.tsx"],"sourcesContent":["@use '../../style/mixins';\n\nlimel-drag-handle {\n    display: inline-flex;\n    align-items: center;\n    justify-content: center;\n}\n\nbutton.limel-drag-handle {\n    all: unset;\n    @include mixins.visualize-keyboard-focus();\n    @include mixins.is-flat-clickable(\n        $color--hovered: var(--mdc-theme-primary),\n        $background-color--hovered: transparent\n    );\n\n    touch-action: none;\n    cursor: grab;\n\n    &:active {\n        cursor: grabbing;\n    }\n\n    &:active,\n    &:hover {\n        box-shadow: none !important; // override is-flat-clickable styles\n    }\n\n    display: inline-flex;\n    align-items: center;\n    justify-content: center;\n\n    border-radius: 0.4rem; // like `limel-button`\n\n    padding: 0.5rem;\n    max-height: 2.25rem;\n    max-width: 2.25rem;\n\n    color: rgb(var(--contrast-900));\n\n    .drag-icon {\n        display: grid;\n        grid-template-columns: 1fr 1fr 1fr;\n        gap: 0.2rem;\n\n        limel-drag-handle[drag-direction='horizontal'] & {\n            grid-template-columns: 1fr 1fr;\n        }\n\n        div {\n            transition:\n                transform 0.2s ease,\n                background-color 0.2s ease;\n            height: 0.125rem;\n            width: 0.125rem;\n            border-radius: 1rem;\n            background-color: currentColor;\n            transform: scale(1);\n        }\n    }\n}\n\n.is-being-dragged button.limel-drag-handle,\nbutton.limel-drag-handle:active,\nbutton.limel-drag-handle:focus,\nbutton.limel-drag-handle:hover,\nbutton.limel-drag-handle:focus-visible {\n    .drag-icon div {\n        background-color: var(--mdc-theme-primary);\n        transform: scale(1.5);\n    }\n}\n","import { Component, h, Host, Prop } from '@stencil/core';\nimport translate from '../../global/translations';\nimport { Languages } from '../date-picker/date.types';\nimport { OpenDirection } from '../menu/menu.types';\n\n/**\n * This component resembles a drag handle button, but is implemented\n * as a `private` component to allow for easier styling and future extensions.\n *\n * :::important\n * This component has its `shadow` set to `false` in order to\n * integrate well with the drag-and-drop functionality, as well as\n * providing a better accessibility.\n *\n * Keep in mind that its styles might be affected by the consumer\n * component, due to its light dom.\n * :::\n *\n * :::tip\n * It's recommended to place the drag handle on the right side of\n * the item it is meant to reorder, to ensure consistent layout\n * design conventions.\n * :::\n *\n * @exampleComponent limel-example-drag-handle-basic\n * @exampleComponent limel-example-drag-handle-horizontal\n *\n * @private\n */\n@Component({\n    tag: 'limel-drag-handle',\n    shadow: false,\n    styleUrl: 'drag-handle.scss',\n})\nexport class DragHandleComponent {\n    /**\n     * The direction in which the drag handle can be used to reorder items.\n     * This affects both how the visual indicator is visualized,\n     * and how what helper label is shown in the tooltip.\n     */\n    @Prop({ reflect: true })\n    public dragDirection: 'vertical' | 'horizontal' = 'vertical';\n\n    /**\n     * The preferred direction for the tooltip to open.\n     * Defaults to 'left', as our recommended placement for a drag handel\n     * in the UI is on the far right side of draggable elements.\n     */\n    @Prop({ reflect: true })\n    public tooltipOpenDirection: OpenDirection = 'left';\n\n    /**\n     * Language to use for translations.\n     */\n    @Prop({ reflect: true })\n    public language: Languages = 'en';\n\n    public render() {\n        const dragHandleId = 'drag-handle-' + crypto.randomUUID();\n        const tooltipLabel = translate.get(\n            'drag-handle.drag-to-reorder',\n            this.language\n        );\n        const ariaLabel = translate.get(\n            'drag-handle.drag-handle',\n            this.language\n        );\n\n        return (\n            <Host>\n                <button\n                    data-drag-handle\n                    type=\"button\"\n                    class=\"limel-drag-handle\"\n                    tabindex={0}\n                    aria-label={ariaLabel}\n                    id={dragHandleId}\n                    onClick={this.handleClick}\n                >\n                    <div\n                        class=\"drag-icon\"\n                        role=\"presentation\"\n                        aria-hidden=\"true\"\n                    >\n                        {Array.from({ length: 6 }).map((_, i) => (\n                            <div key={i} />\n                        ))}\n                    </div>\n                    <limel-tooltip\n                        openDirection={this.tooltipOpenDirection}\n                        elementId={dragHandleId}\n                        label={tooltipLabel}\n                    />\n                </button>\n            </Host>\n        );\n    }\n\n    private handleClick = (event: MouseEvent) => {\n        // This prevents the click (from keyboard space/enter or pointer) from\n        // reaching the parent item. The form template listens for clicks to\n        // toggle collapsible sections and invoke move/reorder actions.\n        // Without this, the synthetic click triggered by the keyboard would bubble,\n        // causing duplicate behavior alongside the custom keyboard reordering event.\n        event.preventDefault();\n        event.stopPropagation();\n    };\n}\n"],"mappings":"qGAAA,MAAMA,EAAgB,o7E,MCkCTC,EAAmB,M,yBAgEpBC,KAAAC,YAAeC,IAMnBA,EAAMC,iBACND,EAAME,iBAAiB,E,mBAhEuB,W,0BAQL,O,cAMhB,I,CAEtBC,SACH,MAAMC,EAAe,eAAiBC,OAAOC,aAC7C,MAAMC,EAAeC,EAAUC,IAC3B,8BACAX,KAAKY,UAET,MAAMC,EAAYH,EAAUC,IACxB,0BACAX,KAAKY,UAGT,OACIE,EAACC,EAAI,KACDD,EAAA,kCAEIE,KAAK,SACLC,MAAM,oBACNC,SAAU,EAAC,aACCL,EACZM,GAAIb,EACJc,QAASpB,KAAKC,aAEda,EAAA,OACIG,MAAM,YACNI,KAAK,eAAc,cACP,QAEXC,MAAMC,KAAK,CAAEC,OAAQ,IAAKC,KAAI,CAACC,EAAGC,IAC/Bb,EAAA,OAAKc,IAAKD,OAGlBb,EAAA,iBACIe,cAAe7B,KAAK8B,qBACpBC,UAAWzB,EACX0B,MAAOvB,K"}