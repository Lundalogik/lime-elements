{"version":3,"names":["dragHandleHorizontalCss","DragHandleHorizontalExample","this","handleClick","console","log","setContainer","element","container","teardownDragController","undefined","setupDragController","handleDragStart","snapshot","kittens","handleDragPreview","fromIndex","toIndex","moveKitten","handleDragFinalize","cancelled","id","image","src","alt","subheading","render","h","Host","class","ref","map","kitten","key","clickable","onClick","dragDirection","slot","dragController","dragToReorder","itemSelector","dragHandleSelector","orientation","onStart","onPreview","onFinalize","_a","destroy","list","updated","moved","splice","disconnectedCallback"],"sources":["./src/components/drag-handle/examples/drag-handle-horizontal.scss?tag=limel-example-drag-handle-horizontal&encapsulation=shadow","./src/components/drag-handle/examples/drag-handle-horizontal.tsx"],"sourcesContent":["@use '../../../style/mixins.scss';\n\n:host {\n    display: block;\n}\n\ndiv {\n    max-width: 100%;\n    display: grid;\n    grid-template-columns: 1fr 1fr 1fr;\n    gap: 1rem;\n\n    &.has-an-item-which-is-being-dragged {\n        limel-card {\n            &:not(.is-being-dragged) {\n                opacity: 0.5;\n            }\n        }\n    }\n}\n\nlimel-drag-handle {\n    margin-left: auto;\n}\n\nlimel-card {\n    @include mixins.is-draggable-item();\n\n    &.is-being-dragged {\n        @include mixins.is-draggable-item-being-dragged(\n            $border-radius: 0.95rem\n        );\n    }\n}\n","import { Component, h, Host, State } from '@stencil/core';\nimport {\n    dragToReorder,\n    DragToReorderController,\n    DragToReorderFinalizeDetail,\n    DragToReorderPreviewDetail,\n} from '../../../util/drag-to-reorder';\n\ninterface KittenCard {\n    id: string;\n    image: {\n        src: string;\n        alt: string;\n    };\n    subheading: string;\n}\n/**\n * Horizontal drag handle\n * This example shows how to use the drag handle component\n * along with the drag-to-reorder utility function,\n * in a horizontal drag-and-drop setup.\n */\n@Component({\n    shadow: true,\n    tag: 'limel-example-drag-handle-horizontal',\n    styleUrl: 'drag-handle-horizontal.scss',\n})\nexport class DragHandleHorizontalExample {\n    @State()\n    private kittens: KittenCard[] = [\n        {\n            id: 'kitten-1',\n            image: {\n                src: 'https://images.unsplash.com/photo-1621238224334-20222c044b84?q=80&w=600&h=400&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D',\n                alt: 'Photo by https://unsplash.com/@paracetamol',\n            },\n            subheading: \"@paracetamol's kitten\",\n        },\n        {\n            id: 'kitten-2',\n            image: {\n                src: 'https://images.unsplash.com/photo-1558674378-e4334d4fecc2?q=80&w=600&h=400&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D',\n                alt: 'Photo by https://unsplash.com/@bliss1002',\n            },\n            subheading: \"@bliss1002's kitten\",\n        },\n        {\n            id: 'kitten-3',\n            image: {\n                src: 'https://images.unsplash.com/photo-1692962063951-0b5c81887f3d?q=80&w=600&h=400&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D',\n                alt: 'Photo by https://unsplash.com/@kmly',\n            },\n            subheading: \"@kmly's kitten\",\n        },\n    ];\n\n    private container?: HTMLDivElement;\n    private dragController?: DragToReorderController;\n    private snapshot?: KittenCard[];\n\n    public render() {\n        return (\n            <Host>\n                <h4>Drag & sort these kittens</h4>\n                <p>More cute â†’ Less cute</p>\n                <div class=\"kitten-list\" ref={this.setContainer}>\n                    {this.kittens.map((kitten) => (\n                        <limel-card\n                            class=\"kitten-card\"\n                            key={kitten.id}\n                            clickable={true}\n                            image={kitten.image}\n                            subheading={kitten.subheading}\n                            onClick={this.handleClick}\n                            data-reorder-id={kitten.id}\n                        >\n                            <limel-drag-handle\n                                dragDirection=\"horizontal\"\n                                slot=\"component\"\n                            />\n                        </limel-card>\n                    ))}\n                </div>\n            </Host>\n        );\n    }\n\n    private handleClick = () => {\n        console.log('Card clicked');\n    };\n\n    private setContainer = (element?: HTMLDivElement) => {\n        if (this.container === element) {\n            return;\n        }\n\n        this.teardownDragController();\n        this.container = element ?? undefined;\n        this.setupDragController();\n    };\n\n    private setupDragController() {\n        if (!this.container || this.dragController) {\n            return;\n        }\n\n        this.dragController = dragToReorder({\n            container: this.container,\n            itemSelector: 'limel-card.kitten-card',\n            dragHandleSelector: '[data-drag-handle]',\n            orientation: 'horizontal',\n            onStart: this.handleDragStart,\n            onPreview: this.handleDragPreview,\n            onFinalize: this.handleDragFinalize,\n        });\n    }\n\n    private teardownDragController() {\n        this.dragController?.destroy();\n        this.dragController = undefined;\n    }\n\n    private handleDragStart = () => {\n        this.snapshot = [...this.kittens];\n    };\n\n    private handleDragPreview = ({\n        fromIndex,\n        toIndex,\n    }: DragToReorderPreviewDetail) => {\n        if (fromIndex === toIndex) {\n            return;\n        }\n\n        this.kittens = this.moveKitten(this.kittens, fromIndex, toIndex);\n    };\n\n    private handleDragFinalize = ({\n        cancelled,\n    }: DragToReorderFinalizeDetail) => {\n        if (cancelled && this.snapshot) {\n            this.kittens = [...this.snapshot];\n        }\n\n        this.snapshot = undefined;\n    };\n\n    private moveKitten(\n        list: KittenCard[],\n        fromIndex: number,\n        toIndex: number\n    ): KittenCard[] {\n        if (fromIndex === toIndex) {\n            return list;\n        }\n\n        const updated = [...list];\n        const [moved] = updated.splice(fromIndex, 1);\n\n        if (!moved) {\n            return list;\n        }\n\n        updated.splice(toIndex, 0, moved);\n        return updated;\n    }\n\n    public disconnectedCallback() {\n        this.teardownDragController();\n    }\n}\n"],"mappings":"wGAAA,MAAMA,EAA0B,+tB,MC2BnBC,EAA2B,M,yBA4D5BC,KAAAC,YAAc,KAClBC,QAAQC,IAAI,eAAe,EAGvBH,KAAAI,aAAgBC,IACpB,GAAIL,KAAKM,YAAcD,EAAS,CAC5B,M,CAGJL,KAAKO,yBACLP,KAAKM,UAAYD,IAAO,MAAPA,SAAO,EAAPA,EAAWG,UAC5BR,KAAKS,qBAAqB,EAwBtBT,KAAAU,gBAAkB,KACtBV,KAAKW,SAAW,IAAIX,KAAKY,QAAQ,EAG7BZ,KAAAa,kBAAoB,EACxBC,YACAC,cAEA,GAAID,IAAcC,EAAS,CACvB,M,CAGJf,KAAKY,QAAUZ,KAAKgB,WAAWhB,KAAKY,QAASE,EAAWC,EAAQ,EAG5Df,KAAAiB,mBAAqB,EACzBC,gBAEA,GAAIA,GAAalB,KAAKW,SAAU,CAC5BX,KAAKY,QAAU,IAAIZ,KAAKW,S,CAG5BX,KAAKW,SAAWH,SAAS,E,aAnHG,CAC5B,CACIW,GAAI,WACJC,MAAO,CACHC,IAAK,8KACLC,IAAK,8CAETC,WAAY,yBAEhB,CACIJ,GAAI,WACJC,MAAO,CACHC,IAAK,2KACLC,IAAK,4CAETC,WAAY,uBAEhB,CACIJ,GAAI,WACJC,MAAO,CACHC,IAAK,8KACLC,IAAK,uCAETC,WAAY,kB,CAQbC,SACH,OACIC,EAACC,EAAI,KACDD,EAAA,uCACAA,EAAA,kCACAA,EAAA,OAAKE,MAAM,cAAcC,IAAK5B,KAAKI,cAC9BJ,KAAKY,QAAQiB,KAAKC,GACfL,EAAA,cACIE,MAAM,cACNI,IAAKD,EAAOX,GACZa,UAAW,KACXZ,MAAOU,EAAOV,MACdG,WAAYO,EAAOP,WACnBU,QAASjC,KAAKC,YAAW,kBACR6B,EAAOX,IAExBM,EAAA,qBACIS,cAAc,aACdC,KAAK,kB,CAuBzB1B,sBACJ,IAAKT,KAAKM,WAAaN,KAAKoC,eAAgB,CACxC,M,CAGJpC,KAAKoC,eAAiBC,EAAc,CAChC/B,UAAWN,KAAKM,UAChBgC,aAAc,yBACdC,mBAAoB,qBACpBC,YAAa,aACbC,QAASzC,KAAKU,gBACdgC,UAAW1C,KAAKa,kBAChB8B,WAAY3C,KAAKiB,oB,CAIjBV,yB,OACJqC,EAAA5C,KAAKoC,kBAAc,MAAAQ,SAAA,SAAAA,EAAEC,UACrB7C,KAAKoC,eAAiB5B,S,CA4BlBQ,WACJ8B,EACAhC,EACAC,GAEA,GAAID,IAAcC,EAAS,CACvB,OAAO+B,C,CAGX,MAAMC,EAAU,IAAID,GACpB,MAAOE,GAASD,EAAQE,OAAOnC,EAAW,GAE1C,IAAKkC,EAAO,CACR,OAAOF,C,CAGXC,EAAQE,OAAOlC,EAAS,EAAGiC,GAC3B,OAAOD,C,CAGJG,uBACHlD,KAAKO,wB"}