import{r as i,h as t,H as e}from"./index-2714248e.js";import{S as s}from"./sortable.esm-842f85a3.js";const a='@charset "UTF-8";:host{display:block}div{max-width:100%;display:grid;grid-template-columns:1fr 1fr 1fr;gap:1rem}limel-drag-handle{margin-left:auto}limel-card:has(limel-drag-handle:hover),limel-card:has(limel-drag-handle:focus-within),limel-card.is-elevated,limel-card.sortable-chosen{will-change:transform, box-shadow, border-radius, background-color}limel-card.sortable-ghost{opacity:0.6;border-radius:0.95rem;box-shadow:var(--shadow-depth-64), 0 0.65rem 0.75rem -0.425rem rgb(var(--color-black), 0.3)}limel-card.sortable-chosen{border-radius:0.95rem;background-color:var(--lime-elevated-surface-background-color)}limel-card.is-elevated[draggable=false]{animation:sit-here 0.8s forwards}@keyframes sit-here{0%{opacity:0.6;border-radius:0.95rem;background-color:var(--lime-elevated-surface-background-color);box-shadow:var(--shadow-depth-64), 0 0.65rem 0.75rem -0.425rem rgb(var(--color-black), 0.3)}100%{box-shadow:none}}';const r="[data-drag-handle]";const o="limel-card.kitten-card";const l="is-being-dragged";const h="has-an-item-which-is-being-dragged";const n="is-elevated";const d=1e3;const c=class{constructor(t){i(this,t);this.handleClick=()=>{console.log("Card clicked")};this.setContainer=i=>{if(this.container===i){return}this.teardownSortable();this.container=i!==null&&i!==void 0?i:undefined;this.setupSortable()};this.handleSortStart=i=>{if(this.container){this.container.classList.add(h)}if(i.item instanceof HTMLElement){this.applyDropElevation(i.item)}};this.handleSortEnd=i=>{if(this.container){this.container.classList.remove(h)}const{oldIndex:t,newIndex:e}=i;if(i.item instanceof HTMLElement){this.dropElevationTarget=i.item}if(typeof t!=="number"||typeof e!=="number"||t===e){this.scheduleDropElevationRemoval();return}this.kittens=this.moveKitten(this.kittens,t,e);this.scheduleDropElevationRemoval()};this.kittens=[{id:"kitten-1",image:{src:"https://images.unsplash.com/photo-1621238224334-20222c044b84?q=80&w=600&h=400&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",alt:"Photo by https://unsplash.com/@paracetamol"},subheading:"@paracetamol's kitten"},{id:"kitten-2",image:{src:"https://images.unsplash.com/photo-1558674378-e4334d4fecc2?q=80&w=600&h=400&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",alt:"Photo by https://unsplash.com/@bliss1002"},subheading:"@bliss1002's kitten"},{id:"kitten-3",image:{src:"https://images.unsplash.com/photo-1692962063951-0b5c81887f3d?q=80&w=600&h=400&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",alt:"Photo by https://unsplash.com/@kmly"},subheading:"@kmly's kitten"}]}render(){return t(e,null,t("h4",null,"Drag & sort these kittens"),t("p",null,"More cute â†’ Less cute"),t("div",{class:"kitten-list",ref:this.setContainer},this.kittens.map((i=>t("limel-card",{class:"kitten-card",key:i.id,clickable:true,image:i.image,subheading:i.subheading,onClick:this.handleClick,"data-reorder-id":i.id},t("limel-drag-handle",{dragDirection:"horizontal",slot:"component"}))))))}setupSortable(){if(!this.container){return}if(this.sortable){this.sortable.option("handle",r);this.sortable.option("draggable",o);this.sortable.option("disabled",false);return}this.sortable=s.create(this.container,{animation:150,direction:"horizontal",handle:r,draggable:o,chosenClass:l,onStart:this.handleSortStart,onEnd:this.handleSortEnd})}teardownSortable(){if(this.sortable){this.sortable.destroy();this.sortable=undefined}this.clearDropElevationTimer();if(this.dropElevationTarget){this.dropElevationTarget.classList.remove(n);this.dropElevationTarget=undefined}if(this.container){this.container.classList.remove(h)}}applyDropElevation(i){if(this.dropElevationTarget&&this.dropElevationTarget!==i){this.dropElevationTarget.classList.remove(n)}this.clearDropElevationTimer();i.classList.add(n);this.dropElevationTarget=i}scheduleDropElevationRemoval(){if(!this.dropElevationTarget){return}const i=this.dropElevationTarget;this.clearDropElevationTimer();this.dropElevationTimeout=globalThis.setTimeout((()=>{i.classList.remove(n);if(this.dropElevationTarget===i){this.dropElevationTarget=undefined}this.dropElevationTimeout=undefined}),d)}clearDropElevationTimer(){if(this.dropElevationTimeout!==undefined){clearTimeout(this.dropElevationTimeout);this.dropElevationTimeout=undefined}}moveKitten(i,t,e){if(t===e){return i}const s=[...i];const[a]=s.splice(t,1);if(!a){return i}s.splice(e,0,a);return s}disconnectedCallback(){this.teardownSortable()}};c.style=a;export{c as limel_example_drag_handle_horizontal};
//# sourceMappingURL=limel-example-drag-handle-horizontal.entry.js.map